{"version":3,"file":"static/js/817.b4f70ed5.chunk.js","mappings":"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","sources":["../node_modules/@syncfusion/ej2-navigations/src/toolbar/toolbar.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, EventHandler, Property, Event } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, isVisible, closest, attributes, detach, classList, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { selectAll, setStyleAttribute as setStyle, select } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined as isNOU, getUniqueID, formatUnit, Collection, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, Browser, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { calculatePosition } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { HScroll } from '../common/h-scroll';\nimport { VScroll } from '../common/v-scroll';\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_POPUPOPEN = 'e-popup-open';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_HSCROLLCNT = 'e-hscroll-content';\nvar CLS_VSCROLLCNT = 'e-vscroll-content';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROWPOS = 'e-multirow-pos';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @class */ (function (_super) {\n    __extends(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate([\n        Property(false)\n    ], Item.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate([\n        Property(true)\n    ], Item.prototype, \"visible\", void 0);\n    __decorate([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    __decorate([\n        Event()\n    ], Item.prototype, \"click\", void 0);\n    return Item;\n}(ChildProperty));\nexport { Item };\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     *\n     * @param {ToolbarModel} options  - Specifies Toolbar model properties as options.\n     * @param { string | HTMLElement} element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.resizeContext = _this.resize.bind(_this);\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end'\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        var btnItems = this.element.querySelectorAll('.e-control.e-btn');\n        [].slice.call(btnItems).forEach(function (el) {\n            if (!isNOU(el) && !isNOU(el.ej2_instances) && !isNOU(el.ej2_instances[0]) && !(el.ej2_instances[0].isDestroyed)) {\n                el.ej2_instances[0].destroy();\n            }\n        });\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNOU(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        this.destroyItems();\n        while (this.element.lastElementChild) {\n            this.element.removeChild(this.element.lastElementChild);\n        }\n        if (this.trgtEle) {\n            this.element.appendChild(this.ctrlTem);\n            this.trgtEle = null;\n            this.ctrlTem = null;\n        }\n        if (this.popObj) {\n            this.popObj.destroy();\n            detach(this.popObj.element);\n        }\n        if (this.activeEle) {\n            this.activeEle = null;\n        }\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.remove(this.element, 'e-toolpop');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        this.element.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            return _this.element.removeAttribute(attrb);\n        });\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: this.enableCollision, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n        this.isExtendedOpen = false;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resizeContext);\n        if (this.allowKeyboard) {\n            this.wireKeyboardEvent();\n        }\n    };\n    Toolbar.prototype.wireKeyboardEvent = function () {\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.unwireKeyboardEvent = function () {\n        if (this.keyModule) {\n            EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n            this.keyModule.destroy();\n            this.keyModule = null;\n        }\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNOU(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyScroll();\n        this.unwireKeyboardEvent();\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        if (this.element) {\n            [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n        }\n        if (this.tbarAlign) {\n            var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL);\n            this.destroyScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        this.remove(this.element, CLS_EXTEANDABLE_TOOLBAR);\n        var tempEle = this.element.querySelector('.e-toolbar-multirow');\n        if (tempEle) {\n            this.remove(tempEle, CLS_MULTIROW);\n        }\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        var value = e.action === 'moveUp' ? 'previous' : 'next';\n        var ele;\n        var nodes;\n        switch (e.action) {\n            case 'moveRight':\n                if (this.isVertical) {\n                    return;\n                }\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (this.isVertical) {\n                    return;\n                }\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    var extendedPopup = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n                    if (this.overflowMode === 'Extended' && extendedPopup && extendedPopup.classList.contains('e-popup-open')) {\n                        popupCheck = e.action === 'end' ? extendedPopup : null;\n                    }\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = [].slice.call(popupCheck.children);\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ')');\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                if (!this.isVertical) {\n                    if (popObj && closest(trgt, '.e-popup')) {\n                        var popEle = popObj.element;\n                        var popFrstEle = popEle.firstElementChild;\n                        if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                            return;\n                        }\n                        else {\n                            this.eleFocus(clst, value);\n                        }\n                    }\n                    else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                        this.elementFocus(clst);\n                    }\n                }\n                else {\n                    if (e.action === 'moveUp') {\n                        this.eleFocus(clst, 'previous');\n                    }\n                    else {\n                        this.eleFocus(clst, 'next');\n                    }\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE)) {\n            return;\n        }\n        e.preventDefault();\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        var clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        if (value) {\n            rootEle.classList.add(CLS_DISABLE);\n        }\n        else {\n            rootEle.classList.remove(CLS_DISABLE);\n        }\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleContains = function (el) {\n        return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE) || el.getAttribute('disabled') || el.classList.contains(CLS_HIDDEN) || !isVisible(el);\n    };\n    Toolbar.prototype.eleFocus = function (closest, pos) {\n        var sib = Object(closest)[pos + 'ElementSibling'];\n        if (sib) {\n            var skipEle = this.eleContains(sib);\n            if (skipEle) {\n                this.eleFocus(sib, pos);\n                return;\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest.parentElement)[pos + 'ElementSibling'];\n            if (!isNOU(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNOU(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var ele = this.element;\n        var isPopupElement = !isNOU(closest(trgt, '.' + CLS_POPUPCLASS));\n        var clsList = trgt.classList;\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && !ele.children[0].classList.contains('e-vscroll')\n            && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNOU(clst) || clst.classList.contains(CLS_DISABLE)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            var tempItem = this.items[this.tbarEle.indexOf(clst)];\n            itemObj = tempItem;\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        if (itemObj && !isNOU(itemObj.click)) {\n            this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n        }\n        if (!eventArgs.cancel) {\n            this.trigger('clicked', eventArgs, function (clickedArgs) {\n                if (!isNOU(_this.popObj) && isPopupElement && !clickedArgs.cancel && _this.overflowMode === 'Popup' &&\n                    clickedArgs.item && clickedArgs.item.type !== 'Input') {\n                    _this.popObj.hide({ name: 'FadeOut', duration: 100 });\n                }\n            });\n        }\n    };\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.getElementOffsetY() + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyle(this.element, { 'height': height });\n        }\n        setStyle(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false',\n            'aria-orientation': !this.isVertical ? 'horizontal' : 'vertical'\n        };\n        attributes(this.element, ariaAttr);\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Toolbar.prototype.renderControl = function () {\n        var ele = this.element;\n        this.trgtEle = (ele.children.length > 0) ? ele.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderLayout();\n    };\n    Toolbar.prototype.renderLayout = function () {\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n        this.separator();\n    };\n    Toolbar.prototype.itemsAlign = function (items, itemEleDom) {\n        var innerItem;\n        var innerPos;\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        for (var i = 0; i < items.length; i++) {\n            innerItem = this.renderSubComponent(items[i], i);\n            if (this.tbarEle.indexOf(innerItem) === -1) {\n                this.tbarEle.push(innerItem);\n            }\n            if (!this.tbarAlign) {\n                this.tbarItemAlign(items[i], itemEleDom, i);\n            }\n            innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n            if (innerPos) {\n                if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                    this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                }\n                innerPos.appendChild(innerItem);\n            }\n            else {\n                itemEleDom.appendChild(innerItem);\n            }\n        }\n        if (this.isReact) {\n            var portals = 'portals';\n            this.notify('render-react-toolbar-template', this[portals]);\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Toolbar.prototype.changeOrientation = function () {\n        var ele = this.element;\n        if (this.isVertical) {\n            ele.classList.remove(CLS_VERTICAL);\n            this.isVertical = false;\n            if (this.height === 'auto' || this.height === '100%') {\n                ele.style.height = this.height;\n            }\n            ele.setAttribute('aria-orientation', 'horizontal');\n        }\n        else {\n            ele.classList.add(CLS_VERTICAL);\n            this.isVertical = true;\n            ele.setAttribute('aria-orientation', 'vertical');\n            setStyle(this.element, { 'height': formatUnit(this.height), 'width': formatUnit(this.width) });\n        }\n        this.destroyMode();\n        this.refreshOverflow();\n    };\n    Toolbar.prototype.initScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            if (this.isVertical) {\n                this.scrollModule = new VScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            else {\n                this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyle(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var _this = this;\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += _this.isVertical ? el.offsetHeight : el.offsetWidth;\n                width += parseFloat(_this.isVertical ? style.marginTop : style.marginRight);\n                width += parseFloat(_this.isVertical ? style.marginBottom : style.marginLeft);\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.getScrollCntEle = function (innerItem) {\n        var trgClass = (this.isVertical) ? '.e-vscroll-content' : '.e-hscroll-content';\n        return innerItem.querySelector(trgClass);\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNOU(element) || isNOU(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = this.isVertical ? element.offsetHeight : element.offsetWidth;\n        var itemWidth = this.isVertical ? innerItem.offsetHeight : innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? this.getScrollCntEle(innerItem) : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        var navEleWidth = 0;\n        if (popNav) {\n            navEleWidth = this.isVertical ? popNav.offsetHeight : popNav.offsetWidth;\n        }\n        else if (scrollNav) {\n            navEleWidth = this.isVertical ? (scrollNav.offsetHeight * (2)) : (scrollNav.offsetWidth * 2);\n        }\n        if (itemWidth > eleWidth - navEleWidth) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Refresh the whole Toolbar component without re-rendering.\n     * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n     * - It will refresh the Toolbar component after loading items dynamically.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.toolbarAlign = function (innerItems) {\n        if (this.tbarAlign) {\n            this.add(innerItems, CLS_TBARPOS);\n            this.itemPositioning();\n        }\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNOU(this.scrollModule)) {\n                        this.initScroll(ele, [].slice.call(ele.getElementsByClassName(CLS_ITEMS)));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (this.checkOverflow(ele, innerItems) && this.tbarAlign) {\n                        this.removePositioning();\n                        this.add(innerItems, CLS_MULTIROWPOS);\n                    }\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        if (this.tbarAlign) {\n                            this.removePositioning();\n                        }\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n            }\n        }\n    };\n    Toolbar.prototype.setOverflowAttributes = function (ele) {\n        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('role', 'list');\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        var eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var vertical = this.isVertical;\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerNavDom = (vertical ? innerNav.offsetHeight : innerNav.offsetWidth);\n        var eleWidth = ((vertical ? ele.offsetHeight : ele.offsetWidth) - (innerNavDom));\n        this.element.classList.remove('e-rtl');\n        setStyle(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyle(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyle(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyle(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ')');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        var eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_POPUP + ')');\n        var eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : (eleItem && eleItem.offsetHeight);\n        var ele;\n        var popupPri = [];\n        if (select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element)) {\n            ele = select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.getElementOffsetY = function () {\n        return (this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ?\n            this.element.clientHeight : this.element.offsetHeight);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            setStyle(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(this.element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: (this.isVertical) ? 0 : this.getElementOffsetY(),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            if (this.isVertical) {\n                popup.element.style.visibility = 'hidden';\n            }\n            if (this.isExtendedOpen) {\n                var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n                popupNav.classList.add(CLS_TBARNAVACT);\n                classList(popupNav.firstElementChild, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n                this.element.querySelector('.' + CLS_EXTENDABLECLASS).classList.add(CLS_POPUPOPEN);\n            }\n            else {\n                popup.hide();\n            }\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyle(popupEle, { maxHeight: '', display: 'block' });\n            setStyle(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            if (isOpen) {\n                this.add(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n            else {\n                this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        if (!this.isVertical) {\n            popObj.offsetY = this.getElementOffsetY();\n            popObj.dataBind();\n        }\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyle(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNOU(window.scrollY) ? 0 : window.scrollY;\n        if (!this.isVertical && ((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyle(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n        else if (this.isVertical) {\n            var tbEleData = this.element.getBoundingClientRect();\n            setStyle(popObj.element, { maxHeight: (tbEleData.top + this.element.offsetHeight) + 'px', bottom: 0, visibility: '' });\n        }\n        if (popObj) {\n            var popupOffset = popupEle.getBoundingClientRect();\n            if (popupOffset.right > document.documentElement.clientWidth && popupOffset.width > toolEle.getBoundingClientRect().width) {\n                popObj.collision = { Y: 'none' };\n                popObj.dataBind();\n            }\n            popObj.refreshPosition();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var eleOffset;\n        var checkoffset;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = void 0;\n            var compuStyle = window.getComputedStyle(inEle[i]);\n            if (this.isVertical) {\n                mrgn = parseFloat((compuStyle).marginTop);\n                mrgn += parseFloat((compuStyle).marginBottom);\n            }\n            else {\n                mrgn = parseFloat((compuStyle).marginRight);\n                mrgn += parseFloat((compuStyle).marginLeft);\n            }\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            eleOffset = this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth;\n            var eleWid_1 = fstEleCheck ? (eleOffset + mrgn) : eleOffset;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                if (this.isVertical) {\n                    setStyle(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                }\n                else {\n                    setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                }\n                itemPopCount++;\n            }\n            if (this.isVertical) {\n                checkoffset = (inEle[i].offsetTop + inEle[i].offsetHeight + mrgn) > eleWidth;\n            }\n            else {\n                checkoffset = (inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth;\n            }\n            if (checkoffset) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            var sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyle(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    if (this.isVertical) {\n                        setStyle(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                    }\n                    else {\n                        setStyle(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    }\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        nav.setAttribute('role', 'list');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNOU(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNOU(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNOU(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var isVer = this.isVertical;\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (isNOU(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var dimension;\n        if (isVer) {\n            dimension = ele.offsetHeight - (popNav.offsetHeight + innerEle.offsetHeight);\n        }\n        else {\n            dimension = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        }\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyle(el, { 'position': '' });\n        });\n        if ((dimension + (isVer ? popNav.offsetHeight : popNav.offsetWidth)) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(dimension, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = this.isVertical ? el.offsetHeight : el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNOU(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNOU(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(!this.isVertical ? el.style.minWidth : el.style.minHeight);\n            btn.style.minWidth = '';\n            btn.style.minHeight = '';\n            if (!isNOU(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                setStyle(el, { minWidth: '', height: '', minHeight: '' });\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        var checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        var margin;\n        if (isNOU(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            var trgClass = (this.isVertical) ? CLS_VSCROLLCNT : CLS_HSCROLLCNT;\n            innerItem = [].slice.call(item.querySelector('.' + trgClass).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        if (this.isVertical) {\n            margin = innerItem[0].offsetHeight + innerItem[2].offsetHeight;\n        }\n        else {\n            margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        }\n        var tbarWid = this.isVertical ? this.element.offsetHeight : this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth);\n            var popWid = (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth) + 'px';\n            innerItem[2].removeAttribute('style');\n            if (this.isVertical) {\n                if (this.enableRtl) {\n                    innerItem[2].style.top = popWid;\n                }\n                else {\n                    innerItem[2].style.bottom = popWid;\n                }\n            }\n            else {\n                if (this.enableRtl) {\n                    innerItem[2].style.left = popWid;\n                }\n                else {\n                    innerItem[2].style.right = popWid;\n                }\n            }\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - (!this.isVertical ? innerItem[1].offsetWidth : innerItem[1].offsetHeight)) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = ((!this.isVertical ? innerItem[0].offsetWidth : innerItem[0].offsetHeight) + value) + 'px';\n        if (this.isVertical) {\n            if (this.enableRtl) {\n                innerItem[1].style.marginBottom = mrgn;\n            }\n            else {\n                innerItem[1].style.marginTop = mrgn;\n            }\n        }\n        else {\n            if (this.enableRtl) {\n                innerItem[1].style.marginRight = mrgn;\n            }\n            else {\n                innerItem[1].style.marginLeft = mrgn;\n            }\n        }\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var items = this.items;\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            var itemEleDom = void 0;\n            if (ele && ele.children.length > 0) {\n                itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n            }\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            this.itemsAlign(items, itemEleDom);\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            if (keyVal === 'class') {\n                this.add(element, attr[keyVal]);\n            }\n            else {\n                element.setAttribute(keyVal, attr[keyVal]);\n            }\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     *\n     * @param  {number|HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns {void}.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        var ele;\n        if (isNOU(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (!isNOU(len) && len >= 1) {\n            for (var a = 0, element = [].slice.call(elements); a < len; a++) {\n                var itemElement = element[a];\n                if (typeof (itemElement) === 'number') {\n                    ele = this.getElementByIndex(itemElement);\n                    if (isNOU(ele)) {\n                        return;\n                    }\n                    else {\n                        elements[a] = ele;\n                    }\n                }\n                else {\n                    ele = itemElement;\n                }\n                enable(isEnable, ele);\n            }\n            if (isEnable) {\n                removeClass(elements, CLS_DISABLE);\n            }\n            else {\n                addClass(elements, CLS_DISABLE);\n            }\n        }\n        else {\n            if (typeof (elements) === 'number') {\n                ele = this.getElementByIndex(elements);\n                if (isNOU(ele)) {\n                    return;\n                }\n            }\n            else {\n                ele = items;\n            }\n            enable(isEnable, ele);\n        }\n    };\n    Toolbar.prototype.getElementByIndex = function (index) {\n        if (this.tbarEle[index]) {\n            return this.tbarEle[index];\n        }\n        return null;\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     *\n     * @param  {ItemModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns {void}.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        this.extendedOpen();\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNOU(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNOU(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNOU(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNOU(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNOU(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     *\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns {void}.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            if (this.isReact) {\n                this.clearTemplate();\n            }\n            var btnItem = innerItems[index].querySelector('.e-control.e-btn');\n            if (!isNOU(btnItem) && !isNOU(btnItem.ej2_instances[0]) && !(btnItem.ej2_instances[0].isDestroyed)) {\n                btnItem.ej2_instances[0].destroy();\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            try {\n                if (typeof (templateProp) === 'object' && !isNOU(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNOU(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n            }\n            catch (e) {\n                templateFn = templateCompiler(val);\n            }\n            var tempArray = void 0;\n            if (!isNOU(templateFn)) {\n                var toolbarTemplateID = this.element.id + index + '_template';\n                tempArray = templateFn({}, this, 'template', toolbarTemplateID, this.isStringTemplate);\n            }\n            if (!isNOU(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNOU(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            if (item.id) {\n                ele.id = item.id;\n            }\n            else {\n                ele.id = getUniqueID('tbr-ipt');\n            }\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        if (item.id) {\n            dom.id = item.id;\n        }\n        else {\n            dom.id = getUniqueID('e-tbr-btn');\n        }\n        var btnTxt = this.createElement('span', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(textStr) : textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyle(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var dom;\n        var innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        var tempDom = this.createElement('div', {\n            innerHTML: this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.tooltipText) : item.tooltipText\n        });\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    dom.setAttribute('aria-label', (item.text || item.tooltipText));\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        if (item.disabled) {\n            this.add(innerEle, CLS_DISABLE);\n        }\n        if (item.visible === false) {\n            this.add(innerEle, CLS_HIDDEN);\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNOU(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNOU(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - Returns the module name as string.\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyScroll();\n            var multirowele = ele.querySelector('.' + CLS_ITEMS);\n            if (!isNOU(multirowele)) {\n                this.remove(multirowele, CLS_MULTIROWPOS);\n                if (this.tbarAlign) {\n                    this.add(multirowele, CLS_TBARPOS);\n                }\n            }\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        if (this.element.querySelector('.' + CLS_HSCROLLBAR)) {\n            this.scrollStep = this.element.querySelector('.' + CLS_HSCROLLBAR).offsetWidth;\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    Toolbar.prototype.extendedOpen = function () {\n        var sib = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n        if (this.overflowMode === 'Extended' && sib) {\n            this.isExtendedOpen = sib.classList.contains(CLS_POPUPOPEN);\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {ToolbarModel} newProp - It contains new value of the data.\n     * @param  {ToolbarModel} oldProp - It contains old value of the data.\n     * @returns {void}\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        var wid = tEle.offsetWidth;\n        this.extendedOpen();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (typeof newProperty !== 'function') {\n                                if (this.tbarAlign || property === 'align') {\n                                    this.refresh();\n                                    this.trigger('created');\n                                    break;\n                                }\n                                var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                                var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                                if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                    --this.popupPriCount;\n                                }\n                                if (isNOU(this.scrollModule)) {\n                                    this.destroyMode();\n                                }\n                                var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                                if (this.isReact) {\n                                    this.clearTemplate();\n                                }\n                                detach(itemCol[index]);\n                                this.tbarEle.splice(index, 1);\n                                this.addItems([this.items[index]], index);\n                                this.items.splice(index, 1);\n                                if (this.items[index].template) {\n                                    this.tbarEle.splice(this.items.length, 1);\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    setStyle(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyle(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.add(tEle, CLS_RTL);\n                    }\n                    else {\n                        this.remove(tEle, CLS_RTL);\n                    }\n                    if (!isNOU(this.scrollModule)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.scrollModule.element, CLS_RTL);\n                        }\n                        else {\n                            this.remove(this.scrollModule.element, CLS_RTL);\n                        }\n                    }\n                    if (!isNOU(this.popObj)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.popObj.element, CLS_RTL);\n                        }\n                        else {\n                            this.remove(this.popObj.element, CLS_RTL);\n                        }\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'scrollStep':\n                    if (this.scrollModule) {\n                        this.scrollModule.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'enableCollision':\n                    if (this.popObj) {\n                        this.popObj.collision = { Y: this.enableCollision ? 'flip' : 'none' };\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'allowKeyboard':\n                    this.unwireKeyboardEvent();\n                    if (newProp.allowKeyboard) {\n                        this.wireKeyboardEvent();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     *\n     * @param  {number | HTMLElement} index - Index value of target item or DOM element  of items to be hidden or shown.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns {void}.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        var isElement = (typeof (index) === 'object') ? true : false;\n        var eleIndex = index;\n        var initIndex;\n        var ele;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (isElement) {\n            ele = index;\n        }\n        else if (this.tbarEle[eleIndex]) {\n            var innerItems_1 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            ele = innerItems_1[eleIndex];\n        }\n        if (ele) {\n            if (value) {\n                ele.classList.add(CLS_HIDDEN);\n            }\n            else {\n                ele.classList.remove(CLS_HIDDEN);\n            }\n            if (value && isNOU(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                if (isNOU(ele.firstElementChild.getAttribute('tabindex'))) {\n                    ele.firstElementChild.setAttribute('tabindex', '-1');\n                    var innerItems_2 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n                    if (isElement) {\n                        eleIndex = innerItems_2.indexOf(ele);\n                    }\n                    var nextEle = innerItems_2[++eleIndex];\n                    while (nextEle) {\n                        var skipEle = this.eleContains(nextEle);\n                        if (!skipEle) {\n                            nextEle.firstElementChild.removeAttribute('tabindex');\n                            break;\n                        }\n                        nextEle = innerItems_2[++eleIndex];\n                    }\n                }\n            }\n            else if (isNOU(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                initIndex = 0;\n                var setFlag = false;\n                var removeFlag = false;\n                var initELe = innerItems[initIndex];\n                while (initELe) {\n                    if (!initELe.classList.contains(CLS_SEPARATOR)) {\n                        if (isNOU(initELe.firstElementChild.getAttribute('tabindex'))) {\n                            initELe.firstElementChild.setAttribute('tabindex', '-1');\n                            setFlag = true;\n                        }\n                        else {\n                            if (setFlag && removeFlag) {\n                                break;\n                            }\n                            var skipEle = this.eleContains(initELe);\n                            if (!skipEle) {\n                                initELe.firstElementChild.removeAttribute('tabindex');\n                                removeFlag = true;\n                            }\n                            initELe = innerItems[++initIndex];\n                        }\n                    }\n                    else {\n                        initELe = innerItems[++initIndex];\n                    }\n                }\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Toolbar.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property()\n    ], Toolbar.prototype, \"scrollStep\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"enableCollision\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Toolbar.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\nexport { Toolbar };\n"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","CLS_VERTICAL","CLS_ITEMS","CLS_ITEM","CLS_RTL","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPOPEN","CLS_TEMPLATE","CLS_DISABLE","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARNAV","CLS_TBARSCRLNAV","CLS_TBARCENTER","CLS_TBARPOS","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","CLS_HIDDEN","CLS_MULTIROW","CLS_MULTIROWPOS","CLS_MULTIROW_SEPARATOR","CLS_EXTENDABLE_SEPARATOR","CLS_EXTEANDABLE_TOOLBAR","CLS_EXTENDEDPOPOPEN","Item","_super","apply","Property","Event","ChildProperty","Toolbar","options","element","_this","call","resizeContext","resize","bind","keyConfigs","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","tab","home","end","destroy","isReact","isAngular","clearTemplate","btnItems","querySelectorAll","slice","forEach","el","isNOU","ej2_instances","isDestroyed","unwireEvents","tempId","ele","querySelector","document","body","appendChild","style","display","destroyItems","lastElementChild","removeChild","trgtEle","ctrlTem","popObj","detach","activeEle","tbarAlign","remove","cssClass","removeClass","split","removeAttribute","attrb","preRender","eventArgs","enableCollision","scrollStep","trigger","scrollModule","tbarItemsCol","items","isVertical","classList","contains","isExtendedOpen","popupPriCount","enableRtl","add","wireEvents","EventHandler","clickHandler","window","addEventListener","allowKeyboard","wireKeyboardEvent","keyModule","KeyboardEvents","keyAction","keyActionHandler","docKeyDown","setAttribute","unwireKeyboardEvent","e","tagName","popCheck","isVisible","overflowMode","keyCode","hide","name","duration","preventDefault","destroyScroll","removeEventListener","docEvent","clearProperty","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","closest","tbarItems","children","destroyMode","tempEle","popupRefresh","val","elementFocus","fChild","firstElementChild","focus","activeEleSwitch","clstElement","tbrNavChk","trgt","keyHandling","clst","navChk","scrollChk","nodes","rootEle","popAnimate","value","action","eleFocus","popupCheck","extendedPopup","popFrstEle","ele_1","activeEleRemove","top","offsetHeight","show","tbarScrollChk","disable","id","eleContains","getAttribute","pos","sib","elem","parentElement","itemObj","isPopupElement","clsList","popupNav","popupClickHandler","indexOf","originalEvent","item","click","cancel","clickedArgs","type","position","X","Y","offsetX","dataBind","refreshPosition","getElementOffsetY","minHeight","render","initialize","renderControl","renderComplete","width","formatUnit","height","Browser","setStyle","ariaAttr","attributes","addClass","renderItems","renderLayout","renderOverflowMode","itemPositioning","childElementCount","checkPopupRefresh","separator","itemsAlign","itemEleDom","innerItem","innerPos","renderSubComponent","push","tbarItemAlign","align","toLowerCase","showAlwaysInPopup","overflow","notify","renderReactTemplates","changeOrientation","refreshOverflow","initScroll","innerItems","checkOverflow","VScroll","HScroll","itemWidthCal","selectAll","getComputedStyle","offsetWidth","parseFloat","marginTop","marginRight","marginBottom","marginLeft","getScrollCntEle","trgClass","eleWidth","itemWidth","popNav","scrollNav","navEleWidth","toolbarAlign","priorityCheck","offsetWid","getElementsByClassName","removePositioning","setOverflowAttributes","createPopupEle","eleItem","multiVar","extendVar","eleInlineItem","offsetLeft","innerEle","innerNav","vertical","createPopupIcon","innerNavDom","direction","checkPriority","removeProperty","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","poppedEle","nodeIndex","nodePri","index","tbResize","insertBefore","firstChild","childNodes","tbarElement","sepItem","select","extendEle","createElement","className","popupEle","popupInit","getPropertyValue","clientHeight","maxHeight","eleStyles","popup","Popup","relateTo","offsetY","open","close","collision","appendTo","borderRightWidth","visibility","tbarPopupHandler","isOpen","toolEle","popupElePos","offsetTop","calculatePosition","popIcon","scrollVal","scrollY","innerHeight","overflowHeight","tbEleData","getBoundingClientRect","bottom","popupOffset","right","documentElement","clientWidth","inEle","pre","eleOffset","popPriority","eleWid","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","compuStyle","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","sepEle","popedEle","concat","nav","navItem","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","priEleCnt","eleSep","ignoreCheck","eleSepWidth","prevSep","previousElementSibling","isVer","dimension","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","count","root","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","_loop_1","this_1","sepBeforePri_1","_i","_a","refreshPositioning","margin","tbarWid","popWid","left","itemEle","alignDiv","alignEle","leftAlign_1","ctrlTemplate","cloneNode","setAttr","attr","keyVal","keys","enableItems","isEnable","elements","len","enable","a","itemElement","getElementByIndex","addItems","extendedOpen","itemsDiv","itemsRerender","itemAgn","items_1","algIndex","splice","parentNode","removeItems","args","parseInt","toString","removeItemByIndex","eleIdx","indexAgn","btnItem","templateRender","templateProp","isComponent","itemType","eleObj","getUniqueID","templateFn","trim","tempStr","outerHTML","templateCompiler","tempArray","isStringTemplate","buttonRendering","dom","iconCss","iconPos","textStr","text","btnTxt","innerHTML","enableHtmlSanitizer","SanitizeHtmlHelper","prefixIcon","suffixIcon","btnObj","Button","iconPosition","tempDom","tooltipText","htmlAttributes","textContent","template","itemClick","showTextOn","sTxt","disabled","visible","currentTarget","curEle","getPersistData","addOnPersist","getModuleName","newProp","multirowele","onPropertyChanged","oldProp","tEle","changedProb","property","newProperty","refresh","popupPriCheck","booleanCheck","itemCol","hideItem","initIndex","isElement","eleIndex","innerItems_2","nextEle","setFlag","removeFlag","initELe","Collection","NotifyPropertyChanges","Component"],"sourceRoot":""}