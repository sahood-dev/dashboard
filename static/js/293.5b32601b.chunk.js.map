{"version":3,"file":"static/js/293.5b32601b.chunk.js","mappings":"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","sources":["../node_modules/@syncfusion/ej2-buttons/src/check-box/check-box.js","../node_modules/@syncfusion/ej2-calendars/src/calendar/calendar.js","../node_modules/@syncfusion/ej2-calendars/src/datepicker/datepicker.js","../node_modules/@syncfusion/ej2-calendars/src/timepicker/timepicker.js","../node_modules/@syncfusion/ej2-calendars/src/datetimepicker/datetimepicker.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/group.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/context-menu.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/inline-edit-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/batch-edit-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/dialog-edit-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/edit-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/edit-cell-base.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/boolean-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/dropdown-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/numeric-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/default-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/normal-edit.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/inline-edit.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/batch-edit.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/dialog-edit.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/datepicker-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/template-edit-cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/edit.js","../node_modules/@syncfusion/ej2-excel-export/src/worksheets.js","../node_modules/@syncfusion/ej2-excel-export/src/worksheet.js","../node_modules/@syncfusion/ej2-excel-export/src/cell-style.js","../node_modules/@syncfusion/ej2-excel-export/src/column.js","../node_modules/@syncfusion/ej2-excel-export/src/row.js","../node_modules/@syncfusion/ej2-excel-export/src/image.js","../node_modules/@syncfusion/ej2-excel-export/src/cell.js","../node_modules/@syncfusion/ej2-compression/src/zip-archive.js","../node_modules/@syncfusion/ej2-excel-export/src/value-formatter.js","../node_modules/@syncfusion/ej2-excel-export/src/csv-helper.js","../node_modules/@syncfusion/ej2-excel-export/src/blob-helper.js","../node_modules/@syncfusion/ej2-excel-export/src/auto-filters.js","../node_modules/@syncfusion/ej2-excel-export/src/workbook.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/excel-export.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/export-helper.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/filter-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/filter-menu-operator.js","../node_modules/@syncfusion/ej2-dropdowns/src/combo-box/combo-box.js","../node_modules/@syncfusion/ej2-dropdowns/src/common/highlight-search.js","../node_modules/@syncfusion/ej2-dropdowns/src/auto-complete/auto-complete.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/string-filter-ui.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/number-filter-ui.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/boolean-filter-ui.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/date-filter-ui.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/filter-menu-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/checkbox-filter.js","../node_modules/@syncfusion/ej2-buttons/src/radio-button/radio-button.js","../node_modules/@syncfusion/ej2-grids/src/grid/common/excel-filter-base.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/excel-filter.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/filter.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/structured-elements/tables/light-tables/enum.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/structured-elements/grid/styles/pdf-borders.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/structured-elements/grid/styles/style.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/figures/base/element-layouter.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/figures/layout-element.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/figures/base/text-layouter.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/figures/text-element.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/annotations/annotation.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/annotations/link-annotation.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/annotations/action-link-annotation.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/actions/action.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/actions/uri-action.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/annotations/uri-annotation.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/annotations/pdf-text-web-link.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/structured-elements/grid/layout/grid-layouter.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/structured-elements/grid/pdf-grid-cell.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/structured-elements/grid/pdf-grid-column.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/structured-elements/grid/pdf-grid-row.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/structured-elements/grid/pdf-grid.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/document/automatic-fields/pdf-numbers-convertor.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/document/automatic-fields/pdf-template-value-pair.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/document/automatic-fields/multiple-value-field.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/document/automatic-fields/pdf-page-number-field.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/document/automatic-fields/composite-field.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/document/automatic-fields/single-value-field.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/document/automatic-fields/page-count-field.js","../node_modules/@syncfusion/ej2-pdf-export/src/implementation/graphics/fonts/pdf-true-type-font.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/pdf-export.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/resize.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/sort.js","../node_modules/@syncfusion/ej2-navigations/src/common/menu-scroll.js","../node_modules/@syncfusion/ej2-navigations/src/common/menu-base.js","../node_modules/@syncfusion/ej2-navigations/src/context-menu/context-menu.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { addClass, detach, getUniqueID, isRippleEnabled, removeClass, rippleEffect, closest } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler, setHiddenInput } from './../common/common';\nvar CHECK = 'e-check';\nvar DISABLED = 'e-checkbox-disabled';\nvar FRAME = 'e-frame';\nvar INDETERMINATE = 'e-stop';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RIPPLECHECK = 'e-ripple-check';\nvar RIPPLEINDETERMINATE = 'e-ripple-stop';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-checkbox-wrapper';\nvar containerAttr = ['title', 'class', 'style', 'disabled', 'readonly', 'name', 'value'];\n/**\n * The CheckBox is a graphical user interface element that allows you to select one or more options from the choices.\n * It contains checked, unchecked, and indeterminate states.\n * ```html\n * <input type=\"checkbox\" id=\"checkbox\"/>\n * <script>\n * var checkboxObj = new CheckBox({ label: \"Default\" });\n * checkboxObj.appendTo(\"#checkbox\");\n * </script>\n * ```\n */\nvar CheckBox = /** @class */ (function (_super) {\n    __extends(CheckBox, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @private\n     * @param {CheckBoxModel} options - Specifies checkbox model\n     * @param {string | HTMLInputElement} element - Specifies target element\n     */\n    function CheckBox(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isFocused = false;\n        _this.isMouseClick = false;\n        _this.clickTriggered = false;\n        return _this;\n    }\n    CheckBox.prototype.changeState = function (state) {\n        var ariaState;\n        var rippleSpan;\n        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n        if (isRippleEnabled) {\n            rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        }\n        if (state === 'check') {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLEINDETERMINATE);\n                rippleSpan.classList.add(RIPPLECHECK);\n            }\n            ariaState = 'true';\n            this.element.checked = true;\n        }\n        else if (state === 'uncheck') {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            if (rippleSpan) {\n                removeClass([rippleSpan], [RIPPLECHECK, RIPPLEINDETERMINATE]);\n            }\n            ariaState = 'false';\n            this.element.checked = false;\n        }\n        else {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            if (rippleSpan) {\n                rippleSpan.classList.remove(RIPPLECHECK);\n                rippleSpan.classList.add(RIPPLEINDETERMINATE);\n            }\n            ariaState = 'mixed';\n            this.element.indeterminate = true;\n        }\n        this.getWrapper().setAttribute('aria-checked', ariaState);\n    };\n    CheckBox.prototype.clickHandler = function (event) {\n        if (event.target.tagName === 'INPUT' && this.clickTriggered) {\n            this.clickTriggered = false;\n            return;\n        }\n        if (event.target.tagName === 'SPAN' || event.target.tagName === 'LABEL') {\n            this.clickTriggered = true;\n        }\n        if (this.isMouseClick) {\n            this.focusOutHandler();\n            this.isMouseClick = false;\n        }\n        if (this.indeterminate) {\n            this.changeState(this.checked ? 'check' : 'uncheck');\n            this.indeterminate = false;\n            this.element.indeterminate = false;\n        }\n        else if (this.checked) {\n            this.changeState('uncheck');\n            this.checked = false;\n        }\n        else {\n            this.changeState('check');\n            this.checked = true;\n        }\n        var changeEventArgs = { checked: this.updateVueArrayModel(false), event: event };\n        this.trigger('change', changeEventArgs);\n        event.stopPropagation();\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    CheckBox.prototype.destroy = function () {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        _super.prototype.destroy.call(this);\n        if (this.wrapper) {\n            wrapper = this.wrapper;\n            if (!this.disabled) {\n                this.unWireEvents();\n            }\n            if (this.tagName === 'INPUT') {\n                if (this.getWrapper() && wrapper.parentNode) {\n                    wrapper.parentNode.insertBefore(this.element, wrapper);\n                }\n                detach(wrapper);\n                this.element.checked = false;\n                if (this.indeterminate) {\n                    this.element.indeterminate = false;\n                }\n                ['name', 'value', 'disabled'].forEach(function (key) {\n                    _this.element.removeAttribute(key);\n                });\n            }\n            else {\n                ['role', 'aria-checked', 'class'].forEach(function (key) {\n                    wrapper.removeAttribute(key);\n                });\n                wrapper.innerHTML = '';\n            }\n        }\n    };\n    CheckBox.prototype.focusHandler = function () {\n        this.isFocused = true;\n    };\n    CheckBox.prototype.focusOutHandler = function () {\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            wrapper.classList.remove('e-focus');\n        }\n        this.isFocused = false;\n    };\n    /**\n     * Gets the module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n    CheckBox.prototype.getModuleName = function () {\n        return 'checkbox';\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     *\n     * @private\n     * @returns {string} - Persist Data\n     */\n    CheckBox.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked', 'indeterminate']);\n    };\n    CheckBox.prototype.getWrapper = function () {\n        if (this.element && this.element.parentElement) {\n            return this.element.parentElement.parentElement;\n        }\n        else {\n            return null;\n        }\n    };\n    CheckBox.prototype.initialize = function () {\n        if (isNullOrUndefined(this.initialCheckedValue)) {\n            this.initialCheckedValue = this.checked;\n        }\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        if (this.value) {\n            this.element.setAttribute('value', this.value);\n            if (this.isVue && typeof this.value === 'boolean' && this.value === true) {\n                this.setProperties({ 'checked': true }, true);\n            }\n        }\n        if (this.checked) {\n            this.changeState('check');\n        }\n        if (this.indeterminate) {\n            this.changeState();\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    CheckBox.prototype.initWrapper = function () {\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', {\n                className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n            });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        var frameSpan = this.createElement('span', { className: 'e-icons ' + FRAME });\n        wrapper.classList.add('e-wrapper');\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        wrapper.appendChild(label);\n        label.appendChild(this.element);\n        setHiddenInput(this, label);\n        label.appendChild(frameSpan);\n        if (isRippleEnabled) {\n            var rippleSpan = this.createElement('span', { className: RIPPLE });\n            if (this.labelPosition === 'Before') {\n                label.appendChild(rippleSpan);\n            }\n            else {\n                label.insertBefore(rippleSpan, frameSpan);\n            }\n            rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    CheckBox.prototype.keyUpHandler = function () {\n        if (this.isFocused) {\n            this.getWrapper().classList.add('e-focus');\n        }\n    };\n    CheckBox.prototype.labelMouseDownHandler = function (e) {\n        this.isMouseClick = true;\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, rippleSpan);\n    };\n    CheckBox.prototype.labelMouseUpHandler = function (e) {\n        this.isMouseClick = true;\n        var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n        if (rippleSpan) {\n            var rippleElem = rippleSpan.querySelectorAll('.e-ripple-element');\n            for (var i = 0; i < rippleElem.length - 1; i++) {\n                rippleSpan.removeChild(rippleSpan.childNodes[i]);\n            }\n            rippleMouseHandler(e, rippleSpan);\n        }\n    };\n    /**\n     * Called internally if any of the property value changes.\n     *\n     * @private\n     * @param {CheckBoxModel} newProp - Specifies new Properties\n     * @param {CheckBoxModel} oldProp - Specifies old Properties\n     *\n     * @returns {void}\n     */\n    CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrapper = this.getWrapper();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    this.indeterminate = false;\n                    this.element.indeterminate = false;\n                    this.changeState(newProp.checked ? 'check' : 'uncheck');\n                    break;\n                case 'indeterminate':\n                    if (newProp.indeterminate) {\n                        this.changeState();\n                    }\n                    else {\n                        this.element.indeterminate = false;\n                        this.changeState(this.checked ? 'check' : 'uncheck');\n                    }\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.wrapper = this.getWrapper();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        wrapper.classList.remove(DISABLED);\n                        wrapper.setAttribute('aria-disabled', 'false');\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrapper], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrapper], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        wrapper.classList.add(RTL);\n                    }\n                    else {\n                        wrapper.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition': {\n                    var label = wrapper.getElementsByClassName(LABEL)[0];\n                    var labelWrap = wrapper.getElementsByTagName('label')[0];\n                    detach(label);\n                    if (newProp.labelPosition === 'After') {\n                        labelWrap.appendChild(label);\n                    }\n                    else {\n                        labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n                    }\n                    break;\n                }\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    if (this.isVue && typeof newProp.value === 'object') {\n                        break;\n                    }\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToWrapper();\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize Angular, React and Unique ID support.\n     *\n     * @private\n     * @returns {void}\n     */\n    CheckBox.prototype.preRender = function () {\n        var element = this.element;\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-CHECKBOX', 'checkbox', element, WRAPPER, 'checkbox');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'checkbox') {\n            this.element.setAttribute('type', 'checkbox');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n    };\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    CheckBox.prototype.render = function () {\n        this.initWrapper();\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.updateHtmlAttributeToWrapper();\n        this.updateVueArrayModel(true);\n        this.renderComplete();\n        this.wrapper = this.getWrapper();\n    };\n    CheckBox.prototype.setDisabled = function () {\n        var wrapper = this.getWrapper();\n        this.element.disabled = true;\n        wrapper.classList.add(DISABLED);\n        wrapper.setAttribute('aria-disabled', 'true');\n    };\n    CheckBox.prototype.setText = function (text) {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            return;\n        }\n        var label = wrapper.getElementsByClassName(LABEL)[0];\n        if (label) {\n            label.textContent = text;\n        }\n        else {\n            text = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(text) : text;\n            label = this.createElement('span', { className: LABEL, innerHTML: text });\n            var labelWrap = wrapper.getElementsByTagName('label')[0];\n            if (this.labelPosition === 'Before') {\n                labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n            }\n            else {\n                labelWrap.appendChild(label);\n            }\n        }\n    };\n    CheckBox.prototype.changeHandler = function (e) {\n        e.stopPropagation();\n    };\n    CheckBox.prototype.formResetHandler = function () {\n        this.checked = this.initialCheckedValue;\n        this.element.checked = this.initialCheckedValue;\n    };\n    CheckBox.prototype.unWireEvents = function () {\n        var wrapper = this.wrapper;\n        EventHandler.remove(wrapper, 'click', this.clickHandler);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.remove(label, 'mousedown', this.labelMouseDownHandler);\n        EventHandler.remove(label, 'mouseup', this.labelMouseUpHandler);\n        var formElem = closest(this.element, 'form');\n        if (formElem) {\n            EventHandler.remove(formElem, 'reset', this.formResetHandler);\n        }\n        if (this.tagName === 'EJS-CHECKBOX') {\n            EventHandler.remove(this.element, 'change', this.changeHandler);\n        }\n    };\n    CheckBox.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        EventHandler.add(wrapper, 'click', this.clickHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var label = wrapper.getElementsByTagName('label')[0];\n        EventHandler.add(label, 'mousedown', this.labelMouseDownHandler, this);\n        EventHandler.add(label, 'mouseup', this.labelMouseUpHandler, this);\n        var formElem = closest(this.element, 'form');\n        if (formElem) {\n            EventHandler.add(formElem, 'reset', this.formResetHandler, this);\n        }\n        if (this.tagName === 'EJS-CHECKBOX') {\n            EventHandler.add(this.element, 'change', this.changeHandler, this);\n        }\n    };\n    CheckBox.prototype.updateVueArrayModel = function (init) {\n        if (this.isVue && typeof this.value === 'object') {\n            var value = this.element.value;\n            if (value && this.value) {\n                if (init) {\n                    for (var i = 0; i < this.value.length; i++) {\n                        if (value === this.value[i]) {\n                            this.changeState('check');\n                            this.setProperties({ 'checked': true }, true);\n                        }\n                    }\n                }\n                else {\n                    var index = this.value.indexOf(value);\n                    if (this.checked) {\n                        if (index < 0) {\n                            this.value.push(value);\n                        }\n                    }\n                    else {\n                        if (index > -1) {\n                            this.value.splice(index, 1);\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    return this.value;\n                }\n            }\n        }\n        return this.element.checked;\n    };\n    CheckBox.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) > -1) {\n                    var wrapper = this.getWrapper();\n                    if (key === 'class') {\n                        addClass([wrapper], this.htmlAttributes[key].split(' '));\n                    }\n                    else if (key === 'title') {\n                        wrapper.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                    else if (key === 'style') {\n                        var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n                        frameSpan.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                    else {\n                        this.element.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Click the CheckBox element\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    CheckBox.prototype.click = function () {\n        this.element.click();\n    };\n    /**\n     * Sets the focus to CheckBox\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    CheckBox.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], CheckBox.prototype, \"created\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"indeterminate\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], CheckBox.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], CheckBox.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], CheckBox.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property({})\n    ], CheckBox.prototype, \"htmlAttributes\", void 0);\n    CheckBox = __decorate([\n        NotifyPropertyChanges\n    ], CheckBox);\n    return CheckBox;\n}(Component));\nexport { CheckBox };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, EventHandler, Internationalization } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { cldrData, getDefaultDateObject, rippleEffect } from '@syncfusion/ej2-base';\nimport { removeClass, detach, closest, addClass, attributes } from '@syncfusion/ej2-base';\nimport { getValue, getUniqueID, extend, Browser } from '@syncfusion/ej2-base';\nimport { Property, Event, isNullOrUndefined, throwError } from '@syncfusion/ej2-base';\n//class constant defination.\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\nvar CalendarBase = /** @class */ (function (_super) {\n    __extends(CalendarBase, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function CalendarBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.effect = '';\n        _this.isPopupClicked = false;\n        _this.isDateSelected = true;\n        _this.isTodayClicked = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.render = function () {\n        this.rangeValidation(this.min, this.max);\n        this.calendarEleCopy = this.element.cloneNode(true);\n        if (this.calendarMode === 'Islamic') {\n            if (+(this.min.setSeconds(0)) === +new Date(1900, 0, 1, 0, 0, 0)) {\n                this.min = new Date(1944, 2, 18);\n            }\n            if (+this.max === +new Date(2099, 11, 31)) {\n                this.max = new Date(2069, 10, 16);\n            }\n        }\n        this.globalize = new Internationalization(this.locale);\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.todayDisabled = false;\n        this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n        if (this.getModuleName() === 'calendar') {\n            this.element.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.element.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.element.classList.add(DEVICE);\n            }\n            attributes(this.element, {\n                'data-role': 'calendar'\n            });\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.calendarElement = this.createElement('div');\n            this.calendarElement.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.calendarElement.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.calendarElement.classList.add(DEVICE);\n            }\n            attributes(this.calendarElement, {\n                'role': 'calendar'\n            });\n        }\n        this.createHeader();\n        this.createContent();\n        this.wireEvents();\n    };\n    CalendarBase.prototype.rangeValidation = function (min, max) {\n        if (isNullOrUndefined(min)) {\n            this.setProperties({ min: new Date(1900, 0, 1) }, true);\n        }\n        if (isNullOrUndefined(max)) {\n            this.setProperties({ max: new Date(2099, 11, 31) }, true);\n        }\n    };\n    CalendarBase.prototype.getDefaultKeyConfig = function () {\n        this.defaultKeyConfigs = {\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            altUpArrow: 'alt+uparrow',\n            spacebar: 'space',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow'\n        };\n        return this.defaultKeyConfigs;\n    };\n    CalendarBase.prototype.validateDate = function (value) {\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n        if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n    };\n    CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    CalendarBase.prototype.minMaxUpdate = function (value) {\n        if (!(+this.min <= +this.max)) {\n            this.setProperties({ min: this.min }, true);\n            addClass([this.element], OVERLAY);\n        }\n        else {\n            removeClass([this.element], OVERLAY);\n        }\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        else {\n            if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n                this.currentDate = new Date(this.checkValue(this.max));\n            }\n            else {\n                if (+this.currentDate < +this.min) {\n                    this.currentDate = new Date(this.checkValue(this.min));\n                }\n            }\n        }\n    };\n    CalendarBase.prototype.createHeader = function () {\n        var ariaPrevAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'previous month'\n        };\n        var ariaNextAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'next month'\n        };\n        var ariaTitleAttrs = {\n            'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title'\n        };\n        this.headerElement = this.createElement('div', { className: HEADER });\n        var iconContainer = this.createElement('div', { className: ICONCONTAINER });\n        this.previousIcon = this.createElement('button', { className: '' + PREVICON, attrs: { type: 'button' } });\n        rippleEffect(this.previousIcon, {\n            duration: 400,\n            selector: '.e-prev',\n            isCenterRipple: true\n        });\n        attributes(this.previousIcon, ariaPrevAttrs);\n        this.nextIcon = this.createElement('button', { className: '' + NEXTICON, attrs: { type: 'button' } });\n        rippleEffect(this.nextIcon, {\n            selector: '.e-next',\n            duration: 400,\n            isCenterRipple: true\n        });\n        attributes(this.nextIcon, ariaNextAttrs);\n        this.headerTitleElement = this.createElement('div', { className: '' + LINK + ' ' + TITLE });\n        attributes(this.headerTitleElement, ariaTitleAttrs);\n        this.headerElement.appendChild(this.headerTitleElement);\n        this.previousIcon.appendChild(this.createElement('span', { className: '' + PREVSPAN + ' ' + ICON }));\n        this.nextIcon.appendChild(this.createElement('span', { className: '' + NEXTSPAN + ' ' + ICON }));\n        iconContainer.appendChild(this.previousIcon);\n        iconContainer.appendChild(this.nextIcon);\n        this.headerElement.appendChild(iconContainer);\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.headerElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.headerElement);\n        }\n        this.adjustLongHeaderSize();\n    };\n    CalendarBase.prototype.createContent = function () {\n        this.contentElement = this.createElement('div', { className: CONTENT });\n        this.table = this.createElement('table', { attrs: { tabIndex: '0', 'role': 'grid', 'aria-activedescendant': '' } });\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.contentElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.contentElement);\n        }\n        this.contentElement.appendChild(this.table);\n        this.createContentHeader();\n        this.createContentBody();\n        if (this.showTodayButton) {\n            this.createContentFooter();\n        }\n    };\n    CalendarBase.prototype.getCultureValues = function () {\n        var culShortNames = [];\n        var cldrObj;\n        var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrObj = (getValue(dayFormat, getDefaultDateObject()));\n        }\n        else {\n            cldrObj = (this.getCultureObjects(cldrData, '' + this.locale));\n        }\n        for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n            var obj = _a[_i];\n            culShortNames.push(getValue(obj, cldrObj));\n        }\n        return culShortNames;\n    };\n    CalendarBase.prototype.toCapitalize = function (text) {\n        return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n    };\n    CalendarBase.prototype.createContentHeader = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        var daysCount = 6;\n        var html = '';\n        if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: 0 }, true);\n        }\n        this.tableHeadElement = this.createElement('thead', { className: WEEKHEADER });\n        if (this.weekNumber) {\n            html += '<th class=\"e-week-number\"></th>';\n            if (this.getModuleName() === 'calendar') {\n                addClass([this.element], '' + WEEKNUMBER);\n            }\n            else {\n                addClass([this.calendarElement], '' + WEEKNUMBER);\n            }\n        }\n        // eslint-disable-next-line max-len\n        var shortNames = this.shiftArray(((this.getCultureValues().length > 0 && this.getCultureValues())), this.firstDayOfWeek);\n        for (var days = 0; days <= daysCount; days++) {\n            html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n        }\n        html = '<tr>' + html + '</tr>';\n        this.tableHeadElement.innerHTML = html;\n        this.table.appendChild(this.tableHeadElement);\n    };\n    CalendarBase.prototype.createContentBody = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.element.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        switch (this.start) {\n            case 'Year':\n                this.renderYears();\n                break;\n            case 'Decade':\n                this.renderDecades();\n                break;\n            default:\n                this.renderMonths();\n        }\n    };\n    CalendarBase.prototype.updateFooter = function () {\n        this.todayElement.textContent = this.l10.getConstant('today');\n        this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n    };\n    CalendarBase.prototype.createContentFooter = function () {\n        if (this.showTodayButton) {\n            var minimum = new Date(+this.min);\n            var maximum = new Date(+this.max);\n            var l10nLocale = { today: 'Today' };\n            this.globalize = new Internationalization(this.locale);\n            this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n            this.todayElement = this.createElement('button', { attrs: { role: 'button' } });\n            rippleEffect(this.todayElement);\n            this.updateFooter();\n            addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n            if ((!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate &&\n                +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0)))) || (this.todayDisabled)) {\n                addClass([this.todayElement], DISABLED);\n            }\n            this.footer = this.createElement('div', { className: FOOTER });\n            this.footer.appendChild(this.todayElement);\n            if (this.getModuleName() === 'calendar') {\n                this.element.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datetimepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (!this.todayElement.classList.contains(DISABLED)) {\n                EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n            }\n        }\n    };\n    CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n        EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        if (this.getModuleName() === 'calendar') {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n    };\n    CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n        this.serverModuleName = moduleName;\n    };\n    CalendarBase.prototype.todayButtonClick = function (e, value, isCustomDate) {\n        if (this.showTodayButton) {\n            if (this.currentView() === this.depth) {\n                this.effect = '';\n            }\n            else {\n                this.effect = 'e-zoomin';\n            }\n            if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n            }\n            else {\n                this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n            }\n        }\n    };\n    CalendarBase.prototype.resetCalendar = function () {\n        this.calendarElement && detach(this.calendarElement);\n        this.tableBodyElement && detach(this.tableBodyElement);\n        this.table && detach(this.table);\n        this.tableHeadElement && detach(this.tableHeadElement);\n        this.nextIcon && detach(this.nextIcon);\n        this.previousIcon && detach(this.previousIcon);\n        this.footer && detach(this.footer);\n        this.todayElement = null;\n        this.renderDayCellArgs = null;\n        this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n    };\n    CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n        var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedDate;\n        if (multiSelection) {\n            if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n                selectedDate = focusedDate;\n            }\n            else {\n                selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n            }\n        }\n        else {\n            selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        }\n        var view = this.getViewNumber(this.currentView());\n        var depthValue = this.getViewNumber(this.depth);\n        var levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        this.effect = '';\n        switch (e.action) {\n            case 'moveLeft':\n                this.keyboardNavigate(-1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveRight':\n                this.keyboardNavigate(1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n                }\n                else {\n                    this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                e.preventDefault();\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    this.keyboardNavigate(7, view, e, this.max, this.min);\n                }\n                else {\n                    this.keyboardNavigate(4, view, e, this.max, this.min);\n                }\n                e.preventDefault();\n                break;\n            case 'select':\n                if (e.target === this.todayElement) {\n                    this.todayButtonClick(e, value);\n                }\n                else {\n                    var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n                        if (levelRestrict) {\n                            // eslint-disable-next-line radix\n                            var d = new Date(parseInt('' + (element).id, 0));\n                            this.selectDate(e, d, (element));\n                        }\n                        else {\n                            this.contentClick(null, --view, (element), value);\n                        }\n                    }\n                }\n                break;\n            case 'controlUp':\n                this.title();\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if (!isNullOrUndefined(focusedDate) || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n                    this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'pageUp':\n                this.addMonths(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.addMonths(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageUp':\n                this.addYears(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageDown':\n                this.addYears(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                e.preventDefault();\n                break;\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.keyboardNavigate = function (number, currentView, e, max, min) {\n        var date = new Date(this.checkValue(this.currentDate));\n        switch (currentView) {\n            case 2:\n                this.addYears(this.currentDate, number);\n                if (this.isMonthYearRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderDecades(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n            case 1:\n                this.addMonths(this.currentDate, number);\n                if (this.calendarMode === 'Gregorian') {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                else {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                break;\n            case 0:\n                this.addDay(this.currentDate, number, e, max, min);\n                if (this.isMinMaxRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @param {Date} value - Specifies value of date.\n     * @returns {void}\n     * @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.preRender = function (value) {\n        var _this = this;\n        this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n        this.navigateNextHandler = this.navigateNext.bind(this);\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.navigateHandler = function (e) {\n            _this.triggerNavigate(e);\n        };\n    };\n    CalendarBase.prototype.minMaxDate = function (localDate) {\n        var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n        var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n        var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n        if (+currentDate === +minDate || +currentDate === +maxDate) {\n            if (+localDate < +this.min) {\n                localDate = new Date(+this.min);\n            }\n            if (+localDate > +this.max) {\n                localDate = new Date(+this.max);\n            }\n        }\n        return localDate;\n    };\n    CalendarBase.prototype.renderMonths = function (e, value, isCustomDate) {\n        var numCells = this.weekNumber ? 8 : 7;\n        var tdEles;\n        if (this.calendarMode === 'Gregorian') {\n            tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate);\n        }\n        else {\n            tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n        }\n        this.createContentHeader();\n        if (this.calendarMode === 'Gregorian') {\n            this.renderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n    };\n    CalendarBase.prototype.renderDays = function (currentDate, value, multiSelection, values, isTodayDate) {\n        var tdEles = [];\n        var cellsCount = 42;\n        var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n        var localDate = new Date(this.checkValue(currentDate));\n        var minMaxDate;\n        var currentMonth = localDate.getMonth();\n        this.titleUpdate(currentDate, 'days');\n        var d = localDate;\n        localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n        while (localDate.getDay() !== this.firstDayOfWeek) {\n            this.setStartDate(localDate, -1 * dayMilliSeconds);\n        }\n        for (var day = 0; day < cellsCount; ++day) {\n            var weekEle = this.createElement('td', { className: CELL });\n            var weekAnchor = this.createElement('span');\n            if (day % 7 === 0 && this.weekNumber) {\n                // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n                var numberOfDays = this.weekRule === 'FirstDay' ? 6 : (this.weekRule === 'FirstFourDayWeek' ? 3 : 0);\n                var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), (localDate.getDate() + numberOfDays));\n                weekAnchor.textContent = '' + this.getWeek(finalDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.minMaxDate(localDate);\n            var dateFormatOptions = { type: 'dateTime', skeleton: 'full' };\n            var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            var tdEle = this.dayCell(localDate);\n            var title = this.globalize.formatDate(localDate, { type: 'date', skeleton: 'full' });\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, { format: 'd', type: 'date', skeleton: 'yMd' });\n            var disabled = (this.min > localDate) || (this.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            if (currentMonth !== localDate.getMonth()) {\n                addClass([tdEle], OTHERMONTH);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND);\n            }\n            tdEle.appendChild(dayLink);\n            this.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            var argument = this.renderDayCellArgs;\n            this.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                var selectDate = new Date(this.checkValue(value));\n                var argsDate = new Date(this.checkValue(argument.date));\n                if (multiSelection) {\n                    if (!isNullOrUndefined(values) && values.length > 0) {\n                        for (var index = 0; index < values.length; index++) {\n                            var localDateString = +new Date(this.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd' }));\n                            var tempDateString = +new Date(this.globalize.formatDate(values[index], { type: 'date', skeleton: 'yMd' }));\n                            if (localDateString === tempDateString) {\n                                values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (selectDate && +selectDate === +argsDate) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n                if (+this.renderDayCellArgs.date === +this.todayDate) {\n                    this.todayDisabled = true;\n                }\n            }\n            var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n            var disabledCls = tdEle.classList.contains(DISABLED);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            // to set the value as null while setting the disabled date onProperty change.\n            // if (args.isDisabled && +this.value === +args.date) {\n            //     this.setProperties({ value: null }, true);\n            // }\n            if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n                for (var tempValue = 0; tempValue < values.length; tempValue++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(localDate, formatOptions);\n                    var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n                    if ((localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]))\n                        || (this.getDateVal(localDate, value))) {\n                        addClass([tdEle], SELECTED);\n                    }\n                    else {\n                        this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (values.length <= 0) {\n                    this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!disabledCls && this.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED);\n            }\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            if (date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth()\n                && date.getDate() === todayDate.getDate()) {\n                addClass([tdEle], TODAY);\n            }\n            tdEles.push(this.renderDayCellArgs.element);\n            localDate = new Date(+minMaxDate);\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        return tdEles;\n    };\n    CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n        if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n            addClass([tableElement], FOCUSEDDATE);\n        }\n        else {\n            // eslint-disable-next-line radix\n            if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n            // eslint-disable-next-line radix\n            if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n        }\n    };\n    CalendarBase.prototype.renderYears = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var tdEles = [];\n        var valueUtil = isNullOrUndefined(value);\n        var curDate = new Date(this.checkValue(this.currentDate));\n        var mon = curDate.getMonth();\n        var yr = curDate.getFullYear();\n        var localDate = curDate;\n        var curYrs = localDate.getFullYear();\n        var minYr = new Date(this.checkValue(this.min)).getFullYear();\n        var minMonth = new Date(this.checkValue(this.min)).getMonth();\n        var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n        var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n        localDate.setMonth(0);\n        this.titleUpdate(this.currentDate, 'months');\n        localDate.setDate(1);\n        for (var month = 0; month < 12; ++month) {\n            var tdEle = this.dayCell(localDate);\n            var dayLink = this.createElement('span');\n            var localMonth = (value && (value).getMonth() === localDate.getMonth());\n            var select = (value && (value).getFullYear() === yr && localMonth);\n            dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'MMM'\n            }));\n            if ((this.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!valueUtil && select) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            localDate.setDate(1);\n            localDate.setMonth(localDate.getMonth() + 1);\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, YEAR, e, value);\n    };\n    CalendarBase.prototype.renderDecades = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var yearCell = 12;\n        var tdEles = [];\n        var localDate = new Date(this.checkValue(this.currentDate));\n        localDate.setMonth(0);\n        localDate.setDate(1);\n        var localYr = localDate.getFullYear();\n        var startYr = new Date(localDate.setFullYear((localYr - localYr % 10)));\n        var endYr = new Date(localDate.setFullYear((localYr - localYr % 10 + (10 - 1))));\n        var startFullYr = startYr.getFullYear();\n        var endFullYr = endYr.getFullYear();\n        var startHdrYr = this.globalize.formatDate(startYr, {\n            format: null, type: 'dateTime', skeleton: 'y'\n        });\n        var endHdrYr = this.globalize.formatDate(endYr, { format: null, type: 'dateTime', skeleton: 'y' });\n        this.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        var start = new Date(localYr - (localYr % 10) - 1, 0, 1);\n        var startYear = start.getFullYear();\n        for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n            var year = startYear + rowIterator;\n            localDate.setFullYear(year);\n            var tdEle = this.dayCell(localDate);\n            attributes(tdEle, { 'role': 'gridcell' });\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'y'\n            });\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERDECADE);\n                if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                    addClass([tdEle], SELECTED);\n                }\n                if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                    year > new Date(this.checkValue(this.max)).getFullYear()) {\n                    addClass([tdEle], DISABLED);\n                }\n            }\n            else if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                year > new Date(this.checkValue(this.max)).getFullYear()) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n    };\n    CalendarBase.prototype.dayCell = function (localDate) {\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: type };\n        var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n        var value = date.valueOf();\n        var attrs = {\n            className: CELL, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false', 'role': 'gridcell' }\n        };\n        return this.createElement('td', attrs);\n    };\n    CalendarBase.prototype.firstDay = function (date) {\n        var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n        if (collection.length) {\n            for (var i = 0; i < collection.length; i++) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.lastDay = function (date, view) {\n        var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n        if (view !== 2) {\n            var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n            if (timeOffset) {\n                lastDate.setHours(this.firstDay(date).getHours() + (timeOffset / 60));\n            }\n            return this.findLastDay(lastDate);\n        }\n        else {\n            return this.findLastDay(this.firstDay(lastDate));\n        }\n    };\n    CalendarBase.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    CalendarBase.prototype.findLastDay = function (date) {\n        var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n        if (collection.length) {\n            for (var i = collection.length - 1; i >= 0; i--) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.removeTableHeadElement = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n        var view = this.getViewNumber(this.currentView());\n        var trEle;\n        this.tableBodyElement = this.createElement('tbody');\n        this.table.appendChild(this.tableBodyElement);\n        removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n        addClass([this.contentElement, this.headerElement], [classNm]);\n        var weekNumCell = 41;\n        var numberCell = 35;\n        var otherMonthCell = 6;\n        var row = count;\n        var rowIterator = 0;\n        for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.createElement('tr', { attrs: { 'role': 'row' } });\n            for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n                if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n                    addClass([elements[rowIterator].children[0]], [LINK]);\n                    rippleEffect(elements[rowIterator].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowIterator]);\n                if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (this.weekNumber) {\n                    if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n                else {\n                    if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n            }\n            row = row + count;\n            rowIterator = rowIterator + 0;\n            this.tableBodyElement.appendChild(trEle);\n        }\n        this.table.querySelector('tbody').className = this.effect;\n        if (this.calendarMode === 'Gregorian') {\n            this.iconHandler();\n        }\n        else {\n            this.islamicModule.islamicIconHandler();\n        }\n        if (view !== this.getViewNumber(this.currentView()) || (view === 0 && view !== this.getViewNumber(this.currentView()))) {\n            this.navigateHandler(e);\n        }\n        this.setAriaActiveDescendant();\n    };\n    CalendarBase.prototype.clickHandler = function (e, value) {\n        this.clickEventEmitter(e);\n        var eve = e.currentTarget;\n        var view = this.getViewNumber(this.currentView());\n        if (eve.classList.contains(OTHERMONTH)) {\n            this.contentClick(e, 0, null, value);\n        }\n        else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (2 === view) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n            this.selectDate(e, this.getIdValue(e, null), null);\n        }\n        else {\n            this.contentClick(e, 0, eve, value);\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    // Content click event handler required for extended components\n    CalendarBase.prototype.clickEventEmitter = function (e) {\n        e.preventDefault();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.contentClick = function (e, view, element, value) {\n        var currentView = this.getViewNumber(this.currentView());\n        var d = this.getIdValue(e, element);\n        switch (view) {\n            case 0:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    detach(this.tableBodyElement);\n                    this.currentDate = d;\n                    this.effect = ZOOMIN;\n                    this.renderMonths(e);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setMonth(d.getMonth());\n                        if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n                            this.currentDate.setDate(0);\n                        }\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.currentDate = d;\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                break;\n            case 1:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    this.selectDate(e, d, null);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        var islamicDate = this.islamicModule.getIslamicDate(d);\n                        this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderYears(e);\n                }\n        }\n    };\n    CalendarBase.prototype.switchView = function (view, e, multiSelection, isCustomDate) {\n        switch (view) {\n            case 0:\n                detach(this.tableBodyElement);\n                this.renderMonths(e, null, isCustomDate);\n                if (multiSelection && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0])) {\n                    this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n                }\n                break;\n            case 1:\n                detach(this.tableBodyElement);\n                this.renderYears(e);\n                break;\n            case 2:\n                detach(this.tableBodyElement);\n                this.renderDecades(e);\n        }\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    CalendarBase.prototype.getModuleName = function () {\n        return 'calendar';\n    };\n    /**\n     *\n     * @returns {void}\n\n     */\n    CalendarBase.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        return modules;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n     * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n     * @param {Date[]} values - Specifies the dates.\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n        this.effect = '';\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.add('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.add('e-rtl');\n                        }\n                    }\n                    else {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.remove('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.remove('e-rtl');\n                        }\n                    }\n                    break;\n                case 'dayHeaderFormat':\n                    this.getCultureValues();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                    }\n                    this.adjustLongHeaderSize();\n                    break;\n                case 'min':\n                case 'max':\n                    this.rangeValidation(this.min, this.max);\n                    if (prop === 'min') {\n                        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    }\n                    else {\n                        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    }\n                    this.setProperties({ start: this.currentView() }, true);\n                    if (this.tableBodyElement) {\n                        detach(this.tableBodyElement);\n                    }\n                    this.minMaxUpdate();\n                    if (multiSelection) {\n                        this.validateValues(multiSelection, values);\n                    }\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentBody();\n                    }\n                    if ((this.todayDate < this.min || this.max < this.todayDate) && (this.footer) && (this.todayElement)) {\n                        detach(this.todayElement);\n                        detach(this.footer);\n                        this.todayElement = this.footer = null;\n                        this.createContentFooter();\n                    }\n                    else {\n                        if ((this.footer) && (this.todayElement) && this.todayElement.classList.contains('e-disabled')) {\n                            removeClass([this.todayElement], DISABLED);\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = null;\n                            this.createContentFooter();\n                        }\n                    }\n                    break;\n                case 'start':\n                case 'depth':\n                case 'weekNumber':\n                case 'firstDayOfWeek':\n                case 'weekRule':\n                    this.checkView();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    this.l10.setLocale(this.locale);\n                    this.updateFooter();\n                    break;\n                case 'showTodayButton':\n                    if (newProp.showTodayButton) {\n                        this.createContentFooter();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = undefined;\n                        }\n                    }\n                    this.setProperties({ showTodayButton: newProp.showTodayButton }, true);\n                    break;\n            }\n        }\n    };\n    /**\n     * values property updated with considered disabled dates of the calendar.\n     *\n     * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n     * @param {Date[]} values - Specifies the dates to validate.\n     * @returns {void}\n     */\n    CalendarBase.prototype.validateValues = function (multiSelection, values) {\n        if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n            var copyValues = this.copyValues(values);\n            for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n                var tempValue = copyValues[skipIndex];\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var tempValueString = void 0;\n                if (this.calendarMode === 'Gregorian') {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'date', skeleton: 'yMd' });\n                }\n                else {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'dateTime', skeleton: 'full', calendar: 'islamic' });\n                }\n                var minFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n                var minString = minStringValue;\n                var maxFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n                var maxString = maxStringValue;\n                if (+new Date(tempValueString) < +new Date(minString) ||\n                    +new Date(tempValueString) > +new Date(maxString)) {\n                    copyValues.splice(skipIndex, 1);\n                    skipIndex = -1;\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n        }\n    };\n    CalendarBase.prototype.setValueUpdate = function () {\n        if (!isNullOrUndefined(this.tableBodyElement)) {\n            detach(this.tableBodyElement);\n            this.setProperties({ start: this.currentView() }, true);\n            this.createContentBody();\n        }\n    };\n    CalendarBase.prototype.copyValues = function (values) {\n        var copyValues = [];\n        if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n                copyValues.push(new Date(+values[index]));\n            }\n        }\n        return copyValues;\n    };\n    CalendarBase.prototype.titleUpdate = function (date, view) {\n        var globalize = new Internationalization(this.locale);\n        var dayFormatOptions;\n        var monthFormatOptions;\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        if (this.calendarMode === 'Gregorian') {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', skeleton: 'yMMMM', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, {\n                format: null, type: 'dateTime', skeleton: 'y', calendar: type\n            });\n        }\n        else {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'MMMM y', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'y', calendar: type });\n        }\n        switch (view) {\n            case 'days':\n                this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n                break;\n            case 'months':\n                this.headerTitleElement.textContent = monthFormatOptions;\n        }\n    };\n    CalendarBase.prototype.setActiveDescendant = function () {\n        var id;\n        var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var title;\n        var view = this.currentView();\n        if (view === 'Month') {\n            title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'full', calendar: type });\n        }\n        else if (view === 'Year') {\n            if (type !== 'islamic') {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'yMMMM', calendar: type });\n            }\n            else {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'GyMMM', calendar: type });\n            }\n        }\n        else {\n            title = this.globalize.formatDate(this.currentDate, {\n                format: null, type: 'date', skeleton: 'y', calendar: type\n            });\n        }\n        if (selectedEle || focusedEle) {\n            if (!isNullOrUndefined(selectedEle)) {\n                selectedEle.setAttribute('aria-selected', 'true');\n            }\n            (focusedEle || selectedEle).setAttribute('aria-label', title);\n            id = (focusedEle || selectedEle).getAttribute('id');\n        }\n        return id;\n    };\n    CalendarBase.prototype.iconHandler = function () {\n        new Date(this.checkValue(this.currentDate)).setDate(1);\n        switch (this.currentView()) {\n            case 'Month':\n                this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Year':\n                this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Decade':\n                this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        }\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    CalendarBase.prototype.destroy = function () {\n        if (this.getModuleName() === 'calendar' && this.element) {\n            removeClass([this.element], [ROOT]);\n        }\n        else {\n            if (this.calendarElement && this.element) {\n                removeClass([this.element], [ROOT]);\n            }\n        }\n        if (this.getModuleName() === 'calendar' && this.element) {\n            EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n            if (this.todayElement) {\n                EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n            }\n            this.previousIconHandler(true);\n            this.nextIconHandler(true);\n            this.keyboardModule.destroy();\n            this.element.removeAttribute('data-role');\n            if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        if (this.element) {\n            this.element.innerHTML = '';\n        }\n        _super.prototype.destroy.call(this);\n    };\n    CalendarBase.prototype.title = function (e) {\n        var currentView = this.getViewNumber(this.currentView());\n        this.effect = ZOOMIN;\n        this.switchView(++currentView, e);\n    };\n    CalendarBase.prototype.getViewNumber = function (stringVal) {\n        if (stringVal === 'Month') {\n            return 0;\n        }\n        else if (stringVal === 'Year') {\n            return 1;\n        }\n        else {\n            return 2;\n        }\n    };\n    CalendarBase.prototype.navigateTitle = function (e) {\n        e.preventDefault();\n        this.title(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.previous = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, -10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigatePrevious = function (e) {\n        e.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.previous();\n        }\n        else {\n            this.islamicModule.islamicPrevious();\n        }\n        this.triggerNavigate(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.next = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, 10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigateNext = function (eve) {\n        eve.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.next();\n        }\n        else {\n            this.islamicModule.islamicNext();\n        }\n        this.triggerNavigate(eve);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     */\n    CalendarBase.prototype.navigateTo = function (view, date, isCustomDate) {\n        if (+date >= +this.min && +date <= +this.max) {\n            this.currentDate = date;\n        }\n        if (+date <= +this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n        if (+date >= +this.max) {\n            this.currentDate = new Date(this.checkValue(this.max));\n        }\n        if ((this.getViewNumber(this.depth) >= this.getViewNumber(view))) {\n            if ((this.getViewNumber(this.depth) <= this.getViewNumber(this.start))\n                || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n                view = this.depth;\n            }\n        }\n        this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.currentView = function () {\n        if (this.contentElement.classList.contains(YEAR)) {\n            return 'Year';\n        }\n        else if (this.contentElement.classList.contains(DECADE)) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    CalendarBase.prototype.getDateVal = function (date, value) {\n        return (!isNullOrUndefined(value) && date.getDate() === (value).getDate()\n            && date.getMonth() === (value).getMonth() && date.getFullYear() === (value).getFullYear());\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.getCultureObjects = function (ld, c) {\n        var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var mainVal = 'main.';\n        if (this.calendarMode === 'Gregorian') {\n            return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + islamicFormat, ld);\n        }\n    };\n    CalendarBase.prototype.getWeek = function (d) {\n        var currentDate = new Date(this.checkValue(d)).valueOf();\n        var date = new Date(d.getFullYear(), 0, 1).valueOf();\n        return Math.ceil((((currentDate - date) + dayMilliSeconds) / dayMilliSeconds) / 7);\n    };\n    CalendarBase.prototype.setStartDate = function (date, time) {\n        var tzOffset = date.getTimezoneOffset();\n        var d = new Date(date.getTime() + time);\n        var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n        date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n    };\n    CalendarBase.prototype.addMonths = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setMonth(date.getMonth() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, (islamicDate.month) + i, 1);\n        }\n    };\n    CalendarBase.prototype.addYears = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setFullYear(date.getFullYear() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, (islamicDate.month), 1);\n        }\n    };\n    CalendarBase.prototype.getIdValue = function (e, element) {\n        var eve;\n        if (e) {\n            eve = e.currentTarget;\n        }\n        else {\n            eve = element;\n        }\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: type };\n        // eslint-disable-next-line radix\n        var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n        var date = this.globalize.parseDate(dateString, dateFormatOptions);\n        var value = date.valueOf() - date.valueOf() % 1000;\n        return new Date(value);\n        //return this.globalize.parseDate(dateString, dateFormatOptions);\n    };\n    CalendarBase.prototype.adjustLongHeaderSize = function () {\n        removeClass([this.element], DAYHEADERLONG);\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n        }\n    };\n    CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n        var element = node || e.currentTarget;\n        this.isDateSelected = false;\n        if (this.currentView() === 'Decade') {\n            this.setDateDecade(this.currentDate, date.getFullYear());\n        }\n        else if (this.currentView() === 'Year') {\n            this.setDateYear(this.currentDate, date);\n        }\n        else {\n            if (multiSelection && !this.checkPresentDate(date, values)) {\n                var copyValues = this.copyValues(values);\n                if (!isNullOrUndefined(values) && copyValues.length > 0) {\n                    copyValues.push(new Date(this.checkValue(date)));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: values[values.length - 1] }, true);\n                }\n                else {\n                    this.setProperties({ values: [new Date(this.checkValue(date))] }, true);\n                }\n            }\n            else {\n                this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n            }\n            this.currentDate = new Date(this.checkValue(date));\n        }\n        var tableBodyElement = closest(element, '.' + ROOT);\n        if (isNullOrUndefined(tableBodyElement)) {\n            tableBodyElement = this.tableBodyElement;\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n            removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n            removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n        }\n        if (multiSelection) {\n            var copyValues = this.copyValues(values);\n            var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n            for (var index = 0; index < collection.length; index++) {\n                var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n                var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n                if (collection[index] === tempElement) {\n                    removeClass([collection[index]], FOCUSEDDATE);\n                }\n                if (collection[index] === selectedElement &&\n                    !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n                    removeClass([collection[index]], SELECTED);\n                }\n            }\n            if (element.classList.contains(SELECTED)) {\n                removeClass([element], SELECTED);\n                for (var i = 0; i < copyValues.length; i++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(date, formatOptions);\n                    var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n                    if (localDateString === tempDateString) {\n                        var index = copyValues.indexOf(copyValues[i]);\n                        copyValues.splice(index, 1);\n                        addClass([element], FOCUSEDDATE);\n                    }\n                }\n                this.setProperties({ values: copyValues }, true);\n            }\n            else {\n                addClass([element], SELECTED);\n            }\n        }\n        else {\n            addClass([element], SELECTED);\n        }\n        this.isDateSelected = true;\n    };\n    CalendarBase.prototype.checkPresentDate = function (dates, values) {\n        var previousValue = false;\n        if (!isNullOrUndefined(values)) {\n            for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var localDateString = this.globalize.formatDate(dates, {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                if (localDateString === tempDateString) {\n                    previousValue = true;\n                }\n            }\n        }\n        return previousValue;\n    };\n    CalendarBase.prototype.setAriaActiveDescendant = function () {\n        attributes(this.table, {\n            'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n    };\n    CalendarBase.prototype.previousIconHandler = function (disabled) {\n        if (disabled) {\n            EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n            addClass([this.previousIcon], '' + DISABLED);\n            addClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n            removeClass([this.previousIcon], '' + DISABLED);\n            removeClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.renderDayCellEvent = function (args) {\n        extend(this.renderDayCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    };\n    CalendarBase.prototype.navigatedEvent = function (eve) {\n        extend(this.navigatedArgs, { name: 'navigated', event: eve });\n        this.trigger('navigated', this.navigatedArgs);\n    };\n    CalendarBase.prototype.triggerNavigate = function (event) {\n        this.navigatedArgs = { view: this.currentView(), date: this.currentDate };\n        this.navigatedEvent(event);\n    };\n    CalendarBase.prototype.nextIconHandler = function (disabled) {\n        if (disabled) {\n            EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n            addClass([this.nextIcon], DISABLED);\n            addClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n            removeClass([this.nextIcon], DISABLED);\n            removeClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n        var start = endDate.getFullYear();\n        var end;\n        var result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (startDate.getFullYear() > end) {\n            result = 1;\n        }\n        else if (startDate.getFullYear() < start) {\n            result = -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.isMinMaxRange = function (date) {\n        return +date >= +this.min && +date <= +this.max;\n    };\n    CalendarBase.prototype.isMonthYearRange = function (date) {\n        if (this.calendarMode === 'Gregorian') {\n            return date.getMonth() >= this.min.getMonth()\n                && date.getFullYear() >= this.min.getFullYear()\n                && date.getMonth() <= this.max.getMonth()\n                && date.getFullYear() <= this.max.getFullYear();\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            return islamicDate.month >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).month\n                && islamicDate.year >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).year\n                && islamicDate.month <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).month\n                && islamicDate.year <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).year;\n        }\n    };\n    CalendarBase.prototype.compareYear = function (start, end) {\n        return this.compare(start, end, 0);\n    };\n    CalendarBase.prototype.compareDecade = function (start, end) {\n        return this.compare(start, end, 10);\n    };\n    CalendarBase.prototype.shiftArray = function (array, i) {\n        return array.slice(i).concat(array.slice(0, i));\n    };\n    CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n        var column = i;\n        var value = new Date(+date);\n        if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n            while (this.findNextTD(new Date(+date), column, max, min)) {\n                column += i;\n            }\n            var rangeValue = new Date(value.setDate(value.getDate() + column));\n            column = (+rangeValue > +max || +rangeValue < +min) ? column === i ? i - i : i : column;\n        }\n        date.setDate(date.getDate() + column);\n    };\n    CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n        var value = new Date(date.setDate(date.getDate() + column));\n        var collection = [];\n        var isDisabled = false;\n        if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n            var tdEles = void 0;\n            if (this.calendarMode === 'Gregorian') {\n                tdEles = this.renderDays(value);\n            }\n            else {\n                tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n            }\n            collection = tdEles.filter(function (element) {\n                return element.classList.contains(DISABLED);\n            });\n        }\n        else {\n            collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n        }\n        if (+value <= (+(max)) && +value >= (+(min))) {\n            if (collection.length) {\n                for (var i = 0; i < collection.length; i++) {\n                    // eslint-disable-next-line radix\n                    isDisabled = (+value === +new Date(parseInt(collection[i].id, 0))) ? true : false;\n                    if (isDisabled) {\n                        break;\n                    }\n                }\n            }\n        }\n        return isDisabled;\n    };\n    CalendarBase.prototype.getMaxDays = function (d) {\n        var date;\n        var tmpDate = new Date(this.checkValue(d));\n        date = 28;\n        var month = tmpDate.getMonth();\n        while (tmpDate.getMonth() === month) {\n            ++date;\n            tmpDate.setDate(date);\n        }\n        return date - 1;\n    };\n    CalendarBase.prototype.setDateDecade = function (date, year) {\n        date.setFullYear(year);\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.setDateYear = function (date, value) {\n        date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n        if (value.getMonth() !== date.getMonth()) {\n            date.setDate(0);\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.compareMonth = function (start, end) {\n        var result;\n        if (start.getFullYear() > end.getFullYear()) {\n            result = 1;\n        }\n        else if (start.getFullYear() < end.getFullYear()) {\n            result = -1;\n        }\n        else {\n            result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.checkValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    CalendarBase.prototype.checkView = function () {\n        if (this.start !== 'Decade' && this.start !== 'Year') {\n            this.setProperties({ start: 'Month' }, true);\n        }\n        if (this.depth !== 'Decade' && this.depth !== 'Year') {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n        if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n    };\n    CalendarBase.prototype.getDate = function (date, timezone) {\n        if (timezone) {\n            date = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n        }\n        return date;\n    };\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], CalendarBase.prototype, \"min\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], CalendarBase.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], CalendarBase.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"depth\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property('FirstDay')\n    ], CalendarBase.prototype, \"weekRule\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Short')\n    ], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"navigated\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"renderDayCell\", void 0);\n    CalendarBase = __decorate([\n        NotifyPropertyChanges\n    ], CalendarBase);\n    return CalendarBase;\n}(Component));\nexport { CalendarBase };\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarModel} options - Specifies the Calendar model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Calendar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.render = function () {\n        if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n            throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n        }\n        if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var tempValues = [];\n            var copyValues = [];\n            for (var limit = 0; limit < this.values.length; limit++) {\n                if (tempValues.indexOf(+this.values[limit]) === -1) {\n                    tempValues.push(+this.values[limit]);\n                    copyValues.push(this.values[limit]);\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            for (var index = 0; index < this.values.length; index++) {\n                if (!this.checkDateValue(this.values[index])) {\n                    if (typeof (this.values[index]) === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n                        var copyDate = new Date(this.checkValue(this.values[index]));\n                        this.values.splice(index, 1);\n                        this.values.splice(index, 0, copyDate);\n                    }\n                    else {\n                        this.values.splice(index, 1);\n                    }\n                }\n            }\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            this.previousValues = this.values.length;\n        }\n        this.validateDate();\n        this.minMaxUpdate();\n        if (this.getModuleName() === 'calendar') {\n            this.setEnable(this.enabled);\n            this.setClass(this.cssClass);\n        }\n        _super.prototype.render.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n            }\n            this.setTimeZone(this.serverTimezoneOffset);\n        }\n        this.renderComplete();\n    };\n    Calendar.prototype.setEnable = function (enable) {\n        if (!enable) {\n            addClass([this.element], DISABLED);\n        }\n        else {\n            removeClass([this.element], DISABLED);\n        }\n    };\n    Calendar.prototype.setClass = function (newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n            removeClass([this.element], oldCssClass.split(' '));\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            addClass([this.element], newCssClass.split(' '));\n        }\n    };\n    Calendar.prototype.isDayLightSaving = function () {\n        var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    };\n    Calendar.prototype.setTimeZone = function (offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            var serverTimezoneDiff = offsetValue;\n            var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date(this.value.getTime() + (timeZoneDiff * 60 * 60 * 1000));\n        }\n    };\n    Calendar.prototype.formResetHandler = function () {\n        this.setProperties({ value: null }, true);\n    };\n    Calendar.prototype.validateDate = function () {\n        if (typeof this.value === 'string') {\n            this.setProperties({ value: this.checkDateValue(new Date(this.checkValue(this.value))) }, true); // persist the value property.\n        }\n        _super.prototype.validateDate.call(this, this.value);\n        if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n            this.currentDate = new Date(this.checkValue(this.value));\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    Calendar.prototype.minMaxUpdate = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n                this.setProperties({ value: this.min }, true);\n                this.changedArgs = { value: this.value };\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n                    this.setProperties({ value: this.max }, true);\n                    this.changedArgs = { value: this.value };\n                }\n            }\n        }\n        if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n            if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n                _super.prototype.minMaxUpdate.call(this, this.min);\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n                    _super.prototype.minMaxUpdate.call(this, this.max);\n                }\n            }\n        }\n        else {\n            _super.prototype.minMaxUpdate.call(this, this.value);\n        }\n    };\n    Calendar.prototype.generateTodayVal = function (value) {\n        var tempValue = new Date();\n        if (!isNullOrUndefined(this.timezone)) {\n            tempValue = _super.prototype.getDate.call(this, tempValue, this.timezone);\n        }\n        if (value && isNullOrUndefined(this.timezone)) {\n            tempValue.setHours(value.getHours());\n            tempValue.setMinutes(value.getMinutes());\n            tempValue.setSeconds(value.getSeconds());\n            tempValue.setMilliseconds(value.getMilliseconds());\n        }\n        else {\n            tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n        }\n        return tempValue;\n    };\n    Calendar.prototype.todayButtonClick = function (e) {\n        if (this.showTodayButton) {\n            var tempValue = this.generateTodayVal(this.value);\n            this.setProperties({ value: tempValue }, true);\n            this.isTodayClicked = true;\n            this.todayButtonEvent = e;\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n                    copyValues.push(tempValue);\n                    this.setProperties({ values: copyValues });\n                }\n            }\n            _super.prototype.todayButtonClick.call(this, e, new Date(+this.value));\n        }\n    };\n    Calendar.prototype.keyActionHandle = function (e) {\n        _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.preRender = function () {\n        var _this = this;\n        this.changeHandler = function (e) {\n            _this.triggerChange(e);\n        };\n        this.checkView();\n        _super.prototype.preRender.call(this, this.value);\n    };\n    /**\n     * @returns {void}\n\n     */\n    Calendar.prototype.createContent = function () {\n        this.previousDate = this.value;\n        this.previousDateTime = this.value;\n        _super.prototype.createContent.call(this);\n    };\n    Calendar.prototype.minMaxDate = function (localDate) {\n        return _super.prototype.minMaxDate.call(this, localDate);\n    };\n    Calendar.prototype.renderMonths = function (e, value, isCustomDate) {\n        _super.prototype.renderMonths.call(this, e, this.value, isCustomDate);\n    };\n    Calendar.prototype.renderDays = function (currentDate, value, isMultiSelect, values, isCustomDate) {\n        var tempDays = _super.prototype.renderDays.call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate);\n        if (this.isMultiSelection) {\n            _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n        }\n        return tempDays;\n    };\n    Calendar.prototype.renderYears = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderYears.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderYears(e, this.value);\n        }\n    };\n    Calendar.prototype.renderDecades = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderDecades.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderDecade(e, this.value);\n        }\n    };\n    Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler();\n    };\n    Calendar.prototype.clickHandler = function (e) {\n        var eve = e.currentTarget;\n        this.isPopupClicked = true;\n        if (eve.classList.contains(OTHERMONTH)) {\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                copyValues.push(this.getIdValue(e, null));\n                this.setProperties({ values: copyValues }, true);\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            else {\n                this.setProperties({ value: this.getIdValue(e, null) }, true);\n            }\n        }\n        var storeView = this.currentView();\n        _super.prototype.clickHandler.call(this, e, this.value);\n        if (this.isMultiSelection && this.currentDate !== this.value &&\n            !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n            this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n    };\n    Calendar.prototype.switchView = function (view, e, isMultiSelection, isCustomDate) {\n        _super.prototype.switchView.call(this, view, e, this.isMultiSelection, isCustomDate);\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Return the component name.\n     * @private\n     */\n    Calendar.prototype.getModuleName = function () {\n        _super.prototype.getModuleName.call(this);\n        return 'calendar';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    Calendar.prototype.getPersistData = function () {\n        _super.prototype.getPersistData.call(this);\n        var keyEntity = ['value', 'values'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        this.effect = '';\n        this.rangeValidation(this.min, this.max);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: new Date(this.checkValue(newProp.value)) }, true);\n                        }\n                        else {\n                            newProp.value = new Date(this.checkValue(newProp.value));\n                        }\n                        if (isNaN(+this.value)) {\n                            this.setProperties({ value: oldProp.value }, true);\n                        }\n                        this.update();\n                    }\n                    break;\n                case 'values':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n                            this.setProperties({ values: null }, true);\n                        }\n                        else {\n                            var copyValues = this.copyValues(this.values);\n                            for (var index = 0; index < copyValues.length; index++) {\n                                var tempDate = copyValues[index];\n                                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                                    copyValues.push(tempDate);\n                                }\n                            }\n                            this.setProperties({ values: copyValues }, true);\n                            if (this.values.length > 0) {\n                                this.setProperties({ value: newProp.values[newProp.values.length - 1] }, true);\n                            }\n                        }\n                        this.validateValues(this.isMultiSelection, this.values);\n                        this.update();\n                    }\n                    break;\n                case 'isMultiSelection':\n                    if (this.isDateSelected) {\n                        this.setProperties({ isMultiSelection: newProp.isMultiSelection }, true);\n                        this.update();\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnable(this.enabled);\n                    break;\n                case 'cssClass':\n                    if (this.getModuleName() === 'calendar') {\n                        this.setClass(newProp.cssClass, oldProp.cssClass);\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n            }\n        }\n        this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Calendar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n            }\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n\n     */\n    Calendar.prototype.navigateTo = function (view, date, isCustomDate) {\n        this.minMaxUpdate();\n        _super.prototype.navigateTo.call(this, view, date, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n\n     */\n    Calendar.prototype.currentView = function () {\n        return _super.prototype.currentView.call(this);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * This method is used to add the single or multiple dates to the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n     * @returns {void}\n\n     */\n    Calendar.prototype.addDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number') {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && (dates).length > 0) {\n                var tempDates = dates;\n                for (var i = 0; i < tempDates.length; i++) {\n                    if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n                        if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                            copyValues.push(tempDates[i]);\n                        }\n                        else {\n                            copyValues = [new Date(+tempDates[i])];\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n                    if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                        copyValues.push((dates));\n                    }\n                    else {\n                        copyValues = [new Date(+dates)];\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.validateValues(this.isMultiSelection, copyValues);\n            this.update();\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * This method is used to remove the single or multiple dates from the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n     * @returns {void}\n\n     */\n    Calendar.prototype.removeDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && ((dates).length > 0)) {\n                var tempDates = dates;\n                for (var index = 0; index < tempDates.length; index++) {\n                    for (var i = 0; i < copyValues.length; i++) {\n                        if (+copyValues[i] === +tempDates[index]) {\n                            copyValues.splice(i, 1);\n                        }\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < copyValues.length; i++) {\n                    if (+copyValues[i] === +dates) {\n                        copyValues.splice(i, 1);\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, false);\n            this.update();\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * To set custom today date in calendar\n     *\n     * @param {Date} date - Specifies date value to be set.\n     * @private\n     * @returns {void}\n     */\n    Calendar.prototype.setTodayDate = function (date) {\n        var todayDate = new Date(+date);\n        this.setProperties({ value: todayDate }, true);\n        _super.prototype.todayButtonClick.call(this, null, todayDate, true);\n    };\n    Calendar.prototype.update = function () {\n        this.validateDate();\n        this.minMaxUpdate();\n        _super.prototype.setValueUpdate.call(this);\n    };\n    Calendar.prototype.selectDate = function (e, date, element) {\n        _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n        if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler(e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Calendar.prototype.changeEvent = function (e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf())\n            || this.isMultiSelection) {\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = new Date(+this.value);\n        }\n    };\n    Calendar.prototype.triggerChange = function (e) {\n        if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n            e = this.todayButtonEvent;\n            this.isTodayClicked = false;\n        }\n        this.changedArgs.event = e || null;\n        this.changedArgs.isInteracted = !isNullOrUndefined(e);\n        if (!isNullOrUndefined(this.value)) {\n            this.setProperties({ value: this.value }, true);\n        }\n        if (!this.isMultiSelection && +this.value !== Number.NaN && (+this.value !== +this.previousDate || this.previousDate == null\n            && !isNaN(+this.value))) {\n            this.changeEvent(e);\n        }\n        else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n            this.changeEvent(e);\n            this.previousValues = this.values.length;\n        }\n    };\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"values\", void 0);\n    __decorate([\n        Property(false)\n    ], Calendar.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Event()\n    ], Calendar.prototype, \"change\", void 0);\n    Calendar = __decorate([\n        NotifyPropertyChanges\n    ], Calendar);\n    return Calendar;\n}(CalendarBase));\nexport { Calendar };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\nimport { EventHandler, Property, Internationalization, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Animation, Event, extend, L10n, Browser, formatUnit } from '@syncfusion/ej2-base';\nimport { detach, addClass, removeClass, closest, attributes } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, setValue, getUniqueID } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { Calendar } from '../calendar/calendar';\n//class constant defination\nvar DATEWRAPPER = 'e-date-wrapper';\nvar ROOT = 'e-datepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar POPUPWRAPPER = 'e-popup-wrapper';\nvar INPUTWRAPPER = 'e-input-group-icon';\nvar POPUP = 'e-popup';\nvar INPUTCONTAINER = 'e-input-group';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTROOT = 'e-input';\nvar ERROR = 'e-error';\nvar ACTIVE = 'e-active';\nvar OVERFLOW = 'e-date-overflow';\nvar DATEICON = 'e-date-icon';\nvar CLEARICON = 'e-clear-icon';\nvar ICONS = 'e-icons';\nvar OPENDURATION = 300;\nvar OFFSETVALUE = 4;\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar NONEDIT = 'e-non-edit';\nvar containerAttr = ['title', 'class', 'style'];\n/**\n * Represents the DatePicker component that allows user to select\n * or enter a date value.\n * ```html\n * <input id='datepicker'/>\n * ```\n * ```typescript\n * <script>\n *   let datePickerObject:DatePicker = new DatePicker({ value: new Date() });\n *   datePickerObject.appendTo('#datepicker');\n * </script>\n * ```\n */\nvar DatePicker = /** @class */ (function (_super) {\n    __extends(DatePicker, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @param {DatePickerModel} options - Specifies the DatePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DatePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.previousElementValue = '';\n        _this.isDateIconClicked = false;\n        _this.isAltKeyPressed = false;\n        _this.isInteracted = true;\n        _this.invalidValueString = null;\n        _this.checkPreviousValue = null;\n        _this.maskedDateValue = '';\n        _this.isAngular = false;\n        _this.preventChange = false;\n        _this.isIconClicked = false;\n        _this.isDynamicValueChanged = false;\n        _this.moduleName = _this.getModuleName();\n        _this.datepickerOptions = options;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    DatePicker.prototype.render = function () {\n        this.initialize();\n        this.bindEvents();\n        this.renderComplete();\n        this.setTimeZone(this.serverTimezoneOffset);\n    };\n    DatePicker.prototype.setTimeZone = function (offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            var serverTimezoneDiff = offsetValue;\n            var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date((this.value).getTime() + (timeZoneDiff * 60 * 60 * 1000));\n            this.updateInput();\n        }\n    };\n    DatePicker.prototype.isDayLightSaving = function () {\n        var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    };\n    DatePicker.prototype.setAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateIconState();\n    };\n    DatePicker.prototype.updateIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDIT]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDIT]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDIT]);\n        }\n    };\n    DatePicker.prototype.initialize = function () {\n        this.checkInvalidValue(this.value);\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n        this.createInput();\n        this.updateHtmlAttributeToWrapper();\n        this.setAllowEdit();\n        this.updateInput();\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            this.updateInputValue(this.maskedDateValue);\n        }\n        this.previousElementValue = this.inputElement.value;\n        this.previousDate = !isNullOrUndefined(this.value) ? new Date(+this.value) : null;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.inputValueCopy = this.value;\n    };\n    DatePicker.prototype.createInput = function () {\n        var ariaAttrs = {\n            'aria-live': 'assertive', 'aria-atomic': 'true',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-invalid': 'false'\n        };\n        if (this.getModuleName() === 'datepicker') {\n            var l10nLocale = { placeholder: this.placeholder };\n            this.globalize = new Internationalization(this.locale);\n            this.l10n = new L10n('datepicker', l10nLocale, this.locale);\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        var updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        var isBindClearAction = this.enableMask ? false : true;\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            bindClearAction: isBindClearAction,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [INPUTWRAPPER + ' ' + DATEICON + ' ' + ICONS]\n        }, this.createElement);\n        this.setWidth(this.width);\n        if (this.inputElement.name !== '') {\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute('name'));\n        }\n        else {\n            this.inputElement.setAttribute('name', '' + this.element.id);\n        }\n        attributes(this.inputElement, ariaAttrs);\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        addClass([this.inputWrapper.container], DATEWRAPPER);\n    };\n    DatePicker.prototype.updateInput = function (isDynamic) {\n        if (isDynamic === void 0) { isDynamic = false; }\n        var formatOptions;\n        if (this.value && !this.isCalendar() && !isDynamic) {\n            this.disabledDates();\n        }\n        if (isNaN(+new Date(this.checkValue(this.value)))) {\n            this.setProperties({ value: null }, true);\n        }\n        if (this.strictMode) {\n            //calls the Calendar processDate protected method to update the date value according to the strictMode true behaviour.\n            _super.prototype.validateDate.call(this);\n            this.minMaxUpdates();\n            _super.prototype.minMaxUpdate.call(this);\n        }\n        if (!isNullOrUndefined(this.value)) {\n            var dateValue = this.value;\n            var dateString = void 0;\n            var tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: 'yMd'\n                    });\n                }\n                else {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                    });\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                dateString = this.globalize.formatDate(this.value, formatOptions);\n            }\n            if ((+dateValue <= +this.max) && (+dateValue >= +this.min)) {\n                this.updateInputValue(dateString);\n            }\n            else {\n                var value = (+dateValue >= +this.max || !+this.value) || (!+this.value || +dateValue <= +this.min);\n                if (!this.strictMode && value) {\n                    this.updateInputValue(dateString);\n                }\n            }\n        }\n        if (isNullOrUndefined(this.value) && this.strictMode) {\n            if (!this.enableMask) {\n                this.updateInputValue('');\n            }\n            else {\n                this.updateInputValue(this.maskedDateValue);\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.changedArgs = { value: this.value };\n        this.errorClass();\n        this.updateIconState();\n    };\n    DatePicker.prototype.minMaxUpdates = function () {\n        if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max && this.strictMode) {\n            this.setProperties({ value: this.min }, true);\n            this.changedArgs = { value: this.value };\n        }\n        else {\n            if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max && this.strictMode) {\n                this.setProperties({ value: this.max }, true);\n                this.changedArgs = { value: this.value };\n            }\n        }\n    };\n    DatePicker.prototype.checkStringValue = function (val) {\n        var returnDate = null;\n        var formatOptions = null;\n        var formatDateTime = null;\n        if (this.getModuleName() === 'datetimepicker') {\n            var culture = new Internationalization(this.locale);\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime' };\n            }\n            else {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        returnDate = this.checkDateValue(this.globalize.parseDate(val, formatOptions));\n        if (isNullOrUndefined(returnDate) && (this.getModuleName() === 'datetimepicker')) {\n            returnDate = this.checkDateValue(this.globalize.parseDate(val, formatDateTime));\n        }\n        return returnDate;\n    };\n    DatePicker.prototype.checkInvalidValue = function (value) {\n        if (!(value instanceof Date) && !isNullOrUndefined(value)) {\n            var valueDate = null;\n            var valueString = value;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            var formatOptions = null;\n            var formatDateTime = null;\n            if (this.getModuleName() === 'datetimepicker') {\n                var culture = new Internationalization(this.locale);\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd' };\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime' };\n                }\n                else {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n            }\n            var invalid = false;\n            if (typeof valueString !== 'string') {\n                valueString = null;\n                invalid = true;\n            }\n            else {\n                if (typeof valueString === 'string') {\n                    valueString = valueString.trim();\n                }\n                valueDate = this.checkStringValue(valueString);\n                if (!valueDate) {\n                    var extISOString = null;\n                    var basicISOString = null;\n                    // eslint-disable-next-line\n                    extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    // eslint-disable-next-line\n                    basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                        || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                        invalid = true;\n                    }\n                    else {\n                        valueDate = new Date(valueString);\n                    }\n                }\n            }\n            if (invalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n            }\n            else {\n                this.setProperties({ value: valueDate }, true);\n            }\n        }\n    };\n    DatePicker.prototype.bindInputEvent = function () {\n        if (!isNullOrUndefined(this.formatString) || this.enableMask) {\n            if (this.enableMask || this.formatString.indexOf('y') === -1) {\n                EventHandler.add(this.inputElement, 'input', this.inputHandler, this);\n            }\n            else {\n                EventHandler.remove(this.inputElement, 'input', this.inputHandler);\n            }\n        }\n    };\n    DatePicker.prototype.bindEvents = function () {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler, this);\n        EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        if (this.enableMask) {\n            EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n        }\n        this.bindInputEvent();\n        // To prevent the twice triggering.\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.resetFormHandler, this);\n        }\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardModules = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyActionHandle.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    };\n    DatePicker.prototype.keydownHandler = function (e) {\n        switch (e.code) {\n            case 'ArrowLeft':\n            case 'ArrowRight':\n            case 'ArrowUp':\n            case 'ArrowDown':\n            case 'Home':\n            case 'End':\n            case 'Delete':\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    if (e.code !== 'Delete') {\n                        e.preventDefault();\n                    }\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    DatePicker.prototype.unBindEvents = function () {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler);\n        EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        if (this.enableMask) {\n            EventHandler.remove(this.inputElement, 'keydown', this.keydownHandler);\n        }\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n        }\n    };\n    DatePicker.prototype.resetFormHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.inputElement.disabled) {\n            var value = this.inputElement.getAttribute('value');\n            if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n                value = '';\n                this.inputValueCopy = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            this.setProperties({ value: this.inputValueCopy }, true);\n            this.restoreValue();\n            if (this.inputElement) {\n                this.updateInputValue(value);\n                this.errorClass();\n            }\n        }\n    };\n    DatePicker.prototype.restoreValue = function () {\n        this.currentDate = this.value ? this.value : new Date();\n        this.previousDate = this.value;\n        this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.globalize.formatDate(this.inputValueCopy, {\n                format: this.formatString, type: 'dateTime', skeleton: 'yMd'\n            });\n    };\n    DatePicker.prototype.inputChangeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n    };\n    DatePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    DatePicker.prototype.resetHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.preventDefault();\n        this.clear(e);\n    };\n    DatePicker.prototype.mouseUpHandler = function (e) {\n        if (this.enableMask) {\n            e.preventDefault();\n            this.notify(\"setMaskSelection\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    };\n    DatePicker.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        if (!this.enableMask) {\n            this.updateInputValue('');\n        }\n        var clearedArgs = {\n            event: event\n        };\n        this.trigger('cleared', clearedArgs);\n        this.invalidValueString = '';\n        this.updateInput();\n        this.popupUpdate();\n        this.changeEvent(event);\n        if (this.enableMask) {\n            this.notify(\"clearHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    };\n    DatePicker.prototype.preventEventBubbling = function (e) {\n        e.preventDefault();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.interopAdaptor.invokeMethodAsync('OnDateIconClick');\n    };\n    DatePicker.prototype.updateInputValue = function (value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DatePicker.prototype.dateIconHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.isIconClicked = true;\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n            this.inputElement.blur();\n        }\n        e.preventDefault();\n        if (!this.readonly) {\n            if (this.isCalendar()) {\n                this.hide(e);\n            }\n            else {\n                this.isDateIconClicked = true;\n                this.show(null, e);\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.inputElement.focus();\n                }\n                this.inputElement.focus();\n                addClass([this.inputWrapper.container], [INPUTFOCUS]);\n                addClass(this.inputWrapper.buttons, ACTIVE);\n            }\n        }\n        this.isIconClicked = false;\n    };\n    DatePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!isNullOrUndefined(this.htmlAttributes[key])) {\n                    if (containerAttr.indexOf(key) > -1) {\n                        if (key === 'class') {\n                            var updatedClassValues = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                            if (updatedClassValues !== '') {\n                                addClass([this.inputWrapper.container], updatedClassValues.split(' '));\n                            }\n                        }\n                        else if (key === 'style') {\n                            var setStyle = this.inputWrapper.container.getAttribute(key);\n                            if (!isNullOrUndefined(setStyle)) {\n                                if (setStyle.charAt(setStyle.length - 1) === ';') {\n                                    setStyle = setStyle + this.htmlAttributes[key];\n                                }\n                                else {\n                                    setStyle = setStyle + ';' + this.htmlAttributes[key];\n                                }\n                            }\n                            else {\n                                setStyle = this.htmlAttributes[key];\n                            }\n                            this.inputWrapper.container.setAttribute(key, setStyle);\n                        }\n                        else {\n                            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DatePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    DatePicker.prototype.updateCssClass = function (newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newCssClass, [this.inputWrapper.container], oldCssClass);\n        if (this.popupWrapper) {\n            Input.setCssClass(newCssClass, [this.popupWrapper], oldCssClass);\n        }\n    };\n    DatePicker.prototype.calendarKeyActionHandle = function (e) {\n        switch (e.action) {\n            case 'escape':\n                if (this.isCalendar()) {\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[this.index].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isCalendar()) {\n                    this.show(null, e);\n                }\n                else {\n                    if (+this.value !== +this.currentDate && !this.isCalendar()) {\n                        this.inputWrapper.container.children[this.index].focus();\n                    }\n                }\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.inputElement.focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n        }\n    };\n    DatePicker.prototype.inputFocusHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.enableMask && !this.inputElement.value && this.placeholder) {\n            if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue(this.maskedDateValue);\n                this.inputElement.selectionStart = 0;\n                this.inputElement.selectionEnd = this.inputElement.value.length;\n            }\n        }\n        var focusArguments = {\n            model: this\n        };\n        this.isDateIconClicked = false;\n        this.trigger('focus', focusArguments);\n        this.updateIconState();\n        if (this.openOnFocus && !this.isIconClicked) {\n            this.show();\n        }\n    };\n    DatePicker.prototype.inputHandler = function () {\n        this.isPopupClicked = false;\n        if (this.enableMask) {\n            this.notify(\"inputHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    };\n    DatePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.strictModeUpdate();\n        if (this.inputElement.value === '' && isNullOrUndefined(this.value)) {\n            this.invalidValueString = null;\n            this.updateInputValue('');\n        }\n        this.updateInput();\n        this.popupUpdate();\n        this.changeTrigger(e);\n        if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n            if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue('');\n            }\n        }\n        this.errorClass();\n        if (this.isCalendar() && document.activeElement === this.inputElement) {\n            this.hide(e);\n        }\n        if (this.getModuleName() === 'datepicker') {\n            var blurArguments = {\n                model: this\n            };\n            this.trigger('blur', blurArguments);\n        }\n        if (this.isCalendar()) {\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n                eventName: 'keydown',\n                keyAction: this.calendarKeyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        this.isPopupClicked = false;\n    };\n    DatePicker.prototype.documentHandler = function (e) {\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(e.target) ||\n            (this.popupObj.element && this.popupObj.element.contains(e.target)))) && e.type !== 'touchstart') {\n            e.preventDefault();\n        }\n        var target = e.target;\n        if (!(closest(target, '.e-datepicker.e-popup-wrapper'))\n            && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container)\n            && (!target.classList.contains('e-day'))) {\n            this.hide(e);\n            this.focusOut();\n        }\n        else if (closest(target, '.e-datepicker.e-popup-wrapper')) {\n            // Fix for close the popup when select the previously selected value.\n            if (target.classList.contains('e-day')\n                && !isNullOrUndefined(e.target.parentElement)\n                && e.target.parentElement.classList.contains('e-selected')\n                && closest(target, '.e-content')\n                && closest(target, '.e-content').classList.contains('e-' + this.depth.toLowerCase())) {\n                this.hide(e);\n            }\n            else if (closest(target, '.e-footer-container')\n                && target.classList.contains('e-today')\n                && target.classList.contains('e-btn')\n                && (+new Date(+this.value) === +_super.prototype.generateTodayVal.call(this, this.value))) {\n                this.hide(e);\n            }\n        }\n    };\n    DatePicker.prototype.inputKeyActionHandle = function (e) {\n        var clickedView = this.currentView();\n        switch (e.action) {\n            case 'altUpArrow':\n                this.isAltKeyPressed = false;\n                this.hide(e);\n                this.inputElement.focus();\n                break;\n            case 'altDownArrow':\n                this.isAltKeyPressed = true;\n                this.strictModeUpdate();\n                this.updateInput();\n                this.changeTrigger(e);\n                if (this.getModuleName() === 'datepicker') {\n                    this.show(null, e);\n                }\n                break;\n            case 'escape':\n                this.hide(e);\n                break;\n            case 'enter':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.popupUpdate();\n                this.changeTrigger(e);\n                this.errorClass();\n                if (!this.isCalendar() && document.activeElement === this.inputElement) {\n                    this.hide(e);\n                }\n                if (this.isCalendar()) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 'tab':\n            case 'shiftTab':\n                var start = this.inputElement.selectionStart;\n                var end = this.inputElement.selectionEnd;\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    var length_1 = this.inputElement.value.length;\n                    if ((start == 0 && end == length_1) || (end !== length_1 && e.action == 'tab') || (start !== 0 && e.action == 'shiftTab')) {\n                        e.preventDefault();\n                    }\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                    start = this.inputElement.selectionStart;\n                    end = this.inputElement.selectionEnd;\n                }\n                this.strictModeUpdate();\n                this.updateInput();\n                this.popupUpdate();\n                this.changeTrigger(e);\n                this.errorClass();\n                if (this.enableMask) {\n                    this.inputElement.selectionStart = start;\n                    this.inputElement.selectionEnd = end;\n                }\n                this.hide(e);\n                break;\n            default:\n                this.defaultAction(e);\n                // Fix for close the popup when select the previously selected value.\n                if (e.action === 'select' && clickedView === this.depth) {\n                    this.hide(e);\n                }\n        }\n    };\n    DatePicker.prototype.defaultAction = function (e) {\n        this.previousDate = ((!isNullOrUndefined(this.value) && new Date(+this.value)) || null);\n        if (this.isCalendar()) {\n            _super.prototype.keyActionHandle.call(this, e);\n            if (this.isCalendar()) {\n                attributes(this.inputElement, {\n                    'aria-activedescendant': '' + this.setActiveDescendant()\n                });\n            }\n        }\n    };\n    DatePicker.prototype.popupUpdate = function () {\n        if ((isNullOrUndefined(this.value)) && (!isNullOrUndefined(this.previousDate)) ||\n            (+this.value !== +this.previousDate)) {\n            if (this.popupObj) {\n                if (this.popupObj.element.querySelectorAll('.' + SELECTED).length > 0) {\n                    removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED), [SELECTED]);\n                }\n            }\n            if (!isNullOrUndefined(this.value)) {\n                if ((+this.value >= +this.min) && (+this.value <= +this.max)) {\n                    var targetdate = new Date(this.checkValue(this.value));\n                    _super.prototype.navigateTo.call(this, 'Month', targetdate);\n                }\n            }\n        }\n    };\n    DatePicker.prototype.strictModeUpdate = function () {\n        var format;\n        var formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            format = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            format = isNullOrUndefined(this.formatString) ? this.formatString : this.formatString.replace('dd', 'd');\n        }\n        if (!isNullOrUndefined(format)) {\n            var len = format.split('M').length - 1;\n            if (len < 3) {\n                format = format.replace('MM', 'M');\n            }\n        }\n        var dateOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                };\n            }\n            else {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: format, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: format, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            dateOptions = formatOptions;\n        }\n        var date;\n        if (typeof this.inputElement.value === 'string') {\n            this.inputElement.value = this.inputElement.value.trim();\n        }\n        if ((this.getModuleName() === 'datetimepicker')) {\n            if (this.checkDateValue(this.globalize.parseDate(this.inputElement.value, dateOptions))) {\n                date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.parseDate(this.inputElement.value, formatOptions);\n            }\n        }\n        else {\n            date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n            date = (!isNullOrUndefined(date) && isNaN(+date)) ? null : date;\n            if (!isNullOrUndefined(this.formatString) && this.inputElement.value !== '' && this.strictMode) {\n                if ((this.isPopupClicked || (!this.isPopupClicked && this.inputElement.value === this.previousElementValue))\n                    && this.formatString.indexOf('y') === -1) {\n                    date.setFullYear(this.value.getFullYear());\n                }\n            }\n        }\n        // EJ2-35061 - To prevent change event from triggering twice when using strictmode and format property\n        if ((this.getModuleName() === 'datepicker') && (this.value && !isNaN(+this.value)) && date) {\n            date.setHours(this.value.getHours(), this.value.getMinutes(), this.value.getSeconds(), this.value.getMilliseconds());\n        }\n        if (this.strictMode && date) {\n            this.updateInputValue(this.globalize.formatDate(date, dateOptions));\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        else if (!this.strictMode) {\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        if (this.strictMode && !date && this.inputElement.value === '') {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNullOrUndefined(this.value)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n    };\n    DatePicker.prototype.createCalendar = function () {\n        var _this = this;\n        this.popupWrapper = this.createElement('div', { className: '' + ROOT + ' ' + POPUPWRAPPER });\n        if (!isNullOrUndefined(this.cssClass)) {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (Browser.isDevice) {\n            this.modelHeader();\n            this.modal = this.createElement('div');\n            this.modal.className = '' + ROOT + ' e-date-modal';\n            document.body.className += ' ' + OVERFLOW;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n        //this.calendarElement represent the Calendar object from the Calendar class.\n        this.calendarElement.querySelector('table tbody').className = '';\n        this.popupObj = new Popup(this.popupWrapper, {\n            content: this.calendarElement,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            offsetY: OFFSETVALUE,\n            targetType: 'container',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            open: function () {\n                if (_this.getModuleName() !== 'datetimepicker') {\n                    if (document.activeElement !== _this.inputElement) {\n                        _this.defaultKeyConfigs = extend(_this.defaultKeyConfigs, _this.keyConfigs);\n                        _this.calendarElement.children[1].firstElementChild.focus();\n                        _this.calendarKeyboardModules = new KeyboardEvents(_this.calendarElement.children[1].firstElementChild, {\n                            eventName: 'keydown',\n                            keyAction: _this.calendarKeyActionHandle.bind(_this),\n                            keyConfigs: _this.defaultKeyConfigs\n                        });\n                        _this.calendarKeyboardModules = new KeyboardEvents(_this.inputWrapper.container.children[_this.index], {\n                            eventName: 'keydown',\n                            keyAction: _this.calendarKeyActionHandle.bind(_this),\n                            keyConfigs: _this.defaultKeyConfigs\n                        });\n                    }\n                }\n            }, close: function () {\n                if (_this.isDateIconClicked) {\n                    _this.inputWrapper.container.children[_this.index].focus();\n                }\n                if (_this.value) {\n                    _this.disabledDates();\n                }\n                if (_this.popupObj) {\n                    _this.popupObj.destroy();\n                }\n                _this.resetCalendar();\n                detach(_this.popupWrapper);\n                _this.popupObj = _this.popupWrapper = null;\n                _this.preventArgs = null;\n                _this.calendarKeyboardModules = null;\n                _this.setAriaAttributes();\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        this.popupObj.element.className += ' ' + this.cssClass;\n        this.setAriaAttributes();\n    };\n    DatePicker.prototype.setAriaDisabled = function () {\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n    };\n    DatePicker.prototype.modelHeader = function () {\n        var dateOptions;\n        var modelHeader = this.createElement('div', { className: 'e-model-header' });\n        var yearHeading = this.createElement('h1', { className: 'e-model-year' });\n        var h2 = this.createElement('div');\n        var daySpan = this.createElement('span', { className: 'e-model-day' });\n        var monthSpan = this.createElement('span', { className: 'e-model-month' });\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'y', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'y', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        yearHeading.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'E', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'E', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        daySpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions) + ', ';\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        monthSpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        modelHeader.appendChild(yearHeading);\n        h2.appendChild(daySpan);\n        h2.appendChild(monthSpan);\n        modelHeader.appendChild(h2);\n        this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);\n    };\n    DatePicker.prototype.changeTrigger = function (event) {\n        if (this.inputElement.value !== this.previousElementValue) {\n            if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n                if (this.isDynamicValueChanged && this.isCalendar()) {\n                    this.popupUpdate();\n                }\n                this.changedArgs.value = this.value;\n                this.changedArgs.event = event || null;\n                this.changedArgs.element = this.element;\n                this.changedArgs.isInteracted = !isNullOrUndefined(event);\n                if (this.isAngular && this.preventChange) {\n                    this.preventChange = false;\n                }\n                else {\n                    this.trigger('change', this.changedArgs);\n                }\n                this.previousElementValue = this.inputElement.value;\n                this.previousDate = !isNaN(+new Date(this.checkValue(this.value))) ? new Date(this.checkValue(this.value)) : null;\n                this.isInteracted = true;\n            }\n        }\n    };\n    DatePicker.prototype.navigatedEvent = function () {\n        this.trigger('navigated', this.navigatedArgs);\n    };\n    DatePicker.prototype.changeEvent = function (event) {\n        if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n            this.selectCalendar(event);\n            this.changedArgs.event = event ? event : null;\n            this.changedArgs.element = this.element;\n            this.changedArgs.isInteracted = this.isInteracted;\n            if (!this.isDynamicValueChanged) {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = this.value && new Date(+this.value);\n            if (!this.isDynamicValueChanged) {\n                this.hide(event);\n            }\n            this.previousElementValue = this.inputElement.value;\n            this.errorClass();\n        }\n    };\n    DatePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        if (this.enableMask) {\n            modules.push({ args: [this], member: 'MaskedDateTime' });\n        }\n        return modules;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DatePicker.prototype.selectCalendar = function (e) {\n        var date;\n        var tempFormat;\n        var formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            tempFormat = this.formatString;\n        }\n        if (this.value) {\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n            if (this.enableMask) {\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n        if (!isNullOrUndefined(date)) {\n            this.updateInputValue(date);\n            if (this.enableMask) {\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n            }\n        }\n    };\n    DatePicker.prototype.isCalendar = function () {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + POPUPWRAPPER)) {\n            return true;\n        }\n        return false;\n    };\n    DatePicker.prototype.setWidth = function (width) {\n        if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (this.width) : (formatUnit(this.width));\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Shows the Calendar.\n     *\n     * @returns {void}\n\n     */\n    DatePicker.prototype.show = function (type, e) {\n        var _this = this;\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            var prevent_1 = true;\n            var outOfRange = void 0;\n            if (!isNullOrUndefined(this.value) && !(+this.value >= +this.min && +this.value <= +this.max)) {\n                outOfRange = new Date(this.checkValue(this.value));\n                this.setProperties({ 'value': null }, true);\n            }\n            else {\n                outOfRange = this.value || null;\n            }\n            if (!this.isCalendar()) {\n                _super.prototype.render.call(this);\n                this.setProperties({ 'value': outOfRange || null }, true);\n                this.previousDate = outOfRange;\n                this.createCalendar();\n            }\n            if (Browser.isDevice) {\n                this.mobilePopupWrapper = this.createElement('div', { className: 'e-datepick-mob-popup-wrap' });\n                document.body.appendChild(this.mobilePopupWrapper);\n            }\n            this.preventArgs = {\n                preventDefault: function () {\n                    prevent_1 = false;\n                },\n                popup: this.popupObj,\n                event: e || null,\n                cancel: false,\n                appendTo: Browser.isDevice ? this.mobilePopupWrapper : document.body\n            };\n            var eventArgs = this.preventArgs;\n            this.trigger('open', eventArgs, function (eventArgs) {\n                _this.preventArgs = eventArgs;\n                if (prevent_1 && !_this.preventArgs.cancel) {\n                    addClass(_this.inputWrapper.buttons, ACTIVE);\n                    _this.preventArgs.appendTo.appendChild(_this.popupWrapper);\n                    _this.popupObj.refreshPosition(_this.inputElement);\n                    var openAnimation = {\n                        name: 'FadeIn',\n                        duration: Browser.isDevice ? 0 : OPENDURATION\n                    };\n                    if (_this.zIndex === 1000) {\n                        _this.popupObj.show(new Animation(openAnimation), _this.element);\n                    }\n                    else {\n                        _this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    _super.prototype.setOverlayIndex.call(_this, _this.mobilePopupWrapper, _this.popupObj.element, _this.modal, Browser.isDevice);\n                    _this.setAriaAttributes();\n                }\n                else {\n                    _this.popupObj.destroy();\n                    _this.popupWrapper = _this.popupObj = null;\n                }\n                if (!isNullOrUndefined(_this.inputElement) && _this.inputElement.value === '') {\n                    if (!isNullOrUndefined(_this.tableBodyElement) && _this.tableBodyElement.querySelectorAll('td.e-selected').length > 0) {\n                        addClass([_this.tableBodyElement.querySelector('td.e-selected')], FOCUSEDDATE);\n                        removeClass(_this.tableBodyElement.querySelectorAll('td.e-selected'), SELECTED);\n                    }\n                }\n                EventHandler.add(document, 'mousedown touchstart', _this.documentHandler, _this);\n            });\n        }\n    };\n    /**\n     * Hide the Calendar.\n     *\n     * @returns {void}\n\n     */\n    DatePicker.prototype.hide = function (event) {\n        var _this = this;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var prevent_2 = true;\n            this.preventArgs = {\n                preventDefault: function () {\n                    prevent_2 = false;\n                },\n                popup: this.popupObj,\n                event: event || null,\n                cancel: false\n            };\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n            removeClass([document.body], OVERFLOW);\n            var eventArgs = this.preventArgs;\n            if (this.isCalendar()) {\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.closeEventCallback(prevent_2, eventArgs);\n                });\n            }\n            else {\n                this.closeEventCallback(prevent_2, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    DatePicker.prototype.closeEventCallback = function (prevent, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (this.isCalendar() && (prevent && !this.preventArgs.cancel)) {\n            this.popupObj.hide();\n            this.isAltKeyPressed = false;\n            this.keyboardModule.destroy();\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n        }\n        this.setAriaAttributes();\n        if (Browser.isDevice && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n        if (Browser.isDevice) {\n            if (!isNullOrUndefined(this.mobilePopupWrapper)) {\n                this.mobilePopupWrapper.remove();\n                this.mobilePopupWrapper = null;\n            }\n        }\n        EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    };\n    /* eslint-disable jsdoc/require-param */\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DatePicker.prototype.focusIn = function (triggerEvent) {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n    };\n    /* eslint-enable jsdoc/require-param */\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    DatePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n            this.inputElement.blur();\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the DatePicker.\n     *\n     * @returns {string}\n\n     */\n    DatePicker.prototype.currentView = function () {\n        var currentView;\n        if (this.calendarElement) {\n            // calls the Calendar currentView public method\n            currentView = _super.prototype.currentView.call(this);\n        }\n        return currentView;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Navigates to specified month or year or decade view of the DatePicker.\n     *\n     * @param  {string} view - Specifies the view of the calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns {void}\n\n     */\n    DatePicker.prototype.navigateTo = function (view, date) {\n        if (this.calendarElement) {\n            // calls the Calendar navigateTo public method\n            _super.prototype.navigateTo.call(this, view, date);\n        }\n    };\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    DatePicker.prototype.destroy = function () {\n        this.unBindEvents();\n        _super.prototype.destroy.call(this);\n        this.keyboardModules.destroy();\n        if (this.popupObj && this.popupObj.element.classList.contains(POPUP)) {\n            _super.prototype.destroy.call(this);\n        }\n        var ariaAttrs = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-disabled': 'true',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            if (!isNullOrUndefined(this.inputElementCopy.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n            this.ensureInputAttribute();\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObj = this.popupWrapper = null;\n            this.keyboardModule.destroy();\n        }\n        if (this.ngTag === null) {\n            if (this.inputElement) {\n                this.inputWrapper.container.insertAdjacentElement('afterend', this.inputElement);\n                removeClass([this.inputElement], [INPUTROOT]);\n            }\n            removeClass([this.element], [ROOT]);\n            detach(this.inputWrapper.container);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n        }\n    };\n    DatePicker.prototype.ensureInputAttribute = function () {\n        var prop = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            prop[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < prop.length; i++) {\n            if (isNullOrUndefined(this.inputElementCopy.getAttribute(prop[i]))) {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(prop[i]);\n            }\n            else {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.inputElementCopy.getAttribute(prop[i]);\n                }\n                this.inputElement.setAttribute(prop[i], this.inputElementCopy.getAttribute(prop[i]));\n            }\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    DatePicker.prototype.preRender = function () {\n        this.inputElementCopy = this.element.cloneNode(true);\n        removeClass([this.inputElementCopy], [ROOT, CONTROL, LIBRARY]);\n        this.inputElement = this.element;\n        this.formElement = closest(this.inputElement, 'form');\n        this.index = this.showClearButton ? 2 : 1;\n        this.ngTag = null;\n        if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.ngTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        if (this.element.getAttribute('id')) {\n            if (this.ngTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            if (this.getModuleName() === 'datetimepicker') {\n                this.element.id = getUniqueID('ej2-datetimepicker');\n                if (this.ngTag !== null) {\n                    attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                }\n            }\n            else {\n                this.element.id = getUniqueID('ej2-datepicker');\n                if (this.ngTag !== null) {\n                    attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                }\n            }\n        }\n        if (this.ngTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.checkHtmlAttributes(false);\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        _super.prototype.preRender.call(this);\n    };\n    DatePicker.prototype.getDefaultKeyConfig = function () {\n        this.defaultKeyConfigs = {\n            altUpArrow: 'alt+uparrow',\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            shiftTab: 'shift+tab',\n            tab: 'tab'\n        };\n        return this.defaultKeyConfigs;\n    };\n    DatePicker.prototype.validationAttribute = function (target, inputElement) {\n        var nameAttribute = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        inputElement.setAttribute('name', nameAttribute);\n        target.removeAttribute('name');\n        var attribute = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attribute.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attribute[i]))) {\n                continue;\n            }\n            var attr = target.getAttribute(attribute[i]);\n            inputElement.setAttribute(attribute[i], attr);\n            target.removeAttribute(attribute[i]);\n        }\n    };\n    DatePicker.prototype.checkFormat = function () {\n        var culture = new Internationalization(this.locale);\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                var skeletonString = this.format.skeleton;\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'dateTime' });\n                }\n                else {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'date' });\n                }\n            }\n            else {\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = this.dateTimeFormat;\n                }\n                else {\n                    this.formatString = null;\n                }\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    DatePicker.prototype.checkHtmlAttributes = function (dynamic) {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        var attributes = dynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['value', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type'];\n        var options;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                };\n            }\n            else {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['enabled'] === undefined)) || dynamic)) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !dynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['readonly'] === undefined)) || dynamic)) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !dynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['placeholder'] === undefined)) || dynamic)) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !dynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'value':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['value'] === undefined)) || dynamic)) {\n                            var value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !dynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((+this.min === +new Date(1900, 0, 1)) || dynamic) {\n                            var min = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(min), {}), !dynamic);\n                        }\n                        break;\n                    case 'max':\n                        if ((+this.max === +new Date(2099, 11, 31)) || dynamic) {\n                            var max = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(max), {}), !dynamic);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text') {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    DatePicker.prototype.getModuleName = function () {\n        return 'datepicker';\n    };\n    DatePicker.prototype.disabledDates = function () {\n        var formatOptions;\n        var globalize;\n        var valueCopy = this.checkDateValue(this.value) ? new Date(+this.value) : new Date(this.checkValue(this.value));\n        var previousValCopy = this.previousDate;\n        //calls the Calendar render method to check the disabled dates through renderDayCell event and update the input value accordingly.\n        this.minMaxUpdates();\n        _super.prototype.render.call(this);\n        this.previousDate = previousValCopy;\n        var date = valueCopy && +(valueCopy);\n        var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + date);\n        if (!this.strictMode) {\n            if (typeof this.value === 'string' || ((typeof this.value === 'object') && (+this.value) !== (+valueCopy))) {\n                this.setProperties({ value: valueCopy }, true);\n            }\n        }\n        if (!isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0])) {\n            if (this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled')) {\n                if (!this.strictMode) {\n                    this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                }\n            }\n        }\n        var inputVal;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                });\n            }\n            else {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                });\n            }\n            inputVal = globalize;\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            inputVal = this.globalize.formatDate(valueCopy, formatOptions);\n        }\n        if (!this.popupObj) {\n            this.updateInputValue(inputVal);\n            if (this.enableMask) {\n                this.updateInputValue(this.maskedDateValue);\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n    };\n    DatePicker.prototype.setAriaAttributes = function () {\n        if (this.isCalendar()) {\n            Input.addAttributes({ 'aria-expanded': 'true' }, this.inputElement);\n            attributes(this.inputElement, { 'aria-activedescendant': '' + this.setActiveDescendant() });\n        }\n        else {\n            Input.addAttributes({ 'aria-expanded': 'false' }, this.inputElement);\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    };\n    DatePicker.prototype.errorClass = function () {\n        var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + (+this.value));\n        var isDisabledDate = this.calendarElement &&\n            this.calendarElement.querySelectorAll(dateIdString)[0] &&\n            this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled');\n        if ((!isNullOrUndefined(this.value) && !(+new Date(+this.value).setMilliseconds(0) >= +this.min\n            && +new Date(+this.value).setMilliseconds(0) <= +this.max))\n            || (!this.strictMode && this.inputElement.value !== '' && this.inputElement.value !== this.maskedDateValue && isNullOrUndefined(this.value) || isDisabledDate)) {\n            addClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else {\n            removeClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'false' });\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DatePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DatePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    DatePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    this.isDynamicValueChanged = true;\n                    this.isInteracted = false;\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    this.previousElementValue = this.inputElement.value;\n                    if (isNullOrUndefined(this.value)) {\n                        this.updateInputValue('');\n                        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                    }\n                    this.updateInput(true);\n                    if (+this.previousDate !== +this.value) {\n                        this.changeTrigger(null);\n                    }\n                    this.isInteracted = true;\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'format':\n                    this.checkFormat();\n                    this.bindInputEvent();\n                    this.updateInput();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                    }\n                    break;\n                case 'allowEdit':\n                    this.setAllowEdit();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    this.setAriaDisabled();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    this.updateInput();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'start':\n                case 'depth':\n                    this.checkView();\n                    if (this.calendarElement) {\n                        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    this.index = this.showClearButton ? 2 : 1;\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        this.updateInputValue(this.maskedDateValue);\n                        this.bindInputEvent();\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.updateInputValue('');\n                        }\n                    }\n                    break;\n                default:\n                    if (this.calendarElement && this.isCalendar()) {\n                        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    }\n                    break;\n            }\n            if (!this.isDynamicValueChanged) {\n                this.hide(null);\n            }\n            this.isDynamicValueChanged = false;\n        }\n    };\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], DatePicker.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], DatePicker.prototype, \"enabled\", void 0);\n    __decorate([\n        Property({})\n    ], DatePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"values\", void 0);\n    __decorate([\n        Property(false)\n    ], DatePicker.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], DatePicker.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(true)\n    ], DatePicker.prototype, \"allowEdit\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(false)\n    ], DatePicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(1000)\n    ], DatePicker.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DatePicker.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('Never')\n    ], DatePicker.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], DatePicker.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Property(false)\n    ], DatePicker.prototype, \"openOnFocus\", void 0);\n    __decorate([\n        Property(false)\n    ], DatePicker.prototype, \"enableMask\", void 0);\n    __decorate([\n        Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n    ], DatePicker.prototype, \"maskPlaceholder\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"cleared\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DatePicker.prototype, \"destroyed\", void 0);\n    DatePicker = __decorate([\n        NotifyPropertyChanges\n    ], DatePicker);\n    return DatePicker;\n}(Calendar));\nexport { DatePicker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, Property, Internationalization, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, Animation, Browser } from '@syncfusion/ej2-base';\nimport { cldrData, L10n, Component, getDefaultDateObject, rippleEffect, Event } from '@syncfusion/ej2-base';\nimport { remove, addClass, detach, removeClass, closest, append, attributes, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, getValue, extend, getUniqueID, ChildProperty } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { ListBase } from '@syncfusion/ej2-lists';\nvar WRAPPERCLASS = 'e-time-wrapper';\nvar POPUP = 'e-popup';\nvar ERROR = 'e-error';\nvar POPUPDIMENSION = '240px';\nvar DAY = new Date().getDate();\nvar MONTH = new Date().getMonth();\nvar YEAR = new Date().getFullYear();\nvar ROOT = 'e-timepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar CONTENT = 'e-content';\nvar SELECTED = 'e-active';\nvar HOVER = 'e-hover';\nvar NAVIGATION = 'e-navigation';\nvar DISABLED = 'e-disabled';\nvar ICONANIMATION = 'e-icon-anim';\nvar TIMEICON = 'e-time-icon';\nvar CLEARICON = 'e-clear-icon';\nvar FOCUS = 'e-input-focus';\nvar LISTCLASS = 'e-list-item';\nvar HALFPOSITION = 2;\nvar ANIMATIONDURATION = 50;\nvar OVERFLOW = 'e-time-overflow';\nvar OFFSETVAL = 4;\nvar EDITABLE = 'e-non-edit';\nvar wrapperAttributes = ['title', 'class', 'style'];\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var TimePickerBase;\n(function (TimePickerBase) {\n    // eslint-disable-next-line max-len, jsdoc/require-jsdoc\n    function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n        var formatOptions;\n        if (this.calendarMode === 'Gregorian') {\n            formatOptions = { format: timeFormat, type: 'time' };\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            formatOptions = { format: timeFormat, type: 'time', calendar: 'islamic' };\n        }\n        var start;\n        var interval = step * 60000;\n        var listItems = [];\n        var timeCollections = [];\n        start = +(min.setMilliseconds(0));\n        var end = +(max.setMilliseconds(0));\n        while (end >= start) {\n            timeCollections.push(start);\n            listItems.push(globalize.formatDate(new Date(start), { format: timeFormat, type: 'time' }));\n            start += interval;\n        }\n        var listTag = ListBase.createList(createdEl, listItems, null, true);\n        return { collection: timeCollections, list: listTag };\n    }\n    TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\nvar TimeMaskPlaceholder = /** @class */ (function (_super) {\n    __extends(TimeMaskPlaceholder, _super);\n    function TimeMaskPlaceholder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('day')\n    ], TimeMaskPlaceholder.prototype, \"day\", void 0);\n    __decorate([\n        Property('month')\n    ], TimeMaskPlaceholder.prototype, \"month\", void 0);\n    __decorate([\n        Property('year')\n    ], TimeMaskPlaceholder.prototype, \"year\", void 0);\n    __decorate([\n        Property('day of the week')\n    ], TimeMaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n    __decorate([\n        Property('hour')\n    ], TimeMaskPlaceholder.prototype, \"hour\", void 0);\n    __decorate([\n        Property('minute')\n    ], TimeMaskPlaceholder.prototype, \"minute\", void 0);\n    __decorate([\n        Property('second')\n    ], TimeMaskPlaceholder.prototype, \"second\", void 0);\n    return TimeMaskPlaceholder;\n}(ChildProperty));\nexport { TimeMaskPlaceholder };\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\nvar TimePicker = /** @class */ (function (_super) {\n    __extends(TimePicker, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {TimePickerModel} options - Specifies the TimePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function TimePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.liCollections = [];\n        _this.timeCollections = [];\n        _this.disableItemCollection = [];\n        _this.invalidValueString = null;\n        _this.isAngular = false;\n        _this.preventChange = false;\n        _this.maskedDateValue = '';\n        _this.moduleName = _this.getModuleName();\n        _this.timeOptions = options;\n        return _this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    TimePicker.prototype.preRender = function () {\n        this.keyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT, CONTROL, LIBRARY]);\n        this.inputElement = this.element;\n        this.angularTag = null;\n        this.formElement = closest(this.element, 'form');\n        if (this.element.tagName === 'EJS-TIMEPICKER') {\n            this.angularTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        this.openPopupEventArgs = {\n            appendTo: document.body\n        };\n    };\n    // element creation\n    TimePicker.prototype.render = function () {\n        this.initialize();\n        this.createInputElement();\n        this.updateHtmlAttributeToWrapper();\n        this.setTimeAllowEdit();\n        this.setEnable();\n        this.validateInterval();\n        this.bindEvents();\n        this.validateDisable();\n        this.setValue(this.getFormattedValue(this.value));\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            this.updateInputValue(this.maskedDateValue);\n            this.checkErrorState(this.maskedDateValue);\n        }\n        this.anchor = this.inputElement;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.inputEleValue = this.getDateObject(this.inputElement.value);\n        this.renderComplete();\n    };\n    TimePicker.prototype.setTimeAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.clearIconState();\n    };\n    TimePicker.prototype.clearIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [EDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [EDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [EDITABLE]);\n        }\n    };\n    TimePicker.prototype.validateDisable = function () {\n        this.setMinMax(this.initMin, this.initMax);\n        this.popupCreation();\n        this.popupObj.destroy();\n        this.popupWrapper = this.popupObj = null;\n        if ((!isNaN(+this.value) && this.value !== null)) {\n            if (!this.valueIsDisable(this.value)) {\n                //disable value given in value property so reset the date based on current date\n                if (this.strictMode) {\n                    this.resetState();\n                }\n                this.initValue = null;\n                this.initMax = this.getDateObject(this.initMax);\n                this.initMin = this.getDateObject(this.initMin);\n                this.timeCollections = this.liCollections = [];\n                this.setMinMax(this.initMin, this.initMax);\n            }\n        }\n    };\n    TimePicker.prototype.validationAttribute = function (target, input) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        input.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attributes[i]))) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes[i]);\n            input.setAttribute(attributes[i], attr);\n            target.removeAttribute(attributes[i]);\n        }\n    };\n    TimePicker.prototype.initialize = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.defaultCulture = new Internationalization('en');\n        this.checkTimeFormat();\n        this.checkInvalidValue(this.value);\n        // persist the value property.\n        this.setProperties({ value: this.checkDateValue(new Date(this.checkInValue(this.value))) }, true);\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkInValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkInValue(this.max))) }, true);\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo))) }, true);\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.checkAttributes(false); //check the input element attributes\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('timepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.initValue = this.checkDateValue(this.value);\n        this.initMin = this.checkDateValue(this.min);\n        this.initMax = this.checkDateValue(this.max);\n        this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n        this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n        if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            //for angular case\n            this.element.id = getUniqueID('ej2_timepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n    };\n    TimePicker.prototype.checkTimeFormat = function () {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n                var skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: skeletonString });\n            }\n            else {\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: 'short' });\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    TimePicker.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    TimePicker.prototype.createInputElement = function () {\n        var updatedCssClassesValue = this.cssClass;\n        var isBindClearAction = this.enableMask ? false : true;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassesValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            bindClearAction: isBindClearAction,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassesValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [' e-input-group-icon e-time-icon e-icons']\n        }, this.createElement);\n        this.inputWrapper.container.style.width = this.setWidth(this.width);\n        attributes(this.inputElement, {\n            'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'false', 'aria-invalid': 'false'\n        });\n        if (!this.isNullOrEmpty(this.inputStyle)) {\n            Input.addAttributes({ 'style': this.inputStyle }, this.inputElement);\n        }\n        addClass([this.inputWrapper.container], WRAPPERCLASS);\n    };\n    TimePicker.prototype.getCldrDateTimeFormat = function () {\n        var culture = new Internationalization(this.locale);\n        var cldrTime;\n        var dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.cldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.checkInvalidValue = function (value) {\n        var isInvalid = false;\n        if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n            var valueString = value;\n            if (typeof valueString === 'string') {\n                valueString = valueString.trim();\n            }\n            var valueExpression = null;\n            var valueExp = null;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            else if (typeof value === 'string') {\n                if (!(/^[a-zA-Z0-9- ]*$/).test(value)) {\n                    valueExpression = this.setCurrentDate(this.getDateObject(value));\n                    if (isNullOrUndefined(valueExpression)) {\n                        valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                            format: this.getCldrDateTimeFormat(), type: 'datetime'\n                        }));\n                        if (isNullOrUndefined(valueExpression)) {\n                            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                                format: this.formatString, type: 'dateTime', skeleton: 'yMd'\n                            }));\n                        }\n                    }\n                }\n            }\n            valueExp = this.globalize.parseDate(valueString, {\n                format: this.getCldrDateTimeFormat(), type: 'datetime'\n            });\n            valueExpression = (!isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp)) ? valueExp : null;\n            if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n                var extISOString = null;\n                var basicISOString = null;\n                // eslint-disable-next-line\n                extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // eslint-disable-next-line\n                basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                    || ((/^[a-zA-Z0-9- ]*$/).test(value)) || isNaN(+new Date('' + valueString))) {\n                    isInvalid = true;\n                }\n                else {\n                    valueExpression = new Date('' + valueString);\n                }\n            }\n            if (isInvalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n                this.initValue = null;\n            }\n            else {\n                this.setProperties({ value: valueExpression }, true);\n                this.initValue = this.value;\n            }\n        }\n    };\n    TimePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableMask) {\n            modules.push({ args: [this], member: 'MaskedDateTime' });\n        }\n        return modules;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    TimePicker.prototype.cldrFormat = function (type) {\n        var cldrDateTimeString;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTimeString = (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTimeString = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTimeString;\n    };\n    // destroy function\n    TimePicker.prototype.destroy = function () {\n        this.hide();\n        this.unBindEvents();\n        var ariaAttribute = {\n            'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'true', 'aria-invalid': 'false'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n            if (this.angularTag === null) {\n                this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n            }\n            if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            this.ensureInputAttribute();\n            this.enableElement([this.inputElement]);\n            this.inputElement.classList.remove('e-input');\n            if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n                Input.setEnabled(true, this.inputElement, this.floatLabelType);\n            }\n        }\n        if (this.inputWrapper.container) {\n            detach(this.inputWrapper.container);\n        }\n        this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n        this.liCollections = this.timeCollections = this.disableItemCollection = [];\n        if (!isNullOrUndefined(this.rippleFn)) {\n            this.rippleFn();\n        }\n        _super.prototype.destroy.call(this);\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    TimePicker.prototype.ensureInputAttribute = function () {\n        var propertyList = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            propertyList[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < propertyList.length; i++) {\n            if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n                this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n                }\n            }\n            else {\n                this.inputElement.removeAttribute(propertyList[i]);\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n            }\n        }\n    };\n    //popup creation\n    TimePicker.prototype.popupCreation = function () {\n        this.popupWrapper = this.createElement('div', {\n            className: ROOT + ' ' + POPUP,\n            attrs: { 'id': this.element.id + '_popup', 'style': 'visibility:hidden' }\n        });\n        if (!isNullOrUndefined(this.cssClass)) {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.generateList();\n            append([this.listWrapper], this.popupWrapper);\n        }\n        this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n        this.addSelection();\n        this.renderPopup();\n        detach(this.popupWrapper);\n    };\n    TimePicker.prototype.getPopupHeight = function () {\n        var height = parseInt(POPUPDIMENSION, 10);\n        var popupHeight = this.popupWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    };\n    TimePicker.prototype.generateList = function () {\n        this.createListItems();\n        this.wireListEvents();\n        var rippleModel = { duration: 300, selector: '.' + LISTCLASS };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS);\n    };\n    TimePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        this.popupObj = new Popup(this.popupWrapper, {\n            width: this.setPopupWidth(this.width),\n            zIndex: this.zIndex,\n            targetType: 'relative',\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            enableRtl: this.enableRtl,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            offsetY: OFFSETVAL,\n            open: function () {\n                _this.popupWrapper.style.visibility = 'visible';\n                addClass([_this.inputWrapper.buttons[0]], SELECTED);\n            }, close: function () {\n                removeClass([_this.inputWrapper.buttons[0]], SELECTED);\n                _this.unWireListEvents();\n                _this.inputElement.setAttribute('aria-activedescendant', 'null');\n                remove(_this.popupObj.element);\n                _this.popupObj.destroy();\n                _this.popupWrapper.innerHTML = '';\n                _this.listWrapper = _this.popupWrapper = _this.listTag = undefined;\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        if (!Browser.isDevice) {\n            this.popupObj.collision = { X: 'none', Y: 'flip' };\n        }\n        this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n    };\n    //util function\n    TimePicker.prototype.getFormattedValue = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { skeleton: 'medium', type: 'time' });\n        }\n    };\n    TimePicker.prototype.getDateObject = function (text) {\n        if (!this.isNullOrEmpty(text)) {\n            var dateValue = this.createDateObj(text);\n            var value = !this.isNullOrEmpty(this.initValue);\n            if (this.checkDateValue(dateValue)) {\n                var date = value ? this.initValue.getDate() : DAY;\n                var month = value ? this.initValue.getMonth() : MONTH;\n                var year = value ? this.initValue.getFullYear() : YEAR;\n                return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n            }\n        }\n        return null;\n    };\n    TimePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttributes.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassesValue = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassesValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var timeStyle = this.inputWrapper.container.getAttribute(key);\n                        timeStyle = !isNullOrUndefined(timeStyle) ? (timeStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.inputWrapper.container.setAttribute(key, timeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    TimePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttributes.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.updateCssClass = function (cssClassNew, cssClassOld) {\n        if (!isNullOrUndefined(cssClassOld)) {\n            cssClassOld = (cssClassOld.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssClassNew)) {\n            cssClassNew = (cssClassNew.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n        }\n    };\n    TimePicker.prototype.removeErrorClass = function () {\n        removeClass([this.inputWrapper.container], ERROR);\n        attributes(this.inputElement, { 'aria-invalid': 'false' });\n    };\n    TimePicker.prototype.checkErrorState = function (val) {\n        var value = this.getDateObject(val);\n        if ((this.validateState(value) && !this.invalidValueString) || (this.enableMask && this.inputElement.value === this.maskedDateValue)) {\n            this.removeErrorClass();\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n    };\n    TimePicker.prototype.validateInterval = function () {\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.enableElement([this.inputWrapper.buttons[0]]);\n        }\n        else {\n            this.disableTimeIcon();\n        }\n    };\n    TimePicker.prototype.disableTimeIcon = function () {\n        this.disableElement([this.inputWrapper.buttons[0]]);\n        this.hide();\n    };\n    TimePicker.prototype.disableElement = function (element) {\n        addClass(element, DISABLED);\n    };\n    TimePicker.prototype.enableElement = function (element) {\n        removeClass(element, DISABLED);\n    };\n    TimePicker.prototype.selectInputText = function () {\n        this.inputElement.setSelectionRange(0, (this.inputElement).value.length);\n    };\n    TimePicker.prototype.setCursorToEnd = function () {\n        this.inputElement.setSelectionRange((this.inputElement).value.length, (this.inputElement).value.length);\n    };\n    TimePicker.prototype.getMeridianText = function () {\n        var meridian;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            meridian = getValue('dayPeriods.format.wide', getDefaultDateObject());\n        }\n        else {\n            var gregorianFormat = '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\n            var mainVal = 'main.';\n            meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n        }\n        return meridian;\n    };\n    TimePicker.prototype.getCursorSelection = function () {\n        var input = (this.inputElement);\n        var start = 0;\n        var end = 0;\n        if (!isNaN(input.selectionStart)) {\n            start = input.selectionStart;\n            end = input.selectionEnd;\n        }\n        return { start: Math.abs(start), end: Math.abs(end) };\n    };\n    TimePicker.prototype.getActiveElement = function () {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            return this.popupWrapper.querySelectorAll('.' + SELECTED);\n        }\n        else {\n            return null;\n        }\n    };\n    TimePicker.prototype.isNullOrEmpty = function (value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TimePicker.prototype.setWidth = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    TimePicker.prototype.setPopupWidth = function (width) {\n        width = this.setWidth(width);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    TimePicker.prototype.setScrollPosition = function () {\n        var element = this.selectedElement;\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    };\n    TimePicker.prototype.findScrollTop = function (element) {\n        var listHeight = this.getPopupHeight();\n        var nextEle = element.nextElementSibling;\n        var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n        var liHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.popupWrapper.scrollTop = nextEle ? (height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION)) : height;\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.setScrollTo = function () {\n        var element;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n            if (items.length) {\n                var initialTime = this.timeCollections[0];\n                var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n                element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n            }\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.getText = function () {\n        return (isNullOrUndefined(this.checkDateValue(this.value))) ? '' : this.getValue(this.value);\n    };\n    TimePicker.prototype.getValue = function (value) {\n        return (isNullOrUndefined(this.checkDateValue(value))) ? null : this.globalize.formatDate(value, {\n            format: this.cldrTimeFormat(), type: 'time'\n        });\n    };\n    TimePicker.prototype.cldrDateFormat = function () {\n        var cldrDate;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDate = (getValue('dateFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDate = (this.getCultureDateObject(cldrData, '' + this.locale));\n        }\n        return cldrDate;\n    };\n    TimePicker.prototype.cldrTimeFormat = function () {\n        var cldrTime;\n        if (this.isNullOrEmpty(this.formatString)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.dateToNumeric = function () {\n        var cldrTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrTime = (getValue('timeFormats.medium', getDefaultDateObject()));\n        }\n        else {\n            cldrTime = (getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData));\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.getExactDateTime = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { format: this.dateToNumeric(), type: 'time' });\n        }\n    };\n    TimePicker.prototype.setValue = function (value) {\n        var time = this.checkValue(value);\n        if (!this.strictMode && !this.validateState(time)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            if (this.isNullOrEmpty(time)) {\n                this.initValue = null;\n                this.validateMinMax(this.value, this.min, this.max);\n            }\n            else {\n                this.initValue = this.compareFormatChange(time);\n            }\n        }\n        this.updateInput(true, this.initValue);\n    };\n    TimePicker.prototype.compareFormatChange = function (value) {\n        if (isNullOrUndefined(value)) {\n            return null;\n        }\n        return (value !== this.getText()) ? this.getDateObject(value) : this.getDateObject(this.value);\n    };\n    TimePicker.prototype.updatePlaceHolder = function () {\n        Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n    };\n    //event related functions\n    TimePicker.prototype.updateInputValue = function (value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    TimePicker.prototype.preventEventBubbling = function (e) {\n        e.preventDefault();\n        this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n    };\n    TimePicker.prototype.popupHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        e.preventDefault();\n        if (this.isPopupOpen()) {\n            this.closePopup(0, e);\n        }\n        else {\n            this.inputElement.focus();\n            this.show(e);\n        }\n    };\n    TimePicker.prototype.mouseDownHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.readonly) {\n            this.inputElement.setSelectionRange(0, 0);\n            EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        }\n    };\n    TimePicker.prototype.mouseUpHandler = function (event) {\n        if (!this.readonly) {\n            event.preventDefault();\n            if (this.enableMask) {\n                event.preventDefault();\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n                return;\n            }\n            else {\n                EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n                var curPos = this.getCursorSelection();\n                if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n                    if (this.inputElement.value.length > 0) {\n                        this.cursorDetails = this.focusSelection();\n                    }\n                    this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.focusSelection = function () {\n        var regex = new RegExp('^[a-zA-Z0-9]+$');\n        var split = this.inputElement.value.split('');\n        split.push(' ');\n        var curPos = this.getCursorSelection();\n        var start = 0;\n        var end = 0;\n        var isSeparator = false;\n        if (!this.isTextSelected) {\n            for (var i = 0; i < split.length; i++) {\n                if (!regex.test(split[i])) {\n                    end = i;\n                    isSeparator = true;\n                }\n                if (isSeparator) {\n                    if (curPos.start >= start && curPos.end <= end) {\n                        // eslint-disable-next-line no-self-assign\n                        end = end;\n                        this.isTextSelected = true;\n                        break;\n                    }\n                    else {\n                        start = i + 1;\n                        isSeparator = false;\n                    }\n                }\n            }\n        }\n        else {\n            start = curPos.start;\n            end = curPos.end;\n            this.isTextSelected = false;\n        }\n        return { start: start, end: end };\n    };\n    TimePicker.prototype.inputHandler = function (event) {\n        if (!this.readonly && this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'home':\n                case 'end':\n                case 'up':\n                case 'down':\n                    if (this.enableMask && !this.readonly && !this.isPopupOpen()) {\n                        event.preventDefault();\n                        this.notify(\"keyDownHandler\", {\n                            module: \"MaskedDateTime\",\n                            e: event\n                        });\n                    }\n                    if (!this.enableMask || this.isPopupOpen()) {\n                        this.keyHandler(event);\n                    }\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.updateValue(this.valueWithMinutes, event);\n                    }\n                    else {\n                        this.updateValue(this.inputElement.value, event);\n                    }\n                    this.hide();\n                    this.isNavigate = false;\n                    if (this.isPopupOpen()) {\n                        event.stopPropagation();\n                    }\n                    break;\n                case 'open':\n                    this.show(event);\n                    break;\n                case 'escape':\n                    this.updateInputValue(this.objToString(this.value));\n                    if (this.enableMask) {\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                        this.createMask();\n                    }\n                    this.previousState(this.value);\n                    this.hide();\n                    break;\n                case 'close':\n                    this.hide();\n                    break;\n                case 'right':\n                case 'left':\n                case 'tab':\n                case 'shiftTab':\n                    if (!this.isPopupOpen() && this.enableMask && !this.readonly) {\n                        if ((this.inputElement.selectionStart == 0 && this.inputElement.selectionEnd == this.inputElement.value.length) ||\n                            (this.inputElement.selectionEnd !== this.inputElement.value.length && event.action == 'tab') ||\n                            (this.inputElement.selectionStart !== 0 && event.action == 'shiftTab') || (event.action == 'left' || event.action == 'right')) {\n                            event.preventDefault();\n                        }\n                        this.notify(\"keyDownHandler\", { module: \"MaskedDateTime\",\n                            e: event\n                        });\n                    }\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    };\n    TimePicker.prototype.onMouseClick = function (event) {\n        var target = event.target;\n        var li = this.selectedElement = closest(target, '.' + LISTCLASS);\n        this.setSelection(li, event);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.hide();\n        }\n    };\n    TimePicker.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        if (this.isPopupOpen() && this.popupWrapper) {\n            var args = {\n                popup: this.popupObj,\n                event: e || null,\n                cancel: false,\n                name: 'open'\n            };\n            removeClass([document.body], OVERFLOW);\n            this.trigger('close', args, function (args) {\n                if (!args.cancel) {\n                    var animModel = {\n                        name: 'FadeOut',\n                        duration: ANIMATIONDURATION,\n                        delay: delay ? delay : 0\n                    };\n                    _this.popupObj.hide(new Animation(animModel));\n                    removeClass([_this.inputWrapper.container], [ICONANIMATION]);\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                    EventHandler.remove(document, 'mousedown touchstart', _this.documentClickHandler);\n                }\n                if (Browser.isDevice && _this.modal) {\n                    _this.modal.style.display = 'none';\n                    _this.modal.outerHTML = '';\n                    _this.modal = null;\n                }\n                if (Browser.isDevice) {\n                    if (!isNullOrUndefined(_this.mobileTimePopupWrap)) {\n                        _this.mobileTimePopupWrap.remove();\n                        _this.mobileTimePopupWrap = null;\n                    }\n                }\n                if (Browser.isDevice && _this.allowEdit && !_this.readonly) {\n                    _this.inputElement.removeAttribute('readonly');\n                }\n            });\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    TimePicker.prototype.disposeServerPopup = function () {\n        if (this.popupWrapper) {\n            this.popupWrapper.style.visibility = 'hidden';\n            this.popupWrapper.style.top = '-9999px';\n            this.popupWrapper.style.left = '-9999px';\n            this.popupWrapper.style.width = '0px';\n            this.popupWrapper.style.height = '0px';\n        }\n    };\n    TimePicker.prototype.checkValueChange = function (event, isNavigation) {\n        if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.setProperties({ value: this.compareFormatChange(this.inputElement.value) }, true);\n            this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n            this.prevValue = this.inputElement.value;\n            if (+this.prevDate !== +this.value) {\n                this.changeEvent(event);\n            }\n        }\n        else {\n            if (!isNavigation) {\n                if ((this.prevValue !== this.inputElement.value) || isNullOrUndefined(this.checkDateValue(this.value))) {\n                    this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n                }\n            }\n            else {\n                var value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n                if (+this.prevDate !== +value) {\n                    this.valueProcess(event, value);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.onMouseOver = function (event) {\n        var currentLi = closest(event.target, '.' + LISTCLASS);\n        this.setHover(currentLi, HOVER);\n    };\n    TimePicker.prototype.setHover = function (li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeHover(className);\n            addClass([li], className);\n            if (className === NAVIGATION) {\n                li.setAttribute('aria-selected', 'true');\n            }\n        }\n    };\n    TimePicker.prototype.setSelection = function (li, event) {\n        if (this.isValidLI(li)) {\n            this.checkValue(li.getAttribute('data-value'));\n            if (this.enableMask) {\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n            }\n            this.selectedElement = li;\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], SELECTED);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.checkValueChange(event, true);\n        }\n    };\n    TimePicker.prototype.onMouseLeave = function () {\n        this.removeHover(HOVER);\n    };\n    TimePicker.prototype.scrollHandler = function () {\n        if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n            return;\n        }\n        else {\n            this.hide();\n        }\n    };\n    TimePicker.prototype.setMinMax = function (minVal, maxVal) {\n        if (isNullOrUndefined(this.checkDateValue(minVal))) {\n            this.initMin = this.getDateObject('12:00:00 AM');\n        }\n        if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n            this.initMax = this.getDateObject('11:59:59 PM');\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    TimePicker.prototype.validateMinMax = function (dateVal, minVal, maxVal) {\n        var value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n        }\n        else if (+(this.createDateObj(this.getFormattedValue(this.initMin))) >\n            +(this.createDateObj(this.getFormattedValue(this.initMax)))) {\n            this.disableTimeIcon();\n        }\n        if (this.strictMode) {\n            dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n        }\n        this.checkErrorState(dateVal);\n        return dateVal;\n    };\n    TimePicker.prototype.valueIsDisable = function (value) {\n        if (this.disableItemCollection.length > 0) {\n            if (this.disableItemCollection.length === this.timeCollections.length) {\n                return false;\n            }\n            var time = value instanceof Date ? this.objToString(value) : value;\n            for (var index = 0; index < this.disableItemCollection.length; index++) {\n                if (time === this.disableItemCollection[index]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    TimePicker.prototype.validateState = function (val) {\n        if (!this.strictMode) {\n            if (this.valueIsDisable(val)) {\n                var value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) :\n                    this.setCurrentDate(this.getDateObject(val));\n                var maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n                var minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                    if ((+(value) > +(maxValue)) || (+(value) < +(minValue))) {\n                        return false;\n                    }\n                }\n                else {\n                    if ((+(maxValue) < +(minValue)) || this.inputElement.value !== '') {\n                        return false;\n                    }\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    TimePicker.prototype.strictOperation = function (minimum, maximum, dateVal, val) {\n        var maxValue = this.createDateObj(this.getFormattedValue(maximum));\n        var minValue = this.createDateObj(this.getFormattedValue(minimum));\n        var value = this.createDateObj(this.getFormattedValue(val));\n        if (this.strictMode) {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                this.initValue = this.getDateObject(maxValue);\n                this.updateInputValue(this.getValue(this.initValue));\n                if (this.enableMask) {\n                    this.createMask();\n                }\n                return this.inputElement.value;\n            }\n            else if (+minValue >= +value) {\n                return this.getDateObject(minValue);\n            }\n            else if (+value >= +maxValue || +minValue === +maxValue) {\n                return this.getDateObject(maxValue);\n            }\n        }\n        else {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                if (!isNaN(+this.createDateObj(dateVal))) {\n                    return dateVal;\n                }\n            }\n        }\n        return dateVal;\n    };\n    TimePicker.prototype.bindEvents = function () {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.popupHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        EventHandler.add(this.inputElement, 'input', this.inputEventHandler, this);\n        if (this.enableMask) {\n            EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n        }\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n            this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n                keyAction: this.inputHandler.bind(this),\n                keyConfigs: this.keyConfigure,\n                eventName: 'keydown'\n            });\n            if (this.showClearButton && this.inputElement) {\n                EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n            }\n        }\n    };\n    TimePicker.prototype.keydownHandler = function (e) {\n        switch (e.code) {\n            case 'Delete':\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    TimePicker.prototype.formResetHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.inputElement.disabled) {\n            var timeValue = this.inputElement.getAttribute('value');\n            var val = this.checkDateValue(this.inputEleValue);\n            if (this.element.tagName === 'EJS-TIMEPICKER') {\n                val = null;\n                timeValue = '';\n                this.inputElement.setAttribute('value', '');\n            }\n            this.setProperties({ value: val }, true);\n            this.prevDate = this.value;\n            this.valueWithMinutes = this.value;\n            this.initValue = this.value;\n            if (this.inputElement) {\n                this.updateInputValue(timeValue);\n                if (this.enableMask) {\n                    if (!timeValue) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    this.createMask();\n                }\n                this.checkErrorState(timeValue);\n                this.prevValue = this.inputElement.value;\n            }\n        }\n    };\n    TimePicker.prototype.inputChangeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n    };\n    TimePicker.prototype.inputEventHandler = function () {\n        if (this.enableMask) {\n            this.notify(\"inputHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    };\n    TimePicker.prototype.unBindEvents = function () {\n        if (this.inputWrapper) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.popupHandler);\n        }\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        EventHandler.remove(this.inputElement, 'input', this.inputEventHandler);\n        if (this.inputEvent) {\n            this.inputEvent.destroy();\n        }\n        EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n        if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    TimePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n    };\n    TimePicker.prototype.raiseClearedEvent = function (e) {\n        var clearedArgs = {\n            event: e\n        };\n        this.trigger('cleared', clearedArgs);\n    };\n    TimePicker.prototype.clearHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.preventDefault();\n        if (!isNullOrUndefined(this.value)) {\n            this.clear(e);\n        }\n        else {\n            this.resetState();\n            this.raiseClearedEvent(e);\n        }\n        if (this.popupWrapper) {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (this.enableMask) {\n            this.notify(\"clearHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    };\n    TimePicker.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        this.initValue = null;\n        this.resetState();\n        this.raiseClearedEvent(event);\n        this.changeEvent(event);\n    };\n    TimePicker.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.zIndex = this.zIndex;\n            this.popupObj.dataBind();\n        }\n    };\n    TimePicker.prototype.checkAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n        var value;\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputStyle = this.inputElement.getAttribute(prop);\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.initValue = value;\n                                this.updateInput(false, this.initValue);\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    TimePicker.prototype.setCurrentDate = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        return new Date(YEAR, MONTH, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n    };\n    TimePicker.prototype.getTextFormat = function () {\n        var time = 0;\n        if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n            time = 1;\n        }\n        else if (this.cldrTimeFormat().indexOf('a') < 0) {\n            var strArray = this.cldrTimeFormat().split(' ');\n            for (var i = 0; i < strArray.length; i++) {\n                if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n                    time = i;\n                    break;\n                }\n            }\n        }\n        return time;\n    };\n    TimePicker.prototype.updateValue = function (value, event) {\n        var val;\n        if (this.isNullOrEmpty(value)) {\n            this.resetState();\n        }\n        else {\n            val = this.checkValue(value);\n            if (this.strictMode) {\n                // this case set previous value to the text box when set invalid date\n                var inputVal = (val === null && value.trim().length > 0) ?\n                    this.previousState(this.prevDate) : this.inputElement.value;\n                this.updateInputValue(inputVal);\n                if (this.enableMask) {\n                    if (!inputVal) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    if (isNullOrUndefined(val) && value != this.maskedDateValue) {\n                        this.createMask();\n                    }\n                    if (isNullOrUndefined(val) && value == this.maskedDateValue) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                }\n            }\n        }\n        this.checkValueChange(event, typeof value === 'string' ? false : true);\n    };\n    TimePicker.prototype.previousState = function (date) {\n        var value = this.getDateObject(date);\n        for (var i = 0; i < this.timeCollections.length; i++) {\n            if (+value === this.timeCollections[i]) {\n                this.activeIndex = i;\n                this.selectedElement = this.liCollections[i];\n                this.valueWithMinutes = new Date(this.timeCollections[i]);\n                break;\n            }\n        }\n        return this.prevValue;\n    };\n    TimePicker.prototype.resetState = function () {\n        this.removeSelection();\n        Input.setValue('', this.inputElement, this.floatLabelType, false);\n        this.valueWithMinutes = this.activeIndex = null;\n        if (!this.strictMode) {\n            this.checkErrorState(null);\n        }\n    };\n    TimePicker.prototype.objToString = function (val) {\n        if (isNullOrUndefined(this.checkDateValue(val))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(val, { format: this.cldrTimeFormat(), type: 'time' });\n        }\n    };\n    TimePicker.prototype.checkValue = function (value) {\n        if (!this.isNullOrEmpty(value)) {\n            var date = value instanceof Date ? value : this.getDateObject(value);\n            return this.validateValue(date, value);\n        }\n        this.resetState();\n        return this.valueWithMinutes = null;\n    };\n    TimePicker.prototype.validateValue = function (date, value) {\n        var time;\n        var val = this.validateMinMax(value, this.min, this.max);\n        var newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = this.objToString(this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = this.objToString(this.valueWithMinutes);\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            var value_1 = val.trim().length > 0 ? val : '';\n            this.updateInputValue(value_1);\n            if (this.enableMask) {\n                if (!value_1) {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n            }\n        }\n        else {\n            this.updateInputValue(time);\n            if (this.enableMask) {\n                if (time == '') {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n                if (isNullOrUndefined(time) && value != this.maskedDateValue) {\n                    this.createMask();\n                }\n                if (isNullOrUndefined(time) && value == this.maskedDateValue) {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n            }\n        }\n        return time;\n    };\n    TimePicker.prototype.createMask = function () {\n        this.notify(\"createMask\", {\n            module: \"MaskedDateTime\",\n        });\n    };\n    TimePicker.prototype.findNextElement = function (event) {\n        var textVal = (this.inputElement).value;\n        var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        var timeVal = null;\n        var count = this.liCollections.length;\n        var collections = this.timeCollections;\n        if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n            if (event.action === 'home') {\n                var index = this.validLiElement(0);\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                this.activeIndex = index;\n            }\n            else if (event.action === 'end') {\n                var index = this.validLiElement(collections.length - 1, true);\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                this.activeIndex = index;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (var i = 0; i < count; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            var index = this.validLiElement(i);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === count - 1) {\n                            var index = this.validLiElement(0);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var i = count - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            var index = this.validLiElement(i, true);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === 0) {\n                            var index = this.validLiElement(count - 1);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n        }\n        else {\n            this.selectNextItem(event);\n        }\n    };\n    TimePicker.prototype.selectNextItem = function (event) {\n        var index = this.validLiElement(0, event.action === 'down' ? false : true);\n        this.activeIndex = index;\n        this.selectedElement = this.liCollections[index];\n        this.elementValue(new Date(this.timeCollections[index]));\n    };\n    TimePicker.prototype.elementValue = function (value) {\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            this.checkValue(value);\n        }\n    };\n    TimePicker.prototype.validLiElement = function (index, backward) {\n        var elementIndex = null;\n        var items = isNullOrUndefined(this.popupWrapper) ? this.liCollections :\n            this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n        var isCheck = true;\n        if (items.length) {\n            if (backward) {\n                for (var i = index; i >= 0; i--) {\n                    if (!items[i].classList.contains(DISABLED)) {\n                        elementIndex = i;\n                        break;\n                    }\n                    else if (i === 0) {\n                        if (isCheck) {\n                            index = i = items.length;\n                            isCheck = false;\n                        }\n                    }\n                }\n            }\n            else {\n                for (var i = index; i <= items.length - 1; i++) {\n                    if (!items[i].classList.contains(DISABLED)) {\n                        elementIndex = i;\n                        break;\n                    }\n                    else if (i === items.length - 1) {\n                        if (isCheck) {\n                            index = i = -1;\n                            isCheck = false;\n                        }\n                    }\n                }\n            }\n        }\n        return elementIndex;\n    };\n    TimePicker.prototype.keyHandler = function (event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\n            return;\n        }\n        var count = this.timeCollections.length;\n        if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    var index = this.validLiElement(0, event.action === 'down' ? false : true);\n                    this.activeIndex = index;\n                    this.selectedElement = this.liCollections[index];\n                    this.elementValue(new Date(this.timeCollections[index]));\n                }\n                else {\n                    this.findNextElement(event);\n                }\n            }\n            else {\n                this.findNextElement(event);\n            }\n        }\n        else {\n            var nextItem = void 0;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                var index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (count) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (count - 1) : this.activeIndex;\n                this.activeIndex = index = this.validLiElement(this.activeIndex, (event.keyCode === 40 || event.keyCode === 39) ?\n                    false : true);\n                nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                var index = this.validLiElement(0);\n                this.activeIndex = index;\n                nextItem = this.timeCollections[index];\n            }\n            else if (event.action === 'end') {\n                var index = this.validLiElement(count - 1, true);\n                this.activeIndex = index;\n                nextItem = this.timeCollections[index];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.elementValue(new Date(nextItem));\n        }\n        this.isNavigate = true;\n        this.setHover(this.selectedElement, NAVIGATION);\n        this.setActiveDescendant();\n        this.selectInputText();\n        if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setScrollPosition();\n        }\n    };\n    TimePicker.prototype.getCultureTimeObject = function (ld, c) {\n        return getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n    };\n    TimePicker.prototype.getCultureDateObject = function (ld, c) {\n        return getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n    };\n    TimePicker.prototype.wireListEvents = function () {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    TimePicker.prototype.unWireListEvents = function () {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n            }\n        }\n    };\n    TimePicker.prototype.valueProcess = function (event, value) {\n        var result = (isNullOrUndefined(this.checkDateValue(value))) ? null : value;\n        if (+this.prevDate !== +result) {\n            this.initValue = result;\n            this.changeEvent(event);\n        }\n    };\n    TimePicker.prototype.changeEvent = function (e) {\n        this.addSelection();\n        this.updateInput(true, this.initValue);\n        var eventArgs = {\n            event: (e || null),\n            value: this.value,\n            text: (this.inputElement).value,\n            isInteracted: !isNullOrUndefined(e),\n            element: this.element\n        };\n        eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        if (this.isAngular && this.preventChange) {\n            this.preventChange = false;\n        }\n        else {\n            this.trigger('change', eventArgs);\n        }\n        this.invalidValueString = null;\n        this.checkErrorState(this.value);\n    };\n    TimePicker.prototype.updateInput = function (isUpdate, date) {\n        if (isUpdate) {\n            this.prevValue = this.getValue(date);\n        }\n        this.prevDate = this.valueWithMinutes = date;\n        if ((typeof date !== 'number') || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n            this.setProperties({ value: date }, true);\n            if (this.enableMask) {\n                this.createMask();\n            }\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.checkErrorState(this.invalidValueString);\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.clearIconState();\n    };\n    TimePicker.prototype.setActiveDescendant = function () {\n        if (!isNullOrUndefined(this.selectedElement)) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    };\n    TimePicker.prototype.removeSelection = function () {\n        this.removeHover(HOVER);\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + SELECTED);\n            if (items.length) {\n                removeClass(items, SELECTED);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    TimePicker.prototype.removeHover = function (className) {\n        var hoveredItem = this.getHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n            if (className === NAVIGATION) {\n                hoveredItem[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    TimePicker.prototype.getHoverItem = function (className) {\n        var hoveredItem;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    };\n    TimePicker.prototype.setActiveClass = function () {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS);\n            if (items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    if ((this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes))) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    TimePicker.prototype.addSelection = function () {\n        this.selectedElement = null;\n        this.removeSelection();\n        this.setActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], SELECTED);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    };\n    TimePicker.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(LISTCLASS) && !li.classList.contains(DISABLED));\n    };\n    TimePicker.prototype.createDateObj = function (val) {\n        var formatStr = null;\n        var today = this.globalize.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n        var value = null;\n        if (typeof val === 'string') {\n            if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n                today = this.defaultCulture.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n                value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n                if (isNullOrUndefined(value)) {\n                    value = this.timeParse(today, val);\n                }\n            }\n            else {\n                value = this.timeParse(today, val);\n            }\n        }\n        else if (val instanceof Date) {\n            value = val;\n        }\n        return value;\n    };\n    TimePicker.prototype.timeParse = function (today, val) {\n        var value;\n        value = this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(), type: 'datetime'\n        });\n        value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.dateToNumeric(), type: 'datetime'\n        }) : value;\n        value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n        return value;\n    };\n    TimePicker.prototype.createListItems = function () {\n        var _this = this;\n        this.listWrapper = this.createElement('div', { className: CONTENT, attrs: { 'tabindex': '0' } });\n        var start;\n        var interval = this.step * 60000;\n        var listItems = [];\n        this.timeCollections = [];\n        this.disableItemCollection = [];\n        start = +(this.getDateObject(this.initMin).setMilliseconds(0));\n        var end = +(this.getDateObject(this.initMax).setMilliseconds(0));\n        while (end >= start) {\n            this.timeCollections.push(start);\n            listItems.push(this.globalize.formatDate(new Date(start), { format: this.cldrTimeFormat(), type: 'time' }));\n            start += interval;\n        }\n        var listBaseOptions = {\n            itemCreated: function (args) {\n                var eventArgs = {\n                    element: args.item,\n                    text: args.text, value: _this.getDateObject(args.text), isDisabled: false\n                };\n                _this.trigger('itemRender', eventArgs, function (eventArgs) {\n                    if (eventArgs.isDisabled) {\n                        eventArgs.element.classList.add(DISABLED);\n                    }\n                    if (eventArgs.element.classList.contains(DISABLED)) {\n                        _this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n                    }\n                });\n            }\n        };\n        this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([this.listTag], this.listWrapper);\n    };\n    TimePicker.prototype.documentClickHandler = function (event) {\n        var target = event.target;\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) ||\n            (this.popupObj.element && this.popupObj.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) && target !== this.inputElement\n            && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) &&\n            target !== (this.inputWrapper && this.inputWrapper.clearButton) &&\n            target !== (this.inputWrapper && this.inputWrapper.container)) {\n            if (this.isPopupOpen()) {\n                this.hide();\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement)\n                    && (target === this.popupWrapper);\n            }\n        }\n    };\n    TimePicker.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    TimePicker.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], DISABLED);\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hide();\n            addClass([this.inputWrapper.container], DISABLED);\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.inputElement.tabIndex = -1;\n        }\n    };\n    TimePicker.prototype.getProperty = function (date, val) {\n        if (val === 'min') {\n            this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n            this.setProperties({ min: this.initMin }, true);\n        }\n        else {\n            this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n            this.setProperties({ max: this.initMax }, true);\n        }\n        if (this.inputElement.value === '') {\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            this.checkValue(this.inputElement.value);\n        }\n        this.checkValueChange(null, false);\n    };\n    TimePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isPreventBlur && this.isPopupOpen()) {\n            this.inputElement.focus();\n            return;\n        }\n        this.closePopup(0, e);\n        if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n            if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue('');\n            }\n        }\n        removeClass([this.inputWrapper.container], [FOCUS]);\n        var blurArguments = {\n            model: this\n        };\n        this.trigger('blur', blurArguments);\n        if (this.getText() !== this.inputElement.value) {\n            this.updateValue((this.inputElement).value, e);\n        }\n        else if (this.inputElement.value.trim().length === 0) {\n            this.resetState();\n        }\n        this.cursorDetails = null;\n        this.isNavigate = false;\n        if (this.inputElement.value === '') {\n            this.invalidValueString = null;\n        }\n    };\n    /**\n     * Focuses out the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n    TimePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [FOCUS]);\n            var blurArguments = {\n                model: this\n            };\n            this.trigger('blur', blurArguments);\n        }\n    };\n    TimePicker.prototype.isPopupOpen = function () {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT)) {\n            return true;\n        }\n        return false;\n    };\n    TimePicker.prototype.inputFocusHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        var focusArguments = {\n            model: this\n        };\n        if (!this.readonly && !Browser.isDevice && !this.enableMask) {\n            this.selectInputText();\n        }\n        if (this.enableMask && !this.inputElement.value && this.placeholder) {\n            if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue(this.maskedDateValue);\n                this.inputElement.selectionStart = 0;\n                this.inputElement.selectionEnd = this.inputElement.value.length;\n            }\n        }\n        this.trigger('focus', focusArguments);\n        this.clearIconState();\n        if (this.openOnFocus) {\n            this.show();\n        }\n    };\n    /**\n     * Focused the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n    TimePicker.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n        }\n    };\n    /**\n     * Hides the TimePicker popup.\n     *\n     * @returns {void}\n\n     */\n    TimePicker.prototype.hide = function () {\n        this.closePopup(100, null);\n        this.clearIconState();\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup to show the list items.\n     *\n     * @returns {void}\n\n     */\n    TimePicker.prototype.show = function (event) {\n        var _this = this;\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupWrapper) {\n            return;\n        }\n        else {\n            this.popupCreation();\n            if (Browser.isDevice && this.listWrapper) {\n                this.modal = this.createElement('div');\n                this.modal.className = '' + ROOT + ' e-time-modal';\n                document.body.className += ' ' + OVERFLOW;\n                document.body.appendChild(this.modal);\n            }\n            if (Browser.isDevice) {\n                this.mobileTimePopupWrap = this.createElement('div', { className: 'e-timepicker-mob-popup-wrap' });\n                document.body.appendChild(this.mobileTimePopupWrap);\n            }\n            this.openPopupEventArgs = {\n                popup: this.popupObj || null,\n                cancel: false,\n                event: event || null,\n                name: 'open',\n                appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n            };\n            var eventArgs = this.openPopupEventArgs;\n            this.trigger('open', eventArgs, function (eventArgs) {\n                _this.openPopupEventArgs = eventArgs;\n                if (!_this.openPopupEventArgs.cancel && !_this.inputWrapper.buttons[0].classList.contains(DISABLED)) {\n                    _this.openPopupEventArgs.appendTo.appendChild(_this.popupWrapper);\n                    _this.popupAlignment(_this.openPopupEventArgs);\n                    _this.setScrollPosition();\n                    if (!Browser.isDevice) {\n                        _this.inputElement.focus();\n                    }\n                    var openAnimation = {\n                        name: 'FadeIn',\n                        duration: ANIMATIONDURATION\n                    };\n                    _this.popupObj.refreshPosition(_this.anchor);\n                    if (_this.zIndex === 1000) {\n                        _this.popupObj.show(new Animation(openAnimation), _this.element);\n                    }\n                    else {\n                        _this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    _this.setActiveDescendant();\n                    attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                    addClass([_this.inputWrapper.container], FOCUS);\n                    EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n                    _this.setOverlayIndex(_this.mobileTimePopupWrap, _this.popupObj.element, _this.modal, Browser.isDevice);\n                }\n                else {\n                    _this.popupObj.destroy();\n                    _this.popupWrapper = _this.listTag = undefined;\n                    _this.liCollections = _this.timeCollections = _this.disableItemCollection = [];\n                    _this.popupObj = null;\n                }\n            });\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    TimePicker.prototype.setOverlayIndex = function (popupWrapper, timePopupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    TimePicker.prototype.formatValues = function (type) {\n        var value;\n        if (typeof type === 'number') {\n            value = formatUnit(type);\n        }\n        else if (typeof type === 'string') {\n            value = (type.match(/px|%|em/)) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n        }\n        return value;\n    };\n    TimePicker.prototype.popupAlignment = function (args) {\n        args.popup.position.X = this.formatValues(args.popup.position.X);\n        args.popup.position.Y = this.formatValues(args.popup.position.Y);\n        if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.relateTo = this.anchor = document.body;\n            this.popupObj.targetType = 'container';\n        }\n        if (!isNaN(parseFloat(args.popup.position.X))) {\n            this.popupObj.offsetX = parseFloat(args.popup.position.X);\n        }\n        if (!isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n        }\n        if (!Browser.isDevice) {\n            switch (args.popup.position.X) {\n                case 'left':\n                    break;\n                case 'right':\n                    args.popup.offsetX = this.containerStyle.width;\n                    break;\n                case 'center':\n                    args.popup.offsetX = -(this.containerStyle.width / 2);\n                    break;\n            }\n            switch (args.popup.position.Y) {\n                case 'top':\n                    break;\n                case 'bottom':\n                    break;\n                case 'center':\n                    args.popup.offsetY = -(this.containerStyle.height / 2);\n                    break;\n            }\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.inputWrapper.container;\n                this.anchor = this.inputElement;\n                this.popupObj.targetType = 'relative';\n            }\n        }\n        else {\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.anchor = document.body;\n                this.popupObj.offsetY = 0;\n                this.popupObj.targetType = 'container';\n                this.popupObj.collision = { X: 'fit', Y: 'fit' };\n            }\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    TimePicker.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    TimePicker.prototype.getModuleName = function () {\n        return 'timepicker';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {TimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {TimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    TimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n                    if (this.readonly) {\n                        this.hide();\n                    }\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    this.setEnable();\n                    break;\n                case 'allowEdit':\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    this.setEnableRtl();\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'locale':\n                    this.setProperties({ locale: newProp.locale }, true);\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.updatePlaceHolder();\n                    this.setValue(this.value);\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.inputWrapper.container, { 'width': this.setWidth(newProp.width) });\n                    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkTimeFormat();\n                    this.setValue(this.value);\n                    if (this.enableMask) {\n                        this.createMask();\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                    }\n                    break;\n                case 'value':\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    if (!this.invalidValueString) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: this.checkDateValue(new Date(newProp.value)) }, true);\n                            newProp.value = this.value;\n                        }\n                        else {\n                            if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                                newProp.value = this.checkDateValue(new Date('' + newProp.value));\n                            }\n                        }\n                        this.initValue = newProp.value;\n                        newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n                    }\n                    else {\n                        this.updateInputValue(this.invalidValueString);\n                        this.checkErrorState(this.invalidValueString);\n                    }\n                    this.checkValueChange(null, false);\n                    if (this.isPopupOpen()) {\n                        this.setScrollPosition();\n                    }\n                    if (this.isAngular && this.preventChange) {\n                        this.preventChange = false;\n                    }\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    if (newProp.strictMode) {\n                        this.checkErrorState(null);\n                    }\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\n                    this.checkValue((this.inputElement).value);\n                    this.checkValueChange(null, false);\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n                        if (this.popupWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo))) }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.updateInputValue('');\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    TimePicker.prototype.checkInValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], TimePicker.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"readonly\", void 0);\n    __decorate([\n        Property({})\n    ], TimePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('Never')\n    ], TimePicker.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(1000)\n    ], TimePicker.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], TimePicker.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(30)\n    ], TimePicker.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"scrollTo\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"min\", void 0);\n    __decorate([\n        Property(null)\n    ], TimePicker.prototype, \"max\", void 0);\n    __decorate([\n        Property(true)\n    ], TimePicker.prototype, \"allowEdit\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"openOnFocus\", void 0);\n    __decorate([\n        Property(false)\n    ], TimePicker.prototype, \"enableMask\", void 0);\n    __decorate([\n        Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n    ], TimePicker.prototype, \"maskPlaceholder\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"itemRender\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"cleared\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], TimePicker.prototype, \"focus\", void 0);\n    TimePicker = __decorate([\n        NotifyPropertyChanges\n    ], TimePicker);\n    return TimePicker;\n}(Component));\nexport { TimePicker };\n/* eslint-enable @typescript-eslint/no-explicit-any */\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../datepicker/datepicker-model.d.ts'/>\nimport { EventHandler, Internationalization, Property, NotifyPropertyChanges, Browser } from '@syncfusion/ej2-base';\nimport { Animation, Event, cldrData, getDefaultDateObject, detach } from '@syncfusion/ej2-base';\nimport { createElement, remove, addClass, L10n, removeClass, closest, append, attributes } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, isNullOrUndefined, formatUnit, getValue, rippleEffect } from '@syncfusion/ej2-base';\nimport { extend } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DatePicker } from '../datepicker/datepicker';\nimport { TimePickerBase } from '../timepicker/timepicker';\n//class constant defination\nvar DATEWRAPPER = 'e-date-wrapper';\nvar DATEPICKERROOT = 'e-datepicker';\nvar DATETIMEWRAPPER = 'e-datetime-wrapper';\nvar DAY = new Date().getDate();\nvar MONTH = new Date().getMonth();\nvar YEAR = new Date().getFullYear();\nvar HOUR = new Date().getHours();\nvar MINUTE = new Date().getMinutes();\nvar SECOND = new Date().getSeconds();\nvar MILLISECOND = new Date().getMilliseconds();\nvar ROOT = 'e-datetimepicker';\nvar DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nvar INPUTWRAPPER = 'e-input-group-icon';\nvar POPUP = 'e-popup';\nvar TIMEICON = 'e-time-icon';\nvar INPUTFOCUS = 'e-input-focus';\nvar POPUPDIMENSION = '250px';\nvar ICONANIMATION = 'e-icon-anim';\nvar DISABLED = 'e-disabled';\nvar ERROR = 'e-error';\nvar CONTENT = 'e-content';\nvar NAVIGATION = 'e-navigation';\nvar ACTIVE = 'e-active';\nvar HOVER = 'e-hover';\nvar ICONS = 'e-icons';\nvar HALFPOSITION = 2;\nvar LISTCLASS = 'e-list-item';\nvar ANIMATIONDURATION = 100;\nvar OVERFLOW = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\nvar DateTimePicker = /** @class */ (function (_super) {\n    __extends(DateTimePicker, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {DateTimePickerModel} options - Specifies the DateTimePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DateTimePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.valueWithMinutes = null;\n        _this.scrollInvoked = false;\n        _this.moduleName = _this.getModuleName();\n        _this.dateTimeOptions = options;\n        return _this;\n    }\n    DateTimePicker.prototype.focusHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        addClass([this.inputWrapper.container], INPUTFOCUS);\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.focusIn = function () {\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n    };\n    DateTimePicker.prototype.blurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isTimePopupOpen() && this.isPreventBlur) {\n            this.inputElement.focus();\n            return;\n        }\n        removeClass([this.inputWrapper.container], INPUTFOCUS);\n        var blurArguments = {\n            model: this\n        };\n        if (this.isTimePopupOpen()) {\n            this.hide(e);\n        }\n        this.trigger('blur', blurArguments);\n    };\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.destroy = function () {\n        if (this.popupObject && this.popupObject.element.classList.contains(POPUP)) {\n            this.popupObject.destroy();\n            detach(this.dateTimeWrapper);\n            this.dateTimeWrapper = undefined;\n            this.liCollections = this.timeCollections = [];\n            if (!isNullOrUndefined(this.rippleFn)) {\n                this.rippleFn();\n            }\n        }\n        var ariaAttribute = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-invalid': 'false',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n            this.inputElement.removeAttribute('aria-placeholder');\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObject = this.popupWrapper = null;\n            this.keyboardHandler.destroy();\n        }\n        this.unBindInputEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    DateTimePicker.prototype.render = function () {\n        this.timekeyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.valueWithMinutes = null;\n        this.previousDateTime = null;\n        this.isPreventBlur = false;\n        this.cloneElement = this.element.cloneNode(true);\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        this.initValue = this.value;\n        _super.prototype.updateHtmlAttributeToElement.call(this);\n        this.checkAttributes(false);\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('datetimepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        _super.prototype.render.call(this);\n        this.createInputElement();\n        _super.prototype.updateHtmlAttributeToWrapper.call(this);\n        this.bindInputEvents();\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n        this.setValue();\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(this.scrollTo))) }, true);\n        this.previousDateTime = this.value && new Date(+this.value);\n        if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.removeAttribute('tabindex');\n            if (!this.enabled) {\n                this.inputElement.tabIndex = -1;\n            }\n        }\n        this.renderComplete();\n    };\n    DateTimePicker.prototype.setValue = function () {\n        this.initValue = this.validateMinMaxRange(this.value);\n        if (!this.strictMode && this.isDateObject(this.initValue)) {\n            var value = this.validateMinMaxRange(this.initValue);\n            Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            if (isNullOrUndefined(this.value)) {\n                this.initValue = null;\n                this.setProperties({ value: null }, true);\n            }\n        }\n        this.valueWithMinutes = this.value;\n        _super.prototype.updateInput.call(this);\n    };\n    DateTimePicker.prototype.validateMinMaxRange = function (value) {\n        var result = value;\n        if (this.isDateObject(value)) {\n            result = this.validateValue(value);\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n            }\n        }\n        this.checkValidState(result);\n        return result;\n    };\n    DateTimePicker.prototype.checkValidState = function (value) {\n        this.isValidState = true;\n        if (!this.strictMode) {\n            if ((+(value) > +(this.max)) || (+(value) < +(this.min))) {\n                this.isValidState = false;\n            }\n        }\n        this.checkErrorState();\n    };\n    DateTimePicker.prototype.checkErrorState = function () {\n        if (this.isValidState) {\n            removeClass([this.inputWrapper.container], ERROR);\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR);\n        }\n        attributes(this.inputElement, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    DateTimePicker.prototype.validateValue = function (value) {\n        var dateVal = value;\n        if (this.strictMode) {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = this.max;\n            }\n            else if (+value < +this.min) {\n                dateVal = this.min;\n            }\n            else if (+value > +this.max) {\n                dateVal = this.max;\n            }\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = value;\n            }\n        }\n        return dateVal;\n    };\n    DateTimePicker.prototype.disablePopupButton = function (isDisable) {\n        if (isDisable) {\n            addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED);\n            this.hide();\n        }\n        else {\n            removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED);\n        }\n    };\n    DateTimePicker.prototype.getFormattedValue = function (value) {\n        var dateOptions;\n        if (!isNullOrUndefined(value)) {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            return this.globalize.formatDate(value, dateOptions);\n        }\n        else {\n            return null;\n        }\n    };\n    DateTimePicker.prototype.isDateObject = function (value) {\n        return (!isNullOrUndefined(value) && !isNaN(+value)) ? true : false;\n    };\n    DateTimePicker.prototype.createInputElement = function () {\n        removeClass([this.inputElement], DATEPICKERROOT);\n        removeClass([this.inputWrapper.container], DATEWRAPPER);\n        addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n        addClass([this.inputElement], ROOT);\n        this.renderTimeIcon();\n    };\n    DateTimePicker.prototype.renderTimeIcon = function () {\n        this.timeIcon = Input.appendSpan(INPUTWRAPPER + ' ' + TIMEICON + ' ' + ICONS, this.inputWrapper.container);\n    };\n    DateTimePicker.prototype.bindInputEvents = function () {\n        EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyAction.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    };\n    DateTimePicker.prototype.unBindInputEvents = function () {\n        EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n        }\n        if (this.keyboardHandler) {\n            this.keyboardHandler.destroy();\n        }\n    };\n    DateTimePicker.prototype.cldrTimeFormat = function () {\n        var cldrTime;\n        if (this.isNullOrEmpty(this.timeFormat)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.timeFormat;\n        }\n        return cldrTime;\n    };\n    DateTimePicker.prototype.cldrDateTimeFormat = function () {\n        var cldrTime;\n        var culture = new Internationalization(this.locale);\n        var dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateTimePicker.prototype.getCldrFormat = function (type) {\n        var cldrDateTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTime = (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTime;\n    };\n    DateTimePicker.prototype.isNullOrEmpty = function (value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateTimePicker.prototype.getCultureTimeObject = function (ld, c) {\n        if (this.calendarMode === 'Gregorian') {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n        }\n    };\n    DateTimePicker.prototype.timeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.isIconClicked = true;\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        if (e.currentTarget === this.timeIcon) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isDatePopupOpen()) {\n                _super.prototype.hide.call(this, e);\n            }\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            else {\n                this.inputElement.focus();\n                this.popupCreation('time', e);\n                addClass([this.inputWrapper.container], [INPUTFOCUS]);\n            }\n        }\n        this.isIconClicked = false;\n    };\n    DateTimePicker.prototype.dateHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (e.currentTarget === this.inputWrapper.buttons[0]) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                this.popupCreation('date', e);\n            }\n        }\n    };\n    DateTimePicker.prototype.show = function (type, e) {\n        if ((this.enabled && this.readonly) || !this.enabled) {\n            return;\n        }\n        else {\n            if (type === 'time' && !this.dateTimeWrapper) {\n                if (this.isDatePopupOpen()) {\n                    this.hide(e);\n                }\n                this.popupCreation('time', e);\n            }\n            else if (!this.popupObj) {\n                if (this.isTimePopupOpen()) {\n                    this.hide(e);\n                }\n                _super.prototype.show.call(this);\n                this.popupCreation('date', e);\n            }\n        }\n    };\n    DateTimePicker.prototype.toggle = function (e) {\n        if (this.isDatePopupOpen()) {\n            _super.prototype.hide.call(this, e);\n            this.show('time', null);\n        }\n        else if (this.isTimePopupOpen()) {\n            this.hide(e);\n            _super.prototype.show.call(this, null, e);\n            this.popupCreation('date', null);\n        }\n        else {\n            this.show(null, e);\n        }\n    };\n    DateTimePicker.prototype.listCreation = function () {\n        var dateObject;\n        if (this.calendarMode === 'Gregorian') {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime'\n            });\n        }\n        else {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime', calendar: 'islamic'\n            });\n        }\n        var value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ?\n            dateObject :\n            new Date() : this.value;\n        this.valueWithMinutes = value;\n        this.listWrapper = createElement('div', { className: CONTENT, attrs: { 'tabindex': '0' } });\n        var min = this.startTime(value);\n        var max = this.endTime(value);\n        var listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n        this.timeCollections = listDetails.collection;\n        this.listTag = listDetails.list;\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([listDetails.list], this.listWrapper);\n        this.wireTimeListEvents();\n        var rippleModel = { duration: 300, selector: '.' + LISTCLASS };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS);\n    };\n    DateTimePicker.prototype.popupCreation = function (type, e) {\n        if (Browser.isDevice) {\n            this.element.setAttribute('readonly', 'readonly');\n        }\n        if (type === 'date') {\n            if (!this.readonly && this.popupWrapper) {\n                addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n                attributes(this.popupWrapper, { 'id': this.element.id + '_datepopup' });\n            }\n        }\n        else {\n            if (!this.readonly) {\n                this.dateTimeWrapper = createElement('div', {\n                    className: ROOT + ' ' + POPUP,\n                    attrs: { 'id': this.element.id + '_timepopup', 'style': 'visibility:hidden ; display:block' }\n                });\n                if (!isNullOrUndefined(this.cssClass)) {\n                    this.dateTimeWrapper.className += ' ' + this.cssClass;\n                }\n                if (!isNullOrUndefined(this.step) && this.step > 0) {\n                    this.listCreation();\n                    append([this.listWrapper], this.dateTimeWrapper);\n                }\n                document.body.appendChild(this.dateTimeWrapper);\n                this.addTimeSelection();\n                this.renderPopup();\n                this.setTimeScrollPosition();\n                this.openPopup(e);\n                this.popupObject.refreshPosition(this.inputElement);\n            }\n        }\n    };\n    DateTimePicker.prototype.openPopup = function (e) {\n        var _this = this;\n        this.preventArgs = {\n            cancel: false,\n            popup: this.popupObject,\n            event: e || null\n        };\n        var eventArgs = this.preventArgs;\n        this.trigger('open', eventArgs, function (eventArgs) {\n            _this.preventArgs = eventArgs;\n            if (!_this.preventArgs.cancel && !_this.readonly) {\n                var openAnimation = {\n                    name: 'FadeIn',\n                    duration: ANIMATIONDURATION\n                };\n                if (_this.zIndex === 1000) {\n                    _this.popupObject.show(new Animation(openAnimation), _this.element);\n                }\n                else {\n                    _this.popupObject.show(new Animation(openAnimation), null);\n                }\n                addClass([_this.inputWrapper.container], [ICONANIMATION]);\n                attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n            }\n        });\n    };\n    DateTimePicker.prototype.documentClickHandler = function (event) {\n        var target = event.target;\n        if ((!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) ||\n            (this.popupObject.element && this.popupObject.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + (this.popupObject && this.popupObject.element.id + '\"]'))) && target !== this.inputElement\n            && target !== this.timeIcon && target !== this.inputWrapper.container) {\n            if (this.isTimePopupOpen()) {\n                this.hide(event);\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = ((document.activeElement === this.inputElement) && (Browser.isIE || Browser.info.name === 'edge')\n                    && target === this.popupObject.element);\n            }\n        }\n    };\n    DateTimePicker.prototype.isTimePopupOpen = function () {\n        return (this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT)) ? true : false;\n    };\n    DateTimePicker.prototype.isDatePopupOpen = function () {\n        return (this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER)) ? true : false;\n    };\n    DateTimePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        if (Browser.isDevice) {\n            this.timeModal = createElement('div');\n            this.timeModal.className = '' + ROOT + ' e-time-modal';\n            document.body.className += ' ' + OVERFLOW;\n            this.timeModal.style.display = 'block';\n            document.body.appendChild(this.timeModal);\n        }\n        var offset = 4;\n        this.popupObject = new Popup(this.dateTimeWrapper, {\n            width: this.setPopupWidth(),\n            zIndex: this.zIndex,\n            targetType: 'container',\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            enableRtl: this.enableRtl,\n            offsetY: offset,\n            open: function () {\n                _this.dateTimeWrapper.style.visibility = 'visible';\n                addClass([_this.timeIcon], ACTIVE);\n                if (!Browser.isDevice) {\n                    _this.timekeyConfigure = extend(_this.timekeyConfigure, _this.keyConfigs);\n                    _this.inputEvent = new KeyboardEvents(_this.inputWrapper.container, {\n                        keyAction: _this.timeKeyActionHandle.bind(_this),\n                        keyConfigs: _this.timekeyConfigure,\n                        eventName: 'keydown'\n                    });\n                }\n            }, close: function () {\n                removeClass([_this.timeIcon], ACTIVE);\n                _this.unWireTimeListEvents();\n                _this.inputElement.setAttribute('aria-activedescendant', 'null');\n                remove(_this.popupObject.element);\n                _this.popupObject.destroy();\n                _this.dateTimeWrapper.innerHTML = '';\n                _this.listWrapper = _this.dateTimeWrapper = undefined;\n                if (_this.inputEvent) {\n                    _this.inputEvent.destroy();\n                }\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        this.popupObject.element.style.maxHeight = POPUPDIMENSION;\n    };\n    DateTimePicker.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            // eslint-disable-next-line no-self-assign\n            width = width;\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    DateTimePicker.prototype.setPopupWidth = function () {\n        var width = this.setDimension(this.width);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    DateTimePicker.prototype.wireTimeListEvents = function () {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DateTimePicker.prototype.unWireTimeListEvents = function () {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n            if (!Browser.isDevice) {\n                EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n                EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n            }\n        }\n    };\n    DateTimePicker.prototype.onMouseOver = function (event) {\n        var currentLi = closest(event.target, '.' + LISTCLASS);\n        this.setTimeHover(currentLi, HOVER);\n    };\n    DateTimePicker.prototype.onMouseLeave = function () {\n        this.removeTimeHover(HOVER);\n    };\n    DateTimePicker.prototype.setTimeHover = function (li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeTimeHover(className);\n            addClass([li], className);\n        }\n    };\n    DateTimePicker.prototype.getPopupHeight = function () {\n        var height = parseInt(POPUPDIMENSION, 10);\n        var popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    };\n    DateTimePicker.prototype.changeEvent = function (e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n            _super.prototype.changeEvent.call(this, e);\n            this.valueWithMinutes = this.value;\n            this.setInputValue('date');\n            this.previousDateTime = this.value && new Date(+this.value);\n        }\n    };\n    DateTimePicker.prototype.updateValue = function (e) {\n        this.setInputValue('time');\n        if (+this.previousDateTime !== +this.value) {\n            this.changedArgs = {\n                value: this.value, event: e || null,\n                isInteracted: !isNullOrUndefined(e),\n                element: this.element\n            };\n            this.addTimeSelection();\n            this.trigger('change', this.changedArgs);\n            this.previousDateTime = this.previousDate = this.value;\n        }\n    };\n    DateTimePicker.prototype.setTimeScrollPosition = function () {\n        var popupElement = this.selectedElement;\n        if (!isNullOrUndefined(popupElement)) {\n            this.findScrollTop(popupElement);\n        }\n        else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    };\n    DateTimePicker.prototype.findScrollTop = function (element) {\n        var listHeight = this.getPopupHeight();\n        var nextElement = element.nextElementSibling;\n        var height = nextElement ? nextElement.offsetTop : element.offsetTop;\n        var lineHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.dateTimeWrapper.scrollTop = nextElement ? (height - (listHeight / HALFPOSITION + lineHeight / HALFPOSITION)) : height;\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    };\n    DateTimePicker.prototype.setScrollTo = function () {\n        var element;\n        var items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS);\n        if (items.length >= 0) {\n            this.scrollInvoked = true;\n            var initialTime = this.timeCollections[0];\n            var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n            element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    };\n    DateTimePicker.prototype.setInputValue = function (type) {\n        if (type === 'date') {\n            this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n            this.setProperties({ value: this.getFullDateTime() }, true);\n        }\n        else {\n            var tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n            Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousElementValue = this.inputElement.value;\n            this.setProperties({ value: new Date(this.timeCollections[this.activeIndex]) }, true);\n            if (this.enableMask) {\n                this.createMask();\n            }\n        }\n        this.updateIconState();\n    };\n    DateTimePicker.prototype.getFullDateTime = function () {\n        var value = null;\n        if (this.isDateObject(this.valueWithMinutes)) {\n            value = this.combineDateTime(this.valueWithMinutes);\n        }\n        else {\n            value = this.previousDate;\n        }\n        return this.validateMinMaxRange(value);\n    };\n    DateTimePicker.prototype.createMask = function () {\n        this.notify(\"createMask\", {\n            module: \"MaskedDateTime\",\n        });\n    };\n    DateTimePicker.prototype.combineDateTime = function (value) {\n        if (this.isDateObject(value)) {\n            var day = this.previousDate.getDate();\n            var month = this.previousDate.getMonth();\n            var year = this.previousDate.getFullYear();\n            var hour = value.getHours();\n            var minutes = value.getMinutes();\n            var seconds = value.getSeconds();\n            return new Date(year, month, day, hour, minutes, seconds);\n        }\n        else {\n            return this.previousDate;\n        }\n    };\n    DateTimePicker.prototype.onMouseClick = function (event) {\n        var target = event.target;\n        var li = this.selectedElement = closest(target, '.' + LISTCLASS);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.timeValue = li.getAttribute('data-value');\n            this.hide(event);\n        }\n        this.setSelection(li, event);\n    };\n    DateTimePicker.prototype.setSelection = function (li, event) {\n        if (this.isValidLI(li) && !li.classList.contains(ACTIVE)) {\n            this.selectedElement = li;\n            var index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.activeIndex = index;\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], ACTIVE);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.updateValue(event);\n        }\n    };\n    DateTimePicker.prototype.setTimeActiveClass = function () {\n        var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        if (!isNullOrUndefined(collections)) {\n            var items = collections.querySelectorAll('.' + LISTCLASS);\n            if (items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    if (this.timeCollections[i] === +(this.valueWithMinutes)) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        this.setTimeActiveDescendant();\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    DateTimePicker.prototype.setTimeActiveDescendant = function () {\n        if (!isNullOrUndefined(this.selectedElement)) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    };\n    DateTimePicker.prototype.addTimeSelection = function () {\n        this.selectedElement = null;\n        this.removeTimeSelection();\n        this.setTimeActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], ACTIVE);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    };\n    DateTimePicker.prototype.removeTimeSelection = function () {\n        this.removeTimeHover(HOVER);\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            var items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE);\n            if (items.length) {\n                removeClass(items, ACTIVE);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DateTimePicker.prototype.removeTimeHover = function (className) {\n        var hoveredItem = this.getTimeHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n        }\n    };\n    DateTimePicker.prototype.getTimeHoverItem = function (className) {\n        var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        var hoveredItem;\n        if (!isNullOrUndefined(collections)) {\n            hoveredItem = collections.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    };\n    DateTimePicker.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(LISTCLASS) && !li.classList.contains(DISABLED));\n    };\n    DateTimePicker.prototype.calculateStartEnd = function (value, range, method) {\n        var day = value.getDate();\n        var month = value.getMonth();\n        var year = value.getFullYear();\n        var hours = value.getHours();\n        var minutes = value.getMinutes();\n        var seconds = value.getSeconds();\n        var milliseconds = value.getMilliseconds();\n        if (range) {\n            if (method === 'starttime') {\n                return new Date(year, month, day, 0, 0, 0);\n            }\n            else {\n                return new Date(year, month, day, 23, 59, 59);\n            }\n        }\n        else {\n            return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n        }\n    };\n    DateTimePicker.prototype.startTime = function (date) {\n        var tempStartValue;\n        var start;\n        var tempMin = this.min;\n        var value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() &&\n            +value.getFullYear() === +tempMin.getFullYear()) || ((+new Date(value.getFullYear(), value.getMonth(), value.getDate())) <=\n            +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate()))) {\n            start = false;\n            tempStartValue = this.min;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            start = true;\n            tempStartValue = value;\n        }\n        else if (+value >= +this.max) {\n            start = true;\n            tempStartValue = this.max;\n        }\n        return this.calculateStartEnd(tempStartValue, start, 'starttime');\n    };\n    DateTimePicker.prototype.endTime = function (date) {\n        var tempEndValue;\n        var end;\n        var tempMax = this.max;\n        var value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() &&\n            +value.getFullYear() === +tempMax.getFullYear()) || (+new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >=\n            +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate()))) {\n            end = false;\n            tempEndValue = this.max;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            end = true;\n            tempEndValue = value;\n        }\n        else if (+value <= +this.min) {\n            end = true;\n            tempEndValue = this.min;\n        }\n        return this.calculateStartEnd(tempEndValue, end, 'endtime');\n    };\n    DateTimePicker.prototype.hide = function (e) {\n        var _this = this;\n        if (this.popupObj || this.dateTimeWrapper) {\n            this.preventArgs = {\n                cancel: false,\n                popup: this.popupObj || this.popupObject,\n                event: e || null\n            };\n            var eventArgs = this.preventArgs;\n            if (isNullOrUndefined(this.popupObj)) {\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.dateTimeCloseEventCallback(e, eventArgs);\n                });\n            }\n            else {\n                this.dateTimeCloseEventCallback(e, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    };\n    DateTimePicker.prototype.dateTimeCloseEventCallback = function (e, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (!this.preventArgs.cancel) {\n            if (this.isDatePopupOpen()) {\n                _super.prototype.hide.call(this, e);\n            }\n            else if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n                removeClass([document.body], OVERFLOW);\n                if (Browser.isDevice && this.timeModal) {\n                    this.timeModal.style.display = 'none';\n                    this.timeModal.outerHTML = '';\n                    this.timeModal = null;\n                }\n                this.setTimeActiveDescendant();\n            }\n        }\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateTimePicker.prototype.closePopup = function (e) {\n        if (this.isTimePopupOpen() && this.popupObject) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: ANIMATIONDURATION,\n                delay: 0\n            };\n            this.popupObject.hide(new Animation(animModel));\n            this.inputWrapper.container.classList.remove(ICONANIMATION);\n            attributes(this.inputElement, { 'aria-expanded': 'false' });\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n        }\n    };\n    DateTimePicker.prototype.preRender = function () {\n        this.checkFormat();\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        _super.prototype.preRender.call(this);\n        removeClass([this.inputElementCopy], [ROOT]);\n    };\n    DateTimePicker.prototype.getProperty = function (date, val) {\n        if (val === 'min') {\n            this.setProperties({ min: this.validateValue(date.min) }, true);\n        }\n        else {\n            this.setProperties({ max: this.validateValue(date.max) }, true);\n        }\n    };\n    DateTimePicker.prototype.checkAttributes = function (isDynamic) {\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n        var value;\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === 'true' ||\n                                this.inputElement.getAttribute(prop) === '' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    DateTimePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        if (this.enableMask) {\n            modules.push(this.maskedDateModule());\n        }\n        return modules;\n    };\n    DateTimePicker.prototype.maskedDateModule = function () {\n        var modules = { args: [this], member: 'MaskedDateTime' };\n        return modules;\n    };\n    DateTimePicker.prototype.getTimeActiveElement = function () {\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE);\n        }\n        else {\n            return null;\n        }\n    };\n    DateTimePicker.prototype.createDateObj = function (val) {\n        return val instanceof Date ? val : null;\n    };\n    DateTimePicker.prototype.getDateObject = function (text) {\n        if (!this.isNullOrEmpty(text)) {\n            var dateValue = this.createDateObj(text);\n            var value = this.valueWithMinutes;\n            var status_1 = !isNullOrUndefined(value);\n            if (this.checkDateValue(dateValue)) {\n                var date = status_1 ? value.getDate() : DAY;\n                var month = status_1 ? value.getMonth() : MONTH;\n                var year = status_1 ? value.getFullYear() : YEAR;\n                var hour = status_1 ? value.getHours() : HOUR;\n                var minute = status_1 ? value.getMinutes() : MINUTE;\n                var second = status_1 ? value.getSeconds() : SECOND;\n                var millisecond = status_1 ? value.getMilliseconds() : MILLISECOND;\n                if (!this.scrollInvoked) {\n                    return new Date(year, month, date, hour, minute, second, millisecond);\n                }\n                else {\n                    this.scrollInvoked = false;\n                    return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds(), dateValue.getMilliseconds());\n                }\n            }\n        }\n        return null;\n    };\n    DateTimePicker.prototype.findNextTimeElement = function (event) {\n        var textVal = (this.inputElement).value;\n        var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        var dateTimeVal = null;\n        var listCount = this.liCollections.length;\n        if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n            if (event.action === 'home') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[0])));\n                this.activeIndex = 0;\n            }\n            else if (event.action === 'end') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1])));\n                this.activeIndex = this.timeCollections.length - 1;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (var i = 0; i < listCount; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var i = listCount - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n        }\n    };\n    DateTimePicker.prototype.setTimeValue = function (date, value) {\n        var dateString;\n        var time;\n        var val = this.validateMinMaxRange(value);\n        var newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = new Date(+this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = new Date(+this.valueWithMinutes);\n        }\n        if (this.calendarMode === 'Gregorian') {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd'\n            });\n        }\n        else {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n            });\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        return time;\n    };\n    DateTimePicker.prototype.timeElementValue = function (value) {\n        if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n            var date = value instanceof Date ? value : this.getDateObject(value);\n            return this.setTimeValue(date, value);\n        }\n        return null;\n    };\n    DateTimePicker.prototype.timeKeyHandler = function (event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0) {\n            return;\n        }\n        var listCount = this.timeCollections.length;\n        if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    this.activeIndex = 0;\n                    this.selectedElement = this.liCollections[0];\n                    this.timeElementValue(new Date(this.timeCollections[0]));\n                }\n                else {\n                    this.findNextTimeElement(event);\n                }\n            }\n        }\n        else {\n            var nextItemValue = void 0;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                var index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (listCount) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (listCount - 1) : this.activeIndex;\n                nextItemValue = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                this.activeIndex = 0;\n                nextItemValue = this.timeCollections[0];\n            }\n            else if (event.action === 'end') {\n                this.activeIndex = listCount - 1;\n                nextItemValue = this.timeCollections[listCount - 1];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(new Date(nextItemValue));\n        }\n        this.isNavigate = true;\n        this.setTimeHover(this.selectedElement, NAVIGATION);\n        this.setTimeActiveDescendant();\n        if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setTimeScrollPosition();\n        }\n    };\n    DateTimePicker.prototype.timeKeyActionHandle = function (event) {\n        if (this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'up':\n                case 'down':\n                case 'home':\n                case 'end':\n                    this.timeKeyHandler(event);\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.setInputValue('time');\n                        if (+this.previousDateTime !== +this.value) {\n                            this.changedArgs.value = this.value;\n                            this.addTimeSelection();\n                            this.previousDateTime = this.value;\n                        }\n                    }\n                    else {\n                        this.updateValue(event);\n                    }\n                    this.hide(event);\n                    addClass([this.inputWrapper.container], INPUTFOCUS);\n                    this.isNavigate = false;\n                    event.stopPropagation();\n                    break;\n                case 'escape':\n                    this.hide(event);\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    };\n    DateTimePicker.prototype.inputKeyAction = function (event) {\n        switch (event.action) {\n            case 'altDownArrow':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.toggle(event);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateTimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateTimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n\n     */\n    DateTimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    this.isDynamicValueChanged = true;\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    newProp.value = this.validateValue(newProp.value);\n                    Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n                    this.valueWithMinutes = newProp.value;\n                    this.setProperties({ value: newProp.value }, true);\n                    if (this.popupObj) {\n                        this.popupUpdate();\n                    }\n                    this.previousDateTime = new Date(this.inputElement.value);\n                    this.updateInput();\n                    this.changeTrigger(null);\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    if (this.enableMask && this.value) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    this.updateInput();\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'cssClass':\n                    if (!isNullOrUndefined(oldProp.cssClass)) {\n                        oldProp.cssClass = (oldProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    if (!isNullOrUndefined(newProp.cssClass)) {\n                        newProp.cssClass = (newProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n                    if (this.dateTimeWrapper) {\n                        Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n                    this.dateTimeFormat = this.cldrDateTimeFormat();\n                    _super.prototype.updateInput.call(this);\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.dateTimeFormat = this.formatString;\n                    this.setValue();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        if (!this.value) {\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    if (!this.enabled) {\n                        this.inputElement.tabIndex = -1;\n                    }\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n                        if (this.dateTimeWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(newProp.scrollTo))) }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.maskedDateValue = '';\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n            }\n            if (!this.isDynamicValueChanged) {\n                this.hide(null);\n            }\n            this.isDynamicValueChanged = false;\n        }\n    };\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    DateTimePicker.prototype.getModuleName = function () {\n        return 'datetimepicker';\n    };\n    DateTimePicker.prototype.restoreValue = function () {\n        this.previousDateTime = this.previousDate;\n        this.currentDate = this.value ? this.value : new Date();\n        this.valueWithMinutes = this.value;\n        this.previousDate = this.value;\n        this.previousElementValue = this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.getFormattedValue(this.inputValueCopy);\n    };\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"timeFormat\", void 0);\n    __decorate([\n        Property(30)\n    ], DateTimePicker.prototype, \"step\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"scrollTo\", void 0);\n    __decorate([\n        Property(1000)\n    ], DateTimePicker.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property({})\n    ], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(true)\n    ], DateTimePicker.prototype, \"allowEdit\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"values\", void 0);\n    __decorate([\n        Property(true)\n    ], DateTimePicker.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"strictMode\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], DateTimePicker.prototype, \"min\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], DateTimePicker.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], DateTimePicker.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property('Month')\n    ], DateTimePicker.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], DateTimePicker.prototype, \"depth\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property(true)\n    ], DateTimePicker.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Short')\n    ], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"openOnFocus\", void 0);\n    __decorate([\n        Property(false)\n    ], DateTimePicker.prototype, \"enableMask\", void 0);\n    __decorate([\n        Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n    ], DateTimePicker.prototype, \"maskPlaceholder\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"cleared\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DateTimePicker.prototype, \"destroyed\", void 0);\n    DateTimePicker = __decorate([\n        NotifyPropertyChanges\n    ], DateTimePicker);\n    return DateTimePicker;\n}(DatePicker));\nexport { DateTimePicker };\n","import { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { createElement, closest, remove, classList, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { parentsUntil, isActionPrevent, isGroupAdaptive, updatecloneRow, getComplexFieldID, isComplexField } from '../base/util';\nimport * as events from '../base/constant';\nimport { AriaService } from '../services/aria-service';\nimport { GroupModelGenerator } from '../services/group-model-generator';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport * as literals from '../base/string-literals';\n// eslint-disable-next-line valid-jsdoc\n/**\n *\n * The `Group` module is used to handle group action.\n */\nvar Group = /** @class */ (function () {\n    /**\n     * Constructor for Grid group module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {GroupSettingsModel} groupSettings - specifies the GroupSettingsModel\n     * @param {string[]} sortedColumns - specifies the sortedColumns\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     * @hidden\n     */\n    function Group(parent, groupSettings, sortedColumns, serviceLocator) {\n        var _this = this;\n        //Internal variables\n        this.sortRequired = true;\n        this.isAppliedGroup = false;\n        this.isAppliedUnGroup = false;\n        this.reorderingColumns = [];\n        this.visualElement = createElement('div', {\n            className: 'e-cloneproperties e-dragclone e-gdclone',\n            styles: 'line-height:23px', attrs: { action: 'grouping' }\n        });\n        this.helper = function (e) {\n            var gObj = _this.parent;\n            var target = e.sender.target;\n            var element = target.classList.contains('e-groupheadercell') ? target :\n                parentsUntil(target, 'e-groupheadercell');\n            if (!element || (!target.classList.contains('e-drag') && _this.groupSettings.allowReordering)) {\n                return false;\n            }\n            _this.column = gObj.getColumnByField(element.firstElementChild.getAttribute('ej-mappingname'));\n            _this.visualElement.textContent = element.textContent;\n            _this.visualElement.style.width = element.offsetWidth + 2 + 'px';\n            _this.visualElement.style.height = element.offsetHeight + 2 + 'px';\n            _this.visualElement.setAttribute('e-mappinguid', _this.column.uid);\n            gObj.element.appendChild(_this.visualElement);\n            return _this.visualElement;\n        };\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        this.dragStart = function (e) {\n            _this.parent.element.classList.add('e-ungroupdrag');\n        };\n        this.drag = function (e) {\n            if (_this.groupSettings.allowReordering) {\n                _this.animateDropper(e);\n            }\n            var target = e.target;\n            var cloneElement = _this.parent.element.querySelector('.e-cloneproperties');\n            _this.parent.trigger(events.columnDrag, { target: target, draggableType: 'headercell', column: _this.column });\n            if (!_this.groupSettings.allowReordering) {\n                classList(cloneElement, ['e-defaultcur'], ['e-notallowedcur']);\n                if (!(parentsUntil(target, literals.gridContent) || parentsUntil(target, 'e-headercell'))) {\n                    classList(cloneElement, ['e-notallowedcur'], ['e-defaultcur']);\n                }\n            }\n        };\n        this.dragStop = function (e) {\n            _this.parent.element.classList.remove('e-ungroupdrag');\n            var preventDrop = !(parentsUntil(e.target, literals.gridContent) || parentsUntil(e.target, 'e-gridheader'));\n            if (_this.groupSettings.allowReordering && preventDrop) {\n                remove(e.helper);\n                if (parentsUntil(e.target, 'e-groupdroparea')) {\n                    _this.rearrangeGroup();\n                }\n                else if (!(parentsUntil(e.target, 'e-grid'))) {\n                    var field = _this.parent.getColumnByUid(e.helper.getAttribute('e-mappinguid')).field;\n                    if (_this.groupSettings.columns.indexOf(field) !== -1) {\n                        _this.ungroupColumn(field);\n                    }\n                }\n                return;\n            }\n            else if (preventDrop) {\n                remove(e.helper);\n                return;\n            }\n        };\n        this.animateDropper = function (e) {\n            var uid = _this.parent.element.querySelector('.e-cloneproperties').getAttribute('e-mappinguid');\n            var dragField = _this.parent.getColumnByUid(uid).field;\n            var parent = parentsUntil(e.target, 'e-groupdroparea');\n            var dropTarget = parentsUntil(e.target, 'e-group-animator');\n            var grouped = [].slice.call(_this.element.getElementsByClassName('e-groupheadercell'))\n                .map(function (e) { return e.querySelector('div').getAttribute('ej-mappingname'); });\n            var cols = JSON.parse(JSON.stringify(grouped));\n            if (dropTarget || parent) {\n                if (dropTarget) {\n                    var dropField = dropTarget.querySelector('div[ej-mappingname]').getAttribute('ej-mappingname');\n                    var dropIndex = +(dropTarget.getAttribute('index'));\n                    if (dropField !== dragField) {\n                        var dragIndex = cols.indexOf(dragField);\n                        if (dragIndex !== -1) {\n                            cols.splice(dragIndex, 1);\n                        }\n                        var flag = dropIndex !== -1 && dragIndex === dropIndex;\n                        cols.splice(dropIndex + (flag ? 1 : 0), 0, dragField);\n                    }\n                }\n                else if (parent && cols.indexOf(dragField) === -1) {\n                    cols.push(dragField);\n                }\n                _this.element.innerHTML = '';\n                if (cols.length && !_this.element.classList.contains('e-grouped')) {\n                    _this.element.classList.add('e-grouped');\n                }\n                _this.reorderingColumns = cols;\n                for (var c = 0; c < cols.length; c++) {\n                    _this.addColToGroupDrop(cols[c]);\n                }\n            }\n            else {\n                _this.addLabel();\n                _this.removeColFromGroupDrop(dragField);\n            }\n        };\n        this.drop = function (e) {\n            var gObj = _this.parent;\n            var column = gObj.getColumnByUid(e.droppedElement.getAttribute('e-mappinguid'));\n            _this.element.classList.remove('e-hover');\n            remove(e.droppedElement);\n            _this.aria.setDropTarget(_this.parent.element.querySelector('.e-groupdroparea'), false);\n            _this.aria.setGrabbed(_this.parent.getHeaderTable().querySelector('[aria-grabbed=true]'), false);\n            if (isNullOrUndefined(column) || column.allowGrouping === false ||\n                parentsUntil(gObj.getColumnHeaderByUid(column.uid), 'e-grid').getAttribute('id') !==\n                    gObj.element.getAttribute('id')) {\n                _this.parent.log('action_disabled_column', { moduleName: _this.getModuleName(), columnName: column.headerText });\n                return;\n            }\n            _this.groupColumn(column.field);\n        };\n        this.contentRefresh = true;\n        this.aria = new AriaService();\n        this.parent = parent;\n        this.groupSettings = groupSettings;\n        this.serviceLocator = serviceLocator;\n        this.sortedColumns = sortedColumns;\n        this.focus = serviceLocator.getService('focus');\n        this.addEventListener();\n        this.groupGenerator = new GroupModelGenerator(this.parent);\n    }\n    Group.prototype.addLabel = function () {\n        if (!this.element.getElementsByClassName('e-group-animator').length) {\n            var dragLabel = this.l10n.getConstant('GroupDropArea');\n            this.element.innerHTML = dragLabel;\n            this.element.classList.remove('e-grouped');\n        }\n    };\n    Group.prototype.rearrangeGroup = function () {\n        this.sortRequired = false;\n        this.updateModel();\n    };\n    Group.prototype.columnDrag = function (e) {\n        if (this.groupSettings.allowReordering && e.column.allowGrouping) {\n            this.animateDropper(e);\n        }\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        classList(cloneElement, ['e-defaultcur'], ['e-notallowedcur']);\n        if (!parentsUntil(e.target, 'e-groupdroparea') &&\n            !(this.parent.allowReordering && parentsUntil(e.target, 'e-headercell'))) {\n            classList(cloneElement, ['e-notallowedcur'], ['e-defaultcur']);\n        }\n        if (e.target.classList.contains('e-groupdroparea')) {\n            this.element.classList.add('e-hover');\n        }\n        else {\n            this.element.classList.remove('e-hover');\n        }\n    };\n    Group.prototype.columnDragStart = function (e) {\n        if (e.target.classList.contains('e-stackedheadercell')) {\n            return;\n        }\n        var dropArea = this.parent.element.querySelector('.e-groupdroparea');\n        this.aria.setDropTarget(dropArea, e.column.allowGrouping);\n        var element = e.target.classList.contains('e-headercell') ? e.target : parentsUntil(e.target, 'e-headercell');\n        this.aria.setGrabbed(element, true, !e.column.allowGrouping);\n    };\n    Group.prototype.columnDrop = function (e) {\n        var gObj = this.parent;\n        if (e.droppedElement.getAttribute('action') === 'grouping') {\n            var column = gObj.getColumnByUid(e.droppedElement.getAttribute('e-mappinguid'));\n            if (isNullOrUndefined(column) || column.allowGrouping === false ||\n                parentsUntil(gObj.getColumnHeaderByUid(column.uid), 'e-grid').getAttribute('id') !==\n                    gObj.element.getAttribute('id')) {\n                return;\n            }\n            this.ungroupColumn(column.field);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Group.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.uiUpdate, this.enableAfterRender, this);\n        this.parent.on(events.groupComplete, this.onActionComplete, this);\n        this.parent.on(events.ungroupComplete, this.onActionComplete, this);\n        this.parent.on(events.inBoundModelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.click, this.clickHandler, this);\n        this.parent.on(events.columnDrag, this.columnDrag, this);\n        this.parent.on(events.columnDragStart, this.columnDragStart, this);\n        this.parent.on(events.headerDrop, this.columnDrop, this);\n        this.parent.on(events.columnDrop, this.columnDrop, this);\n        this.parent.on(events.headerRefreshed, this.refreshSortIcons, this);\n        this.parent.on(events.sortComplete, this.refreshSortIcons, this);\n        this.parent.on(events.keyPressed, this.keyPressHandler, this);\n        this.parent.on(events.contentReady, this.initialEnd, this);\n        this.parent.on(events.onEmpty, this.initialEnd, this);\n        this.parent.on(events.initialEnd, this.render, this);\n        this.parent.on(events.groupAggregates, this.onGroupAggregates, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on('group-expand-collapse', this.updateExpand, this);\n        this.parent.on('persist-data-changed', this.initialEnd, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Group.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.render);\n        this.parent.off(events.uiUpdate, this.enableAfterRender);\n        this.parent.off(events.groupComplete, this.onActionComplete);\n        this.parent.off(events.ungroupComplete, this.onActionComplete);\n        this.parent.off(events.inBoundModelChanged, this.onPropertyChanged);\n        this.parent.off(events.click, this.clickHandler);\n        this.parent.off(events.columnDrag, this.columnDrag);\n        this.parent.off(events.columnDragStart, this.columnDragStart);\n        this.parent.off(events.columnDrop, this.columnDrop);\n        this.parent.off(events.headerDrop, this.columnDrop);\n        this.parent.off(events.headerRefreshed, this.refreshSortIcons);\n        this.parent.off(events.sortComplete, this.refreshSortIcons);\n        this.parent.off(events.keyPressed, this.keyPressHandler);\n        this.parent.off(events.groupAggregates, this.onGroupAggregates);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off('group-expand-collapse', this.updateExpand);\n    };\n    Group.prototype.initialEnd = function () {\n        var gObj = this.parent;\n        this.parent.off(events.contentReady, this.initialEnd);\n        this.parent.off(events.onEmpty, this.initialEnd);\n        if (this.parent.getColumns().length && this.groupSettings.columns.length) {\n            this.contentRefresh = false;\n            for (var _i = 0, _a = gObj.groupSettings.columns; _i < _a.length; _i++) {\n                var col = _a[_i];\n                this.groupColumn(col);\n            }\n            this.contentRefresh = true;\n        }\n    };\n    Group.prototype.keyPressHandler = function (e) {\n        var gObj = this.parent;\n        if (e.action !== 'ctrlSpace' && (!this.groupSettings.columns.length ||\n            ['altDownArrow', 'altUpArrow', 'ctrlDownArrow', 'ctrlUpArrow', 'enter'].indexOf(e.action) === -1)) {\n            return;\n        }\n        e.preventDefault();\n        switch (e.action) {\n            case 'altDownArrow':\n            case 'altUpArrow':\n                // eslint-disable-next-line no-case-declarations\n                var selected = gObj.allowSelection ? gObj.getSelectedRowIndexes() : [];\n                if (selected.length) {\n                    var rows = gObj.getContentTable().querySelector(literals.tbody).children;\n                    var dataRow = gObj.getDataRows()[selected[selected.length - 1]];\n                    var grpRow = void 0;\n                    for (var i = dataRow.rowIndex; i >= 0; i--) {\n                        if (!rows[i].classList.contains(literals.row) && !rows[i].classList.contains('e-detailrow')) {\n                            grpRow = rows[i];\n                            break;\n                        }\n                    }\n                    this.expandCollapseRows(grpRow.querySelector(e.action === 'altUpArrow' ?\n                        '.e-recordplusexpand' : '.e-recordpluscollapse'));\n                }\n                break;\n            case 'ctrlDownArrow':\n                this.expandAll();\n                break;\n            case 'ctrlUpArrow':\n                this.collapseAll();\n                break;\n            case 'enter':\n                if (this.parent.isEdit || (closest(e.target, '#' + this.parent.element.id + '_searchbar') !== null)) {\n                    return;\n                }\n                // eslint-disable-next-line no-case-declarations\n                var element = this.focus.getFocusedElement();\n                // eslint-disable-next-line no-case-declarations\n                var row = element ? element.parentElement.querySelector('[class^=\"e-record\"]') : null;\n                if (!row) {\n                    break;\n                }\n                this.expandCollapseRows(row);\n                break;\n            case 'ctrlSpace':\n                // eslint-disable-next-line no-case-declarations\n                var elem = gObj.focusModule.currentInfo.element;\n                if (elem && elem.classList.contains('e-headercell')) {\n                    var column = gObj.getColumnByUid(elem.firstElementChild.getAttribute('e-mappinguid'));\n                    if (column.field && gObj.groupSettings.columns.indexOf(column.field) < 0) {\n                        this.groupColumn(column.field);\n                    }\n                    else {\n                        this.ungroupColumn(column.field);\n                    }\n                }\n                break;\n        }\n    };\n    Group.prototype.clickHandler = function (e) {\n        this.expandCollapseRows(e.target);\n        this.applySortFromTarget(e.target);\n        this.unGroupFromTarget(e.target);\n        this.toogleGroupFromHeader(e.target);\n    };\n    Group.prototype.unGroupFromTarget = function (target) {\n        if (target.classList.contains('e-ungroupbutton')) {\n            this.ungroupColumn(target.parentElement.getAttribute('ej-mappingname'));\n        }\n    };\n    Group.prototype.toogleGroupFromHeader = function (target) {\n        if (this.groupSettings.showToggleButton) {\n            if (target.classList.contains('e-grptogglebtn')) {\n                if (target.classList.contains('e-toggleungroup')) {\n                    this.ungroupColumn(this.parent.getColumnByUid(target.parentElement.getAttribute('e-mappinguid')).field);\n                }\n                else {\n                    this.groupColumn(this.parent.getColumnByUid(target.parentElement.getAttribute('e-mappinguid')).field);\n                }\n            }\n            else {\n                if (target.classList.contains('e-toggleungroup')) {\n                    this.ungroupColumn(target.parentElement.getAttribute('ej-mappingname'));\n                }\n            }\n        }\n    };\n    Group.prototype.applySortFromTarget = function (target) {\n        var gObj = this.parent;\n        var gHeader = closest(target, '.e-groupheadercell');\n        if (gObj.allowSorting && gHeader && !target.classList.contains('e-ungroupbutton') &&\n            !target.classList.contains('e-toggleungroup')) {\n            var field = gHeader.firstElementChild.getAttribute('ej-mappingname');\n            if (gObj.getColumnHeaderByField(field).getElementsByClassName('e-ascending').length) {\n                gObj.sortColumn(field, 'Descending', true);\n            }\n            else {\n                gObj.sortColumn(field, 'Ascending', true);\n            }\n        }\n    };\n    /**\n     * Expands or collapses grouped rows by target element.\n     *\n     * @param  {Element} target - Defines the target element of the grouped row.\n     * @returns {void}\n     */\n    Group.prototype.expandCollapseRows = function (target) {\n        var trgt = parentsUntil(target, 'e-recordplusexpand') ||\n            parentsUntil(target, 'e-recordpluscollapse');\n        if (trgt) {\n            var rowNodes = this.parent.getContentTable().querySelector(literals.tbody).children;\n            var isHide = void 0;\n            var dataManager = void 0;\n            var query = void 0;\n            var gObj = this.parent;\n            var indent = trgt.parentElement.getElementsByClassName('e-indentcell').length;\n            var uid = trgt.parentElement.getAttribute('data-uid');\n            var captionRow = gObj.getRowObjectFromUID(uid);\n            var expand = false;\n            if (trgt.classList.contains('e-recordpluscollapse')) {\n                addClass([trgt], 'e-recordplusexpand');\n                removeClass([trgt], 'e-recordpluscollapse');\n                trgt.firstElementChild.className = 'e-icons e-gdiagonaldown e-icon-gdownarrow';\n                expand = true;\n                captionRow.isExpand = true;\n                if (isGroupAdaptive(gObj)) {\n                    this.updateVirtualRows(gObj, target, expand, query, dataManager);\n                }\n                if (this.parent.groupSettings.enableLazyLoading) {\n                    this.parent.contentModule.captionExpand(trgt.parentElement);\n                }\n            }\n            else {\n                isHide = true;\n                captionRow.isExpand = false;\n                removeClass([trgt], 'e-recordplusexpand');\n                addClass([trgt], 'e-recordpluscollapse');\n                trgt.firstElementChild.className = 'e-icons e-gnextforward e-icon-grightarrow';\n                if (isGroupAdaptive(gObj)) {\n                    this.updateVirtualRows(gObj, target, !isHide, query, dataManager);\n                }\n                if (this.parent.groupSettings.enableLazyLoading) {\n                    this.parent.contentModule.captionCollapse(trgt.parentElement);\n                }\n            }\n            this.aria.setExpand(trgt, expand);\n            if (!isGroupAdaptive(gObj) && !this.parent.groupSettings.enableLazyLoading) {\n                var rowObjs = gObj.getRowsObject();\n                var startIdx = rowObjs.indexOf(captionRow);\n                var rowsState = {};\n                for (var i = startIdx; i < rowObjs.length; i++) {\n                    if (i > startIdx && rowObjs[i].indent === indent) {\n                        break;\n                    }\n                    if (rowObjs[i].isDetailRow) {\n                        var visible = rowObjs[i - 1].isExpand && rowObjs[i - 1].visible;\n                        rowNodes[i].style.display = visible ? '' : 'none';\n                    }\n                    else if (rowsState[rowObjs[i].parentUid] === false) {\n                        rowObjs[i].visible = false;\n                        rowNodes[i].style.display = 'none';\n                    }\n                    else {\n                        if (!(rowObjs[i].isDataRow || rowObjs[i].isCaptionRow || rowObjs[i].isDetailRow || rowObjs[i].isAggregateRow)) {\n                            var visible = rowObjs[i].cells.some(function (cell) { return cell.isDataCell\n                                && cell.visible; });\n                            if (visible === rowObjs[i].visible) {\n                                continue;\n                            }\n                        }\n                        rowObjs[i].visible = true;\n                        rowNodes[i].style.display = '';\n                        rowNodes[i].classList.remove('e-hide');\n                    }\n                    if (rowObjs[i].isCaptionRow) {\n                        rowsState[rowObjs[i].uid] = rowObjs[i].isExpand && rowObjs[i].visible;\n                    }\n                }\n                this.parent.notify(events.refreshExpandandCollapse, { rows: this.parent.getRowsObject() });\n            }\n            this.parent.notify(events.captionActionComplete, { isCollapse: isHide, parentUid: uid });\n        }\n    };\n    Group.prototype.updateVirtualRows = function (gObj, target, isExpand, query, dataManager) {\n        var rObj = gObj.getRowObjectFromUID(target.closest('tr').getAttribute('data-uid'));\n        rObj.isExpand = isExpand;\n        updatecloneRow(gObj);\n        this.parent.notify(events.refreshVirtualMaxPage, {});\n        query = gObj.getDataModule().generateQuery(false);\n        query.queries = gObj.getDataModule().aggregateQuery(gObj.getQuery().clone()).queries;\n        var args = { requestType: 'virtualscroll', rowObject: rObj };\n        if (gObj.contentModule) {\n            args.virtualInfo = gObj.contentModule.prevInfo;\n        }\n        dataManager = gObj.getDataModule().getData(args, query.requiresCount());\n        dataManager.then(function (e) { return gObj.renderModule.dataManagerSuccess(e, args); });\n    };\n    Group.prototype.expandCollapse = function (isExpand) {\n        if (!this.parent.groupSettings.columns.length) {\n            return;\n        }\n        if (!isExpand) {\n            this.parent.notify(events.initialCollapse, isExpand);\n        }\n        var rowNodes = this.parent.getContentTable().querySelector(literals.tbody).children;\n        var rowObjs = this.parent.getRowsObject();\n        var row;\n        for (var i = 0, len = rowNodes.length; i < len; i++) {\n            if (rowNodes[i].querySelectorAll('.e-recordplusexpand, .e-recordpluscollapse').length) {\n                row = rowNodes[i].querySelector(isExpand ? '.e-recordpluscollapse' : '.e-recordplusexpand');\n                if (row) {\n                    row.className = isExpand ? 'e-recordplusexpand' : 'e-recordpluscollapse';\n                    row.firstElementChild.className = isExpand ? 'e-icons e-gdiagonaldown e-icon-gdownarrow' :\n                        'e-icons e-gnextforward e-icon-grightarrow';\n                }\n                if (!(rowNodes[i].firstElementChild.classList.contains('e-recordplusexpand') ||\n                    rowNodes[i].firstElementChild.classList.contains('e-recordpluscollapse'))) {\n                    rowNodes[i].style.display = isExpand ? '' : 'none';\n                }\n            }\n            else {\n                rowNodes[i].style.display = isExpand ? '' : 'none';\n            }\n            if (rowObjs[i].isCaptionRow) {\n                rowObjs[i].isExpand = isExpand ? true : false;\n            }\n        }\n        this.parent.updateVisibleExpandCollapseRows();\n        this.parent.notify(events.refreshExpandandCollapse, { rows: this.parent.getRowsObject() });\n    };\n    /**\n     * Expands all the grouped rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Group.prototype.expandAll = function () {\n        this.expandCollapse(true);\n    };\n    /**\n     * Collapses all the grouped rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Group.prototype.collapseAll = function () {\n        this.expandCollapse(false);\n    };\n    /**\n     * The function is used to render grouping\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Group.prototype.render = function () {\n        this.l10n = this.serviceLocator.getService('localization');\n        this.renderGroupDropArea();\n        this.initDragAndDrop();\n        this.refreshToggleBtn();\n    };\n    Group.prototype.renderGroupDropArea = function () {\n        var groupElem = this.parent.element.querySelector('.e-groupdroparea');\n        if (groupElem) {\n            remove(groupElem);\n        }\n        this.element = this.parent.createElement('div', { className: 'e-groupdroparea', attrs: { 'tabindex': '-1' } });\n        if (this.groupSettings.allowReordering) {\n            this.element.classList.add('e-group-animate');\n        }\n        this.updateGroupDropArea();\n        this.parent.element.insertBefore(this.element, this.parent.element.firstChild);\n        if (!this.groupSettings.showDropArea) {\n            this.element.style.display = 'none';\n        }\n    };\n    Group.prototype.updateGroupDropArea = function (clear) {\n        if (this.groupSettings.showDropArea && !this.groupSettings.columns.length) {\n            var dragLabel = this.l10n.getConstant('GroupDropArea');\n            this.element.innerHTML = dragLabel;\n            this.element.classList.remove('e-grouped');\n        }\n        else {\n            if ((this.element.innerHTML === this.l10n.getConstant('GroupDropArea') && (this.groupSettings.columns.length === 1\n                || !this.isAppliedGroup && !this.isAppliedUnGroup)) || clear) {\n                this.element.innerHTML = '';\n            }\n            this.element.classList.add('e-grouped');\n        }\n    };\n    Group.prototype.initDragAndDrop = function () {\n        this.initializeGHeaderDrop();\n        this.initializeGHeaderDrag();\n    };\n    Group.prototype.initializeGHeaderDrag = function () {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var drag = new Draggable(this.element, {\n            dragTarget: this.groupSettings.allowReordering ? '.e-drag' : '.e-groupheadercell',\n            distance: this.groupSettings.allowReordering ? -10 : 5,\n            helper: this.helper,\n            dragStart: this.dragStart,\n            drag: this.drag,\n            dragStop: this.dragStop\n        });\n    };\n    Group.prototype.initializeGHeaderDrop = function () {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var drop = new Droppable(this.element, {\n            accept: '.e-dragclone',\n            drop: this.drop\n        });\n    };\n    /**\n     * Groups a column by column name.\n     *\n     * @param  {string} columnName - Defines the column name to group.\n     * @returns {void}\n     */\n    Group.prototype.groupColumn = function (columnName) {\n        var gObj = this.parent;\n        var column = gObj.getColumnByField(columnName);\n        if (isNullOrUndefined(column) || column.allowGrouping === false ||\n            (this.contentRefresh && this.groupSettings.columns.indexOf(columnName) > -1)) {\n            this.parent.log('action_disabled_column', { moduleName: this.getModuleName(), columnName: column.headerText });\n            return;\n        }\n        if (isActionPrevent(gObj)) {\n            gObj.notify(events.preventBatch, { instance: this, handler: this.groupColumn, arg1: columnName });\n            return;\n        }\n        column.visible = gObj.groupSettings.showGroupedColumn;\n        this.colName = columnName;\n        this.isAppliedGroup = true;\n        if (this.contentRefresh) {\n            this.updateModel();\n        }\n        else {\n            this.addColToGroupDrop(columnName);\n        }\n        this.updateGroupDropArea();\n        this.isAppliedGroup = false;\n    };\n    /**\n     * Ungroups a column by column name.\n     *\n     * @param  {string} columnName - Defines the column name to ungroup.\n     * @returns {void}\n     */\n    Group.prototype.ungroupColumn = function (columnName) {\n        var gObj = this.parent;\n        var column = this.parent.enableColumnVirtualization ?\n            this.parent.columns.filter(function (c) { return c.field === columnName; })[0] : gObj.getColumnByField(columnName);\n        if (isNullOrUndefined(column) || column.allowGrouping === false || this.groupSettings.columns.indexOf(columnName) < 0) {\n            return;\n        }\n        if (isActionPrevent(gObj)) {\n            gObj.notify(events.preventBatch, { instance: this, handler: this.ungroupColumn, arg1: columnName });\n            return;\n        }\n        column.visible = true;\n        this.colName = column.field;\n        var columns = JSON.parse(JSON.stringify(this.groupSettings.columns));\n        columns.splice(columns.indexOf(this.colName), 1);\n        if (this.sortedColumns.indexOf(columnName) < 0) {\n            for (var i = 0, len = gObj.sortSettings.columns.length; i < len; i++) {\n                if (columnName === gObj.sortSettings.columns[i].field) {\n                    gObj.sortSettings.columns.splice(i, 1);\n                    break;\n                }\n            }\n        }\n        if (this.groupSettings.allowReordering) {\n            this.reorderingColumns = columns;\n        }\n        this.groupSettings.columns = columns;\n        if (gObj.allowGrouping) {\n            this.isAppliedUnGroup = true;\n            this.parent.dataBind();\n        }\n    };\n    /**\n     * The function used to update groupSettings\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Group.prototype.updateModel = function () {\n        var columns = JSON.parse(JSON.stringify(this.groupSettings.columns));\n        columns = this.reorderingColumns.length ? JSON.parse(JSON.stringify(this.reorderingColumns)) : columns;\n        if (this.sortRequired) {\n            if (columns.indexOf(this.colName) === -1) {\n                columns.push(this.colName);\n            }\n            this.groupAddSortingQuery(this.colName);\n        }\n        this.sortRequired = true;\n        this.parent.groupSettings.columns = columns;\n        this.parent.dataBind();\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Group.prototype.onActionComplete = function (e) {\n        if (e.requestType === 'grouping') {\n            this.addColToGroupDrop(this.colName);\n        }\n        else {\n            this.removeColFromGroupDrop(this.colName);\n        }\n        var args = this.groupSettings.columns.indexOf(this.colName) > -1 ? {\n            columnName: this.colName, requestType: 'grouping', type: events.actionComplete\n        } : { requestType: 'ungrouping', type: events.actionComplete };\n        this.parent.trigger(events.actionComplete, extend(e, args));\n        this.colName = null;\n    };\n    Group.prototype.groupAddSortingQuery = function (colName) {\n        var i = 0;\n        while (i < this.parent.sortSettings.columns.length) {\n            if (this.parent.sortSettings.columns[i].field === colName) {\n                break;\n            }\n            i++;\n        }\n        if (this.parent.sortSettings.columns.length === i) {\n            this.parent.sortSettings.columns.push({ field: colName, direction: 'Ascending', isFromGroup: true });\n        }\n        else if (!this.parent.allowSorting) {\n            this.parent.sortSettings.columns[i].direction = 'Ascending';\n        }\n    };\n    Group.prototype.createElement = function (field) {\n        var gObj = this.parent;\n        var direction = 'Ascending';\n        var animator = this.parent.createElement('div', { className: 'e-grid-icon e-group-animator' });\n        var groupedColumn = this.parent.createElement('div', { className: 'e-grid-icon e-groupheadercell' });\n        var childDiv = this.parent.createElement('div', { attrs: { 'ej-mappingname': field } });\n        if (isComplexField(field)) {\n            childDiv.setAttribute('ej-complexname', getComplexFieldID(field));\n        }\n        var column = this.parent.getColumnByField(field);\n        //Todo headerTemplateID for grouped column, disableHtmlEncode\n        var headerCell = gObj.getColumnHeaderByUid(column.uid);\n        // if (!isNullOrUndefined(column.headerTemplate)) {\n        //     if (column.headerTemplate.indexOf('#') !== -1) {\n        //         childDiv.innerHTML = document.querySelector(column.headerTemplate).innerHTML.trim();\n        //     } else {\n        //         childDiv.innerHTML = column.headerTemplate;\n        //     }\n        //     childDiv.firstElementChild.classList.add('e-grouptext');\n        // } else {\n        if (this.groupSettings.allowReordering) {\n            childDiv.appendChild(this.parent.createElement('span', {\n                className: 'e-drag e-icons e-icon-drag', innerHTML: '&nbsp;',\n                attrs: { title: 'Drag', tabindex: '-1', 'aria-label': 'Drag the grouped column' }\n            }));\n        }\n        childDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-grouptext', innerHTML: column.headerText,\n            attrs: { tabindex: '-1', 'aria-label': 'sort the grouped column' }\n        }));\n        // }\n        if (this.groupSettings.showToggleButton) {\n            childDiv.appendChild(this.parent.createElement('span', {\n                className: 'e-togglegroupbutton e-icons e-icon-ungroup e-toggleungroup', innerHTML: '&nbsp;',\n                attrs: { tabindex: '-1', 'aria-label': 'ungroup button' }\n            }));\n        }\n        if (headerCell.querySelectorAll('.e-ascending,.e-descending').length) {\n            direction = headerCell.querySelector('.e-ascending') ? 'Ascending' : 'Descending';\n        }\n        childDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-groupsort e-icons ' +\n                ('e-' + direction.toLowerCase() + ' e-icon-' + direction.toLowerCase()), innerHTML: '&nbsp;',\n            attrs: { tabindex: '-1', 'aria-label': 'sort the grouped column' }\n        }));\n        childDiv.appendChild(this.parent.createElement('span', {\n            className: 'e-ungroupbutton e-icons e-icon-hide', innerHTML: '&nbsp;',\n            attrs: { title: this.l10n.getConstant('UnGroup'),\n                tabindex: '-1', 'aria-label': 'ungroup the grouped column' },\n            styles: this.groupSettings.showUngroupButton ? '' : 'display:none'\n        }));\n        groupedColumn.appendChild(childDiv);\n        if (this.groupSettings.allowReordering) {\n            animator.appendChild(groupedColumn);\n            animator.appendChild(this.createSeparator());\n            groupedColumn = animator;\n        }\n        return groupedColumn;\n    };\n    Group.prototype.addColToGroupDrop = function (field) {\n        var groupElem = isComplexField(field) ? this.parent.element.querySelector('.e-groupdroparea div[ej-complexname=' +\n            getComplexFieldID(field) + ']') : this.parent.element.querySelector('.e-groupdroparea div[ej-mappingname=' + field + ']');\n        if (this.groupSettings.allowReordering && groupElem) {\n            return;\n        }\n        var column = this.parent.getColumnByField(field);\n        if (isNullOrUndefined(column)) {\n            return;\n        }\n        var groupedColumn = this.createElement(field);\n        if (this.groupSettings.allowReordering) {\n            var index = this.element.getElementsByClassName('e-group-animator').length;\n            groupedColumn.setAttribute('index', index.toString());\n        }\n        this.element.appendChild(groupedColumn);\n        //Todo:  rtl\n    };\n    Group.prototype.createSeparator = function () {\n        return this.parent.createElement('span', {\n            className: 'e-nextgroup e-icons e-icon-next', innerHTML: '&nbsp;',\n            attrs: { tabindex: '-1', 'aria-label': 'Separator for the grouped columns' },\n            styles: this.groupSettings.showUngroupButton ? '' : 'display:none'\n        });\n    };\n    Group.prototype.refreshToggleBtn = function (isRemove) {\n        if (this.groupSettings.showToggleButton) {\n            var headers = [].slice.call(this.parent.getHeaderTable().getElementsByClassName('e-headercelldiv'));\n            for (var i = 0, len = headers.length; i < len; i++) {\n                if (!((headers[i].classList.contains('e-emptycell')) || (headers[i].classList.contains('e-headerchkcelldiv')))) {\n                    var column = this.parent.getColumnByUid(headers[i].getAttribute('e-mappinguid'));\n                    if (!this.parent.showColumnMenu || (this.parent.showColumnMenu && !column.showColumnMenu)) {\n                        if (headers[i].getElementsByClassName('e-grptogglebtn').length) {\n                            remove(headers[i].querySelectorAll('.e-grptogglebtn')[0]);\n                        }\n                        if (!isRemove) {\n                            headers[i].appendChild(this.parent.createElement('span', {\n                                className: 'e-grptogglebtn e-icons ' +\n                                    (this.groupSettings.columns.indexOf(column.field) > -1 ? 'e-toggleungroup e-icon-ungroup'\n                                        : 'e-togglegroup e-icon-group'), attrs: { tabindex: '-1', 'aria-label': 'Group button' }\n                            }));\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Group.prototype.removeColFromGroupDrop = function (field) {\n        if (!isNullOrUndefined(this.getGHeaderCell(field))) {\n            var elem = this.getGHeaderCell(field);\n            if (this.groupSettings.allowReordering) {\n                var parent_1 = parentsUntil(elem, 'e-group-animator');\n                remove(parent_1);\n            }\n            else {\n                remove(elem);\n            }\n            this.updateGroupDropArea();\n        }\n        this.isAppliedUnGroup = false;\n    };\n    Group.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.properties); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'columns':\n                    // eslint-disable-next-line no-case-declarations\n                    var args = void 0;\n                    if (this.contentRefresh) {\n                        if (!this.isAppliedUnGroup) {\n                            if (!this.isAppliedGroup) {\n                                this.updateGroupDropArea(true);\n                                for (var j = 0; j < this.parent.sortSettings.columns.length; j++) {\n                                    if (this.parent.sortSettings.columns[j].isFromGroup) {\n                                        this.parent.sortSettings.columns.splice(j, 1);\n                                        j--;\n                                    }\n                                }\n                                for (var i = 0; i < this.groupSettings.columns.length; i++) {\n                                    this.colName = this.groupSettings.columns[i];\n                                    var col = this.parent.getColumnByField(this.colName);\n                                    col.visible = this.parent.groupSettings.showGroupedColumn;\n                                    this.groupAddSortingQuery(this.colName);\n                                    if (i < this.groupSettings.columns.length - 1) {\n                                        this.addColToGroupDrop(this.groupSettings.columns[i]);\n                                    }\n                                }\n                            }\n                            args = {\n                                columnName: this.colName, requestType: e.properties[prop].length ? 'grouping' : 'ungrouping',\n                                type: events.actionBegin\n                            };\n                        }\n                        else {\n                            args = { columnName: this.colName, requestType: 'ungrouping', type: events.actionBegin };\n                        }\n                        if (!this.groupSettings.showGroupedColumn) {\n                            var columns = e.oldProperties[prop];\n                            for (var i = 0; i < columns.length; i++) {\n                                if (e.properties[prop].indexOf(columns[i]) === -1) {\n                                    this.parent.getColumnByField(columns[i]).visible = true;\n                                }\n                            }\n                        }\n                        this.parent.notify(events.modelChanged, args);\n                    }\n                    break;\n                case 'showDropArea':\n                    this.updateGroupDropArea();\n                    if (this.groupSettings.showDropArea) {\n                        this.element.style.display = '';\n                    }\n                    else {\n                        this.element.style.display = 'none';\n                    }\n                    break;\n                case 'showGroupedColumn':\n                    this.updateGroupedColumn(this.groupSettings.showGroupedColumn);\n                    this.parent.notify(events.modelChanged, { requestType: 'refresh' });\n                    break;\n                case 'showUngroupButton':\n                    this.updateButtonVisibility(this.groupSettings.showUngroupButton, 'e-ungroupbutton');\n                    break;\n                case 'showToggleButton':\n                    this.updateButtonVisibility(this.groupSettings.showToggleButton, 'e-togglegroupbutton ');\n                    this.parent.refreshHeader();\n                    break;\n                case 'enableLazyLoading':\n                    this.parent.freezeRefresh();\n                    break;\n            }\n        }\n    };\n    Group.prototype.updateGroupedColumn = function (isVisible) {\n        for (var i = 0; i < this.groupSettings.columns.length; i++) {\n            this.parent.getColumnByField(this.groupSettings.columns[i]).visible = isVisible;\n        }\n    };\n    Group.prototype.updateButtonVisibility = function (isVisible, className) {\n        var gHeader = [].slice.call(this.element.getElementsByClassName(className));\n        for (var i = 0; i < gHeader.length; i++) {\n            gHeader[i].style.display = isVisible ? '' : 'none';\n        }\n    };\n    Group.prototype.enableAfterRender = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.render();\n        }\n    };\n    /**\n     * To destroy the reorder\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Group.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if ((this.parent.isDestroyed || !this.parent.allowGrouping) && !this.parent.refreshing) {\n            this.clearGrouping();\n        }\n        this.removeEventListener();\n        this.refreshToggleBtn(true);\n        if (this.element.parentNode) {\n            remove(this.element);\n        }\n        //call ejdrag and drop destroy\n    };\n    /**\n     * Clears all the grouped columns of the Grid.\n     *\n     * @returns {void}\n     */\n    Group.prototype.clearGrouping = function () {\n        var cols = JSON.parse(JSON.stringify(this.groupSettings.columns));\n        this.contentRefresh = false;\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (i === (len - 1)) {\n                this.contentRefresh = true;\n            }\n            this.ungroupColumn(cols[i]);\n        }\n        this.contentRefresh = true;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Group.prototype.getModuleName = function () {\n        return 'group';\n    };\n    Group.prototype.refreshSortIcons = function () {\n        var gObj = this.parent;\n        var header;\n        var cols = gObj.sortSettings.columns;\n        var gCols = gObj.groupSettings.columns;\n        var fieldNames = this.parent.getColumns().map(function (c) { return c.field; });\n        this.refreshToggleBtn();\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (fieldNames.indexOf(cols[i].field) === -1) {\n                continue;\n            }\n            header = gObj.getColumnHeaderByField(cols[i].field);\n            if (!gObj.allowSorting && (this.sortedColumns.indexOf(cols[i].field) > -1 ||\n                this.groupSettings.columns.indexOf(cols[i].field) > -1)) {\n                classList(header.querySelector('.e-sortfilterdiv'), ['e-ascending', 'e-icon-ascending'], []);\n                if (cols.length > 1) {\n                    header.querySelector('.e-headercelldiv').appendChild(this.parent.createElement('span', { className: 'e-sortnumber', innerHTML: (i + 1).toString() }));\n                }\n            }\n            else if (this.getGHeaderCell(cols[i].field) && this.getGHeaderCell(cols[i].field).getElementsByClassName('e-groupsort').length) {\n                if (cols[i].direction === 'Ascending') {\n                    classList(this.getGHeaderCell(cols[i].field).querySelector('.e-groupsort'), ['e-ascending', 'e-icon-ascending'], ['e-descending', 'e-icon-descending']);\n                }\n                else {\n                    classList(this.getGHeaderCell(cols[i].field).querySelector('.e-groupsort'), ['e-descending', 'e-icon-descending'], ['e-ascending', 'e-icon-ascending']);\n                }\n            }\n        }\n        for (var i = 0, len = gCols.length; i < len; i++) {\n            if (fieldNames.indexOf(gCols[i]) === -1) {\n                continue;\n            }\n            gObj.getColumnHeaderByField(gCols[i]).setAttribute('aria-grouped', 'true');\n        }\n    };\n    Group.prototype.getGHeaderCell = function (field) {\n        if (this.element && this.element.querySelector('[ej-mappingname=\"' + field + '\"]')) {\n            return this.element.querySelector('[ej-mappingname=\"' + field + '\"]').parentElement;\n        }\n        return null;\n    };\n    Group.prototype.onGroupAggregates = function (editedData) {\n        var aggregates = this.iterateGroupAggregates(editedData);\n        var rowData = this.groupGenerator.generateRows(aggregates, {});\n        var summaryRows = this.parent.getRowsObject().filter(function (row) { return !row.isDataRow; });\n        var updateSummaryRows = rowData.filter(function (data) { return !data.isDataRow; });\n        if (this.parent.isReact || this.parent.isVue) {\n            this.parent.destroyTemplate(['groupFooterTemplate', 'groupCaptionTemplate', 'footerTemplate']);\n        }\n        for (var i = 0; i < updateSummaryRows.length; i++) {\n            var row = updateSummaryRows[i];\n            var cells = row.cells.filter(function (cell) { return cell.isDataCell; });\n            var args = { cells: cells, data: row.data, dataUid: summaryRows[i] ? summaryRows[i].uid : '' };\n            this.parent.notify(events.refreshAggregateCell, args);\n        }\n    };\n    Group.prototype.iterateGroupAggregates = function (editedData) {\n        var updatedData = editedData instanceof Array ? editedData : [];\n        var rows = this.parent.getRowsObject();\n        var initData = this.parent.getCurrentViewRecords();\n        var deletedCols = [];\n        var changeds = rows.map(function (row) {\n            if (row.edit === 'delete') {\n                deletedCols.push(row.data);\n            }\n            return row.changes instanceof Object ? row.changes : row.data;\n        });\n        var field = this.parent.getPrimaryKeyFieldNames()[0];\n        changeds = updatedData.length === 0 ? changeds : updatedData;\n        var mergeData = initData.map(function (item) {\n            var pKeyVal = DataUtil.getObject(field, item);\n            var value;\n            var hasVal = changeds.some(function (cItem) {\n                value = cItem;\n                return pKeyVal === DataUtil.getObject(field, cItem);\n            });\n            return hasVal ? value : item;\n        });\n        var eData = editedData;\n        if (!(eData.type && eData.type === 'cancel') && deletedCols.length > 0) {\n            for (var i = 0; i < deletedCols.length; i++) {\n                var index = mergeData.indexOf(deletedCols[i]);\n                mergeData.splice(index, 1);\n            }\n        }\n        var aggregates = [];\n        var aggregateRows = this.parent.aggregates;\n        for (var j = 0; j < aggregateRows.length; j++) {\n            var row = aggregateRows[j];\n            for (var k = 0; k < row.columns.length; k++) {\n                var aggr = {};\n                var type = row.columns[k].type.toString();\n                aggr = { type: type.toLowerCase(), field: row.columns[k].field };\n                aggregates.push(aggr);\n            }\n        }\n        var result;\n        var aggrds;\n        var groupedCols = this.parent.groupSettings.columns;\n        for (var l = 0; l < groupedCols.length; l++) {\n            aggrds = result ? result : mergeData;\n            result = DataUtil.group(aggrds, groupedCols[l], aggregates, null, null);\n        }\n        return result;\n    };\n    Group.prototype.updateExpand = function (args) {\n        var uid = args.uid;\n        var isExpand = args.isExpand;\n        var rows = this.parent.getRowsObject();\n        for (var i = 0; i < rows.length; i++) {\n            var row = rows[i];\n            if (row.uid === uid || isNullOrUndefined(uid)) {\n                row.isExpand = isExpand;\n                var _loop_1 = function (j) {\n                    var childRow = rows[j];\n                    var closestParent = void 0;\n                    if (childRow.parentUid !== row.uid) {\n                        closestParent = rows.filter(function (x) { return x.uid === childRow.parentUid; })[0];\n                    }\n                    if (childRow.parentUid === row.uid) {\n                        childRow.visible = row.isExpand;\n                    }\n                    else if (!isNullOrUndefined(closestParent) && childRow.parentUid === closestParent.uid) {\n                        if (closestParent.isExpand && closestParent.visible === true) {\n                            childRow.visible = true;\n                        }\n                        else if (closestParent.isExpand && closestParent.visible === false) {\n                            childRow.visible = false;\n                        }\n                    }\n                    if (isNullOrUndefined(uid)) {\n                        return \"break\";\n                    }\n                };\n                for (var j = i + 1; j < rows.length; j++) {\n                    var state_1 = _loop_1(j);\n                    if (state_1 === \"break\")\n                        break;\n                }\n            }\n        }\n        this.parent.notify(events.contentReady, { rows: rows, args: { isFrozen: false, rows: rows } });\n    };\n    return Group;\n}());\nexport { Group };\n","import { closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { Resize } from '../actions/resize';\nimport { Page } from '../actions/page';\nimport { parentsUntil, applyBiggerTheme } from '../base/util';\nimport { Group } from '../actions/group';\nimport { Sort } from '../actions/sort';\nimport { PdfExport } from '../actions/pdf-export';\nimport { ExcelExport } from '../actions/excel-export';\nimport * as literals from '../base/string-literals';\nexport var menuClass = {\n    header: '.' + literals.gridHeader,\n    content: '.' + literals.gridContent,\n    edit: '.e-inline-edit',\n    batchEdit: '.e-editedbatchcell',\n    editIcon: 'e-edit',\n    pager: '.e-gridpager',\n    delete: 'e-delete',\n    save: 'e-save',\n    cancel: 'e-cancel',\n    copy: 'e-copy',\n    pdf: 'e-pdfexport',\n    group: 'e-icon-group',\n    ungroup: 'e-icon-ungroup',\n    csv: 'e-csvexport',\n    excel: 'e-excelexport',\n    fPage: 'e-icon-first',\n    nPage: 'e-icon-next',\n    lPage: 'e-icon-last',\n    pPage: 'e-icon-prev',\n    ascending: 'e-icon-ascending',\n    descending: 'e-icon-descending',\n    groupHeader: 'e-groupdroparea',\n    touchPop: 'e-gridpopup'\n};\n/**\n * The `ContextMenu` module is used to handle context menu actions.\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent, serviceLocator) {\n        this.defaultItems = {};\n        this.disableItems = [];\n        this.hiddenItems = [];\n        this.localeText = this.setLocaleKey();\n        this.parent = parent;\n        this.gridID = parent.element.id;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.uiUpdate, this.enableAfterRenderMenu, this);\n        this.parent.on(events.initialLoad, this.render, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialLoad, this.render);\n        this.parent.off(events.uiUpdate, this.enableAfterRenderMenu);\n        this.parent.off(events.destroy, this.destroy);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler.bind(this));\n    };\n    ContextMenu.prototype.keyDownHandler = function (e) {\n        if (e.code === 'Tab' || e.which === 9) {\n            this.contextMenu.close();\n        }\n        if (e.code === 'Escape') {\n            this.contextMenu.close();\n            this.parent.notify(events.restoreFocus, {});\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.parent.element.classList.add('e-noselect');\n        this.l10n = this.serviceLocator.getService('localization');\n        this.element = this.parent.createElement('ul', { id: this.gridID + '_cmenu' });\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler.bind(this));\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.gridID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            locale: this.parent.locale,\n            target: target,\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-grid-menu'\n        });\n        this.contextMenu.appendTo(this.element);\n    };\n    ContextMenu.prototype.enableAfterRenderMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n                this.parent.element.classList.remove('e-noselect');\n            }\n            this.render();\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = [];\n        var exportItems = [];\n        for (var _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                if (item.toLocaleLowerCase().indexOf('export') !== -1) {\n                    exportItems.push(this.buildDefaultItems(item));\n                }\n                else {\n                    menuItems.push(this.buildDefaultItems(item));\n                }\n            }\n            else if (typeof item !== 'string') {\n                menuItems.push(item);\n            }\n        }\n        if (exportItems.length > 0) {\n            var exportGroup = this.buildDefaultItems('export');\n            exportGroup.items = exportItems;\n            menuItems.push(exportGroup);\n        }\n        return menuItems;\n    };\n    ContextMenu.prototype.getLastPage = function () {\n        var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);\n        if (this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize) {\n            totalpage += 1;\n        }\n        return totalpage;\n    };\n    ContextMenu.prototype.contextMenuOpen = function () {\n        this.isOpen = true;\n    };\n    /**\n     * @param {ContextMenuClickEventArgs} args - specifies the ContextMenuClickEventArgs argument type\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        var item = this.getKeyFromId(args.item.id);\n        switch (item) {\n            case 'AutoFitAll':\n                this.parent.autoFitColumns([]);\n                break;\n            case 'AutoFit':\n                this.parent.autoFitColumns(this.targetColumn.field);\n                break;\n            case 'Group':\n                this.parent.groupColumn(this.targetColumn.field);\n                break;\n            case 'Ungroup':\n                this.parent.ungroupColumn(this.targetColumn.field);\n                break;\n            case 'Edit':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode === 'Batch') {\n                        if (this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute(literals.ariaColIndex), 10))) {\n                            this.parent.editModule.editCell(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10), \n                            // eslint-disable-next-line\n                            this.parent.getColumns()[parseInt(this.cell.getAttribute(literals.ariaColIndex), 10)].field);\n                        }\n                    }\n                    else {\n                        this.parent.editModule.endEdit();\n                        this.parent.editModule.startEdit(this.row);\n                    }\n                }\n                break;\n            case 'Delete':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode !== 'Batch') {\n                        this.parent.editModule.endEdit();\n                    }\n                    if (this.parent.getSelectedRecords().length === 1) {\n                        this.parent.editModule.deleteRow(this.row);\n                    }\n                    else {\n                        this.parent.deleteRecord();\n                    }\n                }\n                break;\n            case 'Save':\n                if (this.parent.editModule) {\n                    this.parent.editModule.endEdit();\n                }\n                break;\n            case 'Cancel':\n                if (this.parent.editModule) {\n                    this.parent.editModule.closeEdit();\n                }\n                break;\n            case 'Copy':\n                this.parent.copy();\n                break;\n            case 'PdfExport':\n                this.parent.pdfExport();\n                break;\n            case 'ExcelExport':\n                this.parent.excelExport();\n                break;\n            case 'CsvExport':\n                this.parent.csvExport();\n                break;\n            case 'SortAscending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Ascending');\n                break;\n            case 'SortDescending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Descending');\n                break;\n            case 'FirstPage':\n                this.parent.goToPage(1);\n                break;\n            case 'PrevPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage - 1);\n                break;\n            case 'LastPage':\n                this.parent.goToPage(this.getLastPage());\n                break;\n            case 'NextPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage + 1);\n                break;\n        }\n        args.column = this.targetColumn;\n        args.rowInfo = this.targetRowdata;\n        this.parent.trigger(events.contextMenuClick, args);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][parent] instanceof Menu) {\n            this.updateItemStatus();\n        }\n        this.parent.notify(events.selectRowOnContextOpen, { isOpen: false });\n    };\n    ContextMenu.prototype.getLocaleText = function (item) {\n        return this.l10n.getConstant(this.localeText[item]);\n    };\n    ContextMenu.prototype.updateItemStatus = function () {\n        this.contextMenu.showItems(this.hiddenItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hiddenItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var closestGrid = closest(args.event.target, '.e-grid');\n        if (args.event && closestGrid && closestGrid !== this.parent.element) {\n            args.cancel = true;\n        }\n        else if (args.event && (closest(args.event.target, '.' + menuClass.groupHeader)\n            || closest(args.event.target, '.' + menuClass.touchPop) ||\n            closest(args.event.target, '.e-summarycell') ||\n            closest(args.event.target, '.e-groupcaption') ||\n            closest(args.event.target, '.e-filterbarcell'))) {\n            args.cancel = true;\n        }\n        else {\n            this.targetColumn = this.getColumn(args.event);\n            if (parentsUntil(args.event.target, 'e-grid')) {\n                this.targetRowdata = this.parent.getRowInfo(args.event.target);\n            }\n            if ((isNullOrUndefined(args.parentItem)) && this.targetColumn) {\n                if (this.targetRowdata.cell) {\n                    this.parent.notify(events.selectRowOnContextOpen, { isOpen: true });\n                    this.selectRow(args.event, (this.targetRowdata.cell.classList.contains('e-selectionbackground')\n                        && this.parent.selectionSettings.type === 'Multiple') ? false : true);\n                }\n            }\n            var hideSepItems = [];\n            var showSepItems = [];\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var key = this.getKeyFromId(item.id);\n                var dItem = this.defaultItems[key];\n                if (this.getDefaultItems().indexOf(key) !== -1) {\n                    if (this.ensureDisabledStatus(key)) {\n                        this.disableItems.push(item.text);\n                    }\n                    if (args.event && (this.ensureTarget(args.event.target, menuClass.edit) ||\n                        this.ensureTarget(args.event.target, menuClass.batchEdit))) {\n                        if (key !== 'Save' && key !== 'Cancel') {\n                            this.hiddenItems.push(item.text);\n                        }\n                    }\n                    else if (this.parent.editModule && this.parent.editSettings.mode === 'Batch' &&\n                        ((closest(args.event.target, '.e-gridform')) ||\n                            this.parent.editModule.getBatchChanges()[literals.changedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[literals.addedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[literals.deletedRecords].length) && (key === 'Save' || key === 'Cancel')) {\n                        continue;\n                    }\n                    else if (isNullOrUndefined(args.parentItem) && args.event\n                        && !this.ensureTarget(args.event.target, dItem.target)) {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (item.target && args.event &&\n                    !this.ensureTarget(args.event.target, item.target)) {\n                    if (item.separator) {\n                        hideSepItems.push(item.id);\n                    }\n                    else {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (this.ensureTarget(args.event.target, item.target) && item.separator) {\n                    showSepItems.push(item.id);\n                }\n            }\n            if (showSepItems.length > 0) {\n                this.contextMenu.showItems(showSepItems, true);\n            }\n            this.contextMenu.enableItems(this.disableItems, false);\n            this.contextMenu.hideItems(this.hiddenItems);\n            if (hideSepItems.length > 0) {\n                this.contextMenu.hideItems(hideSepItems, true);\n            }\n            this.eventArgs = args.event;\n            args.column = this.targetColumn;\n            args.rowInfo = this.targetRowdata;\n            this.parent.trigger(events.contextMenuOpen, args);\n            if (args.cancel || (this.hiddenItems.length === args.items.length && !args.parentItem)) {\n                this.updateItemStatus();\n                args.cancel = true;\n            }\n        }\n        applyBiggerTheme(this.parent.element, this.contextMenu.element.parentElement);\n    };\n    ContextMenu.prototype.ensureTarget = function (targetElement, selector) {\n        var target = targetElement;\n        if (this.ensureFrozenHeader(targetElement) && (selector === menuClass.header || selector === menuClass.content)) {\n            target = closest(targetElement, selector === menuClass.header ? 'thead' : literals.tbody);\n        }\n        else if (selector === menuClass.content || selector === menuClass.header) {\n            target = parentsUntil(closest(targetElement, '.' + literals.table), selector.substr(1, selector.length));\n        }\n        else {\n            target = closest(targetElement, selector);\n        }\n        return target && parentsUntil(target, 'e-grid') === this.parent.element;\n    };\n    ContextMenu.prototype.ensureFrozenHeader = function (targetElement) {\n        return (this.parent.isFrozenGrid() || this.parent.frozenRows)\n            && closest(targetElement, menuClass.header) ? true : false;\n    };\n    ContextMenu.prototype.ensureDisabledStatus = function (item) {\n        var status = false;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n                status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit)\n                    || (this.targetColumn && !this.targetColumn.field && item === 'AutoFit');\n                break;\n            case 'Group':\n                if (!this.parent.allowGrouping || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                    && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                break;\n            case 'Ungroup':\n                if (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group)\n                    || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                        && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0)) {\n                    status = true;\n                }\n                break;\n            case 'Edit':\n            case 'Delete':\n            case 'Save':\n            case 'Cancel':\n                if (!this.parent.editModule || (this.parent.getDataRows().length === 0)) {\n                    status = true;\n                }\n                break;\n            case 'Copy':\n                if ((this.parent.getSelectedRowIndexes().length === 0 && this.parent.getSelectedRowCellIndexes().length === 0) ||\n                    this.parent.getCurrentViewRecords().length === 0) {\n                    status = true;\n                }\n                break;\n            case 'export':\n                if ((!this.parent.allowExcelExport || !this.parent.excelExport) ||\n                    !this.parent.ensureModuleInjected(PdfExport) && !this.parent.ensureModuleInjected(ExcelExport)) {\n                    status = true;\n                }\n                break;\n            case 'PdfExport':\n                if (!(this.parent.allowPdfExport) || !this.parent.ensureModuleInjected(PdfExport)) {\n                    status = true;\n                }\n                break;\n            case 'ExcelExport':\n            case 'CsvExport':\n                if (!(this.parent.allowExcelExport) || !this.parent.ensureModuleInjected(ExcelExport)) {\n                    status = true;\n                }\n                break;\n            case 'SortAscending':\n            case 'SortDescending':\n                if ((!this.parent.allowSorting) || !this.parent.ensureModuleInjected(Sort) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                else if (this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn) {\n                    var sortColumns = this.parent.sortSettings.columns;\n                    for (var i = 0; i < sortColumns.length; i++) {\n                        if (sortColumns[i].field === this.targetColumn.field\n                            && sortColumns[i].direction.toLowerCase() === item.toLowerCase().replace('sort', '').toLocaleLowerCase()) {\n                            status = true;\n                        }\n                    }\n                }\n                break;\n            case 'FirstPage':\n            case 'PrevPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === 1)) {\n                    status = true;\n                }\n                break;\n            case 'LastPage':\n            case 'NextPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage())) {\n                    status = true;\n                }\n                break;\n        }\n        return status;\n    };\n    /**\n     * Gets the context menu element from the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    ContextMenu.prototype.getContextMenu = function () {\n        return this.element;\n    };\n    /**\n     * Destroys the context menu component in the Grid.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.contextMenu.destroy();\n        if (this.element.parentNode) {\n            remove(this.element);\n        }\n        this.removeEventListener();\n        this.parent.element.classList.remove('e-noselect');\n    };\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.gridID + '_cmenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        return id.replace(this.gridID + '_cmenu_', '');\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item) {\n        var menuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n                menuItem = { target: menuClass.header };\n                break;\n            case 'Group':\n                menuItem = { target: menuClass.header, iconCss: menuClass.group };\n                break;\n            case 'Ungroup':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ungroup };\n                break;\n            case 'Edit':\n                menuItem = { target: menuClass.content, iconCss: menuClass.editIcon };\n                break;\n            case 'Delete':\n                menuItem = { target: menuClass.content, iconCss: menuClass.delete };\n                break;\n            case 'Save':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.save };\n                break;\n            case 'Cancel':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.cancel };\n                break;\n            case 'Copy':\n                menuItem = { target: menuClass.content, iconCss: menuClass.copy };\n                break;\n            case 'export':\n                menuItem = { target: menuClass.content };\n                break;\n            case 'PdfExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.pdf };\n                break;\n            case 'ExcelExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.excel };\n                break;\n            case 'CsvExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.csv };\n                break;\n            case 'SortAscending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ascending };\n                break;\n            case 'SortDescending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.descending };\n                break;\n            case 'FirstPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.fPage };\n                break;\n            case 'PrevPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.pPage };\n                break;\n            case 'LastPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.lPage };\n                break;\n            case 'NextPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.nPage };\n                break;\n        }\n        this.defaultItems[item] = {\n            text: this.getLocaleText(item), id: this.generateID(item),\n            target: menuItem.target, iconCss: menuItem.iconCss ? 'e-icons ' + menuItem.iconCss : ''\n        };\n        return this.defaultItems[item];\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'Group', 'Ungroup', 'Edit', 'Delete', 'Save', 'Cancel', 'Copy', 'export',\n            'PdfExport', 'ExcelExport', 'CsvExport', 'SortAscending', 'SortDescending',\n            'FirstPage', 'PrevPage', 'LastPage', 'NextPage'];\n    };\n    ContextMenu.prototype.setLocaleKey = function () {\n        var localeKeys = {\n            'AutoFitAll': 'autoFitAll',\n            'AutoFit': 'autoFit',\n            'Copy': 'Copy',\n            'Group': 'Group',\n            'Ungroup': 'Ungroup',\n            'Edit': 'EditRecord',\n            'Delete': 'DeleteRecord',\n            'Save': 'Save',\n            'Cancel': 'CancelButton',\n            'PdfExport': 'Pdfexport',\n            'ExcelExport': 'Excelexport',\n            'CsvExport': 'Csvexport',\n            'export': 'Export',\n            'SortAscending': 'SortAscending',\n            'SortDescending': 'SortDescending',\n            'FirstPage': 'FirstPage',\n            'LastPage': 'LastPage',\n            'PrevPage': 'PreviousPage',\n            'NextPage': 'NextPage'\n        };\n        return localeKeys;\n    };\n    ContextMenu.prototype.getColumn = function (e) {\n        var cell = closest(e.target, 'th.e-headercell');\n        if (cell) {\n            var uid = cell.querySelector('.e-headercelldiv, .e-stackedheadercelldiv').getAttribute('e-mappinguid');\n            return this.parent.getColumnByUid(uid);\n        }\n        else {\n            var ele = (this.parent.getRowInfo(e.target).column);\n            return ele || null;\n        }\n    };\n    ContextMenu.prototype.selectRow = function (e, isSelectable) {\n        this.cell = e.target;\n        this.row = closest(e.target, 'tr.e-row') || this.row;\n        if (this.row && isSelectable && !parentsUntil(e.target, 'e-gridpager')) {\n            this.parent.selectRow(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10));\n        }\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { isNullOrUndefined, addClass, extend, closest } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { appendChildren, alignFrozenEditForm, getMovableTbody, getFrozenRightTbody, setStyleAndAttributes } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * Edit render module is used to render grid edit row.\n *\n * @hidden\n */\nvar InlineEditRender = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IGrid} parent - returns the IGrid\n     */\n    function InlineEditRender(parent) {\n        this.parent = parent;\n    }\n    InlineEditRender.prototype.addNew = function (elements, args) {\n        this.isEdit = false;\n        var tbody;\n        var mTbody = getMovableTbody(this.parent);\n        var frTbody = getFrozenRightTbody(this.parent);\n        var isFrozenGrid = this.parent.isFrozenGrid();\n        var isVirtualFrozen = isFrozenGrid && this.parent.enableColumnVirtualization && args.isScroll;\n        if (this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top') {\n            tbody = isVirtualFrozen ? this.parent.getMovableHeaderTbody() : this.parent.getHeaderTable().querySelector(literals.tbody);\n        }\n        else {\n            tbody = isVirtualFrozen ? this.parent.getMovableContentTbody() : this.parent.getContentTable().querySelector(literals.tbody);\n        }\n        args.row = this.parent.createElement('tr', { className: 'e-row e-addedrow' });\n        if (tbody.querySelector('.e-emptyrow')) {\n            var emptyRow = tbody.querySelector('.e-emptyrow');\n            emptyRow.parentNode.removeChild(emptyRow);\n            if (isFrozenGrid && !isVirtualFrozen) {\n                var moveTbody = this.parent.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody);\n                (moveTbody.firstElementChild).parentNode.removeChild(moveTbody.firstElementChild);\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    var frTbody_1 = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody);\n                    (frTbody_1.firstElementChild).parentNode.removeChild(frTbody_1.firstElementChild);\n                }\n            }\n        }\n        if (this.parent.editSettings.newRowPosition === 'Top') {\n            tbody.insertBefore(args.row, tbody.firstChild);\n        }\n        else {\n            tbody.appendChild(args.row);\n        }\n        args.row.appendChild(this.getEditElement(elements, false, undefined, args, true));\n        this.parent.editModule.checkLastRow(args.row, args);\n        if (isFrozenGrid && !isVirtualFrozen) {\n            var mEle = this.renderMovableform(args.row, args);\n            if (this.parent.editSettings.newRowPosition === 'Top') {\n                mTbody.insertBefore(mEle, mTbody.firstChild);\n            }\n            else {\n                mTbody.appendChild(mEle);\n            }\n            args.row.querySelector('.e-normaledit').setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n            mEle.setAttribute('colspan', '' + (this.parent.getVisibleColumns().length - this.parent.getVisibleFrozenColumns()));\n            if (frTbody) {\n                var frEle = this.renderFrozenRightForm(args.row, args);\n                if (this.parent.editSettings.newRowPosition === 'Top') {\n                    frTbody.insertBefore(frEle, frTbody.firstChild);\n                }\n                else {\n                    frTbody.appendChild(frEle);\n                }\n                var colSpan = this.parent.getVisibleFrozenColumns() - this.parent.getFrozenRightColumnsCount();\n                args.row.querySelector('.e-normaledit').setAttribute('colspan', colSpan + '');\n                frEle.querySelector('.e-normaledit').setAttribute('colspan', '' + this.parent.getFrozenRightColumnsCount());\n            }\n            if (this.parent.height === 'auto') {\n                this.parent.notify(events.frozenHeight, {});\n            }\n        }\n    };\n    InlineEditRender.prototype.renderFrozenRightForm = function (ele, args) {\n        var frEle = ele.cloneNode(true);\n        var form = args.frozenRightForm = frEle.querySelector('form');\n        if (this.parent.editSettings.template) {\n            form.innerHTML = '';\n            this.appendChildren(form, args.rowData, false);\n            return frEle;\n        }\n        this.renderRightFrozen(ele, frEle);\n        frEle.querySelector(literals.colGroup).innerHTML = this.parent.getHeaderContent()\n            .querySelector('.e-frozen-right-header').querySelector(literals.colGroup).innerHTML;\n        return frEle;\n    };\n    InlineEditRender.prototype.renderMovableform = function (ele, args) {\n        var mEle = ele.cloneNode(true);\n        var form = args.movableForm = mEle.querySelector('form');\n        if (this.parent.editSettings.template) {\n            form.innerHTML = '';\n            this.appendChildren(form, args.rowData, false);\n            return mEle;\n        }\n        this.renderMovable(ele, mEle);\n        mEle.querySelector(literals.colGroup).innerHTML = this.parent.getHeaderContent()\n            .querySelector('.' + literals.movableHeader).querySelector(literals.colGroup).innerHTML;\n        return mEle;\n    };\n    InlineEditRender.prototype.updateFreezeEdit = function (row, td) {\n        td = td.concat([].slice.call(this.getFreezeRow(row).querySelectorAll('td.e-rowcell')));\n        if (this.parent.getFrozenMode() === literals.leftRight) {\n            td = td.concat([].slice.call(this.getFreezeRightRow(row).querySelectorAll('td.e-rowcell')));\n        }\n        return td;\n    };\n    InlineEditRender.prototype.getFreezeRightRow = function (row) {\n        var idx = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n        var fCont = this.parent.getFrozenLeftContentTbody();\n        var fHdr = this.parent.getFrozenHeaderTbody();\n        var frHdr = this.parent.getFrozenRightHeaderTbody();\n        var frCont = this.parent.getFrozenRightContentTbody();\n        if (fCont.contains(row) || fHdr.contains(row)) {\n            return this.parent.getFrozenRightRowByIndex(idx);\n        }\n        else if (frCont.contains(row) || frHdr.contains(row)) {\n            return this.parent.getRowByIndex(idx);\n        }\n        return row;\n    };\n    InlineEditRender.prototype.getFreezeRow = function (row) {\n        if (this.parent.isFrozenGrid()) {\n            var idx = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n            var fCont = this.parent.getFrozenLeftContentTbody();\n            var mCont = this.parent.getMovableContentTbody();\n            var fHdr = this.parent.getFrozenHeaderTbody();\n            var mHdr = this.parent.getMovableHeaderTbody();\n            if (fCont.contains(row) || fHdr.contains(row)) {\n                return this.parent.getMovableRowByIndex(idx);\n            }\n            else if (mCont.contains(row) || mHdr.contains(row)) {\n                return this.parent.getRowByIndex(idx);\n            }\n        }\n        return row;\n    };\n    InlineEditRender.prototype.update = function (elements, args) {\n        this.isEdit = true;\n        var isCustomFormValidation = args.isCustomFormValidation;\n        var isScroll = args.isScroll;\n        if (!isScroll && (closest(args.row, '.' + literals.movableContent) || closest(args.row, '.' + literals.movableHeader))) {\n            args.row = this.getFreezeRow(args.row);\n        }\n        if (closest(args.row, '.e-frozen-right-content') || closest(args.row, '.e-frozen-right-header')) {\n            args.row = this.getFreezeRightRow(args.row);\n        }\n        var isVirtualFrozen = this.parent.isFrozenGrid() && this.parent.enableColumnVirtualization && isScroll;\n        var tdElement = [].slice.call(args.row.querySelectorAll('td.e-rowcell'));\n        args.row.innerHTML = '';\n        if (!isVirtualFrozen && !isCustomFormValidation) {\n            tdElement = this.updateFreezeEdit(args.row, tdElement);\n        }\n        args.row.appendChild(this.getEditElement(elements, true, tdElement, args, true));\n        args.row.classList.add(literals.editedRow);\n        this.parent.editModule.checkLastRow(args.row, args);\n        if (!isVirtualFrozen && !isCustomFormValidation) {\n            this.refreshFreezeEdit(args.row, args);\n        }\n    };\n    InlineEditRender.prototype.refreshFreezeEdit = function (row, args) {\n        var td = row.firstChild;\n        if (this.parent.getVisibleFrozenColumns() && this.parent.editSettings.template) {\n            td.querySelector(literals.colGroup).innerHTML = this.parent.getHeaderContent().querySelector('.' + literals.frozenHeader).\n                querySelector(literals.colGroup).innerHTML;\n        }\n        var fCls;\n        var cont;\n        var idx = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n        if (this.parent.isFrozenGrid()) {\n            if (idx < this.parent.frozenRows) {\n                cont = this.parent.getHeaderContent();\n                fCls = '.' + literals.frozenHeader;\n            }\n            else {\n                cont = this.parent.getContent();\n                fCls = '.' + literals.frozenContent;\n            }\n            var mTd = td.cloneNode(true);\n            var frTd = td.cloneNode(true);\n            var form = args.movableForm = mTd.querySelector('form');\n            if (this.parent.editSettings.template) {\n                this.refreshEditForm(form, args.rowData);\n            }\n            var fRows = void 0;\n            var frRows = void 0;\n            if (cont.querySelector(fCls).contains(row)) {\n                fRows = this.parent.getMovableRowByIndex(idx);\n                this.updateFrozenCont(fRows, td, mTd);\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    args.frozenRightForm = frTd.querySelector('form');\n                    this.refreshEditForm(args.frozenRightForm, args.rowData);\n                    frRows = this.parent.getFrozenRightRowByIndex(idx);\n                    this.updateFrozenRightCont(frRows, td, frTd);\n                }\n            }\n            else {\n                fRows = this.parent.getRowByIndex(idx);\n                this.updateFrozenCont(fRows, mTd, td);\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    args.frozenRightForm = frTd.querySelector('form');\n                    this.refreshEditForm(args.frozenRightForm, args.rowData);\n                    frRows = this.parent.getFrozenRightRowByIndex(idx);\n                    this.updateFrozenRightCont(frRows, frTd, td);\n                }\n            }\n            fRows.appendChild(mTd);\n            fRows.classList.add(literals.editedRow);\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                frRows.appendChild(frTd);\n                frRows.classList.add(literals.editedRow);\n                alignFrozenEditForm(args.frozenRightForm.querySelector('td:not(.e-hide)'), args.form.querySelector('td:not(.e-hide)'));\n            }\n            alignFrozenEditForm(args.movableForm.querySelector('td:not(.e-hide)'), args.form.querySelector('td:not(.e-hide)'));\n        }\n    };\n    InlineEditRender.prototype.refreshEditForm = function (form, data) {\n        if (this.parent.editSettings.template) {\n            form.innerHTML = '';\n            this.appendChildren(form, data, false);\n        }\n    };\n    InlineEditRender.prototype.updateFrozenRightCont = function (row, ele, frEle) {\n        row.innerHTML = '';\n        this.renderRightFrozen(ele, frEle);\n        frEle.querySelector(literals.colGroup).innerHTML = this.parent.getHeaderContent()\n            .querySelector('.e-frozen-right-header').querySelector(literals.colGroup).innerHTML;\n        ele.setAttribute('colspan', this.parent.getVisibleFrozenColumns() - this.parent.getFrozenRightColumnsCount() + '');\n        frEle.setAttribute('colspan', this.parent.getFrozenRightColumnsCount() + '');\n    };\n    InlineEditRender.prototype.updateFrozenCont = function (row, ele, mEle) {\n        row.innerHTML = '';\n        this.renderMovable(ele, mEle);\n        mEle.querySelector(literals.colGroup).innerHTML = this.parent.getHeaderContent()\n            .querySelector('.' + literals.movableHeader).querySelector(literals.colGroup).innerHTML;\n        ele.setAttribute('colspan', this.parent.getVisibleFrozenColumns() + '');\n        mEle.setAttribute('colspan', this.parent.getCurrentVisibleColumns(this.parent.enableColumnVirtualization).length - this.parent.getVisibleFrozenColumns() + '');\n    };\n    InlineEditRender.prototype.renderRightFrozen = function (ele, frEle) {\n        frEle.querySelector('tr').innerHTML = '';\n        var cols = this.parent.getColumns();\n        var k = 0;\n        for (var i = 0; i < cols.length; i++, k++) {\n            if (cols[i].getFreezeTableName() === literals.frozenRight) {\n                var index = k - this.parent.getMovableColumnsCount();\n                frEle.querySelector('tr').appendChild(ele.querySelector('tr').removeChild(ele.querySelector('tr').children[index]));\n                k--;\n            }\n        }\n    };\n    InlineEditRender.prototype.renderMovable = function (ele, mEle) {\n        mEle.querySelector('tr').innerHTML = '';\n        var cols = this.parent.getColumns();\n        var k = this.parent.isRowDragable() ? 1 : 0;\n        for (var i = 0; i < cols.length; i++, k++) {\n            if (cols[i].getFreezeTableName() === 'movable') {\n                mEle.querySelector('tr').appendChild(ele.querySelector('tr').removeChild(ele.querySelector('tr').children[k]));\n                k--;\n            }\n        }\n    };\n    // eslint-disable-next-line max-len\n    InlineEditRender.prototype.getEditElement = function (elements, isEdit, tdElement, args, isFrozen) {\n        var gObj = this.parent;\n        var gLen = 0;\n        var isDetail = !isNullOrUndefined(gObj.detailTemplate) || !isNullOrUndefined(gObj.childGrid) ? 1 : 0;\n        if (gObj.allowGrouping) {\n            gLen = gObj.groupSettings.columns.length;\n        }\n        var td = this.parent.createElement('td', {\n            className: 'e-editcell e-normaledit',\n            attrs: {\n                colspan: (gObj.getCurrentVisibleColumns(this.parent.enableColumnVirtualization).length - gObj.getVisibleFrozenColumns()\n                    + this.parent.getIndentCount()).toString()\n            }\n        });\n        var form = args.form =\n            this.parent.createElement('form', { id: gObj.element.id + 'EditForm', className: 'e-gridform' });\n        if (this.parent.editSettings.template) {\n            this.appendChildren(form, args.rowData, isFrozen);\n            td.appendChild(form);\n            return td;\n        }\n        var table = this.parent.createElement('table', { className: 'e-table e-inline-edit', attrs: { cellspacing: '0.25' } });\n        table.appendChild(gObj.getContentTable().querySelector(literals.colGroup).cloneNode(true));\n        var tbody = this.parent.createElement(literals.tbody);\n        var tr = this.parent.createElement('tr');\n        var i = 0;\n        if (isDetail) {\n            tr.insertBefore(this.parent.createElement('td', { className: 'e-detailrowcollapse' }), tr.firstChild);\n        }\n        if (gObj.isRowDragable()) {\n            tr.appendChild(this.parent.createElement('td', { className: 'e-dragindentcell' }));\n        }\n        while (i < gLen) {\n            tr.appendChild(this.parent.createElement('td', { className: 'e-indentcell' }));\n            i++;\n        }\n        var m = 0;\n        i = 0;\n        var isVirtualFrozen = gObj.isFrozenGrid() && gObj.enableColumnVirtualization && args.isScroll;\n        var cols = args.isCustomFormValidation ? this.parent.columnModel : gObj.getColumns();\n        while ((isEdit && m < tdElement.length && i < cols.length) || i < cols.length) {\n            var span = isEdit ? tdElement[m].getAttribute('colspan') : null;\n            var col = cols[i];\n            if ((isVirtualFrozen && col.getFreezeTableName() !== 'movable')\n                || (args.isCustomFormValidation && (col.commands || col.commandsTemplate || !col.field))) {\n                i++;\n                continue;\n            }\n            var td_1 = this.parent.createElement('td', {\n                className: literals.rowCell, attrs: { style: 'text-align:' + (col.textAlign ? col.textAlign : ''), 'colspan': span ? span : '' }\n            });\n            if (col.visible) {\n                td_1.appendChild(elements[col.uid]);\n                if (this.parent.rowRenderingMode === 'Vertical') {\n                    setStyleAndAttributes(td_1, { 'data-cell': col.headerText });\n                    if (i === 0) {\n                        td_1.classList.add('e-responsive-editcell');\n                    }\n                }\n                if (col.editType === 'booleanedit') {\n                    td_1.classList.add('e-boolcell');\n                }\n                else if (col.commands || col.commandsTemplate) {\n                    addClass([td_1], 'e-unboundcell');\n                }\n            }\n            else {\n                td_1.classList.add('e-hide');\n            }\n            tr.appendChild(td_1);\n            i = span ? i + parseInt(span, 10) : i + 1;\n            m++;\n        }\n        tbody.appendChild(tr);\n        table.appendChild(tbody);\n        form.appendChild(table);\n        td.appendChild(form);\n        return td;\n    };\n    InlineEditRender.prototype.removeEventListener = function () {\n        //To destroy the renderer\n    };\n    InlineEditRender.prototype.appendChildren = function (form, data, isFrozen) {\n        var _this = this;\n        var dummyData = extend({}, data, { isAdd: !this.isEdit, isFrozen: isFrozen }, true);\n        var editTemplateID = this.parent.element.id + 'editSettingsTemplate';\n        if (this.parent.isReact && typeof (this.parent.editSettings.template) !== 'string') {\n            this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID, null, null, form);\n            this.parent.renderTemplates();\n        }\n        else {\n            appendChildren(form, this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID));\n        }\n        // eslint-disable-next-line\n        var setRules = function () {\n            var cols = _this.parent.getColumns();\n            for (var i = 0; i < cols.length; i++) {\n                if (cols[i].validationRules) {\n                    _this.parent.editModule.formObj.rules[cols[i].field] =\n                        cols[i].validationRules;\n                }\n            }\n        };\n    };\n    return InlineEditRender;\n}());\nexport { InlineEditRender };\n","import { classList } from '@syncfusion/ej2-base';\nimport * as literals from '../base/string-literals';\n/**\n * Edit render module is used to render grid edit row.\n *\n * @hidden\n */\nvar BatchEditRender = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     */\n    function BatchEditRender(parent) {\n        this.parent = parent;\n    }\n    BatchEditRender.prototype.update = function (elements, args) {\n        if (this.parent.isReact && args.columnObject && args.columnObject.template) {\n            var parentRow = args.cell.parentElement;\n            var newTd = args.cell.cloneNode(true);\n            parentRow.insertBefore(newTd, args.cell);\n            newTd.focus();\n            args.cell.remove();\n            args.cell = newTd;\n        }\n        args.cell.innerHTML = '';\n        args.cell.appendChild(this.getEditElement(elements, args));\n        args.cell.classList.remove('e-ellipsistooltip');\n        args.cell.classList.add('e-editedbatchcell');\n        classList(args.row, [literals.editedRow, 'e-batchrow'], []);\n    };\n    BatchEditRender.prototype.getEditElement = function (elements, args) {\n        var gObj = this.parent;\n        var form = this.parent\n            .createElement('form', { id: gObj.element.id + 'EditForm', className: 'e-gridform' });\n        form.appendChild(elements[args.columnObject.uid]);\n        if (args.columnObject.editType === 'booleanedit') {\n            args.cell.classList.add('e-boolcell');\n        }\n        if (!args.columnObject.editType) {\n            args.cell.classList.add('e-inputbox');\n        }\n        return form;\n    };\n    BatchEditRender.prototype.removeEventListener = function () {\n        //To destroy the renderer\n    };\n    return BatchEditRender;\n}());\nexport { BatchEditRender };\n","import { Dialog } from '@syncfusion/ej2-popups';\nimport { remove, extend, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { appendChildren, applyBiggerTheme, addBiggerDialog } from '../base/util';\nimport { ResponsiveDialogRenderer } from './responsive-dialog-renderer';\nimport { ResponsiveDialogAction } from '../base/enum';\nimport * as literals from '../base/string-literals';\n/**\n * Edit render module is used to render grid edit row.\n *\n * @hidden\n */\nvar DialogEditRender = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     */\n    function DialogEditRender(parent, serviceLocator) {\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.dialogDestroy, this.destroy, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    }\n    DialogEditRender.prototype.setLocaleObj = function () {\n        this.l10n = this.serviceLocator.getService('localization');\n    };\n    DialogEditRender.prototype.addNew = function (elements, args) {\n        this.isEdit = false;\n        this.createDialog(elements, args);\n    };\n    DialogEditRender.prototype.update = function (elements, args) {\n        this.isEdit = true;\n        this.createDialog(elements, args);\n    };\n    DialogEditRender.prototype.createDialogHeader = function (args) {\n        var gObj = this.parent;\n        var header;\n        if (this.parent.enableAdaptiveUI) {\n            var responsiveDlgRenderer = new ResponsiveDialogRenderer(this.parent, this.serviceLocator);\n            responsiveDlgRenderer.action = this.isEdit ? ResponsiveDialogAction.isEdit : ResponsiveDialogAction.isAdd;\n            return responsiveDlgRenderer.renderResponsiveHeader(undefined, args);\n        }\n        else {\n            if (gObj.editSettings.headerTemplate) {\n                header = this.getDialogEditTemplateElement('HeaderTemplate', args);\n            }\n            else if (this.isEdit) {\n                header = this.l10n.getConstant('EditFormTitle') + args.primaryKeyValue[0];\n            }\n            else {\n                header = this.l10n.getConstant('AddFormTitle');\n            }\n        }\n        return header;\n    };\n    DialogEditRender.prototype.createDialog = function (elements, args) {\n        var gObj = this.parent;\n        this.dialog = this.parent.createElement('div', { id: gObj.element.id + '_dialogEdit_wrapper', styles: 'width: auto' });\n        if (gObj.enableAdaptiveUI) {\n            this.dialog.classList.add('e-responsive-dialog');\n        }\n        this.dialog.setAttribute('aria-label', 'Dialog edit');\n        gObj.element.appendChild(this.dialog);\n        this.setLocaleObj();\n        // let position: PositionDataModel = this.parent.element.getBoundingClientRect().height < 400 ?\n        //     { X: 'center', Y: 'top' } : { X: 'center', Y: 'center' };\n        this.dialogObj = new Dialog(extend({\n            header: this.createDialogHeader(args), isModal: true, visible: true, cssClass: 'e-edit-dialog',\n            content: this.getEditElement(elements, args),\n            showCloseIcon: true,\n            allowDragging: true,\n            // position: position,\n            close: this.dialogClose.bind(this),\n            created: this.dialogCreated.bind(this),\n            closeOnEscape: true, width: gObj.editSettings.template ? 'auto' : '330px',\n            target: args.target ? args.target : document.body, animationSettings: { effect: 'None' },\n            footerTemplate: gObj.editSettings.footerTemplate ? this.getDialogEditTemplateElement('FooterTemplate', args) : null,\n            buttons: [{\n                    click: this.btnClick.bind(this),\n                    buttonModel: { content: this.l10n.getConstant('SaveButton'), cssClass: 'e-primary', isPrimary: true }\n                },\n                { click: this.btnClick.bind(this), buttonModel: { cssClass: 'e-flat', content: this.l10n.getConstant('CancelButton') } }]\n        }, gObj.editSettings.dialog ? (gObj.editSettings.dialog.params || {}) : {}));\n        args.dialog = this.dialogObj;\n        var isStringTemplate = 'isStringTemplate';\n        this.dialogObj[isStringTemplate] = true;\n        this.renderResponsiveDialog();\n        this.dialogObj.appendTo(this.dialog);\n        applyBiggerTheme(this.parent.element, this.dialogObj.element.parentElement);\n        if (gObj.enableAdaptiveUI) {\n            this.dialogObj.show(true);\n        }\n    };\n    DialogEditRender.prototype.dialogCreated = function () {\n        addBiggerDialog(this.parent);\n    };\n    DialogEditRender.prototype.renderResponsiveDialog = function () {\n        var _this = this;\n        if (this.parent.enableAdaptiveUI) {\n            if (this.parent.adaptiveDlgTarget) {\n                this.dialogObj.target = this.parent.adaptiveDlgTarget;\n            }\n            this.dialogObj.buttons = [{}];\n            this.dialogObj.showCloseIcon = true;\n            this.dialogObj.visible = false;\n            this.dialogObj.width = '100%';\n            this.dialogObj.open = function () {\n                _this.dialogObj.element.style.maxHeight = '100%';\n            };\n        }\n    };\n    DialogEditRender.prototype.btnClick = function (e) {\n        if (this.l10n.getConstant('CancelButton').toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            this.dialogClose();\n        }\n        else {\n            this.parent.endEdit();\n        }\n    };\n    DialogEditRender.prototype.dialogClose = function () {\n        this.parent.closeEdit();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DialogEditRender.prototype.destroy = function (args) {\n        var dialogEditTemplates = ['template', 'headerTemplate', 'footerTemplate'];\n        for (var i = 0; i < dialogEditTemplates.length; i++) {\n            if (this.parent.editSettings[dialogEditTemplates[i]]) {\n                var templateName = dialogEditTemplates[i].charAt(0).toUpperCase() + dialogEditTemplates[i].slice(1);\n                var editTemplateID = this.parent.element.id + 'editSettings' + templateName;\n                updateBlazorTemplate(editTemplateID, templateName, this.parent.editSettings);\n            }\n        }\n        this.parent.notify(events.destroyForm, {});\n        this.parent.isEdit = false;\n        this.parent.notify(events.toolbarRefresh, {});\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEditRender.prototype.getDialogEditTemplateElement = function (dialogTemp, args) {\n        var tempDiv = this.parent.createElement('div', { className: 'e-dialog' + dialogTemp });\n        var dummyData = extend({}, args.rowData, { isAdd: !this.isEdit }, true);\n        var templateID = this.parent.element.id + 'editSettings' + dialogTemp;\n        appendChildren(tempDiv, (dialogTemp === 'HeaderTemplate' ? this.parent.getEditHeaderTemplate() :\n            this.parent.getEditFooterTemplate())(dummyData, this.parent, 'editSettings' + dialogTemp, templateID));\n        updateBlazorTemplate(templateID, dialogTemp, this.parent.editSettings);\n        return tempDiv;\n    };\n    DialogEditRender.prototype.getEditElement = function (elements, args) {\n        var _this = this;\n        var gObj = this.parent;\n        var div = this.parent.createElement('div', { className: this.isEdit ? literals.editedRow : 'e-insertedrow' });\n        var form = args.form =\n            this.parent.createElement('form', { id: gObj.element.id + 'EditForm', className: 'e-gridform' });\n        if (this.parent.editSettings.template) {\n            var editTemplateID = this.parent.element.id + 'editSettingsTemplate';\n            var dummyData = extend({}, args.rowData, { isAdd: !this.isEdit }, true);\n            var isReactCompiler = this.parent.isReact && typeof (this.parent.editSettings.template) !== 'string';\n            if (isReactCompiler) {\n                this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID, null, null, form);\n                this.parent.renderTemplates();\n            }\n            else {\n                appendChildren(form, this.parent.getEditTemplate()(dummyData, this.parent, 'editSettingsTemplate', editTemplateID));\n            }\n            var setRules = function () {\n                var columns = _this.parent.getColumns();\n                for (var i = 0; i < columns.length; i++) {\n                    if (columns[i].validationRules) {\n                        _this.parent.editModule.formObj.rules[columns[i].field] =\n                            columns[i].validationRules;\n                    }\n                }\n            };\n            updateBlazorTemplate(editTemplateID, 'Template', this.parent.editSettings, true, setRules);\n            div.appendChild(form);\n            return div;\n        }\n        var table = this.parent.createElement('table', { className: literals.table, attrs: { cellspacing: '6px' } });\n        var tbody = this.parent.createElement(literals.tbody);\n        var cols = gObj.getColumns();\n        for (var i = 0; i < cols.length; i++) {\n            if (this.parent.editModule.checkColumnIsGrouped(cols[i]) || cols[i].commands || cols[i].commandsTemplate ||\n                cols[i].type === 'checkbox') {\n                continue;\n            }\n            var tr = this.parent.createElement('tr');\n            var dataCell = this.parent.createElement('td', {\n                className: literals.rowCell, attrs: {\n                    style: 'text-align:' + (this.parent.enableRtl ? 'right' : 'left') + ';width:190px'\n                }\n            });\n            elements[cols[i].uid].classList.remove('e-input');\n            dataCell.appendChild(elements[cols[i].uid]);\n            tr.appendChild(dataCell);\n            tbody.appendChild(tr);\n        }\n        table.appendChild(tbody);\n        form.appendChild(table);\n        div.appendChild(form);\n        return div;\n    };\n    DialogEditRender.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.dialogDestroy, this.destroy);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    return DialogEditRender;\n}());\nexport { DialogEditRender };\n","import { isNullOrUndefined, closest, extend } from '@syncfusion/ej2-base';\nimport { InlineEditRender } from './inline-edit-renderer';\nimport { BatchEditRender } from './batch-edit-renderer';\nimport { DialogEditRender } from './dialog-edit-renderer';\nimport { attributes, classList, select } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { getComplexFieldID, getObject, appendChildren, parentsUntil, extendObjWithFn } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * Edit render module is used to render grid edit row.\n *\n * @hidden\n */\nvar EditRender = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IGrid} parent -specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     */\n    function EditRender(parent, serviceLocator) {\n        //Internal variables\n        this.editType = {\n            'Inline': InlineEditRender,\n            'Normal': InlineEditRender, 'Batch': BatchEditRender, 'Dialog': DialogEditRender\n        };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.renderer = new this.editType[this.parent.editSettings.mode](parent, serviceLocator);\n        this.focus = serviceLocator.getService('focus');\n    }\n    EditRender.prototype.addNew = function (args) {\n        this.renderer.addNew(this.getEditElements(args), args);\n        this.convertWidget(args);\n    };\n    EditRender.prototype.update = function (args) {\n        this.renderer.update(this.getEditElements(args), args);\n        var isCustomFormValidation = args.isCustomFormValidation;\n        if (!isCustomFormValidation) {\n            this.parent.notify(events.beforeStartEdit, args);\n            this.convertWidget(args);\n        }\n    };\n    EditRender.prototype.convertWidget = function (args) {\n        var gObj = this.parent;\n        var isFocused;\n        var cell;\n        var value;\n        var fForm;\n        var frForm;\n        var frzCols = gObj.isFrozenGrid();\n        var index = gObj.getFrozenMode() === 'Right' && gObj.editSettings.mode === 'Normal' ? 1 : 0;\n        var form = gObj.editSettings.mode === 'Dialog' ?\n            select('#' + gObj.element.id + '_dialogEdit_wrapper .e-gridform', document) :\n            gObj.element.getElementsByClassName('e-gridform')[index];\n        var isVirtualFrozen = frzCols && this.parent.enableColumnVirtualization && args.isScroll;\n        if (frzCols && gObj.editSettings.mode === 'Normal') {\n            var rowIndex = parseInt(args.row.getAttribute(literals.ariaRowIndex), 10);\n            if (gObj.frozenRows && ((args.requestType === 'add' && gObj.editSettings.newRowPosition === 'Top')\n                || rowIndex < gObj.frozenRows)) {\n                fForm = gObj.element.querySelector('.' + literals.movableHeader).querySelector('.e-gridform');\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    frForm = args.frozenRightForm;\n                }\n            }\n            else {\n                fForm = gObj.element.querySelector('.' + literals.movableContent).querySelector('.e-gridform');\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    frForm = args.frozenRightForm;\n                }\n            }\n        }\n        var cols = gObj.editSettings.mode !== 'Batch' ? gObj.getColumns() : [gObj.getColumnByField(args.columnName)];\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n            var col = cols_1[_i];\n            if (isVirtualFrozen && col.getFreezeTableName() !== 'movable') {\n                continue;\n            }\n            if (this.parent.editSettings.template && !isNullOrUndefined(col.field)) {\n                var cellArgs = extend({}, args);\n                cellArgs.element = form.querySelector('[name=' + getComplexFieldID(col.field) + ']');\n                if (isNullOrUndefined(cellArgs.element) && frzCols) {\n                    cellArgs.element = fForm.querySelector('[name=' + getComplexFieldID(col.field) + ']');\n                }\n                if (typeof col.edit.write === 'string') {\n                    getObject(col.edit.write, window)(cellArgs);\n                }\n                else {\n                    col.edit.write(cellArgs);\n                }\n                continue;\n            }\n            if (this.parent.editModule.checkColumnIsGrouped(col) || col.commands) {\n                continue;\n            }\n            // eslint-disable-next-line\n            value = (col.valueAccessor(col.field, args.rowData, col));\n            if (col.getFreezeTableName() === 'movable' && gObj.editSettings.mode === 'Normal') {\n                cell = fForm.querySelector('[e-mappinguid=' + col.uid + ']');\n            }\n            else if (frForm && col.getFreezeTableName() === literals.frozenRight && gObj.editSettings.mode === 'Normal') {\n                cell = frForm.querySelector('[e-mappinguid=' + col.uid + ']');\n            }\n            else {\n                cell = form.querySelector('[e-mappinguid=' + col.uid + ']');\n            }\n            var temp = col.edit.write;\n            if (!isNullOrUndefined(cell)) {\n                if (typeof temp === 'string') {\n                    temp = getObject(temp, window);\n                    temp({\n                        rowData: args.rowData, element: cell, column: col, requestType: args.requestType, row: args.row,\n                        foreignKeyData: col.isForeignColumn() && getObject(col.field, args.foreignKeyData)\n                    });\n                }\n                else {\n                    col.edit.write({\n                        rowData: args.rowData, element: cell, column: col, requestType: args.requestType, row: args.row,\n                        foreignKeyData: col.isForeignColumn() && getObject(col.field, args.foreignKeyData)\n                    });\n                }\n                if (!isFocused && !cell.getAttribute('disabled') && !parentsUntil(cell, 'e-checkbox-disabled')) {\n                    this.focusElement(cell, args.type);\n                    isFocused = true;\n                }\n            }\n        }\n        if (frzCols && !this.parent.allowTextWrap && ((args.requestType === 'add') || args.requestType === 'beginEdit')\n            && this.parent.editSettings.mode !== 'Dialog' && !isNullOrUndefined(form) && !isNullOrUndefined(fForm)) {\n            var mTdElement = (fForm.querySelector('tr').children[0]);\n            var fTdElement = (form.querySelector('tr').children[0]);\n            if (fTdElement.offsetHeight > mTdElement.offsetHeight) {\n                mTdElement.style.height = fTdElement.offsetHeight + 'px';\n                if (frForm) {\n                    var frTdElement = fForm.querySelector('tr').children[0];\n                    frTdElement.style.height = fTdElement.offsetHeight + 'px';\n                }\n            }\n            else {\n                fTdElement.style.height = mTdElement.offsetHeight + 'px';\n                if (frForm) {\n                    var frTdElement = fForm.querySelector('tr').children[0];\n                    frTdElement.style.height = mTdElement.offsetHeight + 'px';\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    EditRender.prototype.focusElement = function (elem, type) {\n        var chkBox = this.parent.element.querySelector('.e-edit-checkselect');\n        if (!isNullOrUndefined(chkBox)) {\n            chkBox.nextElementSibling.classList.add('e-focus');\n        }\n        if (this.parent.editSettings.mode === 'Batch') {\n            this.focus.onClick({ target: closest(elem, 'td') }, true);\n        }\n        else {\n            var isFocus = this.parent.enableVirtualization && this.parent.editSettings.mode === 'Normal' ? false : true;\n            if (isFocus || (this.parent.enableVirtualization && this.parent.editSettings.newRowPosition === 'Bottom'\n                && parentsUntil(elem, literals.addedRow))) {\n                elem.focus();\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                elem.focus({ preventScroll: true });\n            }\n        }\n        if (elem.classList.contains('e-defaultcell')) {\n            elem.setSelectionRange(elem.value.length, elem.value.length);\n        }\n    };\n    EditRender.prototype.getEditElements = function (args) {\n        var gObj = this.parent;\n        var elements = {};\n        var cols = gObj.editSettings.mode !== 'Batch' ? gObj.getColumns() : [gObj.getColumnByField(args.columnName)];\n        if (args.isCustomFormValidation) {\n            cols = this.parent.columnModel;\n        }\n        if (this.parent.editSettings.template) {\n            return {};\n        }\n        var isVirtualFrozen = gObj.isFrozenGrid() && gObj.enableColumnVirtualization && args.isScroll;\n        for (var i = 0, len = cols.length; i < len; i++) {\n            var col = cols[i];\n            if (this.parent.editModule.checkColumnIsGrouped(col) || (isVirtualFrozen && cols[i].getFreezeTableName() !== 'movable')\n                || (args.isCustomFormValidation && (col.commands || col.commandsTemplate || !col.field))) {\n                continue;\n            }\n            if (col.commands || col.commandsTemplate) {\n                var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n                var model = new RowModelGenerator(this.parent);\n                var cellRenderer = cellRendererFact.getCellRenderer(CellType.CommandColumn);\n                var cells = model.generateRows(args.rowData)[0].cells;\n                var cell = cells.filter(function (cell) { return cell.rowID; });\n                var td = cellRenderer.render(cell[i], args.rowData, { 'index': args.row ? args.row.getAttribute(literals.ariaRowIndex) : 0 }, this.parent.enableVirtualization);\n                var div = td.firstElementChild;\n                div.setAttribute('textAlign', td.getAttribute('textAlign'));\n                elements[col.uid] = div;\n                continue;\n            }\n            var value = (col.valueAccessor(col.field, args.rowData, col));\n            var tArgs = { column: col, value: value, type: args.requestType, data: args.rowData };\n            var temp = col.edit.create;\n            var input = void 0;\n            if (col.editTemplate) {\n                input = this.parent.createElement('span', { attrs: { 'e-mappinguid': col.uid } });\n                var tempID = this.parent.element.id + col.uid + 'editTemplate';\n                var tempData = extendObjWithFn({}, args.rowData, { column: col });\n                var isReactCompiler = this.parent.isReact && typeof (col.editTemplate) !== 'string';\n                if (isReactCompiler) {\n                    col.getEditTemplate()(extend({ 'index': args.rowIndex }, tempData), this.parent, 'editTemplate', tempID, null, null, input);\n                    this.parent.renderTemplates();\n                }\n                else {\n                    var template = col.getEditTemplate()(extend({ 'index': args.rowIndex }, tempData), this.parent, 'editTemplate', tempID);\n                    appendChildren(input, template);\n                }\n            }\n            else {\n                if (typeof temp === 'string') {\n                    temp = getObject(temp, window);\n                    input = temp(tArgs);\n                }\n                else {\n                    input = col.edit.create(tArgs);\n                }\n                if (typeof input === 'string') {\n                    var div = this.parent.createElement('div');\n                    div.innerHTML = input;\n                    input = div.firstChild;\n                }\n                var isInput = input.tagName !== 'input' && input.querySelectorAll('input').length;\n                var complexFieldName = getComplexFieldID(col.field);\n                attributes(isInput ? input.querySelector('input') : input, {\n                    name: complexFieldName, 'e-mappinguid': col.uid,\n                    id: gObj.element.id + complexFieldName\n                });\n                classList(input, ['e-input', 'e-field'], []);\n                if (col.textAlign === 'Right') {\n                    input.classList.add('e-ralign');\n                }\n                if ((col.isPrimaryKey || col.isIdentity) && args.requestType === 'beginEdit' ||\n                    (col.isIdentity && args.requestType === 'add')) { // already disabled in cell plugins\n                    input.setAttribute('disabled', '');\n                }\n            }\n            elements[col.uid] = input;\n        }\n        return elements;\n    };\n    EditRender.prototype.destroy = function () {\n        this.renderer.removeEventListener();\n    };\n    return EditRender;\n}());\nexport { EditRender };\n","import { createEditElement } from '../base/util';\n/**\n * `DropDownEditCell` is used to handle dropdown cell type editing.\n *\n * @hidden\n */\nvar EditCellBase = /** @class */ (function () {\n    function EditCellBase(parent) {\n        this.parent = parent;\n    }\n    EditCellBase.prototype.create = function (args) {\n        return createEditElement(this.parent, args.column, 'e-field', { type: 'text' });\n    };\n    EditCellBase.prototype.read = function (element) {\n        return element.ej2_instances[0].value;\n    };\n    EditCellBase.prototype.destroy = function () {\n        if (this.obj && !this.obj.isDestroyed) {\n            if (this.removeEventHandler) {\n                this.removeEventHandler();\n            }\n            this.obj.destroy();\n        }\n    };\n    return EditCellBase;\n}());\nexport { EditCellBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { extend } from '@syncfusion/ej2-base';\nimport { isEditable, addRemoveActiveClasses, createEditElement, getObject } from '../base/util';\nimport * as literals from '../base/string-literals';\nimport { EditCellBase } from './edit-cell-base';\n/**\n * `BooleanEditCell` is used to handle boolean cell type editing.\n *\n * @hidden\n */\nvar BooleanEditCell = /** @class */ (function (_super) {\n    __extends(BooleanEditCell, _super);\n    function BooleanEditCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.activeClasses = ['e-selectionbackground', 'e-active'];\n        return _this;\n    }\n    BooleanEditCell.prototype.create = function (args) {\n        var col = args.column;\n        var classNames = 'e-field e-boolcell';\n        if (col.type === 'checkbox') {\n            classNames = 'e-field e-boolcell e-edit-checkselect';\n        }\n        this.removeEventHandler = this.removeEventListener;\n        return createEditElement(this.parent, args.column, classNames, { type: 'checkbox', value: args.value });\n    };\n    BooleanEditCell.prototype.read = function (element) {\n        return element.checked;\n    };\n    BooleanEditCell.prototype.write = function (args) {\n        var selectChkBox;\n        var chkState;\n        if (!isNullOrUndefined(args.row)) {\n            selectChkBox = args.row.querySelector('.e-edit-checkselect');\n        }\n        if (getObject(args.column.field, args.rowData)) {\n            chkState = JSON.parse(getObject(args.column.field, args.rowData).toString().toLowerCase());\n        }\n        if (!isNullOrUndefined(selectChkBox) && args.column.type === 'checkbox') {\n            this.editType = this.parent.editSettings.mode;\n            this.editRow = args.row;\n            if (args.requestType !== 'add') {\n                var row = this.parent.getRowObjectFromUID(args.row.getAttribute('data-uid'));\n                chkState = row ? row.isSelected : false;\n            }\n            addRemoveActiveClasses.apply(void 0, [[].slice.call(args.row.getElementsByClassName(literals.rowCell)), chkState].concat(this.activeClasses));\n        }\n        this.obj = new CheckBox(extend({\n            label: this.parent.editSettings.mode !== 'Dialog' ? ' ' : args.column.headerText,\n            checked: chkState,\n            disabled: !isEditable(args.column, args.requestType, args.element), enableRtl: this.parent.enableRtl\n        }, args.column.edit.params));\n        this.addEventListener();\n        this.obj.appendTo(args.element);\n    };\n    BooleanEditCell.prototype.addEventListener = function () {\n        this.cbChange = this.checkBoxChange.bind(this);\n        this.obj.addEventListener(literals.change, this.cbChange);\n    };\n    BooleanEditCell.prototype.removeEventListener = function () {\n        if (this.obj.isDestroyed) {\n            return;\n        }\n        this.obj.removeEventListener(literals.change, this.cbChange);\n    };\n    BooleanEditCell.prototype.checkBoxChange = function (args) {\n        if (this.editRow && this.editType !== 'Dialog') {\n            var add = false;\n            if (!args.checked) {\n                this.editRow.removeAttribute('aria-selected');\n            }\n            else {\n                add = true;\n                this.editRow.setAttribute('aria-selected', add.toString());\n            }\n            addRemoveActiveClasses.apply(void 0, [[].slice.call(this.editRow.getElementsByClassName(literals.rowCell)), add].concat(this.activeClasses));\n        }\n    };\n    return BooleanEditCell;\n}(EditCellBase));\nexport { BooleanEditCell };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend, isNullOrUndefined, select } from '@syncfusion/ej2-base';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { Query, DataManager, DataUtil, Predicate } from '@syncfusion/ej2-data';\nimport { isEditable, getComplexFieldID, getObject } from '../base/util';\nimport { parentsUntil } from '../base/util';\nimport { EditCellBase } from './edit-cell-base';\nimport * as literals from '../base/string-literals';\nimport * as events from '../base/constant';\n/**\n * `DropDownEditCell` is used to handle dropdown cell type editing.\n *\n * @hidden\n */\nvar DropDownEditCell = /** @class */ (function (_super) {\n    __extends(DropDownEditCell, _super);\n    function DropDownEditCell(parent) {\n        var _this = \n        //constructor\n        _super.call(this) || this;\n        _this.parent = parent;\n        _this.flag = false;\n        _this.removeEventHandler = _this.removeEventListener;\n        return _this;\n    }\n    DropDownEditCell.prototype.write = function (args) {\n        var isInline = this.parent.editSettings.mode !== 'Dialog';\n        this.column = args.column;\n        var pred = new Predicate(args.column.field, 'notequal', null, true, false);\n        var params = {};\n        if (args.column.edit.params) {\n            var keys = Object.keys(args.column.edit.params);\n            for (var i = 0; i < keys.length; i++) {\n                params[keys[i]] = keys[i] === 'query' ? args.column.edit.params[keys[i]].clone() : args.column.edit.params[keys[i]];\n            }\n        }\n        this.obj = new DropDownList(extend({\n            dataSource: this.parent.dataSource instanceof DataManager ?\n                this.parent.dataSource : new DataManager(this.parent.dataSource),\n            query: new Query().where(pred).select(args.column.field), enabled: isEditable(args.column, args.requestType, args.element),\n            fields: { value: args.column.field },\n            value: getObject(args.column.field, args.rowData),\n            enableRtl: this.parent.enableRtl,\n            placeholder: isInline ? '' : args.column.headerText, popupHeight: '200px',\n            floatLabelType: isInline ? 'Never' : 'Always',\n            sortOrder: 'Ascending'\n        }, params));\n        if (this.parent.enableVirtualization) {\n            this.obj.dataSource = args.column.isForeignColumn() ? [args.foreignKeyData[0]] : [args.rowData];\n        }\n        this.addEventListener();\n        this.obj.query.params = this.parent.query.params;\n        this.obj.appendTo(args.element);\n        /* tslint:disable-next-line:no-any */\n        args.element.setAttribute('name', getComplexFieldID(args.column.field));\n    };\n    DropDownEditCell.prototype.addEventListener = function () {\n        this.ddCreated = this.dropdownCreated.bind(this);\n        this.ddOpen = this.dropDownOpen.bind(this);\n        this.ddBeforeOpen = this.dropdownBeforeOpen.bind(this);\n        this.ddComplete = this.ddActionComplete.bind(this);\n        this.obj.addEventListener(literals.create, this.ddCreated);\n        this.obj.addEventListener(literals.open, this.ddOpen);\n        this.obj.addEventListener(literals.beforeOpen, this.ddBeforeOpen);\n        this.obj.addEventListener(events.actionComplete, this.ddComplete);\n    };\n    DropDownEditCell.prototype.removeEventListener = function () {\n        if (this.obj.isDestroyed) {\n            return;\n        }\n        this.obj.removeEventListener(literals.create, this.ddCreated);\n        this.obj.removeEventListener(literals.open, this.ddOpen);\n        this.obj.removeEventListener(literals.beforeOpen, this.ddBeforeOpen);\n        this.obj.removeEventListener(events.actionComplete, this.ddComplete);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DropDownEditCell.prototype.dropdownCreated = function (e) {\n        this.flag = true;\n    };\n    DropDownEditCell.prototype.dropdownBeforeOpen = function () {\n        if (this.parent.enableVirtualization) {\n            this.obj.dataSource = !this.column.isForeignColumn() ? (this.parent.dataSource instanceof DataManager ?\n                this.parent.dataSource : new DataManager(this.parent.dataSource))\n                : this.column.dataSource instanceof DataManager ?\n                    this.column.dataSource : new DataManager(this.column.dataSource);\n        }\n    };\n    DropDownEditCell.prototype.ddActionComplete = function (e) {\n        e.result = DataUtil.distinct(e.result, this.obj.fields.value, true);\n        if (this.flag && this.column.dataSource && !this.column.edit.params.ddEditedData) {\n            if ('result' in this.column.dataSource) {\n                this.column.dataSource.result = e.result;\n            }\n            else if (this.column.dataSource instanceof DataManager) {\n                this.column.dataSource.dataSource.json = e.result;\n            }\n        }\n        this.flag = false;\n    };\n    DropDownEditCell.prototype.dropDownOpen = function (args) {\n        var dlgElement = parentsUntil(this.obj.element, 'e-dialog');\n        if (this.parent.editSettings.mode === 'Dialog' && !isNullOrUndefined(dlgElement)) {\n            var dlgObj = select('#' + dlgElement.id, document).ej2_instances[0];\n            args.popup.element.style.zIndex = (dlgObj.zIndex + 1).toString();\n        }\n    };\n    return DropDownEditCell;\n}(EditCellBase));\nexport { DropDownEditCell };\n","import { extend, Internationalization } from '@syncfusion/ej2-base';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { isEditable, getComplexFieldID, getObject, createEditElement } from '../base/util';\n/**\n * `NumericEditCell` is used to handle numeric cell type editing.\n *\n * @hidden\n */\nvar NumericEditCell = /** @class */ (function () {\n    function NumericEditCell(parent) {\n        this.parent = parent;\n    }\n    NumericEditCell.prototype.keyEventHandler = function (args) {\n        if (args.keyCode === 13 || args.keyCode === 9) {\n            var evt = document.createEvent('HTMLEvents');\n            evt.initEvent('change', false, true);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.dispatchEvent(evt);\n        }\n    };\n    NumericEditCell.prototype.create = function (args) {\n        this.instances = new Internationalization(this.parent.locale);\n        return createEditElement(this.parent, args.column, 'e-field', {});\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    NumericEditCell.prototype.read = function (element) {\n        return this.obj.value;\n    };\n    NumericEditCell.prototype.write = function (args) {\n        var col = args.column;\n        var isInline = this.parent.editSettings.mode !== 'Dialog';\n        this.obj = new NumericTextBox(extend({\n            value: parseFloat(getObject(args.column.field, args.rowData)),\n            enableRtl: this.parent.enableRtl,\n            placeholder: isInline ? '' : args.column.headerText,\n            enabled: isEditable(args.column, args.requestType, args.element),\n            floatLabelType: this.parent.editSettings.mode !== 'Dialog' ? 'Never' : 'Always',\n            locale: this.parent.locale\n        }, col.edit.params));\n        args.element.setAttribute('name', getComplexFieldID(args.column.field));\n        this.obj.appendTo(args.element);\n        this.obj.element.addEventListener('keydown', this.keyEventHandler);\n    };\n    NumericEditCell.prototype.destroy = function () {\n        if (this.obj && !this.obj.isDestroyed) {\n            this.obj.element.removeEventListener('keydown', this.keyEventHandler);\n            this.obj.destroy();\n        }\n    };\n    return NumericEditCell;\n}());\nexport { NumericEditCell };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { isEditable, createEditElement } from '../base/util';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { EditCellBase } from './edit-cell-base';\n/**\n * `DefaultEditCell` is used to handle default cell type editing.\n *\n * @hidden\n */\nvar DefaultEditCell = /** @class */ (function (_super) {\n    __extends(DefaultEditCell, _super);\n    function DefaultEditCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefaultEditCell.prototype.create = function (args) {\n        var attr = {\n            type: 'text', value: !isNullOrUndefined(args.value) ? args.value : '', style: 'text-align:' + args.column.textAlign\n        };\n        return createEditElement(this.parent, args.column, 'e-field e-input e-defaultcell', attr);\n    };\n    DefaultEditCell.prototype.read = function (element) {\n        return element.value;\n    };\n    DefaultEditCell.prototype.write = function (args) {\n        var col = args.column;\n        var isInline = this.parent.editSettings.mode !== 'Dialog';\n        this.obj = new TextBox(extend({\n            element: args.element, floatLabelType: this.parent.editSettings.mode !== 'Dialog' ? 'Never' : 'Always',\n            enableRtl: this.parent.enableRtl, enabled: isEditable(args.column, args.requestType, args.element),\n            placeholder: isInline ? '' : args.column.headerText\n        }, col.edit.params));\n        this.obj.appendTo(args.element);\n    };\n    return DefaultEditCell;\n}(EditCellBase));\nexport { DefaultEditCell };\n","import { extend, select } from '@syncfusion/ej2-base';\nimport { remove, isNullOrUndefined, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { parentsUntil, isGroupAdaptive, refreshForeignData, getObject, gridActionHandler } from '../base/util';\nimport * as events from '../base/constant';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { addRemoveEventListener } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * `NormalEdit` module is used to handle normal('inline, dialog, external') editing actions.\n *\n * @hidden\n */\nvar NormalEdit = /** @class */ (function () {\n    function NormalEdit(parent, serviceLocator, renderer) {\n        this.args = {};\n        this.currentVirtualData = {};\n        this.parent = parent;\n        this.renderer = renderer;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    NormalEdit.prototype.clickHandler = function (e) {\n        var target = e.target;\n        var gObj = this.parent;\n        if ((((parentsUntil(target, literals.gridContent) &&\n            parentsUntil(parentsUntil(target, literals.gridContent), 'e-grid').id === gObj.element.id)) || (gObj.frozenRows\n            && parentsUntil(target, literals.headerContent))) && !parentsUntil(target, 'e-unboundcelldiv')) {\n            this.rowIndex = parentsUntil(target, literals.rowCell)\n                ? parseInt(target.parentElement.getAttribute(literals.ariaRowIndex), 10) : -1;\n            if (gObj.isEdit) {\n                gObj.editModule.endEdit();\n            }\n        }\n    };\n    NormalEdit.prototype.dblClickHandler = function (e) {\n        if (parentsUntil(e.target, literals.rowCell) && this.parent.editSettings.allowEditOnDblClick) {\n            this.parent.editModule.startEdit(parentsUntil(e.target, literals.row));\n        }\n    };\n    /**\n     * The function used to trigger editComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.editComplete = function (e) {\n        this.parent.isEdit = false;\n        var action = 'action';\n        switch (e.requestType) {\n            case 'save':\n                if (!(this.parent.isCheckBoxSelection || this.parent.selectionSettings.type === 'Multiple')\n                    || (!this.parent.isPersistSelection)) {\n                    if (e[action] !== 'edit') {\n                        this.parent.selectRow(0);\n                    }\n                }\n                this.parent.trigger(events.actionComplete, extend(e, {\n                    requestType: 'save',\n                    type: events.actionComplete\n                }));\n                break;\n            case 'delete':\n                this.parent.trigger(events.actionComplete, extend(e, {\n                    requestType: 'delete',\n                    type: events.actionComplete\n                }));\n                if (!this.parent.isCheckBoxSelection) {\n                    this.parent.selectRow(this.editRowIndex);\n                }\n                break;\n        }\n    };\n    NormalEdit.prototype.getEditArgs = function (editedData, rowObj, isScroll) {\n        var primaryKeys = this.parent.getPrimaryKeyFieldNames();\n        var primaryKeyValues = [];\n        for (var i = 0; i < primaryKeys.length; i++) {\n            primaryKeyValues.push(getObject(primaryKeys[i], editedData));\n        }\n        var args = {\n            primaryKey: primaryKeys, primaryKeyValue: primaryKeyValues, requestType: 'beginEdit',\n            rowData: editedData, rowIndex: this.rowIndex, type: 'edit', cancel: false,\n            foreignKeyData: rowObj && rowObj.foreignKeyData, target: undefined, isScroll: isScroll\n        };\n        return args;\n    };\n    NormalEdit.prototype.startEdit = function (tr) {\n        var _this = this;\n        var gObj = this.parent;\n        this.rowIndex = this.editRowIndex = parseInt(tr.getAttribute(literals.ariaRowIndex), 10);\n        if (gObj.enableVirtualization || gObj.enableInfiniteScrolling) {\n            var selector = '.e-row[aria-rowindex=\"' + this.rowIndex + '\"]';\n            var virtualRow = this.parent.element.querySelector(selector);\n            if (!virtualRow) {\n                return;\n            }\n        }\n        var e = { data: undefined, index: this.rowIndex, isScroll: false };\n        this.parent.notify(events.virtualScrollEditActionBegin, e);\n        if (isGroupAdaptive(gObj)) {\n            var rObj = gObj.getRowObjectFromUID(tr.getAttribute('data-uid'));\n            this.previousData = rObj.data;\n        }\n        else if (!this.previousData && (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)) {\n            this.previousData = e.data;\n        }\n        else if (!this.parent.enableVirtualization) {\n            this.previousData = extend({}, {}, gObj.getCurrentViewRecords()[this.rowIndex], true);\n        }\n        var editedData = extend({}, {}, e.data || this.previousData, true);\n        this.uid = tr.getAttribute('data-uid');\n        var rowObj = gObj.getRowObjectFromUID(this.uid);\n        var args = this.getEditArgs(editedData, rowObj, e.isScroll);\n        args.row = tr;\n        if (!args.isScroll) {\n            this.parent.notify(events.createVirtualValidationForm, { uid: this.uid, prevData: this.previousData, argsCreator: this.getEditArgs.bind(this), renderer: this.renderer });\n            gObj.trigger(events.beginEdit, args, function (begineditargs) {\n                begineditargs.type = 'actionBegin';\n                gObj.trigger(events.actionBegin, begineditargs, function (editargs) {\n                    if (!editargs.cancel) {\n                        _this.inlineEditHandler(editargs, tr);\n                    }\n                });\n            });\n        }\n        else {\n            this.inlineEditHandler(args, tr);\n        }\n    };\n    NormalEdit.prototype.inlineEditHandler = function (editargs, tr) {\n        var gObj = this.parent;\n        gObj.isEdit = true;\n        editargs.row = editargs.row ? editargs.row : tr;\n        if (gObj.editSettings.mode !== 'Dialog') {\n            gObj.clearSelection();\n        }\n        if (gObj.editSettings.mode === 'Dialog' && gObj.selectionModule) {\n            gObj.selectionModule.preventFocus = true;\n            editargs.row.classList.add('e-dlgeditrow');\n        }\n        this.renderer.update(editargs);\n        this.uid = tr.getAttribute('data-uid');\n        gObj.editModule.applyFormValidation();\n        editargs.type = 'actionComplete';\n        gObj.trigger(events.actionComplete, editargs);\n        this.args = editargs;\n        if (this.parent.allowTextWrap) {\n            this.parent.notify(events.freezeRender, { case: 'textwrap' });\n        }\n    };\n    NormalEdit.prototype.updateRow = function (index, data) {\n        var _this = this;\n        var gObj = this.parent;\n        this.editRowIndex = index;\n        var args = {\n            requestType: 'save', action: 'edit', type: events.actionBegin, data: data, cancel: false,\n            previousData: gObj.getCurrentViewRecords()[index],\n            row: gObj.getRowByIndex(index)\n        };\n        gObj.showSpinner();\n        if (gObj.enableInfiniteScrolling) {\n            this.uid = args.row.getAttribute('data-uid');\n            var index_1 = parseInt(args.row.getAttribute('aria-rowindex'));\n            this.parent.notify(events.refreshInfiniteEditrowindex, { index: index_1 });\n        }\n        gObj.notify(events.updateData, args);\n        if (args.promise) {\n            args.promise.then(function () { return gObj.refresh(); }).catch(function (e) { return _this.edFail(e); });\n        }\n        else {\n            if (!gObj.enableInfiniteScrolling) {\n                gObj.refresh();\n            }\n        }\n    };\n    NormalEdit.prototype.editFormValidate = function () {\n        var gObj = this.parent;\n        var isValid = gObj.editModule.editFormValidate();\n        var validationArgs = {\n            prevData: this.previousData, isValid: true, editIdx: this.editRowIndex, addIdx: this.addedRowIndex\n        };\n        gObj.notify(events.validateVirtualForm, validationArgs);\n        return (isValid && validationArgs.isValid);\n    };\n    NormalEdit.prototype.endEdit = function () {\n        var gObj = this.parent;\n        if (!this.parent.isEdit || !this.editFormValidate()) {\n            return;\n        }\n        var editedData = extend({}, {}, this.previousData, true);\n        var args = extend(this.args, {\n            requestType: 'save', type: events.actionBegin, data: editedData, cancel: false,\n            previousData: this.previousData, selectedRow: gObj.selectedRowIndex, foreignKeyData: {}\n        });\n        var index = gObj.getFrozenMode() === 'Right' ? 1 : 0;\n        var isDlg = gObj.editSettings.mode === 'Dialog';\n        var dlgWrapper = select('#' + gObj.element.id + '_dialogEdit_wrapper', document);\n        var dlgForm = isDlg ? dlgWrapper.querySelector('.e-gridform') : gObj.element.getElementsByClassName('e-gridform')[index];\n        var data = {\n            virtualData: extend({}, {}, this.previousData, true), isAdd: false, isScroll: false, endEdit: true\n        };\n        this.parent.notify(events.getVirtualData, data);\n        if ((this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)\n            && this.parent.editSettings.mode === 'Normal' && Object.keys(data.virtualData).length) {\n            if (this.parent.isEdit) {\n                this.currentVirtualData = editedData = args.data = data.virtualData;\n            }\n        }\n        else {\n            editedData = gObj.editModule.getCurrentEditedData(dlgForm, editedData);\n        }\n        if (gObj.isFrozenGrid() && gObj.editSettings.mode === 'Normal') {\n            var mhdrFrm = gObj.getMovableVirtualHeader().querySelector('.e-gridform');\n            var mCntFrm = gObj.getMovableVirtualContent().querySelector('.e-gridform');\n            var mvblEle = [mhdrFrm || mCntFrm];\n            var frHdrFrm = void 0;\n            var frCntFrm = void 0;\n            var frEle = [];\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                frHdrFrm = gObj.getFrozenRightHeader().querySelector('.e-gridform');\n                frCntFrm = gObj.getFrozenRightContent().querySelector('.e-gridform');\n                frEle = [frHdrFrm || frCntFrm];\n            }\n            gridActionHandler(this.parent, function (tableName, elements) {\n                for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                    var ele = elements_1[_i];\n                    if (ele) {\n                        editedData = gObj.editModule.getCurrentEditedData(ele, editedData);\n                    }\n                }\n            }, [[], mvblEle, frEle]);\n        }\n        var eleLength = [].slice.call(gObj.element.getElementsByClassName(literals.editedRow)).length;\n        if (!data.isAdd && Object.keys(this.currentVirtualData).length && !eleLength) {\n            eleLength = 1;\n        }\n        if (isDlg ? dlgWrapper.getElementsByClassName(literals.editedRow).length : eleLength) {\n            args.action = 'edit';\n            gObj.trigger(events.actionBegin, args, function (endEditArgs) {\n                if (endEditArgs.cancel) {\n                    return;\n                }\n                gObj.showSpinner();\n                gObj.notify(events.updateData, endEditArgs);\n            });\n        }\n        else {\n            args.action = 'add';\n            args.selectedRow = 0;\n            args.index = this.addedRowIndex;\n            gObj.notify(events.virtualScrollEditSuccess, {});\n            gObj.notify(events.modelChanged, args);\n            this.addedRowIndex = null;\n            if (args.cancel) {\n                return;\n            }\n        }\n    };\n    NormalEdit.prototype.destroyElements = function () {\n        var gObj = this.parent;\n        gObj.editModule.destroyWidgets();\n        gObj.editModule.destroyForm();\n        this.parent.notify(events.dialogDestroy, {});\n    };\n    NormalEdit.prototype.editHandler = function (args) {\n        var _this = this;\n        if (args.promise) {\n            args.promise.then(function (e) { return _this.edSucc(e, args); }).catch(function (e) { return _this.edFail(e); });\n        }\n        else {\n            this.editSuccess(args.data, args);\n        }\n    };\n    NormalEdit.prototype.edSucc = function (e, args) {\n        this.editSuccess(e, args);\n    };\n    NormalEdit.prototype.edFail = function (e) {\n        this.editFailure(e);\n    };\n    NormalEdit.prototype.updateCurrentViewData = function (data) {\n        if (!this.parent.enableVirtualization && !this.parent.enableInfiniteScrolling) {\n            this.parent.getCurrentViewRecords()[this.editRowIndex] = data;\n        }\n    };\n    NormalEdit.prototype.requestSuccess = function (args) {\n        if (this.parent.editModule.formObj && !this.parent.editModule.formObj.isDestroyed) {\n            this.destroyElements();\n            this.stopEditStatus();\n            if (this.parent.editSettings.mode === 'Dialog' && args.action !== 'add' &&\n                this.parent.selectionModule) {\n                this.parent.element.querySelector('.e-dlgeditrow').classList.remove('e-dlgeditrow');\n            }\n        }\n    };\n    NormalEdit.prototype.editSuccess = function (e, args) {\n        if (!isNullOrUndefined(e) && !(e instanceof Array)) {\n            var rowData = 'rowData';\n            args.data = extend({}, extend({}, args[rowData], args.data), e);\n        }\n        this.requestSuccess(args);\n        this.parent.trigger(events.beforeDataBound, args);\n        args.type = events.actionComplete;\n        this.parent.isEdit = false;\n        this.refreshRow(args.data);\n        this.parent.notify(events.virtualScrollEditSuccess, args);\n        this.parent.editModule.checkLastRow(args.row);\n        this.parent.editModule.isLastRow = false;\n        this.updateCurrentViewData(args.data);\n        this.blazorTemplate();\n        this.editRowIndex = null;\n        this.parent.trigger(events.actionComplete, args);\n        if (!(this.parent.isCheckBoxSelection || this.parent.selectionSettings.type === 'Multiple')\n            || (!this.parent.isPersistSelection) && !this.parent.selectionSettings.checkboxOnly) {\n            if (this.parent.editSettings.mode !== 'Dialog') {\n                this.parent.selectRow(this.rowIndex > -1 ? this.rowIndex : this.editRowIndex);\n            }\n        }\n        this.parent.hideSpinner();\n    };\n    NormalEdit.prototype.closeForm = function () {\n        if (!this.cloneRow && this.parent.isEdit) {\n            this.stopEditStatus();\n        }\n        if (this.cloneRow) {\n            this.cloneRow.remove();\n            this.cloneRow = null;\n            this.originalRow.classList.remove('e-hiddenrow');\n        }\n        if (this.parent.isFrozenGrid() && this.cloneFrozen) {\n            this.cloneFrozen.remove();\n            this.frozen.classList.remove('e-hiddenrow');\n        }\n    };\n    NormalEdit.prototype.blazorTemplate = function () {\n        var cols = this.parent.getColumns();\n        if (this.parent.editSettings.template && this.parent.editSettings.mode === 'Normal') {\n            updateBlazorTemplate(this.parent.element.id + 'editSettingsTemplate', 'Template', this.parent.editSettings);\n        }\n        for (var i = 0; i < cols.length; i++) {\n            var col = cols[i];\n            if (col.template) {\n                updateBlazorTemplate(this.parent.element.id + col.uid, 'Template', col, false);\n            }\n            if (col.editTemplate) {\n                updateBlazorTemplate(this.parent.element.id + col.uid + 'editTemplate', 'EditTemplate', col);\n            }\n        }\n    };\n    NormalEdit.prototype.editFailure = function (e) {\n        this.parent.trigger(events.actionFailure, ({ error: e }));\n        this.parent.hideSpinner();\n        this.parent.log('actionfailure', { error: e });\n    };\n    NormalEdit.prototype.needRefresh = function () {\n        var refresh = true;\n        var editedRow = this.parent.element.querySelector('.e-gridform');\n        if ((this.parent.enableVirtualization || this.parent.infiniteScrollSettings.enableCache)\n            && this.parent.editSettings.mode === 'Normal' && !editedRow) {\n            refresh = false;\n        }\n        return refresh;\n    };\n    NormalEdit.prototype.refreshRow = function (data) {\n        var frzCols = this.parent.isFrozenGrid();\n        var row = new RowRenderer(this.serviceLocator, null, this.parent);\n        var rowObj = this.parent.getRowObjectFromUID(this.uid);\n        if (rowObj) {\n            rowObj.changes = data;\n            this.parent.notify(events.refreshVirtualCache, { data: data });\n            refreshForeignData(rowObj, this.parent.getForeignKeyColumns(), rowObj.changes);\n            if (this.needRefresh()) {\n                row.refresh(rowObj, this.parent.getColumns(), true);\n            }\n            var tr = [].slice.call(this.parent.element.querySelectorAll('[aria-rowindex=\"' + rowObj.index + '\"]'));\n            if (frzCols && tr.length) {\n                for (var i = 0; i < tr.length; i++) {\n                    var rowUid = tr[i].getAttribute('data-uid');\n                    if (rowUid !== this.uid) {\n                        rowObj = this.parent.getRowObjectFromUID(rowUid);\n                        rowObj.changes = data;\n                        row.refresh(rowObj, this.parent.getColumns(), true);\n                        this.parent.editModule.checkLastRow(tr[i]);\n                    }\n                }\n            }\n        }\n    };\n    NormalEdit.prototype.closeEdit = function () {\n        var _this = this;\n        if (!this.parent.isEdit) {\n            return;\n        }\n        var gObj = this.parent;\n        var args = extend(this.args, {\n            requestType: 'cancel', type: events.actionBegin, cancel: false, data: this.previousData, selectedRow: gObj.selectedRowIndex\n        });\n        gObj.notify(events.virtualScrollEditCancel, args);\n        this.blazorTemplate();\n        gObj.trigger(events.actionBegin, args, function (closeEditArgs) {\n            if (closeEditArgs.cancel) {\n                return;\n            }\n            if (_this.parent.editSettings.mode === 'Dialog') {\n                _this.parent.notify(events.dialogDestroy, {});\n            }\n            gObj.isEdit = false;\n            _this.stopEditStatus();\n            closeEditArgs.type = events.actionComplete;\n            if (gObj.editSettings.mode !== 'Dialog') {\n                _this.refreshRow(closeEditArgs.data);\n            }\n            var isLazyLoad = gObj.groupSettings.enableLazyLoading && gObj.groupSettings.columns.length\n                && !gObj.getContentTable().querySelector('tr.e-emptyrow');\n            if (!gObj.getContentTable().querySelector('tr.e-emptyrow') &&\n                !gObj.getContentTable().querySelector('tr.e-row') && !isLazyLoad) {\n                gObj.renderModule.emptyRow();\n            }\n            if (gObj.editSettings.mode !== 'Dialog') {\n                gObj.selectRow(_this.rowIndex);\n            }\n            gObj.trigger(events.actionComplete, closeEditArgs);\n        });\n    };\n    NormalEdit.prototype.addRecord = function (data, index) {\n        var _this = this;\n        var gObj = this.parent;\n        this.addedRowIndex = index = !isNullOrUndefined(index) ? index : 0;\n        if (data) {\n            gObj.notify(events.modelChanged, {\n                requestType: 'save', type: events.actionBegin, data: data, selectedRow: 0, action: 'add', index: index\n            });\n            return;\n        }\n        if (gObj.isEdit) {\n            return;\n        }\n        this.previousData = {};\n        this.uid = '';\n        var cols = gObj.getColumns();\n        var rowData = { virtualData: {}, isScroll: false };\n        this.parent.notify(events.getVirtualData, rowData);\n        for (var i = 0; i < cols.length; i++) {\n            if (rowData.isScroll && cols[i].getFreezeTableName() !== 'movable') {\n                continue;\n            }\n            if (cols[i].field) {\n                DataUtil.setValue(cols[i].field, cols[i].defaultValue, this.previousData);\n            }\n        }\n        var args = {\n            cancel: false, foreignKeyData: {},\n            requestType: 'add', data: this.previousData, type: events.actionBegin, index: index,\n            rowData: this.previousData, target: undefined, isScroll: rowData.isScroll\n        };\n        if ((this.parent.enableVirtualization || this.parent.infiniteScrollSettings.enableCache)\n            && Object.keys(rowData.virtualData).length) {\n            args.data = args.rowData = rowData.virtualData;\n        }\n        if (!args.isScroll) {\n            this.parent.notify(events.createVirtualValidationForm, { uid: this.uid, prevData: this.previousData, argsCreator: this.getEditArgs.bind(this), renderer: this.renderer });\n            gObj.trigger(events.actionBegin, args, function (addArgs) {\n                if (addArgs.cancel) {\n                    return;\n                }\n                _this.inlineAddHandler(addArgs);\n            });\n        }\n        else {\n            this.inlineAddHandler(args);\n        }\n    };\n    NormalEdit.prototype.inlineAddHandler = function (addArgs) {\n        var gObj = this.parent;\n        gObj.isEdit = true;\n        if (gObj.editSettings.mode !== 'Dialog') {\n            gObj.clearSelection();\n        }\n        this.renderer.addNew(addArgs);\n        gObj.editModule.applyFormValidation();\n        addArgs.type = events.actionComplete;\n        addArgs.row = gObj.element.querySelector('.' + literals.addedRow);\n        gObj.trigger(events.actionComplete, addArgs);\n        this.args = addArgs;\n    };\n    NormalEdit.prototype.deleteRecord = function (fieldname, data) {\n        this.editRowIndex = this.parent.selectedRowIndex;\n        if (data) {\n            data = (data instanceof Array) ? data : [data];\n            var gObj = this.parent;\n            var dataLen = Object.keys(data).length;\n            fieldname = fieldname || this.parent.getPrimaryKeyFieldNames()[0];\n            var _loop_1 = function (i) {\n                var _a;\n                var tmpRecord;\n                var contained = gObj.currentViewData.some(function (record) {\n                    tmpRecord = record;\n                    return data[i] === getObject(fieldname, record) || data[i] === record;\n                });\n                data[i] = contained ? tmpRecord : data[i][fieldname] ? data[i] : (_a = {}, _a[fieldname] = data[i], _a);\n            };\n            for (var i = 0; i < dataLen; i++) {\n                _loop_1(i);\n            }\n        }\n        var args = {\n            requestType: 'delete', type: events.actionBegin, foreignKeyData: {},\n            data: data ? data : this.parent.getSelectedRecords(), tr: this.parent.getSelectedRows(), cancel: false\n        };\n        if (!isNullOrUndefined(this.parent.commandDelIndex)) {\n            args.data[0] =\n                this.parent.getRowObjectFromUID(this.parent.getRowByIndex(this.parent.commandDelIndex).getAttribute('data-uid')).data;\n        }\n        if (this.parent.enableVirtualization && args.data.length > 1) {\n            var uid = this.parent.getSelectedRows()[0].getAttribute('data-uid');\n            args.data = [this.parent.getRowObjectFromUID(uid).data];\n        }\n        this.parent.notify(events.modelChanged, args);\n    };\n    NormalEdit.prototype.stopEditStatus = function () {\n        var gObj = this.parent;\n        var addElements = [].slice.call(gObj.element.getElementsByClassName(literals.addedRow));\n        var editElements = [].slice.call(gObj.element.getElementsByClassName(literals.editedRow));\n        for (var i = 0; i < addElements.length; i++) {\n            remove(addElements[i]);\n        }\n        for (var i = 0; i < editElements.length; i++) {\n            editElements[i].classList.remove(literals.editedRow);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.crudAction, handler: this.editHandler },\n            { event: events.doubleTap, handler: this.dblClickHandler },\n            { event: events.click, handler: this.clickHandler },\n            { event: events.recordAdded, handler: this.requestSuccess },\n            { event: events.dblclick, handler: this.dblClickHandler },\n            { event: events.deleteComplete, handler: this.editComplete },\n            { event: events.saveComplete, handler: this.editComplete },\n            { event: events.rowModeChange, handler: this.closeEdit },\n            { event: events.closeInline, handler: this.closeForm }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    NormalEdit.prototype.destroy = function () {\n        this.removeEventListener();\n        this.renderer.destroy();\n    };\n    return NormalEdit;\n}());\nexport { NormalEdit };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { NormalEdit } from './normal-edit';\n/**\n * `InlineEdit` module is used to handle inline editing actions.\n *\n * @hidden\n */\nvar InlineEdit = /** @class */ (function (_super) {\n    __extends(InlineEdit, _super);\n    function InlineEdit(parent, serviceLocator, renderer) {\n        var _this = _super.call(this, parent, serviceLocator) || this;\n        _this.parent = parent;\n        _this.serviceLocator = serviceLocator;\n        _this.renderer = renderer;\n        return _this;\n    }\n    InlineEdit.prototype.closeEdit = function () {\n        _super.prototype.closeEdit.call(this);\n    };\n    InlineEdit.prototype.addRecord = function (data, index) {\n        _super.prototype.addRecord.call(this, data, index);\n    };\n    InlineEdit.prototype.endEdit = function () {\n        _super.prototype.endEdit.call(this);\n    };\n    InlineEdit.prototype.updateRow = function (index, data) {\n        _super.prototype.updateRow.call(this, index, data);\n    };\n    InlineEdit.prototype.deleteRecord = function (fieldname, data) {\n        _super.prototype.deleteRecord.call(this, fieldname, data);\n    };\n    InlineEdit.prototype.startEdit = function (tr) {\n        _super.prototype.startEdit.call(this, tr);\n    };\n    return InlineEdit;\n}(NormalEdit));\nexport { InlineEdit };\n","import { extend, addClass, removeClass, setValue, closest, select } from '@syncfusion/ej2-base';\nimport { remove, classList } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { parentsUntil, inArray, refreshForeignData, getObject, alignFrozenEditForm, gridActionHandler, addRemoveEventListener } from '../base/util';\nimport { splitFrozenRowObjectCells, getGridRowElements } from '../base/util';\nimport { sliceElements, getCellByColAndRowIndex, getMovableTbody, getFrozenRightTbody } from '../base/util';\nimport { getGridRowObjects } from '../base/util';\nimport * as events from '../base/constant';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { CellRenderer } from '../renderer/cell-renderer';\nimport { Row } from '../models/row';\nimport { Cell } from '../models/cell';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport * as literals from '../base/string-literals';\n/**\n * `BatchEdit` module is used to handle batch editing actions.\n *\n * @hidden\n */\nvar BatchEdit = /** @class */ (function () {\n    function BatchEdit(parent, serviceLocator, renderer) {\n        this.cellDetails = {};\n        this.originalCell = {};\n        this.cloneCell = {};\n        this.editNext = false;\n        this.preventSaveCell = false;\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.renderer = renderer;\n        this.focus = serviceLocator.getService('focus');\n        this.addEventListener();\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.click, handler: this.clickHandler },\n            { event: events.dblclick, handler: this.dblClickHandler },\n            { event: events.beforeCellFocused, handler: this.onBeforeCellFocused },\n            { event: events.cellFocused, handler: this.onCellFocused },\n            { event: events.doubleTap, handler: this.dblClickHandler },\n            { event: events.keyPressed, handler: this.keyDownHandler },\n            { event: events.editNextValCell, handler: this.editNextValCell },\n            { event: events.closeBatch, handler: this.closeForm },\n            { event: events.destroy, handler: this.destroy }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.dataBoundFunction = this.dataBound.bind(this);\n        this.batchCancelFunction = this.batchCancel.bind(this);\n        this.parent.addEventListener(events.dataBound, this.dataBoundFunction);\n        this.parent.addEventListener(events.batchCancel, this.batchCancelFunction);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n        this.parent.removeEventListener(events.dataBound, this.dataBoundFunction);\n        this.parent.removeEventListener(events.batchCancel, this.batchCancelFunction);\n    };\n    BatchEdit.prototype.batchCancel = function () {\n        this.parent.focusModule.restoreFocus();\n    };\n    BatchEdit.prototype.dataBound = function () {\n        this.parent.notify(events.toolbarRefresh, {});\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    BatchEdit.prototype.clickHandler = function (e) {\n        if (!parentsUntil(e.target, this.parent.element.id + '_add', true)) {\n            if (this.parent.isEdit && closest(this.form, 'td') !== closest(e.target, 'td')) {\n                this.saveCell();\n                this.editNextValCell();\n            }\n            if (parentsUntil(e.target, literals.rowCell) && !this.parent.isEdit) {\n                this.setCellIdx(e.target);\n            }\n        }\n    };\n    BatchEdit.prototype.dblClickHandler = function (e) {\n        var target = parentsUntil(e.target, literals.rowCell);\n        var tr = parentsUntil(e.target, literals.row);\n        var rowIndex = tr && parseInt(tr.getAttribute(literals.ariaRowIndex), 10);\n        var colIndex = target && parseInt(target.getAttribute(literals.ariaColIndex), 10);\n        if (!isNullOrUndefined(target) && !isNullOrUndefined(rowIndex) && !isNaN(colIndex)\n            && !target.parentElement.classList.contains(literals.editedRow)) {\n            this.editCell(rowIndex, this.parent.getColumns()[colIndex].field, this.isAddRow(rowIndex));\n        }\n    };\n    BatchEdit.prototype.onBeforeCellFocused = function (e) {\n        if (this.parent.isEdit && this.validateFormObj() &&\n            (e.byClick || (['tab', 'shiftTab', 'enter', 'shiftEnter'].indexOf(e.keyArgs.action) > -1))) {\n            e.cancel = true;\n            if (e.byClick) {\n                e.clickArgs.preventDefault();\n            }\n            else {\n                e.keyArgs.preventDefault();\n            }\n        }\n    };\n    BatchEdit.prototype.onCellFocused = function (e) {\n        var frzCols = this.parent.getFrozenLeftCount();\n        var frzRightCols = this.parent.getFrozenRightColumnsCount();\n        var mCont = this.parent.getContent().querySelector('.' + literals.movableContent);\n        var mHdr = this.parent.getHeaderContent().querySelector('.' + literals.movableHeader);\n        var clear = (!e.container.isContent || !e.container.isDataCell) && !(this.parent.frozenRows && e.container.isHeader);\n        if (!e.byKey || clear) {\n            if (this.parent.isEdit && clear) {\n                this.saveCell();\n            }\n            return;\n        }\n        var _a = e.container.indexes, rowIndex = _a[0], cellIndex = _a[1];\n        if (frzCols && (mCont.contains(e.element) || (this.parent.frozenRows && mHdr.contains(e.element)))) {\n            cellIndex += frzCols;\n        }\n        if (frzRightCols) {\n            var frHdr = this.parent.getHeaderContent().querySelector('.e-frozen-right-header');\n            var frCont = this.parent.getContent().querySelector('.e-frozen-right-content');\n            if (frCont.contains(e.element) || (this.parent.frozenRows && frHdr.contains(e.element))) {\n                cellIndex += (frzCols + this.parent.getMovableColumnsCount());\n            }\n        }\n        if (this.parent.frozenRows && e.container.isContent) {\n            rowIndex += this.parent.frozenRows;\n        }\n        var isEdit = this.parent.isEdit;\n        if (!this.parent.element.getElementsByClassName('e-popup-open').length) {\n            isEdit = isEdit && !this.validateFormObj();\n            switch (e.keyArgs.action) {\n                case 'tab':\n                case 'shiftTab':\n                    // eslint-disable-next-line no-case-declarations\n                    var col = this.parent.getColumns()[e.indexes[1]];\n                    if (col && !this.parent.isEdit) {\n                        this.editCell(e.indexes[0], col.field);\n                    }\n                    if (isEdit || this.parent.isLastCellPrimaryKey) {\n                        this.editCellFromIndex(rowIndex, cellIndex);\n                    }\n                    break;\n                case 'enter':\n                case 'shiftEnter':\n                    e.keyArgs.preventDefault();\n                    // eslint-disable-next-line no-case-declarations\n                    var args = { cancel: false, keyArgs: e.keyArgs };\n                    this.parent.notify('beforeFocusCellEdit', args);\n                    if (!args.cancel && isEdit) {\n                        this.editCell(rowIndex, this.cellDetails.column.field);\n                    }\n                    break;\n                case 'f2':\n                    this.editCellFromIndex(rowIndex, cellIndex);\n                    this.focus.focus();\n                    break;\n            }\n        }\n    };\n    BatchEdit.prototype.isAddRow = function (index) {\n        return this.parent.getDataRows()[index].classList.contains('e-insertedrow');\n    };\n    BatchEdit.prototype.editCellFromIndex = function (rowIdx, cellIdx) {\n        this.cellDetails.rowIndex = rowIdx;\n        this.cellDetails.cellIndex = cellIdx;\n        this.editCell(rowIdx, this.parent.getColumns()[cellIdx].field, this.isAddRow(rowIdx));\n    };\n    BatchEdit.prototype.closeEdit = function () {\n        var _this = this;\n        var gObj = this.parent;\n        var rows = this.parent.getRowsObject();\n        var argument = { cancel: false, batchChanges: this.getBatchChanges() };\n        gObj.notify(events.beforeBatchCancel, argument);\n        if (argument.cancel) {\n            return;\n        }\n        if (gObj.isEdit) {\n            this.saveCell(true);\n        }\n        this.isAdded = false;\n        gObj.clearSelection();\n        var allRows = getGridRowObjects(this.parent);\n        var _loop_1 = function (i) {\n            var isInsert = false;\n            var isDirty = rows[i].isDirty;\n            gridActionHandler(this_1.parent, function (tableName, rows) {\n                isInsert = _this.removeBatchElementChanges(rows[i], isDirty);\n                if (isInsert) {\n                    rows.splice(i, 1);\n                }\n            }, allRows);\n            if (isInsert) {\n                i--;\n            }\n            out_i_1 = i;\n        };\n        var this_1 = this, out_i_1;\n        for (var i = 0; i < rows.length; i++) {\n            _loop_1(i);\n            i = out_i_1;\n        }\n        if (!gObj.getContentTable().querySelector('tr.e-row')) {\n            gObj.renderModule.renderEmptyRow();\n        }\n        var args = {\n            requestType: 'batchCancel', rows: this.parent.getRowsObject()\n        };\n        gObj.notify(events.batchCancel, {\n            rows: this.parent.getRowsObject().length ? this.parent.getRowsObject() :\n                [new Row({ isDataRow: true, cells: [new Cell({ isDataCell: true, visible: true })] })]\n        });\n        gObj.selectRow(this.cellDetails.rowIndex);\n        this.refreshRowIdx();\n        gObj.notify(events.toolbarRefresh, {});\n        this.parent.notify(events.tooltipDestroy, {});\n        args = { requestType: 'batchCancel', rows: this.parent.getRowsObject() };\n        gObj.trigger(events.batchCancel, args);\n    };\n    BatchEdit.prototype.removeBatchElementChanges = function (row, isDirty) {\n        var gObj = this.parent;\n        var rowRenderer = new RowRenderer(this.serviceLocator, null, this.parent);\n        var isInstertedRemoved = false;\n        if (isDirty) {\n            row.isDirty = isDirty;\n            var tr = gObj.getRowElementByUID(row.uid);\n            if (tr) {\n                if (tr.classList.contains('e-insertedrow')) {\n                    remove(tr);\n                    isInstertedRemoved = true;\n                }\n                else {\n                    refreshForeignData(row, this.parent.getForeignKeyColumns(), row.data);\n                    delete row.changes;\n                    delete row.edit;\n                    row.isDirty = false;\n                    classList(tr, [], ['e-hiddenrow', 'e-updatedtd']);\n                    rowRenderer.refresh(row, gObj.getColumns(), false);\n                }\n                if (this.parent.aggregates.length > 0) {\n                    var type = 'type';\n                    var editType = [];\n                    editType[type] = 'cancel';\n                    this.parent.notify(events.refreshFooterRenderer, editType);\n                    if (this.parent.groupSettings.columns.length > 0) {\n                        this.parent.notify(events.groupAggregates, editType);\n                    }\n                }\n            }\n        }\n        return isInstertedRemoved;\n    };\n    BatchEdit.prototype.removeHideAndSelection = function (tr) {\n        if (tr.classList.contains('e-hiddenrow')) {\n            tr.removeAttribute('aria-selected');\n            var tdElements = [].slice.call(tr.getElementsByClassName('e-selectionbackground'));\n            for (var i = 0; i < tdElements.length; i++) {\n                removeClass([tdElements[i]], ['e-selectionbackground', 'e-active']);\n            }\n        }\n        classList(tr, [], ['e-hiddenrow', 'e-updatedtd']);\n    };\n    BatchEdit.prototype.deleteRecord = function (fieldname, data) {\n        this.saveCell();\n        if (this.validateFormObj()) {\n            this.saveCell(true);\n        }\n        this.isAdded = false;\n        this.bulkDelete(fieldname, data);\n        if (this.parent.aggregates.length > 0) {\n            this.parent.notify(events.refreshFooterRenderer, {});\n            if (this.parent.groupSettings.columns.length > 0) {\n                this.parent.notify(events.groupAggregates, {});\n            }\n        }\n    };\n    BatchEdit.prototype.addRecord = function (data) {\n        this.bulkAddRow(data);\n    };\n    BatchEdit.prototype.endEdit = function () {\n        if (this.parent.isEdit && this.validateFormObj()) {\n            return;\n        }\n        this.batchSave();\n    };\n    BatchEdit.prototype.closeForm = function () {\n        for (var i = 0; i < Object.keys(this.originalCell).length; i++) {\n            for (var j = 0; j < Object.keys(this.cloneCell).length; j++) {\n                if (Object.keys(this.originalCell)[i] === Object.keys(this.cloneCell)[j]) {\n                    this.cloneCell[Object.keys(this.cloneCell)[j]].replaceWith(this.originalCell[Object.keys(this.originalCell)[i]]);\n                    if (this.originalCell[Object.keys(this.originalCell)[i]].classList.contains('e-selectionbackground')) {\n                        this.originalCell[Object.keys(this.originalCell)[i]]\n                            .classList.remove('e-selectionbackground', 'e-cellselectionbackground', 'e-active');\n                    }\n                }\n            }\n        }\n        this.cloneCell = {};\n        this.originalCell = {};\n    };\n    BatchEdit.prototype.validateFormObj = function () {\n        return this.parent.editModule.formObj && !this.parent.editModule.formObj.validate();\n    };\n    BatchEdit.prototype.batchSave = function () {\n        var gObj = this.parent;\n        var deletedRecords = 'deletedRecords';\n        if (gObj.isCheckBoxSelection) {\n            var checkAllBox = gObj.element.querySelector('.e-checkselectall').parentElement;\n            if (checkAllBox.classList.contains('e-checkbox-disabled') &&\n                gObj.pageSettings.totalRecordsCount > gObj.currentViewData.length) {\n                removeClass([checkAllBox], ['e-checkbox-disabled']);\n            }\n        }\n        this.saveCell();\n        if (gObj.isEdit || this.editNextValCell() || gObj.isEdit) {\n            return;\n        }\n        var changes = this.getBatchChanges();\n        if (this.parent.selectionSettings.type === 'Multiple' && changes[deletedRecords].length &&\n            this.parent.selectionSettings.persistSelection) {\n            changes[deletedRecords] = this.removeSelectedData;\n            this.removeSelectedData = [];\n        }\n        var original = {\n            changedRecords: this.parent.getRowsObject()\n                .filter(function (row) { return row.isDirty && ['add', 'delete'].indexOf(row.edit) === -1; })\n                .map(function (row) { return row.data; })\n        };\n        var args = { batchChanges: changes, cancel: false };\n        gObj.trigger(events.beforeBatchSave, args, function (beforeBatchSaveArgs) {\n            if (beforeBatchSaveArgs.cancel) {\n                return;\n            }\n            gObj.showSpinner();\n            gObj.notify(events.bulkSave, { changes: changes, original: original });\n        });\n    };\n    BatchEdit.prototype.getBatchChanges = function () {\n        var changes = {\n            addedRecords: [],\n            deletedRecords: [],\n            changedRecords: []\n        };\n        var rows = this.parent.getRowsObject();\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            if (row.isDirty) {\n                switch (row.edit) {\n                    case 'add':\n                        changes.addedRecords.push(row.changes);\n                        break;\n                    case 'delete':\n                        changes.deletedRecords.push(row.data);\n                        break;\n                    default:\n                        changes.changedRecords.push(row.changes);\n                }\n            }\n        }\n        return changes;\n    };\n    /**\n     * @param {string} uid - specifes the uid\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.removeRowObjectFromUID = function (uid) {\n        var rows = this.parent.getRowsObject();\n        var i = 0;\n        for (var len = rows.length; i < len; i++) {\n            if (rows[i].uid === uid) {\n                break;\n            }\n        }\n        gridActionHandler(this.parent, function (tableName, rows) {\n            rows.splice(i, 1);\n        }, getGridRowObjects(this.parent));\n    };\n    /**\n     * @param {Row<Column>} row - specifies the row object\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.addRowObject = function (row) {\n        var gObj = this.parent;\n        var isTop = gObj.editSettings.newRowPosition === 'Top';\n        gridActionHandler(this.parent, function (tableName, rows) {\n            var rowClone = row.clone();\n            rowClone.cells = splitFrozenRowObjectCells(gObj, rowClone.cells, tableName);\n            if (isTop) {\n                rows.unshift(rowClone);\n            }\n            else {\n                rows.push(rowClone);\n            }\n        }, getGridRowObjects(this.parent), true);\n    };\n    // tslint:disable-next-line:max-func-body-length\n    BatchEdit.prototype.bulkDelete = function (fieldname, data) {\n        var _this = this;\n        this.removeSelectedData = [];\n        var gObj = this.parent;\n        var index = gObj.selectedRowIndex;\n        var selectedRows = gObj.getSelectedRows();\n        var args = {\n            primaryKey: this.parent.getPrimaryKeyFieldNames(),\n            rowIndex: index,\n            rowData: data ? data : gObj.getSelectedRecords()[0],\n            cancel: false\n        };\n        if (data) {\n            args.row = gObj.editModule.deleteRowUid ? gObj.getRowElementByUID(gObj.editModule.deleteRowUid)\n                : gObj.getRows()[gObj.getCurrentViewRecords().indexOf(data)];\n        }\n        else {\n            args.row = data ? gObj.getRows()[index] : selectedRows[0];\n        }\n        if (!args.row) {\n            return;\n        }\n        // tslint:disable-next-line:max-func-body-length\n        gObj.trigger(events.beforeBatchDelete, args, function (beforeBatchDeleteArgs) {\n            if (beforeBatchDeleteArgs.cancel) {\n                return;\n            }\n            _this.removeSelectedData = gObj.getSelectedRecords();\n            gObj.clearSelection();\n            beforeBatchDeleteArgs.row = beforeBatchDeleteArgs.row ?\n                beforeBatchDeleteArgs.row : data ? gObj.getRows()[index] : selectedRows[0];\n            if (_this.parent.isFrozenGrid()) {\n                if (data) {\n                    index = parseInt(beforeBatchDeleteArgs.row.getAttribute(literals.ariaRowIndex), 10);\n                    selectedRows = [];\n                    selectedRows.push(gObj.getRowByIndex(index));\n                    selectedRows.push(gObj.getMovableRowByIndex(index));\n                    if (gObj.getFrozenMode() === literals.leftRight) {\n                        selectedRows.push(gObj.getFrozenRightRowByIndex(index));\n                    }\n                }\n                for (var i = 0; i < selectedRows.length; i++) {\n                    var uid = selectedRows[i].getAttribute('data-uid');\n                    if (selectedRows[i].classList.contains('e-insertedrow')) {\n                        _this.removeRowObjectFromUID(uid);\n                        remove(selectedRows[i]);\n                    }\n                    else {\n                        var rowObj = gObj.getRowObjectFromUID(uid);\n                        rowObj.isDirty = true;\n                        rowObj.edit = 'delete';\n                        classList(selectedRows[i], ['e-hiddenrow', 'e-updatedtd'], []);\n                        if (gObj.frozenRows && index < gObj.frozenRows && gObj.getMovableDataRows().length >= gObj.frozenRows) {\n                            gObj.getMovableHeaderTbody().appendChild(gObj.getMovableRowByIndex(gObj.frozenRows - 1));\n                            gObj.getFrozenHeaderTbody().appendChild(gObj.getRowByIndex(gObj.frozenRows - 1));\n                            if (gObj.getFrozenMode() === literals.leftRight) {\n                                gObj.getFrozenRightHeaderTbody().appendChild(gObj.getFrozenRightRowByIndex(gObj.frozenRows - 1));\n                            }\n                        }\n                        if (gObj.frozenRows && index < gObj.frozenRows && gObj.getDataRows().length >= gObj.frozenRows) {\n                            gObj.getHeaderTable().querySelector(literals.tbody).appendChild(gObj.getRowByIndex(gObj.frozenRows - 1));\n                        }\n                    }\n                    delete selectedRows[i];\n                }\n            }\n            else if (!_this.parent.isFrozenGrid() && (selectedRows.length === 1 || data)) {\n                var uid = beforeBatchDeleteArgs.row.getAttribute('data-uid');\n                uid = data && _this.parent.editModule.deleteRowUid ? uid = _this.parent.editModule.deleteRowUid : uid;\n                if (beforeBatchDeleteArgs.row.classList.contains('e-insertedrow')) {\n                    _this.removeRowObjectFromUID(uid);\n                    remove(beforeBatchDeleteArgs.row);\n                }\n                else {\n                    var rowObj = gObj.getRowObjectFromUID(uid);\n                    rowObj.isDirty = true;\n                    rowObj.edit = 'delete';\n                    classList(beforeBatchDeleteArgs.row, ['e-hiddenrow', 'e-updatedtd'], []);\n                }\n                delete beforeBatchDeleteArgs.row;\n            }\n            else {\n                for (var i = 0; i < selectedRows.length; i++) {\n                    var uniqueid = selectedRows[i].getAttribute('data-uid');\n                    if (selectedRows[i].classList.contains('e-insertedrow')) {\n                        _this.removeRowObjectFromUID(uniqueid);\n                        remove(selectedRows[i]);\n                    }\n                    else {\n                        classList(selectedRows[i], ['e-hiddenrow', 'e-updatedtd'], []);\n                        var selectedRow = gObj.getRowObjectFromUID(uniqueid);\n                        selectedRow.isDirty = true;\n                        selectedRow.edit = 'delete';\n                        delete selectedRows[i];\n                    }\n                }\n            }\n            _this.refreshRowIdx();\n            if (data) {\n                gObj.editModule.deleteRowUid = undefined;\n                if (gObj.getSelectedRows().length) {\n                    index = parseInt(gObj.getSelectedRows()[0].getAttribute(literals.ariaRowIndex), 10);\n                }\n            }\n            if (!gObj.isCheckBoxSelection) {\n                gObj.selectRow(index);\n            }\n            gObj.trigger(events.batchDelete, beforeBatchDeleteArgs);\n            gObj.notify(events.batchDelete, { rows: _this.parent.getRowsObject() });\n            gObj.notify(events.toolbarRefresh, {});\n        });\n    };\n    BatchEdit.prototype.refreshRowIdx = function () {\n        var gObj = this.parent;\n        var rows = gObj.getAllDataRows(true);\n        var dataRows = getGridRowElements(this.parent);\n        var dataObjects = getGridRowObjects(this.parent);\n        var _loop_2 = function (i, j, len) {\n            if (rows[i].classList.contains(literals.row) && !rows[i].classList.contains('e-hiddenrow')) {\n                gridActionHandler(this_2.parent, function (tableName, rowElements, rowObjects) {\n                    rowElements[i].setAttribute(literals.ariaRowIndex, j.toString());\n                    rowObjects[i].index = j;\n                }, dataRows, null, dataObjects);\n                j++;\n            }\n            else {\n                gridActionHandler(this_2.parent, function (tableName, rowElements, rowObjects) {\n                    rowElements[i].removeAttribute(literals.ariaRowIndex);\n                    rowObjects[i].index = -1;\n                }, dataRows, null, dataObjects);\n            }\n            out_j_1 = j;\n        };\n        var this_2 = this, out_j_1;\n        for (var i = 0, j = 0, len = rows.length; i < len; i++) {\n            _loop_2(i, j, len);\n            j = out_j_1;\n        }\n    };\n    BatchEdit.prototype.getIndexFromData = function (data) {\n        return inArray(data, this.parent.getCurrentViewRecords());\n    };\n    BatchEdit.prototype.bulkAddRow = function (data) {\n        var _this = this;\n        var gObj = this.parent;\n        if (!gObj.editSettings.allowAdding) {\n            return;\n        }\n        if (gObj.isEdit) {\n            this.saveCell();\n            this.parent.notify(events.editNextValCell, {});\n        }\n        if (gObj.isEdit) {\n            return;\n        }\n        this.parent.element.classList.add('e-editing');\n        var defaultData = data ? data : this.getDefaultData();\n        var args = {\n            defaultData: defaultData,\n            primaryKey: gObj.getPrimaryKeyFieldNames(),\n            cancel: false\n        };\n        gObj.trigger(events.beforeBatchAdd, args, function (beforeBatchAddArgs) {\n            if (beforeBatchAddArgs.cancel) {\n                return;\n            }\n            _this.isAdded = true;\n            gObj.clearSelection();\n            var mTr;\n            var frTr;\n            var row = new RowRenderer(_this.serviceLocator, null, _this.parent);\n            var model = new RowModelGenerator(_this.parent);\n            var modelData = model.generateRows([beforeBatchAddArgs.defaultData]);\n            var tr = row.render(modelData[0], gObj.getColumns());\n            var col;\n            var index;\n            for (var i = 0; i < _this.parent.groupSettings.columns.length; i++) {\n                tr.insertBefore(_this.parent.createElement('td', { className: 'e-indentcell' }), tr.firstChild);\n                modelData[0].cells.unshift(new Cell({ cellType: CellType.Indent }));\n            }\n            var tbody = gObj.getContentTable().querySelector(literals.tbody);\n            tr.classList.add('e-insertedrow');\n            if (tbody.querySelector('.e-emptyrow')) {\n                var emptyRow = tbody.querySelector('.e-emptyrow');\n                emptyRow.parentNode.removeChild(emptyRow);\n                _this.removeFrozenTbody();\n            }\n            if (gObj.isFrozenGrid()) {\n                frTr = tr.cloneNode(true);\n                mTr = _this.renderMovable(tr, frTr);\n                tr = gObj.getFrozenMode() === 'Right' ? frTr : tr;\n                _this.renderFrozenAddRow(tr, mTr, frTr);\n            }\n            if (gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top') {\n                tbody = gObj.getHeaderTable().querySelector(literals.tbody);\n            }\n            else {\n                tbody = gObj.getContentTable().querySelector(literals.tbody);\n            }\n            if (_this.parent.editSettings.newRowPosition === 'Top') {\n                tbody.insertBefore(tr, tbody.firstChild);\n            }\n            else {\n                tbody.appendChild(tr);\n            }\n            addClass([].slice.call(tr.getElementsByClassName(literals.rowCell)), ['e-updatedtd']);\n            modelData[0].isDirty = true;\n            modelData[0].changes = extend({}, {}, modelData[0].data, true);\n            modelData[0].edit = 'add';\n            _this.addRowObject(modelData[0]);\n            _this.refreshRowIdx();\n            _this.focus.forgetPrevious();\n            gObj.notify(events.batchAdd, { rows: _this.parent.getRowsObject(), args: { isFrozen: _this.parent.isFrozenGrid() } });\n            var changes = _this.getBatchChanges();\n            var btmIdx = _this.getBottomIndex();\n            if (_this.parent.editSettings.newRowPosition === 'Top') {\n                gObj.selectRow(0);\n            }\n            else {\n                gObj.selectRow(btmIdx);\n            }\n            if (!data) {\n                index = _this.findNextEditableCell(0, true);\n                col = gObj.getColumns()[index];\n                if (_this.parent.editSettings.newRowPosition === 'Top') {\n                    _this.editCell(0, col.field, true);\n                }\n                else {\n                    _this.editCell(btmIdx, col.field, true);\n                }\n            }\n            if (_this.parent.aggregates.length > 0 && (data || changes[literals.addedRecords].length)) {\n                _this.parent.notify(events.refreshFooterRenderer, {});\n            }\n            var args1 = {\n                defaultData: beforeBatchAddArgs.defaultData, row: tr,\n                columnObject: col, columnIndex: index, primaryKey: beforeBatchAddArgs.primaryKey, cell: tr.cells[index]\n            };\n            gObj.trigger(events.batchAdd, args1);\n            if (gObj.isFrozenGrid()) {\n                alignFrozenEditForm(mTr.querySelector('td:not(.e-hide)'), tr.querySelector('td:not(.e-hide)'));\n            }\n        });\n    };\n    BatchEdit.prototype.renderFrozenAddRow = function (tr, mTr, frTr) {\n        var gObj = this.parent;\n        var mTbody = getMovableTbody(this.parent);\n        var frTbody = getFrozenRightTbody(this.parent);\n        if (gObj.editSettings.newRowPosition === 'Top') {\n            mTbody.insertBefore(mTr, mTbody.firstChild);\n        }\n        else {\n            mTbody.appendChild(mTr);\n        }\n        addClass([].slice.call(mTr.getElementsByClassName(literals.rowCell)), ['e-updatedtd']);\n        if (frTbody && frTr) {\n            if (gObj.editSettings.newRowPosition === 'Top') {\n                frTbody.insertBefore(frTr, frTbody.firstChild);\n            }\n            else {\n                frTbody.appendChild(frTr);\n            }\n            addClass([].slice.call(frTr.getElementsByClassName(literals.rowCell)), ['e-updatedtd']);\n            alignFrozenEditForm(frTr.querySelector('td:not(.e-hide)'), tr.querySelector('td:not(.e-hide)'));\n        }\n        if (gObj.height === 'auto') {\n            gObj.notify(events.frozenHeight, {});\n        }\n    };\n    BatchEdit.prototype.removeFrozenTbody = function () {\n        var gObj = this.parent;\n        if (gObj.isFrozenGrid()) {\n            var moveTbody = gObj.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody);\n            (moveTbody.firstElementChild).parentNode.removeChild(moveTbody.firstElementChild);\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                var frTbody = gObj.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody);\n                (frTbody.firstElementChild).parentNode.removeChild(frTbody.firstElementChild);\n            }\n        }\n    };\n    BatchEdit.prototype.renderMovable = function (ele, rightEle) {\n        var mEle = ele.cloneNode(true);\n        var movable = this.parent.getMovableColumnsCount();\n        var left = this.parent.getFrozenLeftCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        sliceElements(ele, 0, left);\n        sliceElements(mEle, left, right ? mEle.children.length - right : mEle.children.length);\n        sliceElements(rightEle, left + movable, rightEle.children.length);\n        return mEle;\n    };\n    BatchEdit.prototype.findNextEditableCell = function (columnIndex, isAdd, isValOnly) {\n        var cols = this.parent.getColumns();\n        var endIndex = cols.length;\n        var validation;\n        for (var i = columnIndex; i < endIndex; i++) {\n            validation = isValOnly ? isNullOrUndefined(cols[i].validationRules) : false;\n            if (!isAdd && this.checkNPCell(cols[i])) {\n                return i;\n            }\n            else if (isAdd && !cols[i].template && cols[i].visible && cols[i].allowEditing &&\n                !(cols[i].isIdentity && cols[i].isPrimaryKey) && !validation) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    BatchEdit.prototype.checkNPCell = function (col) {\n        return !col.template && col.visible && !col.isPrimaryKey && !col.isIdentity && col.allowEditing;\n    };\n    BatchEdit.prototype.getDefaultData = function () {\n        var gObj = this.parent;\n        var data = {};\n        var dValues = { 'number': 0, 'string': null, 'boolean': false, 'date': null, 'datetime': null };\n        for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (col.field) {\n                setValue(col.field, Object.keys(col).indexOf('defaultValue') >= 0 ? col.defaultValue : dValues[col.type], data);\n            }\n        }\n        return data;\n    };\n    BatchEdit.prototype.setCellIdx = function (target) {\n        var gLen = 0;\n        if (this.parent.allowGrouping) {\n            gLen = this.parent.groupSettings.columns.length;\n        }\n        this.cellDetails.cellIndex = target.cellIndex - gLen;\n        this.cellDetails.rowIndex = parseInt(target.getAttribute('index'), 10);\n    };\n    BatchEdit.prototype.editCell = function (index, field, isAdd) {\n        var gObj = this.parent;\n        var col = gObj.getColumnByField(field);\n        this.index = index;\n        this.field = field;\n        this.isAdd = isAdd;\n        var checkEdit = gObj.isEdit && !(this.cellDetails.column.field === field\n            && (this.cellDetails.rowIndex === index && this.parent.getDataRows().length - 1 !== index));\n        if (gObj.editSettings.allowEditing) {\n            if (!checkEdit && col.allowEditing) {\n                this.editCellExtend(index, field, isAdd);\n            }\n            else if (checkEdit) {\n                this.editNext = true;\n                this.saveCell();\n            }\n        }\n    };\n    BatchEdit.prototype.editCellExtend = function (index, field, isAdd) {\n        var _this = this;\n        var gObj = this.parent;\n        var col = gObj.getColumnByField(field);\n        var keys = gObj.getPrimaryKeyFieldNames();\n        if (gObj.isEdit) {\n            return;\n        }\n        var row;\n        var mRowData;\n        var rowData = extend({}, {}, this.getDataByIndex(index), true);\n        if (col.getFreezeTableName() === 'movable' || col.getFreezeTableName() === literals.frozenRight) {\n            row = col.getFreezeTableName() === 'movable' ? gObj.getMovableDataRows()[index] : gObj.getFrozenRightDataRows()[index];\n            mRowData = this.parent.getRowObjectFromUID(row.getAttribute('data-uid'));\n            rowData = mRowData.changes ? extend({}, {}, mRowData.changes, true) : rowData;\n        }\n        else {\n            row = gObj.getDataRows()[index];\n            rowData = extend({}, {}, this.getDataByIndex(index), true);\n        }\n        if ((keys[0] === col.field && !row.classList.contains('e-insertedrow')) || col.columns ||\n            (col.isPrimaryKey && col.isIdentity)) {\n            this.parent.isLastCellPrimaryKey = true;\n            return;\n        }\n        this.parent.isLastCellPrimaryKey = false;\n        this.parent.element.classList.add('e-editing');\n        var rowObj = gObj.getRowObjectFromUID(row.getAttribute('data-uid'));\n        var cells = [].slice.apply(row.cells);\n        var args = {\n            columnName: col.field, isForeignKey: !isNullOrUndefined(col.foreignKeyValue),\n            primaryKey: keys, rowData: rowData,\n            validationRules: extend({}, col.validationRules ? col.validationRules : {}),\n            value: getObject(col.field, rowData),\n            type: !isAdd ? 'edit' : 'add', cancel: false,\n            foreignKeyData: rowObj && rowObj.foreignKeyData\n        };\n        args.cell = cells[this.getColIndex(cells, this.getCellIdx(col.uid))];\n        args.row = row;\n        args.columnObject = col;\n        if (!args.cell) {\n            return;\n        }\n        gObj.trigger(events.cellEdit, args, function (cellEditArgs) {\n            if (cellEditArgs.cancel) {\n                return;\n            }\n            cellEditArgs.cell = cellEditArgs.cell ? cellEditArgs.cell : cells[_this.getColIndex(cells, _this.getCellIdx(col.uid))];\n            cellEditArgs.row = cellEditArgs.row ? cellEditArgs.row : row;\n            cellEditArgs.columnObject = cellEditArgs.columnObject ? cellEditArgs.columnObject : col;\n            cellEditArgs.columnObject.index = isNullOrUndefined(cellEditArgs.columnObject.index) ? 0 : cellEditArgs.columnObject.index;\n            _this.cellDetails = {\n                rowData: rowData, column: col, value: cellEditArgs.value, isForeignKey: cellEditArgs.isForeignKey, rowIndex: index,\n                cellIndex: parseInt(cellEditArgs.cell.getAttribute(literals.ariaColIndex), 10),\n                foreignKeyData: cellEditArgs.foreignKeyData\n            };\n            if (cellEditArgs.cell.classList.contains('e-updatedtd')) {\n                _this.isColored = true;\n                cellEditArgs.cell.classList.remove('e-updatedtd');\n            }\n            gObj.isEdit = true;\n            gObj.clearSelection();\n            if (!gObj.isCheckBoxSelection || !gObj.isPersistSelection) {\n                gObj.selectRow(_this.cellDetails.rowIndex, true);\n            }\n            _this.renderer.update(cellEditArgs);\n            _this.parent.notify(events.batchEditFormRendered, cellEditArgs);\n            _this.form = select('#' + gObj.element.id + 'EditForm', gObj.element);\n            gObj.editModule.applyFormValidation([col]);\n            _this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        });\n    };\n    BatchEdit.prototype.updateCell = function (rowIndex, field, value) {\n        var gObj = this.parent;\n        var col = gObj.getColumnByField(field);\n        var index = gObj.getColumnIndexByField(field);\n        if (col && !col.isPrimaryKey && col.allowEditing) {\n            var td = getCellByColAndRowIndex(this.parent, col, rowIndex, index);\n            var rowObj = col.getFreezeTableName() === 'movable' ? this.parent.getMovableRowsObject()[rowIndex] :\n                col.getFreezeTableName() === literals.frozenRight ? gObj.getFrozenRightRowsObject()[rowIndex]\n                    : gObj.getRowObjectFromUID(td.parentElement.getAttribute('data-uid'));\n            this.refreshTD(td, col, rowObj, value);\n            this.parent.trigger(events.queryCellInfo, {\n                cell: this.newReactTd || td, column: col, data: rowObj.changes\n            });\n        }\n    };\n    BatchEdit.prototype.setChanges = function (rowObj, field, value) {\n        var currentRowObj;\n        if (!this.parent.isFrozenGrid()) {\n            if (!rowObj.changes) {\n                rowObj.changes = extend({}, {}, rowObj.data, true);\n            }\n            if (!isNullOrUndefined(field)) {\n                DataUtil.setValue(field, value, rowObj.changes);\n            }\n            if (rowObj.data[field] !== value) {\n                var type = this.parent.getColumnByField(field).type;\n                if ((type === 'date' || type === 'datetime')) {\n                    if (new Date(rowObj.data[field]).toString() !== new Date(value).toString()) {\n                        rowObj.isDirty = true;\n                    }\n                }\n                else {\n                    rowObj.isDirty = true;\n                }\n            }\n        }\n        else {\n            var rowEle = this.parent.getRowElementByUID(rowObj.uid);\n            var rowIndex = parseInt(rowEle.getAttribute(literals.ariaRowIndex), 10);\n            currentRowObj = this.parent.getRowsObject()[rowIndex];\n            if (!currentRowObj.changes) {\n                currentRowObj.changes = extend({}, {}, rowObj.data, true);\n            }\n            if (!isNullOrUndefined(field)) {\n                setValue(field, value, currentRowObj.changes);\n            }\n            var movableRowObject = this.parent.getMovableRowsObject()[rowIndex];\n            movableRowObject.changes = extend({}, {}, currentRowObj.changes, true);\n            if (rowObj.data[field] !== value) {\n                movableRowObject.isDirty = true;\n                currentRowObj.isDirty = true;\n            }\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                var frRowObject = this.parent.getFrozenRightRowsObject()[rowIndex];\n                frRowObject.changes = extend({}, {}, currentRowObj.changes, true);\n                if (rowObj.data[field] !== value) {\n                    frRowObject.isDirty = true;\n                }\n            }\n        }\n    };\n    BatchEdit.prototype.updateRow = function (index, data) {\n        var keys = Object.keys(data);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var col = keys_1[_i];\n            this.updateCell(index, col, data[col]);\n        }\n    };\n    BatchEdit.prototype.getCellIdx = function (uid) {\n        var cIdx = this.parent.getColumnIndexByUid(uid) + this.parent.groupSettings.columns.length;\n        if (!isNullOrUndefined(this.parent.detailTemplate) || !isNullOrUndefined(this.parent.childGrid)) {\n            cIdx++;\n        }\n        if (this.parent.isRowDragable()) {\n            cIdx++;\n        }\n        return cIdx;\n    };\n    BatchEdit.prototype.refreshTD = function (td, column, rowObj, value) {\n        var cell = new CellRenderer(this.parent, this.serviceLocator);\n        var rowcell;\n        value = column.type === 'number' && !isNullOrUndefined(value) ? parseFloat(value) : value;\n        this.setChanges(rowObj, column.field, value);\n        var frzCols = this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount()\n            || this.parent.getFrozenRightColumnsCount();\n        frzCols = frzCols && this.parent.isRowDragable() ? frzCols + 1 : frzCols;\n        refreshForeignData(rowObj, this.parent.getForeignKeyColumns(), rowObj.changes);\n        if (frzCols && column.getFreezeTableName() === 'movable' && this.parent.getColumns().length === rowObj.cells.length) {\n            rowcell = rowObj.cells.slice(frzCols, rowObj.cells.length);\n        }\n        else {\n            rowcell = rowObj.cells;\n        }\n        var parentElement;\n        var cellIndex;\n        if (this.parent.isReact) {\n            parentElement = td.parentElement;\n            cellIndex = td.cellIndex;\n        }\n        var index = 0;\n        if (frzCols) {\n            index = column.getFreezeTableName() === 'movable' && this.parent.getFrozenMode() !== 'Right'\n                ? frzCols : column.getFreezeTableName() === literals.frozenRight\n                ? this.parent.getFrozenLeftColumnsCount() + this.parent.getMovableColumnsCount() : index;\n        }\n        cell.refreshTD(td, rowcell[this.getCellIdx(column.uid) - index], rowObj.changes, { 'index': this.getCellIdx(column.uid) });\n        if (this.parent.isReact) {\n            this.newReactTd = parentElement.cells[cellIndex];\n            parentElement.cells[cellIndex].classList.add('e-updatedtd');\n        }\n        else {\n            td.classList.add('e-updatedtd');\n        }\n        td.classList.add('e-updatedtd');\n        this.parent.notify(events.toolbarRefresh, {});\n    };\n    BatchEdit.prototype.getColIndex = function (cells, index) {\n        var cIdx = 0;\n        if (this.parent.allowGrouping && this.parent.groupSettings.columns) {\n            cIdx = this.parent.groupSettings.columns.length;\n        }\n        if (!isNullOrUndefined(this.parent.detailTemplate) || !isNullOrUndefined(this.parent.childGrid)) {\n            cIdx++;\n        }\n        if (this.parent.isRowDragable()) {\n            cIdx++;\n        }\n        for (var m = 0; m < cells.length; m++) {\n            var colIndex = parseInt(cells[m].getAttribute(literals.ariaColIndex), 10);\n            if (colIndex === index - cIdx) {\n                return m;\n            }\n        }\n        return -1;\n    };\n    BatchEdit.prototype.editNextValCell = function () {\n        var gObj = this.parent;\n        var btmIdx = this.getBottomIndex();\n        if (this.isAdded && !gObj.isEdit) {\n            for (var i = this.cellDetails.cellIndex; i < gObj.getColumns().length; i++) {\n                if (gObj.isEdit) {\n                    return;\n                }\n                var index = this.findNextEditableCell(this.cellDetails.cellIndex + 1, true, true);\n                var col = gObj.getColumns()[index];\n                if (col) {\n                    if (this.parent.editSettings.newRowPosition === 'Bottom') {\n                        this.editCell(btmIdx, col.field, true);\n                    }\n                    else {\n                        var args = { index: 0, column: col };\n                        this.parent.notify(events.nextCellIndex, args);\n                        this.editCell(args.index, col.field, true);\n                    }\n                    this.saveCell();\n                }\n            }\n            if (!gObj.isEdit) {\n                this.isAdded = false;\n            }\n        }\n    };\n    BatchEdit.prototype.escapeCellEdit = function () {\n        var args = this.generateCellArgs();\n        args.value = args.previousValue;\n        this.successCallBack(args, args.cell.parentElement, args.column, true)(args);\n    };\n    BatchEdit.prototype.generateCellArgs = function () {\n        var gObj = this.parent;\n        this.parent.element.classList.remove('e-editing');\n        var column = this.cellDetails.column;\n        var obj = {};\n        obj[column.field] = getObject(column.field, this.cellDetails.rowData);\n        var editedData = gObj.editModule.getCurrentEditedData(this.form, obj);\n        var cloneEditedData = extend({}, editedData);\n        editedData = extend({}, editedData, this.cellDetails.rowData);\n        var value = getObject(column.field, cloneEditedData);\n        if (!isNullOrUndefined(column.field) && !isUndefined(value)) {\n            setValue(column.field, value, editedData);\n        }\n        var args = {\n            columnName: column.field,\n            value: getObject(column.field, editedData),\n            rowData: this.cellDetails.rowData,\n            column: column,\n            previousValue: this.cellDetails.value,\n            isForeignKey: this.cellDetails.isForeignKey,\n            cancel: false\n        };\n        args.cell = this.form.parentElement;\n        args.columnObject = column;\n        return args;\n    };\n    BatchEdit.prototype.saveCell = function (isForceSave) {\n        if (this.preventSaveCell || !this.form) {\n            return;\n        }\n        var gObj = this.parent;\n        if (!isForceSave && (!gObj.isEdit || this.validateFormObj())) {\n            return;\n        }\n        this.preventSaveCell = true;\n        var args = this.generateCellArgs();\n        var tr = args.cell.parentElement;\n        var col = args.column;\n        if (!isForceSave) {\n            gObj.trigger(events.cellSave, args, this.successCallBack(args, tr, col));\n            gObj.notify(events.batchForm, { formObj: this.form });\n        }\n        else {\n            this.successCallBack(args, tr, col)(args);\n        }\n    };\n    BatchEdit.prototype.successCallBack = function (cellSaveArgs, tr, column, isEscapeCellEdit) {\n        var _this = this;\n        return function (cellSaveArgs) {\n            var gObj = _this.parent;\n            cellSaveArgs.cell = cellSaveArgs.cell ? cellSaveArgs.cell : _this.form.parentElement;\n            cellSaveArgs.columnObject = cellSaveArgs.columnObject ? cellSaveArgs.columnObject : column;\n            cellSaveArgs.columnObject.index = isNullOrUndefined(cellSaveArgs.columnObject.index) ? 0 : cellSaveArgs.columnObject.index;\n            if (cellSaveArgs.cancel) {\n                _this.preventSaveCell = false;\n                if (_this.editNext) {\n                    _this.editNext = false;\n                    if (_this.cellDetails.rowIndex === _this.index && _this.cellDetails.column.field === _this.field) {\n                        return;\n                    }\n                    _this.editCellExtend(_this.index, _this.field, _this.isAdd);\n                }\n                return;\n            }\n            gObj.editModule.destroyWidgets([column]);\n            gObj.isEdit = false;\n            gObj.editModule.destroyForm();\n            _this.parent.notify(events.tooltipDestroy, {});\n            var rowObj = parentsUntil(cellSaveArgs.cell, literals.movableContent)\n                || parentsUntil(cellSaveArgs.cell, literals.movableHeader) ? gObj.getRowObjectFromUID(tr.getAttribute('data-uid'), true)\n                : gObj.getRowObjectFromUID(tr.getAttribute('data-uid'));\n            if (gObj.getFrozenMode() === literals.leftRight && (parentsUntil(cellSaveArgs.cell, 'e-frozen-right-header')\n                || parentsUntil(cellSaveArgs.cell, 'e-frozen-right-content'))) {\n                rowObj = gObj.getRowObjectFromUID(tr.getAttribute('data-uid'), false, true);\n            }\n            _this.refreshTD(cellSaveArgs.cell, column, rowObj, cellSaveArgs.value);\n            if (_this.parent.isReact) {\n                cellSaveArgs.cell = _this.newReactTd;\n            }\n            removeClass([tr], [literals.editedRow, 'e-batchrow']);\n            removeClass([cellSaveArgs.cell], ['e-editedbatchcell', 'e-boolcell']);\n            if (!isNullOrUndefined(cellSaveArgs.value) && cellSaveArgs.value.toString() ===\n                (!isNullOrUndefined(_this.cellDetails.value) ? _this.cellDetails.value : '').toString() && !_this.isColored\n                || (isNullOrUndefined(cellSaveArgs.value) && isNullOrUndefined(rowObj.data[column.field]) &&\n                    isNullOrUndefined(_this.cellDetails.value) && !cellSaveArgs.cell.parentElement.classList.contains('e-insertedrow'))) {\n                cellSaveArgs.cell.classList.remove('e-updatedtd');\n            }\n            if (isNullOrUndefined(isEscapeCellEdit)) {\n                gObj.trigger(events.cellSaved, cellSaveArgs);\n            }\n            gObj.notify(events.toolbarRefresh, {});\n            _this.isColored = false;\n            if (_this.parent.aggregates.length > 0) {\n                _this.parent.notify(events.refreshFooterRenderer, {});\n                if (_this.parent.groupSettings.columns.length > 0 && !_this.isAddRow(_this.cellDetails.rowIndex)) {\n                    _this.parent.notify(events.groupAggregates, {});\n                }\n            }\n            _this.preventSaveCell = false;\n            if (_this.editNext) {\n                _this.editNext = false;\n                if (_this.cellDetails.rowIndex === _this.index && _this.cellDetails.column.field === _this.field) {\n                    return;\n                }\n                var col = gObj.getColumnByField(_this.field);\n                if (col && col.allowEditing) {\n                    _this.editCellExtend(_this.index, _this.field, _this.isAdd);\n                }\n            }\n            if (isEscapeCellEdit) {\n                gObj.notify(events.restoreFocus, {});\n            }\n        };\n    };\n    BatchEdit.prototype.getDataByIndex = function (index) {\n        var row = this.parent.getRowObjectFromUID(this.parent.getDataRows()[index].getAttribute('data-uid'));\n        return row.changes ? row.changes : row.data;\n    };\n    BatchEdit.prototype.keyDownHandler = function (e) {\n        if ((e.action === 'tab' || e.action === 'shiftTab') && this.parent.isEdit) {\n            var gObj = this.parent;\n            var btmIdx = this.getBottomIndex();\n            var rowcell = parentsUntil(e.target, literals.rowCell);\n            if (rowcell) {\n                var cell = rowcell.querySelector('.e-field');\n                if (cell) {\n                    var visibleColumns = this.parent.getVisibleColumns();\n                    var columnIndex = e.action === 'tab' ? visibleColumns.length - 1 : 0;\n                    if (visibleColumns[columnIndex].field === cell.getAttribute('id').slice(this.parent.element.id.length)) {\n                        if (this.cellDetails.rowIndex === btmIdx && e.action === 'tab') {\n                            if (gObj.editSettings.newRowPosition === 'Top') {\n                                gObj.editSettings.newRowPosition = 'Bottom';\n                                this.addRecord();\n                                gObj.editSettings.newRowPosition = 'Top';\n                            }\n                            else {\n                                this.addRecord();\n                            }\n                        }\n                        else {\n                            this.saveCell();\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    BatchEdit.prototype.addCancelWhilePaging = function () {\n        if (this.validateFormObj()) {\n            this.parent.notify(events.destroyForm, {});\n            this.parent.isEdit = false;\n            this.isColored = false;\n        }\n    };\n    BatchEdit.prototype.getBottomIndex = function () {\n        var changes = this.getBatchChanges();\n        return this.parent.getCurrentViewRecords().length + changes[literals.addedRecords].length -\n            changes[literals.deletedRecords].length - 1;\n    };\n    return BatchEdit;\n}());\nexport { BatchEdit };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { NormalEdit } from './normal-edit';\n/**\n * `DialogEdit` module is used to handle dialog editing actions.\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function (_super) {\n    __extends(DialogEdit, _super);\n    function DialogEdit(parent, serviceLocator, renderer) {\n        var _this = \n        //constructor\n        _super.call(this, parent, serviceLocator) || this;\n        _this.parent = parent;\n        _this.serviceLocator = serviceLocator;\n        _this.renderer = renderer;\n        return _this;\n    }\n    DialogEdit.prototype.closeEdit = function () {\n        //closeEdit\n        _super.prototype.closeEdit.call(this);\n    };\n    DialogEdit.prototype.addRecord = function (data, index) {\n        //addRecord\n        _super.prototype.addRecord.call(this, data, index);\n    };\n    DialogEdit.prototype.endEdit = function () {\n        //endEdit\n        _super.prototype.endEdit.call(this);\n    };\n    DialogEdit.prototype.updateRow = function (index, data) {\n        _super.prototype.updateRow.call(this, index, data);\n    };\n    DialogEdit.prototype.deleteRecord = function (fieldname, data) {\n        //deleteRecord\n        _super.prototype.deleteRecord.call(this, fieldname, data);\n    };\n    DialogEdit.prototype.startEdit = function (tr) {\n        _super.prototype.startEdit.call(this, tr);\n    };\n    return DialogEdit;\n}(NormalEdit));\nexport { DialogEdit };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { extend } from '@syncfusion/ej2-base';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { isEditable, getObject, getCustomDateFormat } from '../base/util';\nimport { EditCellBase } from './edit-cell-base';\n/**\n * `DatePickerEditCell` is used to handle datepicker cell type editing.\n *\n * @hidden\n */\nvar DatePickerEditCell = /** @class */ (function (_super) {\n    __extends(DatePickerEditCell, _super);\n    function DatePickerEditCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DatePickerEditCell.prototype.write = function (args) {\n        if (args.column.editType === 'datepickeredit') {\n            this.obj = new DatePicker(extend(dateanddatetimerender(args, this.parent.editSettings.mode, this.parent.enableRtl), args.column.edit.params));\n        }\n        else if (args.column.editType === 'datetimepickeredit') {\n            this.obj = new DateTimePicker(extend(dateanddatetimerender(args, this.parent.editSettings.mode, this.parent.enableRtl), args.column.edit.params));\n        }\n        this.obj.appendTo(args.element);\n    };\n    return DatePickerEditCell;\n}(EditCellBase));\nexport { DatePickerEditCell };\n// eslint-disable-next-line\nfunction dateanddatetimerender(args, mode, rtl) {\n    var isInline = mode !== 'Dialog';\n    var format = getCustomDateFormat(args.column.format, args.column.type);\n    var value = getObject(args.column.field, args.rowData);\n    value = value ? new Date(value) : null;\n    return {\n        floatLabelType: isInline ? 'Never' : 'Always',\n        value: value,\n        format: format,\n        placeholder: isInline ?\n            '' : args.column.headerText, enableRtl: rtl,\n        enabled: isEditable(args.column, args.requestType, args.element)\n    };\n}\n","/**\n * `TemplateEditCell` is used to handle template cell.\n *\n * @hidden\n */\nvar TemplateEditCell = /** @class */ (function () {\n    function TemplateEditCell(parent) {\n        this.parent = parent;\n    }\n    TemplateEditCell.prototype.read = function (element, value) {\n        return value;\n    };\n    TemplateEditCell.prototype.write = function () {\n        //\n    };\n    TemplateEditCell.prototype.destroy = function () {\n        //\n    };\n    return TemplateEditCell;\n}());\nexport { TemplateEditCell };\n","import { closest, addClass, select } from '@syncfusion/ej2-base';\nimport { extend, getValue } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { EditRender } from '../renderer/edit-renderer';\nimport { BooleanEditCell } from '../renderer/boolean-edit-cell';\nimport { DropDownEditCell } from '../renderer/dropdown-edit-cell';\nimport { NumericEditCell } from '../renderer/numeric-edit-cell';\nimport { DefaultEditCell } from '../renderer/default-edit-cell';\nimport { InlineEdit } from './inline-edit';\nimport { BatchEdit } from './batch-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { parentsUntil, getComplexFieldID, setComplexFieldID, getScrollBarWidth, setValidationRuels } from '../base/util';\nimport { FormValidator } from '@syncfusion/ej2-inputs';\nimport { DatePickerEditCell } from '../renderer/datepicker-edit-cell';\nimport { calculateRelativeBasedPosition } from '@syncfusion/ej2-popups';\nimport { TemplateEditCell } from '../renderer/template-edit-cell';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { addRemoveEventListener, getColumnModelByFieldName } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * The `Edit` module is used to handle editing actions.\n */\nvar Edit = /** @class */ (function () {\n    /**\n     * Constructor for the Grid editing module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the servicelocator\n     * @hidden\n     */\n    function Edit(parent, serviceLocator) {\n        this.editType = { 'Inline': InlineEdit, 'Normal': InlineEdit, 'Batch': BatchEdit, 'Dialog': DialogEdit };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.l10n = this.serviceLocator.getService('localization');\n        this.addEventListener();\n        this.updateEditObj();\n        this.createAlertDlg();\n        this.createConfirmDlg();\n    }\n    Edit.prototype.updateColTypeObj = function () {\n        var cols = this.parent.columnModel;\n        for (var i = 0; i < cols.length; i++) {\n            if (this.parent.editSettings.template || cols[i].editTemplate) {\n                var templteCell = 'templateedit';\n                cols[i].edit = extend(new Edit.editCellType[templteCell](this.parent), cols[i].edit || {});\n            }\n            else {\n                cols[i].edit = extend(new Edit.editCellType[cols[i].editType && Edit.editCellType[cols[i].editType] ?\n                    cols[i].editType : 'defaultedit'](this.parent, this.serviceLocator), cols[i].edit || {});\n            }\n        }\n        this.parent.log('primary_column_missing');\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * @param {NotifyArgs} e - specifies the notifyargs\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        var gObj = this.parent;\n        for (var _i = 0, _a = Object.keys(e.properties); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowAdding':\n                case 'allowDeleting':\n                case 'allowEditing':\n                    if (gObj.editSettings.allowAdding || gObj.editSettings.allowEditing || gObj.editSettings.allowDeleting) {\n                        this.initialEnd();\n                    }\n                    break;\n                case 'mode':\n                    this.updateEditObj();\n                    gObj.isEdit = false;\n                    gObj.refresh();\n                    break;\n            }\n        }\n    };\n    Edit.prototype.updateEditObj = function () {\n        if (this.editModule) {\n            this.editModule.destroy();\n        }\n        this.renderer = new EditRender(this.parent, this.serviceLocator);\n        this.editModule = new this.editType[this.parent.editSettings.mode](this.parent, this.serviceLocator, this.renderer);\n    };\n    Edit.prototype.initialEnd = function () {\n        this.updateColTypeObj();\n    };\n    /**\n     * Edits any bound record in the Grid by TR element.\n     *\n     * @param {HTMLTableRowElement} tr - Defines the table row to be edited.\n     * @returns {void}\n     */\n    Edit.prototype.startEdit = function (tr) {\n        var gObj = this.parent;\n        if (!gObj.editSettings.allowEditing || gObj.isEdit || gObj.editSettings.mode === 'Batch') {\n            return;\n        }\n        this.parent.element.classList.add('e-editing');\n        if (!gObj.getSelectedRows().length) {\n            if (!tr) {\n                this.showDialog('EditOperationAlert', this.alertDObj);\n                return;\n            }\n        }\n        else if (!tr) {\n            tr = gObj.getSelectedRows()[0];\n        }\n        this.isLastRow = tr.rowIndex === this.parent.getContent().querySelector('tr:last-child').rowIndex;\n        if (tr.style.display === 'none') {\n            return;\n        }\n        this.editModule.startEdit(tr);\n        this.refreshToolbar();\n        gObj.element.querySelector('.e-gridpopup').style.display = 'none';\n        this.parent.notify('start-edit', {});\n    };\n    /**\n     * @param {Element} tr - specifies the tr element\n     * @param {object} args - specifies the object\n     * @param {Element} args.row -specfifes the row\n     * @param {string} args.requestType - specifies the request type\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.checkLastRow = function (tr, args) {\n        var checkLastRow = this.isLastRow;\n        if (this.parent.height !== 'auto' && this.parent.editSettings.newRowPosition === 'Bottom' && args && args.requestType === 'add' &&\n            this.parent.getContent().firstElementChild.offsetHeight > this.parent.getContentTable().scrollHeight) {\n            addClass([].slice.call(tr.getElementsByClassName(literals.rowCell)), 'e-lastrowadded');\n        }\n        else if (checkLastRow && tr && tr.classList) {\n            addClass([].slice.call(tr.getElementsByClassName(literals.rowCell)), 'e-lastrowcell');\n        }\n    };\n    /**\n     * Cancels edited state.\n     *\n     * @returns {void}\n     */\n    Edit.prototype.closeEdit = function () {\n        if (this.parent.editSettings.mode === 'Batch' && this.parent.editSettings.showConfirmDialog\n            && this.parent.element.getElementsByClassName('e-updatedtd').length) {\n            this.showDialog('CancelEdit', this.dialogObj);\n            return;\n        }\n        this.parent.element.classList.remove('e-editing');\n        this.editModule.closeEdit();\n        this.refreshToolbar();\n        this.parent.notify(events.closeEdit, {});\n    };\n    Edit.prototype.refreshToolbar = function () {\n        this.parent.notify(events.toolbarRefresh, {});\n    };\n    /**\n     * To adds a new row at the top with the given data. When data is not passed, it will add empty rows.\n     * > `editSettings.allowEditing` should be true.\n     *\n     * @param {Object} data - Defines the new add record data.\n     * @param {number} index - Defines the row index to be added\n     * @returns {void}\n     */\n    Edit.prototype.addRecord = function (data, index) {\n        if (!this.parent.editSettings.allowAdding) {\n            return;\n        }\n        var args = { startEdit: true };\n        if (!data) {\n            this.parent.notify(events.virtualScrollAddActionBegin, args);\n        }\n        if (args.startEdit) {\n            this.parent.element.classList.add('e-editing');\n            this.editModule.addRecord(data, index);\n            this.refreshToolbar();\n            this.parent.notify('start-add', {});\n        }\n    };\n    /**\n     * Deletes a record with the given options. If fieldname and data are not given, the Grid will delete the selected record.\n     * > `editSettings.allowDeleting` should be true.\n     *\n     * @param {string} fieldname - Defines the primary key field name of the column.\n     * @param {Object} data - Defines the JSON data record to be deleted.\n     * @returns {void}\n     */\n    Edit.prototype.deleteRecord = function (fieldname, data) {\n        var gObj = this.parent;\n        if (!gObj.editSettings.allowDeleting) {\n            return;\n        }\n        if (!data) {\n            if (!gObj.getSelectedRecords().length && isNullOrUndefined(gObj.commandDelIndex)) {\n                this.showDialog('DeleteOperationAlert', this.alertDObj);\n                return;\n            }\n        }\n        if (gObj.editSettings.showDeleteConfirmDialog) {\n            this.showDialog('ConfirmDelete', this.dialogObj);\n            return;\n        }\n        this.editModule.deleteRecord(fieldname, data);\n    };\n    /**\n     * Deletes a visible row by TR element.\n     *\n     * @param {HTMLTableRowElement} tr - Defines the table row element.\n     * @returns {void}\n     */\n    Edit.prototype.deleteRow = function (tr) {\n        this.deleteRowUid = tr.getAttribute('data-uid');\n        var rowObj = this.parent.getRowObjectFromUID(this.deleteRowUid);\n        if (!isNullOrUndefined(rowObj)) {\n            this.deleteRecord(null, rowObj.data);\n        }\n    };\n    /**\n     * If Grid is in editable state, you can save a record by invoking endEdit.\n     *\n     * @returns {void}\n     */\n    Edit.prototype.endEdit = function () {\n        if (this.parent.editSettings.mode === 'Batch' && this.parent.editSettings.showConfirmDialog &&\n            (isNullOrUndefined(this.formObj) || this.formObj.validate())) {\n            this.parent.editModule.saveCell();\n            this.parent.notify(events.editNextValCell, {});\n            if (isNullOrUndefined(this.formObj) || this.formObj.validate()) {\n                this.showDialog('BatchSaveConfirm', this.dialogObj);\n                return;\n            }\n        }\n        this.endEditing();\n    };\n    /**\n     * To update the specified cell by given value without changing into edited state.\n     *\n     * @param {number} rowIndex Defines the row index.\n     * @param {string} field Defines the column field.\n     * @param {string | number | boolean | Date} value - Defines the value to be changed.\n     * @returns {void}\n     */\n    Edit.prototype.updateCell = function (rowIndex, field, value) {\n        this.editModule.updateCell(rowIndex, field, value);\n    };\n    /**\n     * To update the specified row by given values without changing into edited state.\n     *\n     * @param {number} index Defines the row index.\n     * @param {Object} data Defines the data object to be updated.\n     * @returns {void}\n     */\n    Edit.prototype.updateRow = function (index, data) {\n        this.editModule.updateRow(index, data);\n    };\n    /**\n     * Resets added, edited, and deleted records in the batch mode.\n     *\n     * @returns {void}\n     */\n    Edit.prototype.batchCancel = function () {\n        this.closeEdit();\n    };\n    /**\n     * Bulk saves added, edited, and deleted records in the batch mode.\n     *\n     * @returns {void}\n     */\n    Edit.prototype.batchSave = function () {\n        this.endEdit();\n    };\n    /**\n     * Changes a particular cell into edited state based on the row index and field name provided in the `batch` mode.\n     *\n     * @param {number} index - Defines row index to edit a particular cell.\n     * @param {string} field - Defines the field name of the column to perform batch edit.\n     * @returns {void}\n     */\n    Edit.prototype.editCell = function (index, field) {\n        this.editModule.editCell(index, field);\n    };\n    /**\n     * Checks the status of validation at the time of editing. If validation is passed, it returns true.\n     *\n     * @returns {boolean} returns whether the form is validated\n     */\n    Edit.prototype.editFormValidate = function () {\n        var form1 = this.formObj ? this.formObj.validate() : true;\n        var form2 = this.mFormObj ? this.mFormObj.validate() : true;\n        var form3 = this.frFormObj ? this.frFormObj.validate() : true;\n        return form1 && form2 && form3;\n    };\n    /**\n     * Gets the added, edited,and deleted data before bulk save to the DataSource in batch mode.\n     *\n     * @returns {Object} returns the Object\n     */\n    Edit.prototype.getBatchChanges = function () {\n        return this.editModule.getBatchChanges ? this.editModule.getBatchChanges() : {};\n    };\n    /**\n     * Gets the current value of the edited component.\n     *\n     * @returns {Object} returns the Object\n     */\n    Edit.prototype.getCurrentEditCellData = function () {\n        var obj = this.getCurrentEditedData(this.formObj.element, {});\n        return obj[Object.keys(obj)[0]];\n    };\n    /**\n     * Saves the cell that is currently edited. It does not save the value to the DataSource.\n     *\n     * @returns {void}\n     */\n    Edit.prototype.saveCell = function () {\n        this.editModule.saveCell();\n    };\n    Edit.prototype.endEditing = function () {\n        this.parent.element.classList.remove('e-editing');\n        this.editModule.endEdit();\n        this.refreshToolbar();\n    };\n    Edit.prototype.showDialog = function (content, obj) {\n        obj.content = '<div>' + this.l10n.getConstant(content) + '</div>';\n        obj.dataBind();\n        obj.show();\n    };\n    Edit.prototype.getValueFromType = function (col, value) {\n        var val = value;\n        switch (col.type) {\n            case 'number':\n                val = !isNaN(parseFloat(value)) ? parseFloat(value) : null;\n                break;\n            case 'boolean':\n                if (col.editType !== 'booleanedit') {\n                    val = value === this.l10n.getConstant('True') || value === true ? true : false;\n                }\n                break;\n            case 'date':\n            case 'datetime':\n                if (col.editType !== 'datepickeredit' && col.editType !== 'datetimepickeredit'\n                    && value && value.length) {\n                    val = new Date(value);\n                }\n                else if (value === '') {\n                    val = null;\n                }\n                break;\n        }\n        return val;\n    };\n    Edit.prototype.destroyToolTip = function () {\n        var elements = [].slice.call(this.parent.element.getElementsByClassName('e-griderror'));\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var elem = elements_1[_i];\n            remove(elem);\n        }\n        this.parent.getContent().firstElementChild.style.position = 'relative';\n    };\n    Edit.prototype.createConfirmDlg = function () {\n        this.dialogObj = this.dlgWidget([\n            {\n                click: this.dlgOk.bind(this),\n                buttonModel: { content: this.l10n.getConstant('OKButton'), cssClass: 'e-primary', isPrimary: true }\n            },\n            {\n                click: this.dlgCancel.bind(this),\n                buttonModel: { cssClass: 'e-flat', content: this.l10n.getConstant('CancelButton') }\n            }\n        ], 'EditConfirm');\n    };\n    Edit.prototype.createAlertDlg = function () {\n        this.alertDObj = this.dlgWidget([\n            {\n                click: this.alertClick.bind(this), buttonModel: { content: this.l10n.getConstant('OKButton'), cssClass: 'e-flat', isPrimary: true }\n            }\n        ], 'EditAlert');\n    };\n    Edit.prototype.alertClick = function () {\n        this.alertDObj.hide();\n    };\n    Edit.prototype.dlgWidget = function (btnOptions, name) {\n        var div = this.parent.createElement('div', { id: this.parent.element.id + name });\n        this.parent.element.appendChild(div);\n        var options = {\n            showCloseIcon: false,\n            isModal: true,\n            visible: false,\n            closeOnEscape: true,\n            target: this.parent.element,\n            width: '320px',\n            animationSettings: { effect: 'None' }\n        };\n        options.buttons = btnOptions;\n        var obj = new Dialog(options);\n        var isStringTemplate = 'isStringTemplate';\n        obj[isStringTemplate] = true;\n        obj.appendTo(div);\n        return obj;\n    };\n    Edit.prototype.dlgCancel = function () {\n        this.parent.focusModule.clearIndicator();\n        this.parent.focusModule.restoreFocus();\n        this.dialogObj.hide();\n    };\n    Edit.prototype.dlgOk = function () {\n        switch (this.dialogObj.element.querySelector('.e-dlg-content').firstElementChild.innerText) {\n            case this.l10n.getConstant('ConfirmDelete'):\n                this.editModule.deleteRecord();\n                break;\n            case this.l10n.getConstant('CancelEdit'):\n                this.editModule.closeEdit();\n                break;\n            case this.l10n.getConstant('BatchSaveConfirm'):\n                this.endEditing();\n                break;\n            case this.l10n.getConstant('BatchSaveLostChanges'):\n                if (this.parent.editSettings.mode === 'Batch') {\n                    this.editModule.addCancelWhilePaging();\n                }\n                this.executeAction();\n                break;\n        }\n        this.dlgCancel();\n    };\n    Edit.prototype.destroyEditComponents = function () {\n        if (this.parent.isEdit) {\n            this.destroyWidgets();\n            this.destroyForm();\n        }\n        this.destroy();\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.eventDetails = [{ event: events.inBoundModelChanged, handler: this.onPropertyChanged },\n            { event: events.initialEnd, handler: this.initialEnd },\n            { event: events.keyPressed, handler: this.keyPressHandler },\n            { event: events.autoCol, handler: this.updateColTypeObj },\n            { event: events.tooltipDestroy, handler: this.destroyToolTip },\n            { event: events.preventBatch, handler: this.preventBatch },\n            { event: events.destroyForm, handler: this.destroyForm },\n            { event: events.destroy, handler: this.destroyEditComponents }];\n        addRemoveEventListener(this.parent, this.eventDetails, true, this);\n        this.actionBeginFunction = this.onActionBegin.bind(this);\n        this.actionCompleteFunction = this.actionComplete.bind(this);\n        this.parent.addEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunction);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.eventDetails, false);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunction);\n        this.parent.removeEventListener(events.actionBegin, this.actionBeginFunction);\n    };\n    Edit.prototype.actionComplete = function (e) {\n        var actions = ['add', 'beginEdit', 'save', 'delete', 'cancel'];\n        if (actions.indexOf(e.requestType) < 0) {\n            this.parent.isEdit = false;\n        }\n        if (e.requestType === 'batchsave') {\n            this.parent.focusModule.restoreFocus();\n        }\n        this.refreshToolbar();\n    };\n    /**\n     * @param {Element} form - specifies the element\n     * @param {Object} editedData - specifies the edited data\n     * @returns {Object} returns the object\n     * @hidden\n     */\n    Edit.prototype.getCurrentEditedData = function (form, editedData) {\n        var gObj = this.parent;\n        if (gObj.editSettings.template) {\n            var elements = [].slice.call(form.elements);\n            for (var k = 0; k < elements.length; k++) {\n                if (((elements[k].hasAttribute('name') && (elements[k].className !== 'e-multi-hidden')) ||\n                    elements[k].classList.contains('e-multiselect')) && !(elements[k].type === 'hidden' &&\n                    (parentsUntil(elements[k], 'e-switch-wrapper') || parentsUntil(elements[k], 'e-checkbox-wrapper')))) {\n                    var field = (elements[k].hasAttribute('name')) ? setComplexFieldID(elements[k].getAttribute('name')) :\n                        setComplexFieldID(elements[k].getAttribute('id'));\n                    var column = gObj.getColumnByField(field) || { field: field, type: elements[k].getAttribute('type') };\n                    var value = void 0;\n                    if (column.type === 'checkbox' || column.type === 'boolean') {\n                        value = elements[k].checked;\n                    }\n                    else if (elements[k].value) {\n                        value = elements[k].value;\n                        if (elements[k].ej2_instances &&\n                            elements[k].ej2_instances.length &&\n                            !isNullOrUndefined(elements[k].ej2_instances[0].value)) {\n                            elements[k].blur();\n                            value = elements[k].ej2_instances[0].value;\n                        }\n                    }\n                    else if (elements[k].ej2_instances) {\n                        value = elements[k].ej2_instances[0].value;\n                    }\n                    if (column.edit && typeof column.edit.read === 'string') {\n                        value = getValue(column.edit.read, window)(elements[k], value);\n                    }\n                    else if (column.edit && column.edit.read) {\n                        value = column.edit.read(elements[k], value);\n                    }\n                    value = gObj.editModule.getValueFromType(column, value);\n                    if (elements[k].type === 'radio') {\n                        if (elements[k].checked) {\n                            DataUtil.setValue(column.field, value, editedData);\n                        }\n                    }\n                    else {\n                        DataUtil.setValue(column.field, value, editedData);\n                    }\n                }\n            }\n            return editedData;\n        }\n        var col = gObj.columnModel.filter(function (col) { return col.editTemplate; });\n        for (var j = 0; j < col.length; j++) {\n            if (form[getComplexFieldID(col[j].field)]) {\n                var inputElements = [].slice.call(form[getComplexFieldID(col[j].field)]);\n                inputElements = inputElements.length ? inputElements : [form[getComplexFieldID(col[j].field)]];\n                var temp = inputElements.filter(function (e) {\n                    return !isNullOrUndefined((e.ej2_instances));\n                });\n                if (temp.length === 0) {\n                    temp = inputElements.filter(function (e) { return e.hasAttribute('name'); });\n                }\n                for (var k = 0; k < temp.length; k++) {\n                    var value = this.getValue(col[j], temp[k], editedData);\n                    DataUtil.setValue(col[j].field, value, editedData);\n                }\n            }\n        }\n        var inputs = [].slice.call(form.getElementsByClassName('e-field'));\n        for (var i = 0, len = inputs.length; i < len; i++) {\n            var col_1 = gObj.getColumnByUid(inputs[i].getAttribute('e-mappinguid'));\n            if (col_1 && col_1.field) {\n                var value = this.getValue(col_1, inputs[i], editedData);\n                DataUtil.setValue(col_1.field, value, editedData);\n            }\n        }\n        return editedData;\n    };\n    Edit.prototype.getValue = function (col, input, editedData) {\n        var value = input.ej2_instances ?\n            input.ej2_instances[0].value : input.value;\n        var gObj = this.parent;\n        var temp = col.edit.read;\n        if (col.type === 'checkbox' || col.type === 'boolean') {\n            value = input.checked;\n        }\n        if (typeof temp === 'string') {\n            temp = getValue(temp, window);\n            value = gObj.editModule.getValueFromType(col, (temp)(input, value));\n        }\n        else {\n            value = gObj.editModule.getValueFromType(col, col.edit.read(input, value));\n        }\n        if (isNullOrUndefined(editedData[col.field]) && value === '') {\n            value = editedData[col.field];\n        }\n        return value;\n    };\n    /**\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.onActionBegin = function (e) {\n        if (e.requestType === 'columnstate' && this.parent.isEdit\n            && this.parent.editSettings.mode !== 'Batch') {\n            this.closeEdit();\n        }\n        else {\n            var editRow = this.parent.element.querySelector('.' + literals.editedRow);\n            var addRow = this.parent.element.querySelector('.' + literals.addedRow);\n            if (editRow && this.parent.frozenRows && e.requestType === 'virtualscroll'\n                && parseInt(parentsUntil(editRow, literals.row).getAttribute(literals.ariaRowIndex), 10) < this.parent.frozenRows) {\n                return;\n            }\n            var restrictedRequestTypes = ['filterafteropen', 'filterbeforeopen', 'filterchoicerequest', 'save', 'infiniteScroll', 'virtualscroll'];\n            var isRestrict = restrictedRequestTypes.indexOf(e.requestType) === -1;\n            var isDestroyVirtualForm = this.parent.enableVirtualization && this.formObj\n                && !this.formObj.isDestroyed && (editRow || addRow || e.requestType === 'cancel') && isRestrict;\n            if ((!this.parent.enableVirtualization && this.parent.editSettings.mode !== 'Batch' && this.formObj && !this.formObj.isDestroyed\n                && isRestrict && !e.cancel) || isDestroyVirtualForm) {\n                this.destroyWidgets();\n                this.destroyForm();\n            }\n        }\n    };\n    /**\n     * @param {Column[]} cols - specfies the column\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.destroyWidgets = function (cols) {\n        var gObj = this.parent;\n        if (gObj.editSettings.template) {\n            this.parent.destroyTemplate(['editSettingsTemplate']);\n            if (this.parent.isReact) {\n                this.parent.renderTemplates();\n            }\n        }\n        cols = cols ? cols : this.parent.getCurrentVisibleColumns(this.parent.enableColumnVirtualization);\n        if (cols.some(function (column) { return !isNullOrUndefined(column.editTemplate); })) {\n            this.parent.destroyTemplate(['editTemplate']);\n            if (this.parent.isReact) {\n                this.parent.renderTemplates();\n            }\n        }\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n            var col = cols_1[_i];\n            var temp = col.edit.destroy;\n            if (col.edit.destroy) {\n                if (typeof temp === 'string') {\n                    temp = getValue(temp, window);\n                    temp();\n                }\n                else {\n                    col.edit.destroy();\n                }\n            }\n        }\n        var elements = [].slice.call(this.formObj.element.elements);\n        for (var i = 0; i < elements.length; i++) {\n            if (elements[i].hasAttribute('name')) {\n                if (elements[i].ej2_instances &&\n                    elements[i].ej2_instances.length &&\n                    !elements[i].ej2_instances[0].isDestroyed) {\n                    elements[i].ej2_instances[0].destroy();\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.destroyForm = function () {\n        this.destroyToolTip();\n        var formObjects = [this.formObj, this.mFormObj, this.frFormObj, this.virtualFormObj];\n        for (var i = 0; i < formObjects.length; i++) {\n            if (formObjects[i] && formObjects[i].element && !formObjects[i].isDestroyed) {\n                formObjects[i].destroy();\n            }\n        }\n        this.destroyToolTip();\n    };\n    /**\n     * To destroy the editing.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement) {\n            return;\n        }\n        var hasGridChild = gridElement.querySelector('.' + literals.gridHeader) &&\n            gridElement.querySelector('.' + literals.gridContent) ? true : false;\n        if (hasGridChild) {\n            this.destroyForm();\n        }\n        this.removeEventListener();\n        var elem = this.dialogObj.element;\n        if (elem.childElementCount > 0) {\n            this.dialogObj.destroy();\n            remove(elem);\n        }\n        elem = this.alertDObj.element;\n        if (elem.childElementCount > 0) {\n            this.alertDObj.destroy();\n            remove(elem);\n        }\n        if (!hasGridChild) {\n            return;\n        }\n        if (this.editModule) {\n            this.editModule.destroy();\n        }\n    };\n    Edit.prototype.keyPressHandler = function (e) {\n        switch (e.action) {\n            case 'insert':\n                this.addRecord();\n                break;\n            case 'delete':\n                if ((e.target.tagName !== 'INPUT' || e.target.classList.contains('e-checkselect'))\n                    && !document.querySelector('.e-popup-open')) {\n                    this.deleteRecord();\n                }\n                break;\n            case 'f2':\n                this.startEdit();\n                break;\n            case 'enter':\n                if (!parentsUntil(e.target, 'e-unboundcelldiv') && this.parent.editSettings.mode !== 'Batch' &&\n                    (parentsUntil(e.target, literals.gridContent) || (this.parent.frozenRows\n                        && parentsUntil(e.target, literals.headerContent)))\n                    && !document.getElementsByClassName('e-popup-open').length) {\n                    e.preventDefault();\n                    this.endEdit();\n                }\n                break;\n            case 'escape':\n                if (this.parent.isEdit) {\n                    if (this.parent.editSettings.mode === 'Batch') {\n                        this.editModule.escapeCellEdit();\n                    }\n                    else {\n                        this.closeEdit();\n                    }\n                }\n                break;\n        }\n    };\n    Edit.prototype.preventBatch = function (args) {\n        this.preventObj = args;\n        this.showDialog('BatchSaveLostChanges', this.dialogObj);\n    };\n    Edit.prototype.executeAction = function () {\n        this.preventObj.handler.call(this.preventObj.instance, this.preventObj.arg1, this.preventObj.arg2, this.preventObj.arg3, this.preventObj.arg4, this.preventObj.arg5, this.preventObj.arg6, this.preventObj.arg7, this.preventObj.arg8);\n    };\n    /**\n     * @param {Column[]} cols - specifies the column\n     * @returns {void}\n     * @hidden\n     */\n    Edit.prototype.applyFormValidation = function (cols) {\n        var gObj = this.parent;\n        var frzCols = gObj.isFrozenGrid();\n        var isInline = this.parent.editSettings.mode === 'Normal';\n        var idx = this.parent.getFrozenMode() === 'Right' && isInline ? 1 : 0;\n        var form = this.parent.editSettings.mode !== 'Dialog' ?\n            gObj.element.getElementsByClassName('e-gridform')[idx] :\n            select('#' + gObj.element.id + '_dialogEdit_wrapper .e-gridform', document);\n        var index = this.parent.getFrozenMode() === 'Right' && isInline ? 0 : 1;\n        var mForm = gObj.element.getElementsByClassName('e-gridform')[index];\n        var rules = {};\n        var mRules = {};\n        var frRules = {};\n        cols = cols ? cols : gObj.getColumns();\n        for (var i = 0; i < cols.length; i++) {\n            if (!cols[i].visible && (gObj.editSettings.mode !== 'Dialog' || (gObj.groupSettings.columns.indexOf(cols[i].field) === -1\n                && gObj.editSettings.mode === 'Dialog'))) {\n                continue;\n            }\n            if (cols[i].validationRules) {\n                setValidationRuels(cols[i], index, rules, mRules, frRules, cols.length);\n            }\n        }\n        if (frzCols && this.parent.editSettings.mode !== 'Dialog') {\n            this.parent.editModule.mFormObj = this.createFormObj(mForm, mRules);\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                var frForm = gObj.element.getElementsByClassName('e-gridform')[2];\n                this.parent.editModule.frFormObj = this.createFormObj(frForm, frRules);\n            }\n        }\n        else {\n            rules = extend(rules, mRules, frRules);\n        }\n        this.parent.editModule.formObj = this.createFormObj(form, rules);\n    };\n    /**\n     * @param {HTMLFormElement} form - Defined Form element\n     * @param {Object} rules - Defines form rules\n     * @returns {FormValidator} Returns formvalidator instance\n     * @hidden\n     */\n    Edit.prototype.createFormObj = function (form, rules) {\n        var _this = this;\n        return new FormValidator(form, {\n            rules: rules,\n            locale: this.parent.locale,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            customPlacement: function (inputElement, error) {\n                var uid = inputElement.getAttribute('e-mappinguid');\n                var args = {\n                    column: _this.parent.getColumnByUid(uid),\n                    error: error,\n                    inputElement: inputElement,\n                    value: inputElement.value\n                };\n                _this.valErrorPlacement(inputElement, error);\n                _this.parent.notify(events.valCustomPlacement, args);\n            }\n        });\n    };\n    Edit.prototype.valErrorPlacement = function (inputElement, error) {\n        if (this.parent.isEdit) {\n            var id = error.getAttribute('for');\n            var elem = this.getElemTable(inputElement).querySelector('#' + id + '_Error');\n            if (!elem) {\n                this.createTooltip(inputElement, error, id, '');\n            }\n            else {\n                elem.querySelector('.e-tip-content').innerHTML = error.outerHTML;\n            }\n        }\n    };\n    Edit.prototype.getElemTable = function (inputElement) {\n        var isFHdr;\n        var gObj = this.parent;\n        var table;\n        if (gObj.editSettings.mode !== 'Dialog') {\n            isFHdr = (gObj.frozenRows && gObj.frozenRows\n                > (parseInt(closest(inputElement, '.' + literals.row).getAttribute(literals.ariaRowIndex), 10) || 0));\n            var field = inputElement.name;\n            var col = void 0;\n            if (field) {\n                col = getColumnModelByFieldName(this.parent, setComplexFieldID(field));\n            }\n            if (col && gObj.isFrozenGrid()) {\n                if (col.getFreezeTableName() === 'frozen-left') {\n                    table = isFHdr ? gObj.getFrozenVirtualHeader().querySelector('table')\n                        : gObj.getFrozenVirtualContent().querySelector('table');\n                }\n                else if (col.getFreezeTableName() === 'frozen-right') {\n                    table = isFHdr ? gObj.getFrozenRightHeader().querySelector('table')\n                        : gObj.getFrozenRightContent().querySelector('table');\n                }\n                else if (col.getFreezeTableName() === 'movable') {\n                    table = isFHdr ? gObj.getMovableVirtualHeader().querySelector('table')\n                        : gObj.getMovableVirtualContent().querySelector('table');\n                }\n            }\n            else {\n                table = isFHdr ? gObj.getHeaderTable() : gObj.getContentTable();\n            }\n        }\n        else {\n            table = select('#' + gObj.element.id + '_dialogEdit_wrapper', document);\n        }\n        return table;\n    };\n    Edit.prototype.resetElemPosition = function (elem, args) {\n        var td = parentsUntil(args.element, literals.rowCell);\n        if (td) {\n            var tdRight = td.getBoundingClientRect().right;\n            var elemRight = elem.getBoundingClientRect().right;\n            if (elemRight > tdRight) {\n                var offSet = elemRight - tdRight;\n                elem.style.left = (elem.offsetLeft - offSet) + 'px';\n            }\n        }\n    };\n    Edit.prototype.validationComplete = function (args) {\n        if (this.parent.isEdit) {\n            var elem = this.getElemTable(args.element).querySelector('#' + args.inputName + '_Error');\n            if (elem) {\n                if (args.status === 'failure') {\n                    elem.style.display = '';\n                    this.resetElemPosition(elem, args);\n                }\n                else {\n                    elem.style.display = 'none';\n                }\n            }\n        }\n    };\n    Edit.prototype.createTooltip = function (element, error, name, display) {\n        var column = this.parent.getColumnByField(name);\n        var formObj = this.parent.getFrozenMode() === literals.leftRight && this.parent.editSettings.mode === 'Normal'\n            && column.getFreezeTableName() === literals.frozenRight ? this.frFormObj.element : this.formObj.element;\n        var customForm = parentsUntil(element, 'e-virtual-validation');\n        if (customForm) {\n            formObj = this.virtualFormObj.element;\n        }\n        var gcontent = this.parent.getContent().firstElementChild;\n        var frzCols = this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount()\n            || this.parent.getFrozenRightColumnsCount();\n        if (frzCols) {\n            gcontent = this.parent.getMovableVirtualContent();\n        }\n        var isScroll = gcontent.scrollHeight > gcontent.clientHeight || gcontent.scrollWidth > gcontent.clientWidth;\n        var isInline = this.parent.editSettings.mode !== 'Dialog';\n        var td = closest(element, '.' + literals.rowCell);\n        var row = closest(element, '.' + literals.row);\n        var fCont = this.parent.getContent().querySelector('.' + literals.frozenContent);\n        var isFHdr;\n        var isFHdrLastRow = false;\n        var validationForBottomRowPos;\n        var isBatchModeLastRow = false;\n        var viewPortRowCount = Math.round(this.parent.getContent().clientHeight / this.parent.getRowHeight()) - 1;\n        var rows = !fCont ? [].slice.call(this.parent.getContent().getElementsByClassName(literals.row))\n            : [].slice.call(this.parent.getFrozenVirtualContent().getElementsByClassName(literals.row));\n        if (this.parent.editSettings.mode === 'Batch') {\n            if (viewPortRowCount > 1 && rows.length >= viewPortRowCount\n                && rows[rows.length - 1].getAttribute(literals.ariaRowIndex) === row.getAttribute(literals.ariaRowIndex)) {\n                isBatchModeLastRow = true;\n            }\n        }\n        if (isInline) {\n            if (this.parent.frozenRows) {\n                var fHeraderRows = frzCols ? this.parent.getFrozenVirtualHeader().querySelector(literals.tbody).children\n                    : this.parent.getHeaderTable().querySelector(literals.tbody).children;\n                isFHdr = fHeraderRows.length > (parseInt(row.getAttribute(literals.ariaRowIndex), 10) || 0);\n                isFHdrLastRow = isFHdr && parseInt(row.getAttribute(literals.ariaRowIndex), 10) === fHeraderRows.length - 1;\n            }\n            if (isFHdrLastRow || (viewPortRowCount > 1 && rows.length >= viewPortRowCount\n                && ((this.parent.editSettings.newRowPosition === 'Bottom' && (this.editModule.args\n                    && this.editModule.args.requestType === 'add')) || (td.classList.contains('e-lastrowcell')\n                    && !row.classList.contains(literals.addedRow)))) || isBatchModeLastRow) {\n                validationForBottomRowPos = true;\n            }\n        }\n        var table = isInline ?\n            (isFHdr ? this.parent.getHeaderTable() : this.parent.getContentTable()) :\n            select('#' + this.parent.element.id + '_dialogEdit_wrapper .e-dlg-content', document);\n        var client = table.getBoundingClientRect();\n        var left = isInline ?\n            this.parent.element.getBoundingClientRect().left : client.left;\n        var input = closest(element, 'td');\n        var inputClient = input ? input.getBoundingClientRect() : element.parentElement.getBoundingClientRect();\n        var div = this.parent.createElement('div', {\n            className: 'e-tooltip-wrap e-lib e-control e-popup e-griderror',\n            id: name + '_Error',\n            styles: 'display:' + display + ';top:' +\n                ((isFHdr ? inputClient.top + inputClient.height : inputClient.bottom - client.top\n                    - (frzCols ? fCont.scrollTop : 0)) + table.scrollTop + 9) + 'px;left:' +\n                (inputClient.left - left + table.scrollLeft + inputClient.width / 2) + 'px;' +\n                'max-width:' + inputClient.width + 'px;text-align:center;'\n        });\n        if (isInline && client.left < left) {\n            div.style.left = parseInt(div.style.left, 10) - client.left + left + 'px';\n        }\n        var content = this.parent.createElement('div', { className: 'e-tip-content' });\n        content.appendChild(error);\n        var arrow;\n        if (validationForBottomRowPos) {\n            arrow = this.parent.createElement('div', { className: 'e-arrow-tip e-tip-bottom' });\n            arrow.appendChild(this.parent.createElement('div', { className: 'e-arrow-tip-outer e-tip-bottom' }));\n            arrow.appendChild(this.parent.createElement('div', { className: 'e-arrow-tip-inner e-tip-bottom' }));\n        }\n        else {\n            arrow = this.parent.createElement('div', { className: 'e-arrow-tip e-tip-top' });\n            arrow.appendChild(this.parent.createElement('div', { className: 'e-arrow-tip-outer e-tip-top' }));\n            arrow.appendChild(this.parent.createElement('div', { className: 'e-arrow-tip-inner e-tip-top' }));\n        }\n        div.appendChild(content);\n        div.appendChild(arrow);\n        if (!customForm && (frzCols || this.parent.frozenRows) && this.parent.editSettings.mode !== 'Dialog') {\n            var getEditCell = this.parent.editSettings.mode === 'Normal' ?\n                closest(element, '.e-editcell') : closest(element, '.' + literals.table);\n            getEditCell.style.position = 'relative';\n            div.style.position = 'absolute';\n            if (this.parent.editSettings.mode === 'Batch' ||\n                (closest(element, '.' + literals.frozenContent) || closest(element, '.' + literals.frozenHeader))\n                || (this.parent.frozenRows && !frzCols)) {\n                formObj.appendChild(div);\n            }\n            else {\n                this.mFormObj.element.appendChild(div);\n            }\n        }\n        else {\n            if (customForm) {\n                this.virtualFormObj.element.appendChild(div);\n            }\n            else {\n                this.formObj.element.appendChild(div);\n            }\n        }\n        if (!validationForBottomRowPos && isInline && gcontent.getBoundingClientRect().bottom < inputClient.bottom + inputClient.height) {\n            gcontent.scrollTop = gcontent.scrollTop + div.offsetHeight + arrow.scrollHeight;\n        }\n        var lineHeight = parseInt(document.defaultView.getComputedStyle(div, null).getPropertyValue('font-size'), 10);\n        if (div.getBoundingClientRect().width < inputClient.width &&\n            div.querySelector('label').getBoundingClientRect().height / (lineHeight * 1.2) >= 2) {\n            div.style.width = div.style.maxWidth;\n        }\n        if ((frzCols || this.parent.frozenRows) && this.parent.editSettings.mode !== 'Dialog') {\n            div.style.left = input.offsetLeft + (input.offsetWidth / 2 - div.offsetWidth / 2) + 'px';\n        }\n        else {\n            div.style.left = (parseInt(div.style.left, 10) - div.offsetWidth / 2) + 'px';\n        }\n        if (isInline && !isScroll && !this.parent.allowPaging || frzCols || this.parent.frozenRows) {\n            gcontent.style.position = 'static';\n            var pos = calculateRelativeBasedPosition(input, div);\n            div.style.top = pos.top + inputClient.height + 9 + 'px';\n        }\n        if (validationForBottomRowPos) {\n            if (isScroll && !frzCols && this.parent.height !== 'auto' && !this.parent.frozenRows\n                && !this.parent.enableVirtualization) {\n                var scrollWidth = gcontent.scrollWidth > gcontent.offsetWidth ? getScrollBarWidth() : 0;\n                div.style.bottom = (this.parent.height - gcontent.querySelector('table').offsetHeight\n                    - scrollWidth) + inputClient.height + 9 + 'px';\n            }\n            else {\n                div.style.bottom = inputClient.height + 9 + 'px';\n            }\n            if (rows.length < viewPortRowCount && this.parent.editSettings.newRowPosition === 'Bottom' && (this.editModule.args\n                && this.editModule.args.requestType === 'add')) {\n                var rowsCount = this.parent.frozenRows ? this.parent.frozenRows + (rows.length - 1) : rows.length - 1;\n                var rowsHeight = rowsCount * this.parent.getRowHeight();\n                var position = this.parent.getContent().clientHeight - rowsHeight;\n                div.style.bottom = position + 9 + 'px';\n            }\n            div.style.top = null;\n        }\n    };\n    /**\n     * @param {Column} col - specfies the column\n     * @returns {boolean} returns the whether column is grouped\n     * @hidden\n     */\n    Edit.prototype.checkColumnIsGrouped = function (col) {\n        return !col.visible && !(this.parent.groupSettings.columns.indexOf(col.field) > -1);\n    };\n    /**\n     * @param {object} editors -specfies the editors\n     * @returns {void}\n     * @hidden\n     */\n    Edit.AddEditors = function (editors) {\n        Edit.editCellType = extend(Edit.editCellType, editors);\n    };\n    Edit.editCellType = {\n        'dropdownedit': DropDownEditCell, 'numericedit': NumericEditCell,\n        'datepickeredit': DatePickerEditCell, 'datetimepickeredit': DatePickerEditCell,\n        'booleanedit': BooleanEditCell, 'defaultedit': DefaultEditCell,\n        'templateedit': TemplateEditCell\n    };\n    return Edit;\n}());\nexport { Edit };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheets class\n * @private\n */\nvar Worksheets = /** @class */ (function (_super) {\n    __extends(Worksheets, _super);\n    function Worksheets() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return Worksheets;\n}(Array));\nexport { Worksheets };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheet class\n * @private\n */\nvar Worksheet = /** @class */ (function () {\n    function Worksheet() {\n        this.isSummaryRowBelow = true;\n        this.showGridLines = true;\n        this.enableRtl = false;\n    }\n    return Worksheet;\n}());\nexport { Worksheet };\n/**\n * Hyperlink class\n * @private\n */\nvar HyperLink = /** @class */ (function () {\n    function HyperLink() {\n    }\n    return HyperLink;\n}());\nexport { HyperLink };\n/**\n * Grouping class\n * @private\n */\nvar Grouping = /** @class */ (function () {\n    function Grouping() {\n    }\n    return Grouping;\n}());\nexport { Grouping };\n/**\n * FreezePane class\n * @private\n */\nvar FreezePane = /** @class */ (function () {\n    function FreezePane() {\n    }\n    return FreezePane;\n}());\nexport { FreezePane };\n/**\n * MergeCell\n * @private\n */\nvar MergeCell = /** @class */ (function () {\n    function MergeCell() {\n    }\n    return MergeCell;\n}());\nexport { MergeCell };\n/**\n * MergeCells class\n * @private\n */\nvar MergeCells = /** @class */ (function (_super) {\n    __extends(MergeCells, _super);\n    function MergeCells() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (mergeCell) {\n            var inserted = false;\n            var count = 0;\n            for (var _i = 0, _a = _this; _i < _a.length; _i++) {\n                var mCell = _a[_i];\n                if (MergeCells.isIntersecting(mCell, mergeCell)) {\n                    var intersectingCell = new MergeCell();\n                    intersectingCell.x = Math.min(mCell.x, mergeCell.x);\n                    intersectingCell.y = Math.min(mCell.Y, mergeCell.y);\n                    intersectingCell.width = Math.max(mCell.Width + mCell.X, mergeCell.width + mergeCell.x);\n                    intersectingCell.height = Math.max(mCell.Height + mCell.Y, mergeCell.height + mergeCell.y);\n                    intersectingCell.ref = (_this[count].ref.split(':')[0]) + ':' + (mergeCell.ref.split(':')[1]);\n                    _this[count] = intersectingCell;\n                    mergeCell = intersectingCell;\n                    inserted = true;\n                }\n                count++;\n            }\n            if (!inserted) {\n                _this.push(mergeCell);\n            }\n            return mergeCell;\n        };\n        return _this;\n    }\n    MergeCells.isIntersecting = function (base, compare) {\n        return (base.x <= compare.x + compare.width)\n            && (compare.x <= base.x + base.width)\n            && (base.y <= compare.y + compare.height)\n            && (compare.y <= base.y + base.height);\n    };\n    return MergeCells;\n}(Array));\nexport { MergeCells };\n","/**\n * CellStyle class\n * @private\n */\nvar CellStyle = /** @class */ (function () {\n    function CellStyle() {\n        this.numFmtId = 0;\n        this.backColor = 'none';\n        this.fontName = 'Calibri';\n        this.fontSize = 10.5;\n        this.fontColor = '#000000';\n        this.italic = false;\n        this.bold = false;\n        this.underline = false;\n        this.strikeThrough = false;\n        this.wrapText = false;\n        this.hAlign = 'general';\n        this.vAlign = 'bottom';\n        this.indent = 0;\n        this.rotation = 0;\n        this.numberFormat = 'GENERAL';\n        this.type = 'datetime';\n        this.borders = new Borders();\n        this.isGlobalStyle = false;\n    }\n    return CellStyle;\n}());\nexport { CellStyle };\n/**\n * Font Class\n * @private\n */\nvar Font = /** @class */ (function () {\n    function Font() {\n        this.sz = 10.5;\n        this.name = 'Calibri';\n        this.u = false;\n        this.b = false;\n        this.i = false;\n        this.color = 'FF000000';\n        this.strike = false;\n    }\n    return Font;\n}());\nexport { Font };\n/**\n * CellXfs class\n * @private\n */\nvar CellXfs = /** @class */ (function () {\n    function CellXfs() {\n    }\n    return CellXfs;\n}());\nexport { CellXfs };\n/**\n * Alignment class\n * @private\n */\nvar Alignment = /** @class */ (function () {\n    function Alignment() {\n    }\n    return Alignment;\n}());\nexport { Alignment };\n/**\n * CellStyleXfs class\n * @private\n */\nvar CellStyleXfs = /** @class */ (function () {\n    function CellStyleXfs() {\n    }\n    return CellStyleXfs;\n}());\nexport { CellStyleXfs };\n/**\n * CellStyles class\n * @private\n */\nvar CellStyles = /** @class */ (function () {\n    function CellStyles() {\n        this.name = 'Normal';\n        this.xfId = 0;\n    }\n    return CellStyles;\n}());\nexport { CellStyles };\n/**\n * NumFmt class\n * @private\n */\nvar NumFmt = /** @class */ (function () {\n    function NumFmt(id, code) {\n        this.numFmtId = id;\n        this.formatCode = code;\n    }\n    return NumFmt;\n}());\nexport { NumFmt };\n/**\n * Border class\n * @private\n */\nvar Border = /** @class */ (function () {\n    function Border(mLine, mColor) {\n        this.lineStyle = mLine;\n        this.color = mColor;\n    }\n    return Border;\n}());\nexport { Border };\n/**\n * Borders class\n * @private\n */\nvar Borders = /** @class */ (function () {\n    function Borders() {\n        this.left = new Border('none', '#FFFFFF');\n        this.right = new Border('none', '#FFFFFF');\n        this.top = new Border('none', '#FFFFFF');\n        this.bottom = new Border('none', '#FFFFFF');\n        this.all = new Border('none', '#FFFFFF');\n    }\n    return Borders;\n}());\nexport { Borders };\n","/**\n * Column class\n * @private\n */\nvar Column = /** @class */ (function () {\n    function Column() {\n    }\n    return Column;\n}());\nexport { Column };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Row class\n * @private\n */\nvar Row = /** @class */ (function () {\n    function Row() {\n    }\n    return Row;\n}());\nexport { Row };\n/**\n * Rows class\n * @private\n */\nvar Rows = /** @class */ (function (_super) {\n    __extends(Rows, _super);\n    function Rows() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (row) {\n            _this.push(row);\n        };\n        return _this;\n    }\n    return Rows;\n}(Array));\nexport { Rows };\n","/**\n * Image class\n * @private\n */\nvar Image = /** @class */ (function () {\n    function Image() {\n    }\n    return Image;\n}());\nexport { Image };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * Worksheet class\n * @private\n */\nvar Cell = /** @class */ (function () {\n    function Cell() {\n    }\n    return Cell;\n}());\nexport { Cell };\n/**\n * Cells class\n * @private\n */\nvar Cells = /** @class */ (function (_super) {\n    __extends(Cells, _super);\n    function Cells() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.add = function (cell) {\n            var inserted = false;\n            var count = 0;\n            for (var _i = 0, _a = _this; _i < _a.length; _i++) {\n                var c = _a[_i];\n                if (c.index === cell.index) {\n                    _this[count] = cell;\n                    inserted = true;\n                }\n                count++;\n            }\n            if (!inserted) {\n                _this.push(cell);\n            }\n        };\n        return _this;\n    }\n    return Cells;\n}(Array));\nexport { Cells };\n","import { CompressedStreamWriter } from './compression-writer';\nimport { Save } from '@syncfusion/ej2-file-utils';\nvar CRC32TABLE = [];\n/**\n * class provide compression library\n * ```typescript\n * let archive = new ZipArchive();\n * archive.compressionLevel = 'Normal';\n * let archiveItem = new ZipArchiveItem(archive, 'directoryName\\fileName.txt');\n * archive.addItem(archiveItem);\n * archive.save(fileName.zip);\n * ```\n */\nvar ZipArchive = /** @class */ (function () {\n    /**\n     * constructor for creating ZipArchive instance\n     */\n    function ZipArchive() {\n        if (CRC32TABLE.length === 0) {\n            ZipArchive.initCrc32Table();\n        }\n        this.files = [];\n        this.level = 'Normal';\n        Save.isMicrosoftBrowser = !(!navigator.msSaveBlob);\n    }\n    Object.defineProperty(ZipArchive.prototype, \"compressionLevel\", {\n        /**\n         * gets compression level\n         */\n        get: function () {\n            return this.level;\n        },\n        /**\n         * sets compression level\n         */\n        set: function (level) {\n            this.level = level;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ZipArchive.prototype, \"length\", {\n        /**\n         * gets items count\n         */\n        get: function () {\n            if (this.files === undefined) {\n                return 0;\n            }\n            return this.files.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * add new item to archive\n     * @param {ZipArchiveItem} item - item to be added\n     * @returns {void}\n     */\n    ZipArchive.prototype.addItem = function (item) {\n        if (item === null || item === undefined) {\n            throw new Error('ArgumentException: item cannot be null or undefined');\n        }\n        for (var i = 0; i < this.files.length; i++) {\n            var file = this.files[i];\n            if (file instanceof ZipArchiveItem) {\n                if (file.name === item.name) {\n                    throw new Error('item with same name already exist');\n                }\n            }\n        }\n        this.files.push(item);\n    };\n    /**\n     * add new directory to archive\n     * @param directoryName directoryName to be created\n     * @returns {void}\n     */\n    ZipArchive.prototype.addDirectory = function (directoryName) {\n        if (directoryName === null || directoryName === undefined) {\n            throw new Error('ArgumentException: string cannot be null or undefined');\n        }\n        if (directoryName.length === 0) {\n            throw new Error('ArgumentException: string cannot be empty');\n        }\n        if (directoryName.slice(-1) !== '/') {\n            directoryName += '/';\n        }\n        if (this.files.indexOf(directoryName) !== -1) {\n            throw new Error('item with same name already exist');\n        }\n        this.files.push(directoryName);\n    };\n    /**\n     * gets item at specified index\n     * @param {number} index - item index\n     * @returns {ZipArchiveItem}\n     */\n    ZipArchive.prototype.getItem = function (index) {\n        if (index >= 0 && index < this.files.length) {\n            return this.files[index];\n        }\n        return undefined;\n    };\n    /**\n     * determines whether an element is in the collection\n     * @param {string | ZipArchiveItem} item - item to search\n     * @returns {boolean}\n     */\n    ZipArchive.prototype.contains = function (item) {\n        return this.files.indexOf(item) !== -1 ? true : false;\n    };\n    /**\n     * save archive with specified file name\n     * @param {string} fileName save archive with specified file name\n     * @returns {Promise<ZipArchive>}\n     */\n    ZipArchive.prototype.save = function (fileName) {\n        if (fileName === null || fileName === undefined || fileName.length === 0) {\n            throw new Error('ArgumentException: fileName cannot be null or undefined');\n        }\n        if (this.files.length === 0) {\n            throw new Error('InvalidOperation');\n        }\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            zipArchive.saveInternal(fileName, false).then(function () {\n                resolve(zipArchive);\n            });\n        });\n    };\n    /**\n     * Save archive as blob\n     * @return {Promise<Blob>}\n     */\n    ZipArchive.prototype.saveAsBlob = function () {\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            zipArchive.saveInternal('', true).then(function (blob) {\n                resolve(blob);\n            });\n        });\n    };\n    ZipArchive.prototype.saveInternal = function (fileName, skipFileSave) {\n        var _this = this;\n        var zipArchive = this;\n        var promise;\n        return promise = new Promise(function (resolve, reject) {\n            var zipData = [];\n            var dirLength = 0;\n            for (var i = 0; i < zipArchive.files.length; i++) {\n                var compressedObject = _this.getCompressedData(_this.files[i]);\n                compressedObject.then(function (data) {\n                    dirLength = zipArchive.constructZippedObject(zipData, data, dirLength, data.isDirectory);\n                    if (zipData.length === zipArchive.files.length) {\n                        var blob = zipArchive.writeZippedContent(fileName, zipData, dirLength, skipFileSave);\n                        resolve(blob);\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    ZipArchive.prototype.destroy = function () {\n        if (this.files !== undefined && this.files.length > 0) {\n            for (var i = 0; i < this.files.length; i++) {\n                var file = this.files[i];\n                if (file instanceof ZipArchiveItem) {\n                    file.destroy();\n                }\n                file = undefined;\n            }\n            this.files = [];\n        }\n        this.files = undefined;\n        this.level = undefined;\n    };\n    ZipArchive.prototype.getCompressedData = function (item) {\n        var zipArchive = this;\n        var promise = new Promise(function (resolve, reject) {\n            if (item instanceof ZipArchiveItem) {\n                var reader_1 = new FileReader();\n                reader_1.onload = function () {\n                    var input = new Uint8Array(reader_1.result);\n                    var data = {\n                        fileName: item.name, crc32Value: 0, compressedData: [],\n                        compressedSize: undefined, uncompressedDataSize: input.length, compressionType: undefined,\n                        isDirectory: false\n                    };\n                    if (zipArchive.level === 'Normal') {\n                        zipArchive.compressData(input, data, CRC32TABLE);\n                        var length_1 = 0;\n                        for (var i = 0; i < data.compressedData.length; i++) {\n                            length_1 += data.compressedData[i].length;\n                        }\n                        data.compressedSize = length_1;\n                        data.compressionType = '\\x08\\x00'; //Deflated = 8\n                    }\n                    else {\n                        data.compressedSize = input.length;\n                        data.crc32Value = zipArchive.calculateCrc32Value(0, input, CRC32TABLE);\n                        data.compressionType = '\\x00\\x00'; // Stored = 0\n                        data.compressedData.push(input);\n                    }\n                    resolve(data);\n                };\n                reader_1.readAsArrayBuffer(item.data);\n            }\n            else {\n                var data = {\n                    fileName: item, crc32Value: 0, compressedData: '', compressedSize: 0, uncompressedDataSize: 0,\n                    compressionType: '\\x00\\x00', isDirectory: true\n                };\n                resolve(data);\n            }\n        });\n        return promise;\n    };\n    ZipArchive.prototype.compressData = function (input, data, crc32Table) {\n        var compressor = new CompressedStreamWriter(true);\n        var currentIndex = 0;\n        var nextIndex = 0;\n        do {\n            if (currentIndex >= input.length) {\n                compressor.close();\n                break;\n            }\n            nextIndex = Math.min(input.length, currentIndex + 16384);\n            var subArray = input.subarray(currentIndex, nextIndex);\n            data.crc32Value = this.calculateCrc32Value(data.crc32Value, subArray, crc32Table);\n            compressor.write(subArray, 0, nextIndex - currentIndex);\n            currentIndex = nextIndex;\n        } while (currentIndex <= input.length);\n        data.compressedData = compressor.compressedData;\n        compressor.destroy();\n    };\n    ZipArchive.prototype.constructZippedObject = function (zipParts, data, dirLength, isDirectory) {\n        var extFileAttr = 0;\n        var date = new Date();\n        if (isDirectory) {\n            extFileAttr = extFileAttr | 0x00010; // directory flag\n        }\n        extFileAttr = extFileAttr | (0 & 0x3F);\n        var header = this.writeHeader(data, date);\n        var localHeader = 'PK\\x03\\x04' + header + data.fileName;\n        var centralDir = this.writeCentralDirectory(data, header, dirLength, extFileAttr);\n        zipParts.push({ localHeader: localHeader, centralDir: centralDir, compressedData: data });\n        return dirLength + localHeader.length + data.compressedSize;\n    };\n    ZipArchive.prototype.writeHeader = function (data, date) {\n        var zipHeader = '';\n        zipHeader += '\\x0A\\x00' + '\\x00\\x00'; // version needed to extract & general purpose bit flag\n        zipHeader += data.compressionType; // compression method Deflate=8,Stored=0\n        zipHeader += this.getBytes(this.getModifiedTime(date), 2); // last modified Time\n        zipHeader += this.getBytes(this.getModifiedDate(date), 2); // last modified date\n        zipHeader += this.getBytes(data.crc32Value, 4); // crc-32 value\n        zipHeader += this.getBytes(data.compressedSize, 4); // compressed file size\n        zipHeader += this.getBytes(data.uncompressedDataSize, 4); // uncompressed file size\n        zipHeader += this.getBytes(data.fileName.length, 2); // file name length\n        zipHeader += this.getBytes(0, 2); // extra field length\n        return zipHeader;\n    };\n    ZipArchive.prototype.writeZippedContent = function (fileName, zipData, localDirLen, skipFileSave) {\n        var cenDirLen = 0;\n        var buffer = [];\n        for (var i = 0; i < zipData.length; i++) {\n            var item = zipData[i];\n            cenDirLen += item.centralDir.length;\n            buffer.push(this.getArrayBuffer(item.localHeader));\n            while (item.compressedData.compressedData.length) {\n                buffer.push(item.compressedData.compressedData.shift().buffer);\n            }\n        }\n        for (var i = 0; i < zipData.length; i++) {\n            buffer.push(this.getArrayBuffer(zipData[i].centralDir));\n        }\n        buffer.push(this.getArrayBuffer(this.writeFooter(zipData, cenDirLen, localDirLen)));\n        var blob = new Blob(buffer, { type: 'application/zip' });\n        if (!skipFileSave) {\n            Save.save(fileName, blob);\n        }\n        return blob;\n    };\n    ZipArchive.prototype.writeCentralDirectory = function (data, localHeader, offset, externalFileAttribute) {\n        var directoryHeader = 'PK\\x01\\x02' +\n            this.getBytes(0x0014, 2) + localHeader + // inherit from file header\n            this.getBytes(0, 2) + // comment length\n            '\\x00\\x00' + '\\x00\\x00' + // internal file attributes \n            this.getBytes(externalFileAttribute, 4) + // external file attributes\n            this.getBytes(offset, 4) + // local fileHeader relative offset\n            data.fileName;\n        return directoryHeader;\n    };\n    ZipArchive.prototype.writeFooter = function (zipData, centralLength, localLength) {\n        var dirEnd = 'PK\\x05\\x06' + '\\x00\\x00' + '\\x00\\x00' +\n            this.getBytes(zipData.length, 2) + this.getBytes(zipData.length, 2) +\n            this.getBytes(centralLength, 4) + this.getBytes(localLength, 4) +\n            this.getBytes(0, 2);\n        return dirEnd;\n    };\n    ZipArchive.prototype.getArrayBuffer = function (input) {\n        var a = new Uint8Array(input.length);\n        for (var j = 0; j < input.length; ++j) {\n            a[j] = input.charCodeAt(j) & 0xFF;\n        }\n        return a.buffer;\n    };\n    ZipArchive.prototype.getBytes = function (value, offset) {\n        var bytes = '';\n        for (var i = 0; i < offset; i++) {\n            bytes += String.fromCharCode(value & 0xff);\n            value = value >>> 8;\n        }\n        return bytes;\n    };\n    ZipArchive.prototype.getModifiedTime = function (date) {\n        var modTime = date.getHours();\n        modTime = modTime << 6;\n        modTime = modTime | date.getMinutes();\n        modTime = modTime << 5;\n        return modTime = modTime | date.getSeconds() / 2;\n    };\n    ZipArchive.prototype.getModifiedDate = function (date) {\n        var modiDate = date.getFullYear() - 1980;\n        modiDate = modiDate << 4;\n        modiDate = modiDate | (date.getMonth() + 1);\n        modiDate = modiDate << 5;\n        return modiDate = modiDate | date.getDate();\n    };\n    ZipArchive.prototype.calculateCrc32Value = function (crc32Value, input, crc32Table) {\n        crc32Value ^= -1;\n        for (var i = 0; i < input.length; i++) {\n            crc32Value = (crc32Value >>> 8) ^ crc32Table[(crc32Value ^ input[i]) & 0xFF];\n        }\n        return (crc32Value ^ (-1));\n    };\n    /**\n     * construct cyclic redundancy code table\n     * @private\n     */\n    ZipArchive.initCrc32Table = function () {\n        var i;\n        for (var j = 0; j < 256; j++) {\n            i = j;\n            for (var k = 0; k < 8; k++) {\n                i = ((i & 1) ? (0xEDB88320 ^ (i >>> 1)) : (i >>> 1));\n            }\n            CRC32TABLE[j] = i;\n        }\n    };\n    return ZipArchive;\n}());\nexport { ZipArchive };\n/**\n * Class represent unique ZipArchive item\n * ```typescript\n * let archiveItem = new ZipArchiveItem(archive, 'directoryName\\fileName.txt');\n * ```\n */\nvar ZipArchiveItem = /** @class */ (function () {\n    /**\n     * constructor for creating {ZipArchiveItem} instance\n     * @param {Blob|ArrayBuffer} data file data\n     * @param {itemName} itemName absolute file path\n     */\n    function ZipArchiveItem(data, itemName) {\n        if (data === null || data === undefined) {\n            throw new Error('ArgumentException: data cannot be null or undefined');\n        }\n        if (itemName === null || itemName === undefined) {\n            throw new Error('ArgumentException: string cannot be null or undefined');\n        }\n        if (itemName.length === 0) {\n            throw new Error('string cannot be empty');\n        }\n        this.data = data;\n        this.name = itemName;\n    }\n    Object.defineProperty(ZipArchiveItem.prototype, \"name\", {\n        /**\n         * Get the name of archive item\n         * @returns string\n         */\n        get: function () {\n            return this.fileName;\n        },\n        /**\n         * Set the name of archive item\n         * @param  {string} value\n         */\n        set: function (value) {\n            this.fileName = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * release allocated un-managed resource\n     * @returns {void}\n     */\n    ZipArchiveItem.prototype.destroy = function () {\n        this.fileName = undefined;\n        this.data = undefined;\n    };\n    return ZipArchiveItem;\n}());\nexport { ZipArchiveItem };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Internationalization } from '@syncfusion/ej2-base';\n// import { IValueFormatter } from '../base/interface';\n/**\n * ValueFormatter class to globalize the value.\n * @private\n */\nvar ValueFormatter = /** @class */ (function () {\n    function ValueFormatter(cultureName) {\n        this.intl = new Internationalization();\n        // if (!isNullOrUndefined(cultureName)) {\n        //     this.intl.culture = cultureName;\n        // }\n    }\n    ValueFormatter.prototype.getFormatFunction = function (format, isServerRendered) {\n        if (format.type) {\n            if (isServerRendered) {\n                format.isServerRendered = true;\n            }\n            return this.intl.getDateFormat(format);\n        }\n        else {\n            return this.intl.getNumberFormat(format);\n        }\n    };\n    // public getParserFunction(format: NumberFormatOptions | DateFormatOptions): Function {\n    //     if ((<DateFormatOptions>format).type) {\n    //         return this.intl.getDateParser(<DateFormatOptions>format);\n    //     } else {\n    //         return this.intl.getNumberParser(<DateFormatOptions>format);\n    //     }\n    // }\n    // public fromView(value: string, format: Function, type?: string): string | number | Date {\n    //     if (type === 'date' || type === 'datetime' || type === 'number') {\n    //         return format(value);\n    //     } else {\n    //         return value;\n    //     }\n    // }\n    ValueFormatter.prototype.toView = function (value, format) {\n        var result = value;\n        if (!isNullOrUndefined(format) && !isNullOrUndefined(value)) {\n            result = format(value);\n        }\n        return result;\n    };\n    // public setCulture(cultureName: string): void {\n    //     if (!isNullOrUndefined(cultureName)) {\n    //         setCulture(cultureName);\n    //     }\n    // }\n    /* tslint:disable:no-any */\n    ValueFormatter.prototype.displayText = function (value, format, isServerRendered) {\n        return this.toView(value, this.getFormatFunction(format, isServerRendered));\n    };\n    return ValueFormatter;\n}());\nexport { ValueFormatter };\n","import { ValueFormatter } from './value-formatter';\n/**\n * CsvHelper class\n * @private\n */\nvar CsvHelper = /** @class */ (function () {\n    /* tslint:disable:no-any */\n    function CsvHelper(json, separator) {\n        this.csvStr = '';\n        if (separator === null || separator === undefined) {\n            this.separator = ',';\n        }\n        else {\n            this.separator = separator;\n        }\n        this.formatter = new ValueFormatter();\n        this.isMicrosoftBrowser = !(!navigator.msSaveBlob);\n        if (json.isServerRendered !== null && json.isServerRendered !== undefined) {\n            this.isServerRendered = json.isServerRendered;\n        }\n        if (json.styles !== null && json.styles !== undefined) {\n            this.globalStyles = new Map();\n            for (var i = 0; i < json.styles.length; i++) {\n                if (json.styles[i].name !== undefined && json.styles[i].numberFormat !== undefined) {\n                    this.globalStyles.set(json.styles[i].name, json.styles[i].numberFormat);\n                }\n            }\n        }\n        // Parses Worksheets data to DOM.        \n        if (json.worksheets !== null && json.worksheets !== undefined) {\n            this.parseWorksheet(json.worksheets[0]);\n        }\n        //this.csvStr = 'a1,a2,a3\\nb1,b2,b3';\n    }\n    CsvHelper.prototype.parseWorksheet = function (json) {\n        //Rows\n        if (json.rows !== null && json.rows !== undefined) {\n            this.parseRows(json.rows);\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseRows = function (rows) {\n        var count = 1;\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            //Row index\n            if (row.index !== null && row.index !== undefined) {\n                while (count < row.index) {\n                    this.csvStr += '\\n';\n                    count++;\n                }\n                this.parseRow(row);\n            }\n            else {\n                throw Error('Row index is missing.');\n            }\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseRow = function (row) {\n        if (row.cells !== null && row.cells !== undefined) {\n            var count = 1;\n            for (var _i = 0, _a = row.cells; _i < _a.length; _i++) {\n                var cell = _a[_i];\n                //cell index\n                if (cell.index !== null && cell.index !== undefined) {\n                    while (count < cell.index) {\n                        this.csvStr += this.separator;\n                        count++;\n                    }\n                    this.parseCell(cell);\n                }\n                else {\n                    throw Error('Cell index is missing.');\n                }\n            }\n        }\n    };\n    /* tslint:disable:no-any */\n    CsvHelper.prototype.parseCell = function (cell) {\n        var csv = this.csvStr;\n        if (cell.value !== undefined) {\n            if (cell.value instanceof Date) {\n                if (cell.style !== undefined && cell.style.numberFormat !== undefined) {\n                    /* tslint:disable-next-line:max-line-length */\n                    try {\n                        csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', skeleton: cell.style.numberFormat }, this.isServerRendered));\n                    }\n                    catch (error) {\n                        /* tslint:disable-next-line:max-line-length */\n                        csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', format: cell.style.numberFormat }, this.isServerRendered));\n                    }\n                }\n                else if (cell.style !== undefined && cell.style.name !== undefined && this.globalStyles.has(cell.style.name)) {\n                    /* tslint:disable-next-line:max-line-length */\n                    try {\n                        csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', skeleton: this.globalStyles.get(cell.style.name) }, this.isServerRendered));\n                    }\n                    catch (error) {\n                        /* tslint:disable-next-line:max-line-length */\n                        csv += this.parseCellValue(this.formatter.displayText(cell.value, { type: 'dateTime', format: this.globalStyles.get(cell.style.name) }, this.isServerRendered));\n                    }\n                }\n                else {\n                    csv += cell.value;\n                }\n            }\n            else if (typeof (cell.value) === 'boolean') {\n                csv += cell.value ? 'TRUE' : 'FALSE';\n            }\n            else if (typeof (cell.value) === 'number') {\n                if (cell.style !== undefined && cell.style.numberFormat !== undefined) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { format: cell.style.numberFormat }, this.isServerRendered));\n                }\n                else if (cell.style !== undefined && cell.style.name !== undefined && this.globalStyles.has(cell.style.name)) {\n                    /* tslint:disable-next-line:max-line-length */\n                    csv += this.parseCellValue(this.formatter.displayText(cell.value, { format: this.globalStyles.get(cell.style.name) }, this.isServerRendered));\n                }\n                else {\n                    csv += cell.value;\n                }\n            }\n            else {\n                csv += this.parseCellValue(cell.value);\n            }\n        }\n        this.csvStr = csv;\n    };\n    CsvHelper.prototype.parseCellValue = function (value) {\n        var val = '';\n        var length = value.length;\n        for (var start = 0; start < length; start++) {\n            if (value[start] === '\\\"') {\n                val += value[start].replace('\\\"', '\\\"\\\"');\n            }\n            else {\n                val += value[start];\n            }\n        }\n        value = val;\n        if (value.indexOf(this.separator) !== -1 || value.indexOf('\\n') !== -1) {\n            return value = '\\\"' + value + '\\\"';\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Saves the file with specified name and sends the file to client browser\n     * @param  {string} fileName- file name to save.\n     * @param  {Blob} buffer- the content to write in file\n     */\n    CsvHelper.prototype.save = function (fileName) {\n        this.buffer = new Blob(['\\ufeff' + this.csvStr], { type: 'text/csv;charset=UTF-8' });\n        if (this.isMicrosoftBrowser) {\n            navigator.msSaveBlob(this.buffer, fileName);\n        }\n        else {\n            var dataUrl_1 = window.URL.createObjectURL(this.buffer);\n            var dwlLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');\n            dwlLink.download = fileName;\n            dwlLink.href = dataUrl_1;\n            var event_1 = document.createEvent('MouseEvent');\n            event_1.initEvent('click', true, true);\n            dwlLink.dispatchEvent(event_1);\n            setTimeout(function () {\n                window.URL.revokeObjectURL(dataUrl_1);\n            });\n        }\n    };\n    CsvHelper.prototype.saveAsBlob = function () {\n        return new Blob(['\\ufeff' + this.csvStr], { type: 'text/csv;charset=UTF-8' });\n    };\n    return CsvHelper;\n}());\nexport { CsvHelper };\n","/**\n * BlobHelper class\n * @private\n */\nvar BlobHelper = /** @class */ (function () {\n    function BlobHelper() {\n        /* tslint:disable:no-any */\n        this.parts = [];\n    }\n    /* tslint:disable:no-any */\n    BlobHelper.prototype.append = function (part) {\n        this.parts.push(part);\n        this.blob = undefined; // Invalidate the blob\n    };\n    BlobHelper.prototype.getBlob = function () {\n        return new Blob(this.parts, { type: 'text/plain' });\n    };\n    return BlobHelper;\n}());\nexport { BlobHelper };\n","/**\n * AutoFilters class\n * @private\n */\nvar AutoFilters = /** @class */ (function () {\n    function AutoFilters() {\n    }\n    return AutoFilters;\n}());\nexport { AutoFilters };\n","import { Worksheets } from './worksheets';\nimport { Worksheet, FreezePane, MergeCell, MergeCells, HyperLink, Grouping } from './worksheet';\nimport { CellStyle, Font, Borders, CellXfs, Alignment, NumFmt, CellStyleXfs, CellStyles } from './cell-style';\nimport { Column } from './column';\nimport { Row, Rows } from './row';\nimport { Image } from './image';\nimport { Cell, Cells } from './cell';\nimport { ZipArchive, ZipArchiveItem } from '@syncfusion/ej2-compression';\nimport { CsvHelper } from './csv-helper';\nimport { Internationalization, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { BlobHelper } from './blob-helper';\nimport { AutoFilters } from './auto-filters';\n/**\n * Workbook class\n */\nvar Workbook = /** @class */ (function () {\n    /* tslint:disable:no-any */\n    function Workbook(json, saveType, culture, currencyString, separator) {\n        this.sharedStringCount = 0;\n        this.unitsProportions = [\n            96 / 75.0,\n            96 / 300.0,\n            96,\n            96 / 25.4,\n            96 / 2.54,\n            1,\n            96 / 72.0,\n            96 / 72.0 / 12700,\n        ];\n        /* tslint:disable:no-any */\n        this.hyperlinkStyle = { fontColor: '#0000FF', underline: true };\n        if (culture !== undefined) {\n            this.culture = culture;\n        }\n        else {\n            this.culture = 'en-US';\n        }\n        if (currencyString !== undefined) {\n            this.currency = currencyString;\n        }\n        else {\n            this.currency = 'USD';\n        }\n        this.intl = new Internationalization(this.culture);\n        this.mSaveType = saveType;\n        if (saveType === 'xlsx') {\n            this.mArchive = new ZipArchive();\n            this.sharedString = [];\n            this.mFonts = [];\n            this.mBorders = [];\n            this.mStyles = [];\n            this.printTitles = new Map();\n            this.cellStyles = new Map();\n            this.mNumFmt = new Map();\n            this.mFills = new Map();\n            this.mStyles.push(new CellStyle());\n            this.mFonts.push(new Font());\n            /* tslint:disable */\n            this.cellStyles.set('Normal', new CellStyles());\n            /* tslint:enable */\n            this.mCellXfs = [];\n            this.mCellStyleXfs = [];\n            this.drawingCount = 0;\n            this.imageCount = 0;\n            if (json.styles !== null && json.styles !== undefined) {\n                /* tslint:disable-next-line:no-any */\n                this.globalStyles = new Map();\n                for (var i = 0; i < json.styles.length; i++) {\n                    if (json.styles[i].name !== undefined) {\n                        if (!this.cellStyles.has(json.styles[i].name)) {\n                            var cellStyle = new CellStyle();\n                            cellStyle.isGlobalStyle = true;\n                            this.parserCellStyle(json.styles[i], cellStyle, 'none');\n                            var cellStylesIn = new CellStyles();\n                            cellStylesIn.name = cellStyle.name;\n                            cellStylesIn.xfId = (cellStyle.index - 1);\n                            this.cellStyles.set(cellStylesIn.name, cellStylesIn);\n                            /* tslint:disable-next-line:no-any */\n                            var tFormat = {};\n                            if (json.styles[i].numberFormat !== undefined) {\n                                tFormat.format = json.styles[i].numberFormat;\n                            }\n                            if (json.styles[i].type !== undefined) {\n                                tFormat.type = json.styles[i].type;\n                            }\n                            else {\n                                tFormat.type = 'datetime';\n                            }\n                            if (tFormat.format !== undefined) {\n                                this.globalStyles.set(json.styles[i].name, tFormat);\n                            }\n                        }\n                        else {\n                            throw Error('Style name ' + json.styles[i].name + ' is already existed');\n                        }\n                    }\n                }\n            }\n            // Parses Worksheets data to DOM.        \n            if (json.worksheets !== null && json.worksheets !== undefined) {\n                this.parserWorksheets(json.worksheets);\n            }\n            else {\n                throw Error('Worksheet is expected.');\n            }\n            // Parses the BuiltInProperties data to DOM.        \n            if (json.builtInProperties !== null && json.builtInProperties !== undefined) {\n                this.builtInProperties = new BuiltInProperties();\n                this.parserBuiltInProperties(json.builtInProperties, this.builtInProperties);\n            }\n        }\n        else {\n            this.csvHelper = new CsvHelper(json, separator);\n        }\n    }\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserBuiltInProperties = function (jsonBuiltInProperties, builtInProperties) {\n        //Author\n        if (jsonBuiltInProperties.author !== null && jsonBuiltInProperties.author !== undefined) {\n            builtInProperties.author = jsonBuiltInProperties.author;\n        }\n        //Comments\n        if (jsonBuiltInProperties.comments !== null && jsonBuiltInProperties.comments !== undefined) {\n            builtInProperties.comments = jsonBuiltInProperties.comments;\n        }\n        //Category\n        if (jsonBuiltInProperties.category !== null && jsonBuiltInProperties.category !== undefined) {\n            builtInProperties.category = jsonBuiltInProperties.category;\n        }\n        //Company\n        if (jsonBuiltInProperties.company !== null && jsonBuiltInProperties.company !== undefined) {\n            builtInProperties.company = jsonBuiltInProperties.company;\n        }\n        //Manager\n        if (jsonBuiltInProperties.manager !== null && jsonBuiltInProperties.manager !== undefined) {\n            builtInProperties.manager = jsonBuiltInProperties.manager;\n        }\n        //Subject\n        if (jsonBuiltInProperties.subject !== null && jsonBuiltInProperties.subject !== undefined) {\n            builtInProperties.subject = jsonBuiltInProperties.subject;\n        }\n        //Title\n        if (jsonBuiltInProperties.title !== null && jsonBuiltInProperties.title !== undefined) {\n            builtInProperties.title = jsonBuiltInProperties.title;\n        }\n        //Creation date\n        if (jsonBuiltInProperties.createdDate !== null && jsonBuiltInProperties.createdDate !== undefined) {\n            builtInProperties.createdDate = jsonBuiltInProperties.createdDate;\n        }\n        //Modified date\n        if (jsonBuiltInProperties.modifiedDate !== null && jsonBuiltInProperties.modifiedDate !== undefined) {\n            builtInProperties.modifiedDate = jsonBuiltInProperties.modifiedDate;\n        }\n        //Tags\n        if (jsonBuiltInProperties.tags !== null && jsonBuiltInProperties.tags !== undefined) {\n            builtInProperties.tags = jsonBuiltInProperties.tags;\n        }\n        //Status\n        if (jsonBuiltInProperties.status !== null && jsonBuiltInProperties.status !== undefined) {\n            builtInProperties.status = jsonBuiltInProperties.status;\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserWorksheets = function (json) {\n        this.worksheets = new Worksheets();\n        var length = json.length;\n        for (var i = 0; i < length; i++) {\n            var jsonSheet = json[i];\n            var sheet = new Worksheet();\n            this.mergeCells = new MergeCells();\n            this.mergedCellsStyle = new Map();\n            this.mHyperLinks = [];\n            //Name\n            if (jsonSheet.name !== null && jsonSheet.name !== undefined) {\n                sheet.name = jsonSheet.name;\n            }\n            else {\n                sheet.name = 'Sheet' + (i + 1).toString();\n            }\n            if (jsonSheet.enableRtl !== null && jsonSheet.enableRtl !== undefined) {\n                sheet.enableRtl = jsonSheet.enableRtl;\n            }\n            sheet.index = (i + 1);\n            //Columns\n            if (jsonSheet.columns !== null && jsonSheet.columns !== undefined) {\n                this.parserColumns(jsonSheet.columns, sheet);\n            }\n            //Rows\n            if (jsonSheet.rows !== null && jsonSheet.rows !== undefined) {\n                this.parserRows(jsonSheet.rows, sheet);\n            }\n            //showGridLines\n            if (jsonSheet.showGridLines !== null && jsonSheet.showGridLines !== undefined) {\n                sheet.showGridLines = jsonSheet.showGridLines;\n            }\n            //FreezePanes\n            if (jsonSheet.freeze !== null && jsonSheet.freeze !== undefined) {\n                this.parserFreezePanes(jsonSheet.freeze, sheet);\n            }\n            //Print Title\n            if (jsonSheet.printTitle !== null && jsonSheet.printTitle !== undefined) {\n                this.parserPrintTitle(jsonSheet.printTitle, sheet);\n            }\n            if (jsonSheet.pageSetup !== undefined) {\n                if (jsonSheet.pageSetup.isSummaryRowBelow !== undefined) {\n                    sheet.isSummaryRowBelow = jsonSheet.pageSetup.isSummaryRowBelow;\n                }\n            }\n            if (jsonSheet.images !== undefined) {\n                this.parserImages(jsonSheet.images, sheet);\n            }\n            if (jsonSheet.autoFilters !== null && jsonSheet.autoFilters !== undefined) {\n                this.parseFilters(jsonSheet.autoFilters, sheet);\n            }\n            sheet.index = (i + 1);\n            sheet.mergeCells = this.mergeCells;\n            sheet.hyperLinks = this.mHyperLinks;\n            this.worksheets.push(sheet);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.mergeOptions = function (fromJson, toJson) {\n        /* tslint:disable:no-any */\n        var result = {};\n        this.applyProperties(fromJson, result);\n        this.applyProperties(toJson, result);\n        return result;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.applyProperties = function (sourceJson, destJson) {\n        var keys = Object.keys(sourceJson);\n        for (var index = 0; index < keys.length; index++) {\n            if (keys[index] !== 'name') {\n                destJson[keys[index]] = sourceJson[keys[index]];\n            }\n        }\n    };\n    Workbook.prototype.getCellName = function (row, column) {\n        return this.getColumnName(column) + row.toString();\n    };\n    Workbook.prototype.getColumnName = function (col) {\n        col--;\n        var strColumnName = '';\n        do {\n            var iCurrentDigit = col % 26;\n            col = col / 26 - 1;\n            strColumnName = String.fromCharCode(65 + iCurrentDigit) + strColumnName;\n        } while (col >= 0);\n        return strColumnName;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserPrintTitle = function (json, sheet) {\n        var printTitleName = '';\n        var titleRowName;\n        if (json.fromRow !== null && json.fromRow !== undefined) {\n            var fromRow = json.fromRow;\n            var toRow = void 0;\n            if (json.toRow !== null && json.toRow !== undefined) {\n                toRow = json.toRow;\n            }\n            else {\n                toRow = json.fromRow;\n            }\n            titleRowName = '$' + fromRow + ':$' + toRow;\n        }\n        var titleColName;\n        if (json.fromColumn !== null && json.fromColumn !== undefined) {\n            var fromColumn = json.fromColumn;\n            var toColumn = void 0;\n            if (json.toColumn !== null && json.toColumn !== undefined) {\n                toColumn = json.toColumn;\n            }\n            else {\n                toColumn = json.fromColumn;\n            }\n            titleColName = '$' + this.getColumnName(fromColumn) + ':$' + this.getColumnName(toColumn);\n        }\n        if (titleRowName !== undefined) {\n            printTitleName += (sheet.name + '!' + titleRowName);\n        }\n        if (titleColName !== undefined && titleRowName !== undefined) {\n            printTitleName += ',' + (sheet.name + '!' + titleColName);\n        }\n        else if (titleColName !== undefined) {\n            printTitleName += (sheet.name + '!' + titleColName);\n        }\n        if (printTitleName !== '') {\n            this.printTitles.set(sheet.index - 1, printTitleName);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserFreezePanes = function (json, sheet) {\n        sheet.freezePanes = new FreezePane();\n        if (json.row !== null && json.row !== undefined) {\n            sheet.freezePanes.row = json.row;\n        }\n        else {\n            sheet.freezePanes.row = 0;\n        }\n        if (json.column !== null && json.column !== undefined) {\n            sheet.freezePanes.column = json.column;\n        }\n        else {\n            sheet.freezePanes.column = 0;\n        }\n        sheet.freezePanes.leftCell = this.getCellName(sheet.freezePanes.row + 1, sheet.freezePanes.column + 1);\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserColumns = function (json, sheet) {\n        var columnsLength = json.length;\n        sheet.columns = [];\n        for (var column = 0; column < columnsLength; column++) {\n            var col = new Column();\n            if (json[column].index !== null && json[column].index !== undefined) {\n                col.index = json[column].index;\n            }\n            else {\n                throw Error('Column index is missing.');\n            }\n            if (json[column].width !== null && json[column].width !== undefined) {\n                col.width = json[column].width;\n            }\n            sheet.columns.push(col);\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserRows = function (json, sheet) {\n        var rowsLength = json.length;\n        sheet.rows = new Rows();\n        var rowId = 0;\n        for (var r = 0; r < rowsLength; r++) {\n            var row = this.parserRow(json[r], rowId);\n            rowId = row.index;\n            sheet.rows.add(row);\n        }\n        this.insertMergedCellsStyle(sheet);\n    };\n    Workbook.prototype.insertMergedCellsStyle = function (sheet) {\n        var _this = this;\n        if (this.mergeCells.length > 0) {\n            this.mergedCellsStyle.forEach(function (value, key) {\n                var row = sheet.rows.filter(function (item) {\n                    return item.index === value.y;\n                })[0];\n                if (!isNullOrUndefined(row)) {\n                    var cell = row.cells.filter(function (item) {\n                        return item.index === value.x;\n                    })[0];\n                    if (!isNullOrUndefined(cell)) {\n                        cell.styleIndex = value.styleIndex;\n                    }\n                    else {\n                        var cells = row.cells.filter(function (item) {\n                            return item.index <= value.x;\n                        });\n                        var insertIndex = 0;\n                        if (cells.length > 0) {\n                            insertIndex = row.cells.indexOf(cells[cells.length - 1]) + 1;\n                        }\n                        row.cells.splice(insertIndex, 0, _this.createCell(value, key));\n                    }\n                }\n                else {\n                    var rows = sheet.rows.filter(function (item) {\n                        return item.index <= value.y;\n                    });\n                    var rowToInsert = new Row();\n                    rowToInsert.index = value.y;\n                    rowToInsert.cells = new Cells();\n                    rowToInsert.cells.add(_this.createCell(value, key));\n                    var insertIndex = 0;\n                    if (rows.length > 0) {\n                        insertIndex = sheet.rows.indexOf(rows[rows.length - 1]) + 1;\n                    }\n                    sheet.rows.splice(insertIndex, 0, rowToInsert);\n                }\n            });\n        }\n    };\n    Workbook.prototype.createCell = function (value, key) {\n        var cellToInsert = new Cell();\n        cellToInsert.refName = key;\n        cellToInsert.index = value.x;\n        cellToInsert.cellStyle = new CellStyle();\n        cellToInsert.styleIndex = value.styleIndex;\n        return cellToInsert;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserRow = function (json, rowIndex) {\n        var row = new Row();\n        //Row Height\n        if (json.height !== null && json.height !== undefined) {\n            row.height = json.height;\n        }\n        //Row index\n        if (json.index !== null && json.index !== undefined) {\n            row.index = json.index;\n        }\n        else {\n            throw Error('Row index is missing.');\n        }\n        if (json.grouping !== null && json.grouping !== undefined) {\n            this.parseGrouping(json.grouping, row);\n        }\n        this.parseCells(json.cells, row);\n        return row;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parseGrouping = function (json, row) {\n        row.grouping = new Grouping();\n        if (json.outlineLevel !== undefined) {\n            row.grouping.outlineLevel = json.outlineLevel;\n        }\n        if (json.isCollapsed !== undefined) {\n            row.grouping.isCollapsed = json.isCollapsed;\n        }\n        if (json.isHidden !== undefined) {\n            row.grouping.isHidden = json.isHidden;\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parseCells = function (json, row) {\n        row.cells = new Cells();\n        var cellsLength = json !== undefined ? json.length : 0;\n        var spanMin = 1;\n        var spanMax = 1;\n        var curCellIndex = 0;\n        for (var cellId = 0; cellId < cellsLength; cellId++) {\n            /* tslint:disable:no-any */\n            var jsonCell = json[cellId];\n            var cell = new Cell();\n            //cell index\n            if (jsonCell.index !== null && jsonCell.index !== undefined) {\n                cell.index = jsonCell.index;\n            }\n            else {\n                throw Error('Cell index is missing.');\n            }\n            if (cell.index < spanMin) {\n                spanMin = cell.index;\n            }\n            else if (cell.index > spanMax) {\n                spanMax = cell.index;\n            }\n            //Update the Cell name\n            cell.refName = this.getCellName(row.index, cell.index);\n            //Row span\n            if (jsonCell.rowSpan !== null && jsonCell.rowSpan !== undefined) {\n                cell.rowSpan = jsonCell.rowSpan - 1;\n            }\n            else {\n                cell.rowSpan = 0;\n            }\n            //Column span\n            if (jsonCell.colSpan !== null && jsonCell.colSpan !== undefined) {\n                cell.colSpan = jsonCell.colSpan - 1;\n            }\n            else {\n                cell.colSpan = 0;\n            }\n            //Hyperlink\n            if (jsonCell.hyperlink !== null && jsonCell.hyperlink !== undefined) {\n                var hyperLink = new HyperLink();\n                if (jsonCell.hyperlink.target !== undefined) {\n                    hyperLink.target = jsonCell.hyperlink.target;\n                    if (jsonCell.hyperlink.displayText !== undefined) {\n                        cell.value = jsonCell.hyperlink.displayText;\n                    }\n                    else {\n                        cell.value = jsonCell.hyperlink.target;\n                    }\n                    cell.type = this.getCellValueType(cell.value);\n                    hyperLink.ref = cell.refName;\n                    hyperLink.rId = (this.mHyperLinks.length + 1);\n                    this.mHyperLinks.push(hyperLink);\n                    cell.cellStyle = new CellStyle();\n                    /* tslint:disable-next-line:max-line-length */\n                    this.parserCellStyle((jsonCell.style !== undefined ? this.mergeOptions(jsonCell.style, this.hyperlinkStyle) : this.hyperlinkStyle), cell.cellStyle, 'string');\n                    cell.styleIndex = cell.cellStyle.index;\n                }\n            }\n            // formulas\n            if (jsonCell.formula !== null && jsonCell.formula !== undefined) {\n                cell.formula = jsonCell.formula;\n                cell.type = 'formula';\n            }\n            //Cell value\n            if (jsonCell.value !== null && jsonCell.value !== undefined) {\n                if (cell.formula !== undefined) {\n                    cell.value = 0;\n                }\n                else {\n                    cell.value = jsonCell.value;\n                    cell.type = this.getCellValueType(cell.value);\n                }\n            }\n            if (jsonCell.style !== null && jsonCell.style !== undefined && cell.styleIndex === undefined) {\n                cell.cellStyle = new CellStyle();\n                if (cell.value instanceof Date) {\n                    this.parserCellStyle(jsonCell.style, cell.cellStyle, cell.type, 14);\n                }\n                else {\n                    this.parserCellStyle(jsonCell.style, cell.cellStyle, cell.type);\n                }\n                cell.styleIndex = cell.cellStyle.index;\n            }\n            else if (cell.value instanceof Date) {\n                cell.cellStyle = new CellStyle();\n                this.parserCellStyle({}, cell.cellStyle, cell.type, 14);\n                cell.styleIndex = cell.cellStyle.index;\n            }\n            this.parseCellType(cell);\n            this.mergeCells = this.processMergeCells(cell, row.index, this.mergeCells);\n            row.cells.add(cell);\n            curCellIndex = (cell.index + 1);\n        }\n        row.spans = (spanMin) + ':' + (spanMax);\n    };\n    Workbook.prototype.GetColors = function () {\n        var colors;\n        colors = new Map();\n        /* tslint:disable */\n        colors.set('WHITE', 'FFFFFFFF');\n        /* tslint:disable */\n        colors.set('SILVER', 'FFC0C0C0');\n        /* tslint:disable */\n        colors.set('GRAY', 'FF808080');\n        /* tslint:disable */\n        colors.set('BLACK', 'FF000000');\n        /* tslint:disable */\n        colors.set('RED', 'FFFF0000');\n        /* tslint:disable */\n        colors.set('MAROON', 'FF800000');\n        /* tslint:disable */\n        colors.set('YELLOW', 'FFFFFF00');\n        /* tslint:disable */\n        colors.set('OLIVE', 'FF808000');\n        /* tslint:disable */\n        colors.set('LIME', 'FF00FF00');\n        /* tslint:disable */\n        colors.set('GREEN', 'FF008000');\n        /* tslint:disable */\n        colors.set('AQUA', 'FF00FFFF');\n        /* tslint:disable */\n        colors.set('TEAL', 'FF008080');\n        /* tslint:disable */\n        colors.set('BLUE', 'FF0000FF');\n        /* tslint:disable */\n        colors.set('NAVY', 'FF000080');\n        /* tslint:disable */\n        colors.set('FUCHSIA', 'FFFF00FF');\n        /* tslint:disable */\n        colors.set('PURPLE', 'FF800080');\n        return colors;\n    };\n    Workbook.prototype.processColor = function (colorVal) {\n        if (colorVal.indexOf('#') === 0) {\n            return colorVal.replace('#', 'FF');\n        }\n        colorVal = colorVal.toUpperCase();\n        this.rgbColors = this.GetColors();\n        if (this.rgbColors.has(colorVal)) {\n            colorVal = this.rgbColors.get(colorVal);\n        }\n        else {\n            colorVal = 'FF000000';\n        }\n        return colorVal;\n    };\n    Workbook.prototype.processCellValue = function (value, cell) {\n        var cellValue = value;\n        if (value.indexOf(\"<font\") !== -1 || value.indexOf(\"<a\") !== -1 || value.indexOf(\"<b>\") !== -1 ||\n            value.indexOf(\"<i>\") !== -1 || value.indexOf(\"<u>\") !== -1) {\n            var processedVal = '';\n            var startindex = value.indexOf('<', 0);\n            var endIndex = value.indexOf('>', startindex + 1);\n            if (startindex >= 0 && endIndex >= 0) {\n                if (startindex !== 0) {\n                    processedVal += '<r><t xml:space=\"preserve\">' + this.processString(value.substring(0, startindex)) + '</t></r>';\n                }\n                while (startindex >= 0 && endIndex >= 0) {\n                    endIndex = value.indexOf('>', startindex + 1);\n                    if (endIndex >= 0) {\n                        var subString = value.substring(startindex + 1, endIndex);\n                        startindex = value.indexOf('<', endIndex + 1);\n                        if (startindex < 0) {\n                            startindex = cellValue.length;\n                        }\n                        var text = cellValue.substring(endIndex + 1, startindex);\n                        if (text.length !== 0) {\n                            var subSplit = subString.split(' ');\n                            if (subSplit.length > 0) {\n                                processedVal += '<r><rPr>';\n                            }\n                            if (subSplit.length > 1) {\n                                for (var _i = 0, subSplit_1 = subSplit; _i < subSplit_1.length; _i++) {\n                                    var element = subSplit_1[_i];\n                                    var start = element.trim().substring(0, 5);\n                                    switch (start) {\n                                        case 'size=':\n                                            processedVal += '<sz val=\"' + element.substring(6, element.length - 1) + '\"/>';\n                                            break;\n                                        case 'face=':\n                                            processedVal += '<rFont val=\"' + element.substring(6, element.length - 1) + '\"/>';\n                                            break;\n                                        case 'color':\n                                            processedVal += '<color rgb=\"' + this.processColor(element.substring(7, element.length - 1)) + '\"/>';\n                                            break;\n                                        case 'href=':\n                                            var hyperLink = new HyperLink();\n                                            hyperLink.target = element.substring(6, element.length - 1).trim();\n                                            hyperLink.ref = cell.refName;\n                                            hyperLink.rId = (this.mHyperLinks.length + 1);\n                                            this.mHyperLinks.push(hyperLink);\n                                            processedVal += '<color rgb=\"FF0000FF\"/><u/><b/>';\n                                            break;\n                                    }\n                                }\n                            }\n                            else if (subSplit.length === 1) {\n                                var style = subSplit[0].trim();\n                                switch (style) {\n                                    case 'b':\n                                        processedVal += '<b/>';\n                                        break;\n                                    case 'i':\n                                        processedVal += '<i/>';\n                                        break;\n                                    case 'u':\n                                        processedVal += '<u/>';\n                                        break;\n                                }\n                            }\n                            processedVal += '</rPr><t xml:space=\"preserve\">' + this.processString(text) + '</t></r>';\n                        }\n                    }\n                }\n                if (processedVal === '') {\n                    return cellValue;\n                }\n                return processedVal;\n            }\n            else {\n                return cellValue;\n            }\n        }\n        else {\n            return cellValue;\n        }\n    };\n    Workbook.prototype.applyGlobalStyle = function (json, cellStyle) {\n        var index = 0;\n        if (this.cellStyles.has(json.name)) {\n            cellStyle.index = this.mStyles.filter(function (a) { return (a.name === json.name); })[0].index;\n            cellStyle.name = json.name;\n        }\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserCellStyle = function (json, cellStyle, cellType, defStyleIndex) {\n        //name\n        if (json.name !== null && json.name !== undefined) {\n            if (cellStyle.isGlobalStyle) {\n                cellStyle.name = json.name;\n            }\n            else {\n                this.applyGlobalStyle(json, cellStyle);\n                return;\n            }\n        }\n        //background color\n        if (json.backColor !== null && json.backColor !== undefined) {\n            cellStyle.backColor = json.backColor;\n        }\n        //borders\n        //leftBorder\n        cellStyle.borders = new Borders();\n        //AllBorder\n        if (json.borders !== null && json.borders !== undefined) {\n            this.parserBorder(json.borders, cellStyle.borders.all);\n        }\n        //leftborder\n        if (json.leftBorder !== null && json.leftBorder !== undefined) {\n            this.parserBorder(json.leftBorder, cellStyle.borders.left);\n        }\n        //rightBorder\n        if (json.rightBorder !== null && json.rightBorder !== undefined) {\n            this.parserBorder(json.rightBorder, cellStyle.borders.right);\n        }\n        //topBorder\n        if (json.topBorder !== null && json.topBorder !== undefined) {\n            this.parserBorder(json.topBorder, cellStyle.borders.top);\n        }\n        //bottomBorder\n        if (json.bottomBorder !== null && json.bottomBorder !== undefined) {\n            this.parserBorder(json.bottomBorder, cellStyle.borders.bottom);\n        }\n        //fontName\n        if (json.fontName !== null && json.fontName !== undefined) {\n            cellStyle.fontName = json.fontName;\n        }\n        //fontSize\n        if (json.fontSize !== null && json.fontSize !== undefined) {\n            cellStyle.fontSize = json.fontSize;\n        }\n        //fontColor\n        if (json.fontColor !== null && json.fontColor !== undefined) {\n            cellStyle.fontColor = json.fontColor;\n        }\n        //italic\n        if (json.italic !== null && json.italic !== undefined) {\n            cellStyle.italic = json.italic;\n        }\n        //bold\n        if (json.bold !== null && json.bold !== undefined) {\n            cellStyle.bold = json.bold;\n        }\n        //hAlign\n        if (json.hAlign !== null && json.hAlign !== undefined) {\n            cellStyle.hAlign = json.hAlign.toLowerCase();\n        }\n        //indent\n        if (json.indent !== null && json.indent !== undefined) {\n            cellStyle.indent = json.indent;\n            if (!(cellStyle.hAlign === 'left' || cellStyle.hAlign === 'right')) {\n                cellStyle.hAlign = 'left';\n            }\n        }\n        if (json.rotation !== null && json.rotation !== undefined) {\n            cellStyle.rotation = json.rotation;\n        }\n        //vAlign\n        if (json.vAlign !== null && json.vAlign !== undefined) {\n            cellStyle.vAlign = json.vAlign.toLowerCase();\n        }\n        //underline\n        if (json.underline !== null && json.underline !== undefined) {\n            cellStyle.underline = json.underline;\n        }\n        //strikeThrough\n        if (json.strikeThrough !== null && json.strikeThrough !== undefined) {\n            cellStyle.strikeThrough = json.strikeThrough;\n        }\n        //wrapText\n        if (json.wrapText !== null && json.wrapText !== undefined) {\n            cellStyle.wrapText = json.wrapText;\n        }\n        //numberFormat\n        if (json.numberFormat !== null && json.numberFormat !== undefined) {\n            if (json.type !== null && json.type !== undefined) {\n                cellStyle.numberFormat = this.getNumberFormat(json.numberFormat, json.type);\n            }\n            else {\n                cellStyle.numberFormat = this.getNumberFormat(json.numberFormat, cellType);\n            }\n        }\n        else if (defStyleIndex !== undefined) {\n            cellStyle.numFmtId = 14;\n            cellStyle.numberFormat = 'GENERAL';\n        }\n        else {\n            cellStyle.numberFormat = 'GENERAL';\n        }\n        cellStyle.index = this.processCellStyle(cellStyle);\n    };\n    Workbook.prototype.switchNumberFormat = function (numberFormat, type) {\n        var format = this.getNumberFormat(numberFormat, type);\n        if (format !== numberFormat) {\n            var numFmt = this.mNumFmt.get(numberFormat);\n            if (numFmt !== undefined) {\n                numFmt.formatCode = format;\n                if (this.mNumFmt.has(format)) {\n                    for (var _i = 0, _a = this.mCellStyleXfs; _i < _a.length; _i++) {\n                        var cellStyleXfs = _a[_i];\n                        if (cellStyleXfs.numFmtId === numFmt.numFmtId) {\n                            cellStyleXfs.numFmtId = this.mNumFmt.get(format).numFmtId;\n                        }\n                    }\n                    for (var _b = 0, _c = this.mCellXfs; _b < _c.length; _b++) {\n                        var cellXfs = _c[_b];\n                        if (cellXfs.numFmtId === numFmt.numFmtId) {\n                            cellXfs.numFmtId = this.mNumFmt.get(format).numFmtId;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    Workbook.prototype.getNumberFormat = function (numberFormat, type) {\n        var returnFormat;\n        switch (type) {\n            case 'number':\n                try {\n                    returnFormat = this.intl.getNumberPattern({ format: numberFormat, currency: this.currency, useGrouping: true }, true);\n                }\n                catch (error) {\n                    returnFormat = numberFormat;\n                }\n                break;\n            case 'datetime':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'dateTime' }, true);\n                }\n                catch (error) {\n                    try {\n                        returnFormat = this.intl.getDatePattern({ format: numberFormat, type: 'dateTime' }, true);\n                    }\n                    catch (error) {\n                        returnFormat = numberFormat;\n                    }\n                }\n                break;\n            case 'date':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'date' }, true);\n                }\n                catch (error) {\n                    try {\n                        returnFormat = this.intl.getDatePattern({ format: numberFormat, type: 'date' }, true);\n                    }\n                    catch (error) {\n                        returnFormat = numberFormat;\n                    }\n                }\n                break;\n            case 'time':\n                try {\n                    returnFormat = this.intl.getDatePattern({ skeleton: numberFormat, type: 'time' }, true);\n                }\n                catch (error) {\n                    try {\n                        returnFormat = this.intl.getDatePattern({ format: numberFormat, type: 'time' }, true);\n                    }\n                    catch (error) {\n                        returnFormat = numberFormat;\n                    }\n                }\n                break;\n            default:\n                returnFormat = numberFormat;\n                break;\n        }\n        return returnFormat;\n    };\n    /* tslint:disable:no-any */\n    Workbook.prototype.parserBorder = function (json, border) {\n        if (json.color !== null && json.color !== undefined) {\n            border.color = json.color;\n        }\n        else {\n            border.color = '#000000';\n        }\n        if (json.lineStyle !== null && json.lineStyle !== undefined) {\n            border.lineStyle = json.lineStyle;\n        }\n        else {\n            border.lineStyle = 'thin';\n        }\n    };\n    Workbook.prototype.processCellStyle = function (style) {\n        if (style.isGlobalStyle) {\n            this.processNumFormatId(style);\n            this.mStyles.push(style);\n            return this.mStyles.length;\n        }\n        else {\n            var compareResult = this.compareStyle(style);\n            if (!compareResult.result) {\n                this.processNumFormatId(style);\n                this.mStyles.push(style);\n                return this.mStyles.length;\n            }\n            else {\n                //Return the index of the already existing style.\n                return compareResult.index;\n            }\n        }\n    };\n    Workbook.prototype.processNumFormatId = function (style) {\n        if (style.numberFormat !== 'GENERAL' && !this.mNumFmt.has(style.numberFormat)) {\n            var id = this.mNumFmt.size + 164;\n            this.mNumFmt.set(style.numberFormat, new NumFmt(id, style.numberFormat));\n        }\n    };\n    Workbook.prototype.isNewFont = function (toCompareStyle) {\n        var result = false;\n        var index = 0;\n        for (var _i = 0, _a = this.mFonts; _i < _a.length; _i++) {\n            var font = _a[_i];\n            index++;\n            var fontColor = undefined;\n            if (toCompareStyle.fontColor !== undefined) {\n                fontColor = ('FF' + toCompareStyle.fontColor.replace('#', ''));\n            }\n            result = font.color === fontColor &&\n                font.b === toCompareStyle.bold &&\n                font.i === toCompareStyle.italic &&\n                font.u === toCompareStyle.underline &&\n                font.strike === toCompareStyle.strikeThrough &&\n                font.name === toCompareStyle.fontName &&\n                font.sz === toCompareStyle.fontSize;\n            if (result) {\n                break;\n            }\n        }\n        index = index - 1;\n        return { index: index, result: result };\n    };\n    Workbook.prototype.isNewBorder = function (toCompareStyle) {\n        var bStyle = new CellStyle();\n        if (this.isAllBorder(toCompareStyle.borders)) {\n            return (bStyle.borders.all.color === toCompareStyle.borders.all.color &&\n                bStyle.borders.all.lineStyle === toCompareStyle.borders.all.lineStyle);\n        }\n        else {\n            return (bStyle.borders.left.color === toCompareStyle.borders.left.color &&\n                bStyle.borders.left.lineStyle === toCompareStyle.borders.left.lineStyle &&\n                bStyle.borders.right.color === toCompareStyle.borders.right.color &&\n                bStyle.borders.right.lineStyle === toCompareStyle.borders.right.lineStyle &&\n                bStyle.borders.top.color === toCompareStyle.borders.top.color &&\n                bStyle.borders.top.lineStyle === toCompareStyle.borders.top.lineStyle &&\n                bStyle.borders.bottom.color === toCompareStyle.borders.bottom.color &&\n                bStyle.borders.bottom.lineStyle === toCompareStyle.borders.bottom.lineStyle);\n        }\n    };\n    Workbook.prototype.isAllBorder = function (toCompareBorder) {\n        var allBorderStyle = new CellStyle();\n        return allBorderStyle.borders.all.color !== toCompareBorder.all.color &&\n            allBorderStyle.borders.all.lineStyle !== toCompareBorder.all.lineStyle;\n    };\n    Workbook.prototype.compareStyle = function (toCompareStyle) {\n        var result = true;\n        var index = 0;\n        var globalStyleIndex = 0;\n        for (var _i = 0, _a = this.mStyles; _i < _a.length; _i++) {\n            var baseStyle = _a[_i];\n            result = baseStyle.isGlobalStyle ? false : (baseStyle.backColor === toCompareStyle.backColor &&\n                baseStyle.bold === toCompareStyle.bold &&\n                baseStyle.numFmtId === toCompareStyle.numFmtId &&\n                baseStyle.numberFormat === toCompareStyle.numberFormat &&\n                baseStyle.type === toCompareStyle.type &&\n                baseStyle.fontColor === toCompareStyle.fontColor &&\n                baseStyle.fontName === toCompareStyle.fontName &&\n                baseStyle.fontSize === toCompareStyle.fontSize &&\n                baseStyle.hAlign === toCompareStyle.hAlign &&\n                baseStyle.italic === toCompareStyle.italic &&\n                baseStyle.underline === toCompareStyle.underline &&\n                baseStyle.strikeThrough === toCompareStyle.strikeThrough &&\n                baseStyle.vAlign === toCompareStyle.vAlign &&\n                baseStyle.indent === toCompareStyle.indent &&\n                baseStyle.rotation === toCompareStyle.rotation &&\n                baseStyle.wrapText === toCompareStyle.wrapText &&\n                (baseStyle.borders.all.color === toCompareStyle.borders.all.color &&\n                    baseStyle.borders.all.lineStyle === toCompareStyle.borders.all.lineStyle) &&\n                (baseStyle.borders.left.color === toCompareStyle.borders.left.color &&\n                    baseStyle.borders.left.lineStyle === toCompareStyle.borders.left.lineStyle &&\n                    baseStyle.borders.right.color === toCompareStyle.borders.right.color &&\n                    baseStyle.borders.right.lineStyle === toCompareStyle.borders.right.lineStyle &&\n                    baseStyle.borders.top.color === toCompareStyle.borders.top.color &&\n                    baseStyle.borders.top.lineStyle === toCompareStyle.borders.top.lineStyle &&\n                    baseStyle.borders.bottom.color === toCompareStyle.borders.bottom.color &&\n                    baseStyle.borders.bottom.lineStyle === toCompareStyle.borders.bottom.lineStyle));\n            if (result) {\n                index = baseStyle.index;\n                break;\n            }\n        }\n        return { index: index, result: result };\n    };\n    Workbook.prototype.contains = function (array, item) {\n        var index = array.indexOf(item);\n        return index > -1 && index < array.length;\n    };\n    Workbook.prototype.getCellValueType = function (value) {\n        if (value instanceof Date) {\n            return 'datetime';\n        }\n        else if (typeof (value) === 'boolean') {\n            return 'boolean';\n        }\n        else if (typeof (value) === 'number') {\n            return 'number';\n        }\n        else {\n            return 'string';\n        }\n    };\n    Workbook.prototype.parseCellType = function (cell) {\n        var type = cell.type;\n        var saveType;\n        var value = cell.value;\n        switch (type) {\n            case 'datetime':\n                value = this.toOADate(value);\n                if (cell.cellStyle !== undefined && cell.cellStyle.name !== undefined) {\n                    if (this.globalStyles.has(cell.cellStyle.name)) {\n                        var value_1 = this.globalStyles.get(cell.cellStyle.name);\n                        this.switchNumberFormat(value_1.format, value_1.type);\n                    }\n                }\n                saveType = 'n';\n                break;\n            //TODO: Update the number format index and style\n            case 'boolean':\n                value = value ? 1 : 0;\n                saveType = 'b';\n                break;\n            case 'number':\n                saveType = 'n';\n                if (cell.cellStyle !== undefined && cell.cellStyle.name !== undefined) {\n                    if (this.globalStyles.has(cell.cellStyle.name)) {\n                        this.switchNumberFormat(this.globalStyles.get(cell.cellStyle.name).format, 'number');\n                    }\n                }\n                break;\n            case 'string':\n                this.sharedStringCount++;\n                saveType = 's';\n                var sstvalue = this.processCellValue(value, cell);\n                if (!this.contains(this.sharedString, sstvalue)) {\n                    this.sharedString.push(sstvalue);\n                }\n                value = this.sharedString.indexOf(sstvalue);\n                break;\n            default:\n                break;\n        }\n        cell.saveType = saveType;\n        cell.value = value;\n    };\n    Workbook.prototype.parserImages = function (json, sheet) {\n        var imagesLength = json.length;\n        sheet.images = [];\n        var imageId = 0;\n        for (var p = 0; p < imagesLength; p++) {\n            var image = this.parserImage(json[p]);\n            sheet.images.push(image);\n        }\n    };\n    Workbook.prototype.parseFilters = function (json, sheet) {\n        sheet.autoFilters = new AutoFilters();\n        if (json.row !== null && json.row !== undefined)\n            sheet.autoFilters.row = json.row;\n        else\n            throw new Error('Argument Null Exception: row null or empty');\n        if (json.lastRow !== null && json.lastRow !== undefined)\n            sheet.autoFilters.lastRow = json.lastRow;\n        else\n            throw new Error('Argument Null Exception: lastRow cannot be null or empty');\n        if (json.column !== null && json.column !== undefined)\n            sheet.autoFilters.column = json.column;\n        else\n            throw new Error('Argument Null Exception: column cannot be null or empty');\n        if (json.lastColumn !== null && json.row !== undefined)\n            sheet.autoFilters.lastColumn = json.lastColumn;\n        else\n            throw new Error('Argument Null Exception: lastColumn cannot be null or empty');\n    };\n    Workbook.prototype.parserImage = function (json) {\n        var image = new Image();\n        if (json.image !== null && json.image !== undefined) {\n            image.image = json.image;\n        }\n        if (json.row !== null && json.row !== undefined) {\n            image.row = json.row;\n        }\n        if (json.column !== null && json.column !== undefined) {\n            image.column = json.column;\n        }\n        if (json.lastRow !== null && json.lastRow !== undefined) {\n            image.lastRow = json.lastRow;\n        }\n        if (json.lastColumn !== null && json.lastColumn !== undefined) {\n            image.lastColumn = json.lastColumn;\n        }\n        if (json.width !== null && json.width !== undefined) {\n            image.width = json.width;\n        }\n        if (json.height !== null && json.height !== undefined) {\n            image.height = json.height;\n        }\n        if (json.horizontalFlip !== null && json.horizontalFlip !== undefined) {\n            image.horizontalFlip = json.horizontalFlip;\n        }\n        if (json.verticalFlip !== null && json.verticalFlip !== undefined) {\n            image.verticalFlip = json.verticalFlip;\n        }\n        if (json.rotation !== null && json.rotation !== undefined) {\n            image.rotation = json.rotation;\n        }\n        return image;\n    };\n    Workbook.prototype.saveAsBlob = function (blobSaveType) {\n        var _this = this;\n        switch (blobSaveType) {\n            case 'text/csv':\n                return new Promise(function (resolve, reject) {\n                    var obj = {};\n                    obj.blobData = _this.csvHelper.saveAsBlob();\n                    resolve(obj);\n                });\n            default:\n                return new Promise(function (resolve, reject) {\n                    _this.saveInternal();\n                    _this.mArchive.saveAsBlob().then(function (blob) {\n                        var obj = {};\n                        obj.blobData = new Blob([blob], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n                        resolve(obj);\n                    });\n                });\n        }\n    };\n    Workbook.prototype.save = function (fileName, proxyUrl) {\n        var _this = this;\n        if (fileName === null || fileName === undefined || fileName === '') {\n            throw new Error('Argument Null Exception: fileName cannot be null or empty');\n        }\n        var xlsxMatch = fileName.match('.xlsx$');\n        var csvMatch = fileName.match('.csv$');\n        if (xlsxMatch !== null && xlsxMatch[0] === ('.' + this.mSaveType)) {\n            this.saveInternal();\n            this.mArchive.save(fileName).then(function () {\n                _this.mArchive.destroy();\n            });\n        }\n        else if (csvMatch !== null && csvMatch[0] === ('.' + this.mSaveType)) {\n            this.csvHelper.save(fileName);\n        }\n        else {\n            throw Error('Save type and file extension is different.');\n        }\n    };\n    Workbook.prototype.saveInternal = function () {\n        this.saveWorkbook();\n        this.saveWorksheets();\n        this.saveSharedString();\n        this.saveStyles();\n        this.saveApp(this.builtInProperties);\n        this.saveCore(this.builtInProperties);\n        this.saveContentType();\n        this.saveTopLevelRelation();\n        this.saveWorkbookRelation();\n    };\n    Workbook.prototype.saveWorkbook = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var workbookTemp = '<?xml version=\"1.0\" encoding=\"utf-8\"?><workbook xmlns:r = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns= \"http://schemas.openxmlformats.org/spreadsheetml/2006/main\"><workbookPr codeName=\"ThisWorkbook\" defaultThemeVersion= \"153222\"/><bookViews><workbookView activeTab=\"0\"/></bookViews>';\n        var sheets = '<sheets>';\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            /* tslint:disable-next-line:max-line-length */\n            var sheetName = this.worksheets[i].name;\n            sheetName = sheetName.replace(\"&\", \"&amp;\");\n            sheetName = sheetName.replace(\"<\", \"&lt;\");\n            sheetName = sheetName.replace(\">\", \"&gt;\");\n            sheetName = sheetName.replace(\"\\\"\", \"&quot;\");\n            sheets += '<sheet name=\"' + sheetName + '\" sheetId=\"' + (i + 1).toString() + '\" r:id =\"rId' + (i + 1).toString() + '\" />';\n        }\n        sheets += '</sheets>';\n        workbookTemp += sheets;\n        if (this.printTitles.size > 0) {\n            var printTitle_1 = '<definedNames>';\n            this.printTitles.forEach(function (value, key) {\n                printTitle_1 += '<definedName name=\"_xlnm.Print_Titles\" localSheetId=\"' + key + '\">' + value + '</definedName>';\n            });\n            printTitle_1 += '</definedNames>';\n            workbookTemp += printTitle_1;\n        }\n        this.addToArchive(workbookTemp + '</workbook>', 'xl/workbook.xml');\n    };\n    Workbook.prototype.saveWorksheets = function () {\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            this.saveWorksheet(this.worksheets[i], i);\n        }\n    };\n    Workbook.prototype.saveWorksheet = function (sheet, index) {\n        var sheetBlob = new BlobHelper();\n        /* tslint:disable-next-line:max-line-length */\n        var sheetString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><worksheet xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:x14=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n        if (!sheet.isSummaryRowBelow) {\n            sheetString += ('<sheetPr>' + '<outlinePr ' + 'summaryBelow=\"0\" >' + '</outlinePr>' + '</sheetPr>');\n        }\n        else {\n            sheetString += ('<sheetPr />');\n        }\n        sheetString += this.saveSheetView(sheet);\n        if (sheet.columns !== undefined) {\n            var colString = '<cols>';\n            for (var _i = 0, _a = sheet.columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                if (column.width !== undefined) {\n                    colString += '<col min=\"' + (column.index) + '\" max=\"' + (column.index) + '\" width=\"' + this.pixelsToColumnWidth(column.width) + '\" customWidth=\"1\" />';\n                }\n                else {\n                    colString += '<col min=\"' + (column.index) + '\" max=\"' + (column.index) + '\" width=\"' + '8.43' + '\" customWidth=\"1\" />';\n                }\n            }\n            sheetString += (colString + '</cols>');\n        }\n        sheetString += ('<sheetData>');\n        sheetBlob.append(sheetString);\n        sheetString = '';\n        if (sheet.rows !== undefined) {\n            for (var _b = 0, _c = sheet.rows; _b < _c.length; _b++) {\n                var row = _c[_b];\n                var rowString = '<row r=\"' + (row.index) + '\" ';\n                if (!isNullOrUndefined(row.spans)) {\n                    rowString += 'spans=\"' + row.spans + '\" ';\n                }\n                if (row.height !== undefined) {\n                    rowString += ('ht=\"' + this.pixelsToRowHeight(row.height) + '\" customHeight=\"1\" ');\n                }\n                if (row.grouping !== undefined) {\n                    if (row.grouping.isHidden) {\n                        rowString += ('hidden=\"1\" ');\n                    }\n                    if (row.grouping.outlineLevel !== undefined) {\n                        rowString += ('outlineLevel=\"' + row.grouping.outlineLevel + '\" ');\n                    }\n                    if (row.grouping.isCollapsed) {\n                        rowString += ('collapsed=\"1\" ');\n                    }\n                }\n                rowString += ('>');\n                for (var _d = 0, _e = row.cells; _d < _e.length; _d++) {\n                    var cell = _e[_d];\n                    if (cell !== undefined && (cell.value !== undefined || cell.cellStyle !== undefined)) {\n                        rowString += ('<c r=\"' + cell.refName + '\" ');\n                        if (cell.saveType !== undefined) {\n                            rowString += ('t=\"' + cell.saveType + '\" ');\n                        }\n                        if (cell.styleIndex !== undefined) {\n                            rowString += ('s=\"' + cell.styleIndex + '\" ');\n                        }\n                        rowString += (' >');\n                        if (cell.formula !== undefined) {\n                            rowString += ('<f>' + cell.formula + '</f>');\n                        }\n                        if (cell.value !== undefined) {\n                            rowString += ('<v>' + cell.value + '</v></c>');\n                        }\n                        else {\n                            rowString += ('</c>');\n                        }\n                    }\n                }\n                rowString += ('</row>');\n                sheetBlob.append(rowString);\n            }\n        }\n        sheetString += ('</sheetData>');\n        /* tslint:disable-next-line:max-line-length */\n        if (sheet.autoFilters !== null && sheet.autoFilters !== undefined)\n            sheetString += ('<autoFilter ref=\"' + this.getCellName(sheet.autoFilters.row, sheet.autoFilters.column) + ':' + this.getCellName(sheet.autoFilters.lastRow, sheet.autoFilters.lastColumn) + '\"/>');\n        if (sheet.mergeCells.length > 0) {\n            sheetString += ('<mergeCells count=\"' + sheet.mergeCells.length + '\">');\n            for (var _f = 0, _g = sheet.mergeCells; _f < _g.length; _f++) {\n                var mCell = _g[_f];\n                sheetString += ('<mergeCell ref=\"' + mCell.ref + '\" />');\n            }\n            sheetString += ('</mergeCells>');\n        }\n        if (sheet.hyperLinks.length > 0) {\n            sheetString += ('<hyperlinks>');\n            for (var _h = 0, _j = sheet.hyperLinks; _h < _j.length; _h++) {\n                var hLink = _j[_h];\n                sheetString += ('<hyperlink ref=\"' + hLink.ref + '\" r:id=\"rId' + hLink.rId + '\" />');\n            }\n            sheetString += ('</hyperlinks>');\n        }\n        /* tslint:disable-next-line:max-line-length */\n        sheetString += ('<pageMargins left=\"0.75\" right=\"0.75\" top=\"1\" bottom=\"1\" header=\"0.5\" footer=\"0.5\" /><headerFooter scaleWithDoc=\"1\" alignWithMargins=\"0\" differentFirst=\"0\" differentOddEven=\"0\" />');\n        if (sheet.images != undefined && sheet.images.length > 0) {\n            this.drawingCount++;\n            this.saveDrawings(sheet, sheet.index);\n            sheetString += '<drawing r:id=\"rId' + (sheet.hyperLinks.length + 1) + '\"/>';\n        }\n        this.addToArchive(this.saveSheetRelations(sheet), ('xl/worksheets/_rels/sheet' + sheet.index + '.xml.rels'));\n        sheetBlob.append(sheetString + '</worksheet>');\n        this.addToArchive(sheetBlob.getBlob(), 'xl/worksheets' + '/sheet' + (index + 1) + '.xml');\n    };\n    Workbook.prototype.saveDrawings = function (sheet, index) {\n        var drawings = new BlobHelper();\n        /* tslint:disable-next-line:max-line-length */\n        var sheetDrawingString = '<xdr:wsDr xmlns:xdr=\"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing\" xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\">';\n        if (sheet.images !== undefined) {\n            var imgId = 0;\n            for (var _i = 0, _a = sheet.images; _i < _a.length; _i++) {\n                var pic = _a[_i];\n                if (pic.height !== undefined && pic.width !== undefined) {\n                    this.updatelastRowOffset(sheet, pic);\n                    this.updatelastColumnOffSet(sheet, pic);\n                }\n                else if (pic.lastRow !== undefined && pic.lastColumn !== undefined) {\n                    pic.lastRowOffset = 0;\n                    pic.lastColOffset = 0;\n                }\n                imgId++;\n                sheetDrawingString += '<xdr:twoCellAnchor editAs=\"oneCell\">';\n                sheetDrawingString += '<xdr:from><xdr:col>';\n                //col\n                sheetDrawingString += pic.column - 1;\n                sheetDrawingString += '</xdr:col><xdr:colOff>';\n                //colOff\n                sheetDrawingString += 0;\n                sheetDrawingString += '</xdr:colOff><xdr:row>';\n                //row\n                sheetDrawingString += pic.row - 1;\n                sheetDrawingString += '</xdr:row><xdr:rowOff>';\n                //rowOff\n                sheetDrawingString += 0;\n                sheetDrawingString += '</xdr:rowOff></xdr:from>';\n                sheetDrawingString += '<xdr:to><xdr:col>';\n                //col\n                sheetDrawingString += pic.lastColumn;\n                sheetDrawingString += '</xdr:col><xdr:colOff>';\n                //colOff\n                sheetDrawingString += pic.lastColOffset;\n                sheetDrawingString += '</xdr:colOff><xdr:row>';\n                //row\n                sheetDrawingString += pic.lastRow;\n                sheetDrawingString += '</xdr:row><xdr:rowOff>';\n                //rowOff\n                sheetDrawingString += pic.lastRowOffset;\n                sheetDrawingString += '</xdr:rowOff></xdr:to>';\n                sheetDrawingString += '<xdr:pic>';\n                sheetDrawingString += '<xdr:nvPicPr>';\n                sheetDrawingString += '<xdr:cNvPr id=\"' + imgId + '\" name=\"Picture ' + imgId + '\"> </xdr:cNvPr>';\n                sheetDrawingString += '<xdr:cNvPicPr><a:picLocks noChangeAspect=\"1\"/></xdr:cNvPicPr> </xdr:nvPicPr>';\n                sheetDrawingString += '<xdr:blipFill>';\n                /* tslint:disable-next-line:max-line-length */\n                sheetDrawingString += '<a:blip xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" r:embed=\"rId' + imgId + '\" cstate=\"print\">';\n                sheetDrawingString += '</a:blip><a:stretch><a:fillRect /></a:stretch></xdr:blipFill>';\n                sheetDrawingString += '<xdr:spPr>';\n                sheetDrawingString += '<a:xfrm';\n                if (pic.rotation != undefined && pic.rotation <= 3600 && pic.rotation >= -3600) {\n                    sheetDrawingString += ' rot=\"' + (pic.rotation * 60000) + '\"';\n                }\n                if (pic.verticalFlip != undefined && pic.verticalFlip != false) {\n                    sheetDrawingString += ' flipV=\"1\"';\n                }\n                if (pic.horizontalFlip != undefined && pic.horizontalFlip != false) {\n                    sheetDrawingString += ' flipH=\"1\"';\n                }\n                sheetDrawingString += '/>';\n                sheetDrawingString += '<a:prstGeom prst=\"rect\"><a:avLst /></a:prstGeom></xdr:spPr>';\n                sheetDrawingString += '</xdr:pic><xdr:clientData /></xdr:twoCellAnchor>';\n                var imageFile = new BlobHelper();\n                var imageData = this.convertBase64toImage(pic.image);\n                this.imageCount += 1;\n                this.addToArchive(imageData, 'xl/media/image' + this.imageCount + '.png');\n            }\n            drawings.append(sheetDrawingString);\n            drawings.append('</xdr:wsDr>');\n            this.saveDrawingRelations(sheet);\n            this.addToArchive(drawings.getBlob(), 'xl/drawings/drawing' + this.drawingCount + '.xml');\n        }\n    };\n    Workbook.prototype.updatelastRowOffset = function (sheet, picture) {\n        var iCurHeight = picture.height;\n        var iCurRow = picture.row;\n        var iCurOffset = 0;\n        while (iCurHeight >= 0) {\n            var iRowHeight = 0;\n            if (sheet.rows !== undefined && sheet.rows[iCurRow - 1] !== undefined)\n                iRowHeight = this.convertToPixels(sheet.rows[iCurRow - 1].height === undefined ? 15 : sheet.rows[iCurRow - 1].height);\n            else\n                iRowHeight = this.convertToPixels(15);\n            var iSpaceInCell = iRowHeight - (iCurOffset * iRowHeight / 256);\n            if (iSpaceInCell > iCurHeight) {\n                picture.lastRow = iCurRow;\n                picture.lastRowOffset = iCurOffset + (iCurHeight * 256 / iRowHeight);\n                var rowHiddenHeight = 0;\n                if (sheet.rows !== undefined && sheet.rows[iCurRow - 1] !== undefined)\n                    rowHiddenHeight = this.convertToPixels(sheet.rows[iCurRow - 1].height === undefined ? 15 : sheet.rows[iCurRow - 1].height);\n                else\n                    rowHiddenHeight = this.convertToPixels(15);\n                picture.lastRowOffset = (rowHiddenHeight * picture.lastRowOffset) / 256;\n                picture.lastRowOffset = Math.round(picture.lastRowOffset / this.unitsProportions[7]);\n                break;\n            }\n            else {\n                iCurHeight -= iSpaceInCell;\n                iCurRow++;\n                iCurOffset = 0;\n            }\n        }\n    };\n    Workbook.prototype.updatelastColumnOffSet = function (sheet, picture) {\n        var iCurWidth = picture.width;\n        var iCurCol = picture.column;\n        var iCurOffset = 0;\n        while (iCurWidth >= 0) {\n            var iColWidth = 0;\n            if (sheet.columns !== undefined && sheet.columns[iCurCol - 1] !== undefined)\n                iColWidth = this.ColumnWidthToPixels(sheet.columns[iCurCol - 1].width === undefined ? 8.43 : sheet.columns[iCurCol - 1].width);\n            else\n                iColWidth = this.ColumnWidthToPixels(8.43);\n            var iSpaceInCell = iColWidth - (iCurOffset * iColWidth / 1024);\n            if (iSpaceInCell > iCurWidth) {\n                picture.lastColumn = iCurCol;\n                picture.lastColOffset = iCurOffset + (iCurWidth * 1024 / iColWidth);\n                var colHiddenWidth = 0;\n                if (sheet.columns !== undefined && sheet.columns[iCurCol - 1] !== undefined)\n                    colHiddenWidth = this.ColumnWidthToPixels(sheet.columns[iCurCol - 1].width === undefined ? 8.43 : sheet.columns[iCurCol].width);\n                else\n                    colHiddenWidth = this.ColumnWidthToPixels(8.43);\n                picture.lastColOffset = (colHiddenWidth * picture.lastColOffset) / 1024;\n                picture.lastColOffset = Math.round(picture.lastColOffset / this.unitsProportions[7]);\n                break;\n            }\n            else {\n                iCurWidth -= iSpaceInCell;\n                iCurCol++;\n                iCurOffset = 0;\n            }\n        }\n    };\n    Workbook.prototype.convertToPixels = function (value) {\n        return value * this.unitsProportions[6];\n    };\n    Workbook.prototype.convertBase64toImage = function (img) {\n        var byteStr = window.atob(img);\n        var buffer = new ArrayBuffer(byteStr.length);\n        var data = new Uint8Array(buffer);\n        for (var i = 0; i < byteStr.length; i++) {\n            data[i] = byteStr.charCodeAt(i);\n        }\n        var blob = new Blob([data], { type: 'image/png' });\n        return blob;\n    };\n    Workbook.prototype.saveDrawingRelations = function (sheet) {\n        /* tslint:disable-next-line:max-line-length */\n        var drawingRelation = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n        var length = sheet.images.length;\n        var id = this.imageCount - sheet.images.length;\n        for (var i = 1; i <= length; i++) {\n            id++;\n            /* tslint:disable-next-line:max-line-length */\n            drawingRelation += '<Relationship Id=\"rId' + i + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"../media/image' + id + '.png\" />';\n        }\n        this.addToArchive((drawingRelation + '</Relationships>'), 'xl/drawings/_rels/drawing' + this.drawingCount + '.xml.rels');\n    };\n    Workbook.prototype.pixelsToColumnWidth = function (pixels) {\n        var dDigitWidth = 7;\n        var val = (pixels > dDigitWidth + 5) ?\n            this.trunc((pixels - 5) / dDigitWidth * 100 + 0.5) / 100 :\n            pixels / (dDigitWidth + 5);\n        return (val > 1) ?\n            ((val * dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0 :\n            (val * (dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0;\n    };\n    Workbook.prototype.ColumnWidthToPixels = function (val) {\n        var dDigitWidth = 7;\n        var fileWidth = (val > 1) ?\n            ((val * dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0 :\n            (val * (dDigitWidth + 5) / dDigitWidth * 256.0) / 256.0;\n        return this.trunc(((256 * fileWidth + this.trunc(128 / dDigitWidth)) / 256) * dDigitWidth);\n    };\n    Workbook.prototype.trunc = function (x) {\n        var n = x - x % 1;\n        return n === 0 && (x < 0 || (x === 0 && (1 / x !== 1 / 0))) ? -0 : n;\n    };\n    Workbook.prototype.pixelsToRowHeight = function (pixels) {\n        return (pixels * this.unitsProportions[5] / this.unitsProportions[6]);\n    };\n    Workbook.prototype.saveSheetRelations = function (sheet) {\n        /* tslint:disable-next-line:max-line-length */\n        var relStr = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n        for (var _i = 0, _a = sheet.hyperLinks; _i < _a.length; _i++) {\n            var hLink = _a[_i];\n            /* tslint:disable-next-line:max-line-length */\n            relStr += '<Relationship Id=\"rId' + hLink.rId + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\" Target=\"' + this.processString(hLink.target) + '\" TargetMode=\"External\" />';\n        }\n        if (sheet.images != undefined && sheet.images.length > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            relStr += '<Relationship Id=\"rId' + (sheet.hyperLinks.length + 1) + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing\" Target=\"../drawings/drawing' + this.drawingCount + '.xml\" />';\n        }\n        relStr += '</Relationships>';\n        return relStr;\n    };\n    Workbook.prototype.saveSheetView = function (sheet) {\n        var paneString = '<sheetViews><sheetView workbookViewId=\"0\" ';\n        if (sheet.enableRtl === true) {\n            paneString += 'rightToLeft=\"1\"';\n        }\n        if (sheet.showGridLines === false) {\n            paneString += 'showGridLines=\"0\" >';\n        }\n        else {\n            paneString += '>';\n        }\n        if (sheet.freezePanes !== undefined) {\n            paneString += '<pane state=\"frozen\"' +\n                ' topLeftCell=\"' + sheet.freezePanes.leftCell + '\" ';\n            if (sheet.freezePanes.row !== 0) {\n                paneString += 'ySplit=\"' + sheet.freezePanes.row + '\" ';\n            }\n            if (sheet.freezePanes.column !== 0) {\n                paneString += 'xSplit=\"' + sheet.freezePanes.column + '\" ';\n            }\n            paneString += '/>';\n        }\n        paneString += '</sheetView></sheetViews > ';\n        return paneString;\n    };\n    Workbook.prototype.saveSharedString = function () {\n        var length = this.sharedString.length;\n        if (length > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            var sstStart = '<?xml version=\"1.0\" encoding=\"utf-8\"?><sst uniqueCount=\"' + length + '\" count=\"' + this.sharedStringCount + '\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n            var si = '';\n            for (var i = 0; i < length; i++) {\n                if (this.sharedString[i].indexOf('<r>') !== 0) {\n                    si += '<si><t>';\n                    si += this.processString(this.sharedString[i]);\n                    si += '</t></si>';\n                }\n                else {\n                    si += '<si>';\n                    si += this.sharedString[i];\n                    si += '</si>';\n                }\n            }\n            si += '</sst>';\n            this.addToArchive(sstStart + si, 'xl/sharedStrings.xml');\n        }\n    };\n    Workbook.prototype.processString = function (value) {\n        if (value.indexOf('&') !== -1) {\n            value = value.replace(/&/g, '&amp;');\n        }\n        if (value.indexOf('<') !== -1) {\n            value = value.replace(/</g, '&lt;');\n        }\n        if (value.indexOf('>') !== -1) {\n            value = value.replace(/>/g, '&gt;');\n        }\n        return value;\n    };\n    Workbook.prototype.saveStyles = function () {\n        this.updateCellXfsStyleXfs();\n        /* tslint:disable-next-line:max-line-length */\n        var styleTemp = '<?xml version=\"1.0\" encoding=\"utf-8\"?><styleSheet xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\" xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">';\n        styleTemp += this.saveNumberFormats();\n        styleTemp += this.saveFonts();\n        styleTemp += this.saveFills();\n        styleTemp += this.saveBorders();\n        styleTemp += this.saveCellStyleXfs();\n        styleTemp += this.saveCellXfs();\n        styleTemp += this.saveCellStyles();\n        this.addToArchive(styleTemp + '</styleSheet>', 'xl/styles.xml');\n    };\n    Workbook.prototype.updateCellXfsStyleXfs = function () {\n        for (var _i = 0, _a = this.mStyles; _i < _a.length; _i++) {\n            var style = _a[_i];\n            var cellXfs = undefined;\n            if (style.isGlobalStyle) {\n                cellXfs = new CellStyleXfs();\n                cellXfs.xfId = (style.index - 1);\n            }\n            else {\n                cellXfs = new CellXfs();\n                cellXfs.xfId = 0;\n            }\n            //Add font\n            var compareFontResult = this.isNewFont(style);\n            if (!compareFontResult.result) {\n                var font = new Font();\n                font.b = style.bold;\n                font.i = style.italic;\n                font.name = style.fontName;\n                font.sz = style.fontSize;\n                font.u = style.underline;\n                font.strike = style.strikeThrough;\n                font.color = ('FF' + style.fontColor.replace('#', ''));\n                this.mFonts.push(font);\n                cellXfs.fontId = this.mFonts.length - 1;\n            }\n            else {\n                cellXfs.fontId = compareFontResult.index;\n            }\n            //Add fill\n            if (style.backColor !== 'none') {\n                var backColor = 'FF' + style.backColor.replace('#', '');\n                if (this.mFills.has(backColor)) {\n                    var fillId = this.mFills.get(backColor);\n                    cellXfs.fillId = fillId;\n                }\n                else {\n                    var fillId = this.mFills.size + 2;\n                    this.mFills.set(backColor, fillId);\n                    cellXfs.fillId = (fillId);\n                }\n            }\n            else {\n                cellXfs.fillId = 0;\n            }\n            //Add border            \n            if (!this.isNewBorder(style)) {\n                this.mBorders.push(style.borders);\n                cellXfs.borderId = this.mBorders.length;\n            }\n            else {\n                cellXfs.borderId = 0;\n            }\n            //Add Number Format            \n            if (style.numberFormat !== 'GENERAL') {\n                if (this.mNumFmt.has(style.numberFormat)) {\n                    var numFmt = this.mNumFmt.get(style.numberFormat);\n                    cellXfs.numFmtId = numFmt.numFmtId;\n                }\n                else {\n                    var id = this.mNumFmt.size + 164;\n                    this.mNumFmt.set(style.numberFormat, new NumFmt(id, style.numberFormat));\n                    cellXfs.numFmtId = id;\n                }\n            }\n            else {\n                if (style.numberFormat === 'GENERAL' && style.numFmtId === 14) {\n                    cellXfs.numFmtId = 14;\n                }\n                else {\n                    cellXfs.numFmtId = 0;\n                }\n            }\n            //Add alignment            \n            if (!style.isGlobalStyle) {\n                cellXfs.applyAlignment = 1;\n            }\n            cellXfs.alignment = new Alignment();\n            cellXfs.alignment.indent = style.indent;\n            cellXfs.alignment.horizontal = style.hAlign;\n            cellXfs.alignment.vertical = style.vAlign;\n            cellXfs.alignment.wrapText = style.wrapText ? 1 : 0;\n            cellXfs.alignment.rotation = style.rotation;\n            if (style.isGlobalStyle) {\n                this.mCellStyleXfs.push(cellXfs);\n                this.mCellXfs.push(cellXfs);\n            }\n            else {\n                //Add cellxfs\n                this.mCellXfs.push(cellXfs);\n            }\n        }\n    };\n    Workbook.prototype.saveNumberFormats = function () {\n        if (this.mNumFmt.size >= 1) {\n            var numFmtStyle_1 = '<numFmts count=\"' + (this.mNumFmt.size) + '\">';\n            this.mNumFmt.forEach(function (value, key) {\n                numFmtStyle_1 += '<numFmt numFmtId=\"' + value.numFmtId + '\" formatCode=\"' + value.formatCode.replace(/\"/g, '&quot;') + '\" />';\n            });\n            return (numFmtStyle_1 += '</numFmts>');\n        }\n        else {\n            return '';\n        }\n    };\n    Workbook.prototype.saveFonts = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var fontStyle = '<fonts count=\"' + (this.mFonts.length) + '\">';\n        if (this.mFonts.length >= 1) {\n            for (var _i = 0, _a = this.mFonts; _i < _a.length; _i++) {\n                var font = _a[_i];\n                fontStyle += '<font>';\n                if (font.b) {\n                    fontStyle += '<b />';\n                }\n                if (font.i) {\n                    fontStyle += '<i />';\n                }\n                if (font.u) {\n                    fontStyle += '<u />';\n                }\n                if (font.strike) {\n                    fontStyle += '<strike />';\n                }\n                fontStyle += '<sz val=\"' + font.sz + '\" />';\n                fontStyle += '<color rgb=\"' + font.color + '\" />';\n                fontStyle += '<name val=\"' + font.name + '\" /></font>';\n            }\n        }\n        return fontStyle + '</fonts>';\n    };\n    Workbook.prototype.saveFills = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var fillsStyle = '<fills count=\"' + (this.mFills.size + 2) + '\"><fill><patternFill patternType=\"none\"></patternFill></fill><fill><patternFill patternType=\"gray125\"></patternFill></fill>';\n        if (this.mFills.size >= 1) {\n            this.mFills.forEach(function (value, key) {\n                /* tslint:disable-next-line:max-line-length */\n                fillsStyle += '<fill><patternFill patternType=\"solid\"><fgColor rgb=\"' + key + '\" /><bgColor rgb=\"FFFFFFFF\" /></patternFill></fill>';\n            });\n        }\n        return fillsStyle + '</fills>';\n    };\n    Workbook.prototype.saveBorders = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var bordersStyle = '<borders count=\"' + (this.mBorders.length + 1) + '\"><border><left /><right /><top /><bottom /><diagonal /></border>';\n        if (this.mBorders.length >= 1) {\n            for (var _i = 0, _a = this.mBorders; _i < _a.length; _i++) {\n                var borders = _a[_i];\n                if (this.isAllBorder(borders)) {\n                    var color = borders.all.color.replace('#', '');\n                    var lineStyle = borders.all.lineStyle;\n                    /* tslint:disable-next-line:max-line-length */\n                    bordersStyle += '<border><left style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></left><right style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></right><top style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></top><bottom style=\"' + lineStyle + '\"><color rgb=\"FF' + color + '\" /></bottom></border>';\n                }\n                else {\n                    /* tslint:disable-next-line:max-line-length */\n                    bordersStyle += '<border><left style=\"' + borders.left.lineStyle + '\"><color rgb=\"FF' + borders.left.color.replace('#', '') + '\" /></left><right style=\"' + borders.right.lineStyle + '\"><color rgb=\"FF' + borders.right.color.replace('#', '') + '\" /></right><top style=\"' + borders.top.lineStyle + '\"><color rgb=\"FF' + borders.top.color.replace('#', '') + '\" /></top><bottom style=\"' + borders.bottom.lineStyle + '\"><color rgb=\"FF' + borders.bottom.color.replace('#', '') + '\" /></bottom></border>';\n                }\n            }\n        }\n        return bordersStyle + '</borders>';\n    };\n    Workbook.prototype.saveCellStyles = function () {\n        var _this = this;\n        var cellStyleString = '<cellStyles  count=\"' + (this.cellStyles.size) + '\">';\n        this.cellStyles.forEach(function (value, key) {\n            cellStyleString += '<cellStyle name=\"' + key + '\" xfId=\"' + _this.cellStyles.get(key).xfId + '\"';\n            if (key === 'Normal') {\n                cellStyleString += ' builtinId=\"0\"';\n            }\n            cellStyleString += ' />';\n        });\n        return cellStyleString += '</cellStyles>';\n    };\n    Workbook.prototype.saveCellStyleXfs = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var cellXfsStyle = '<cellStyleXfs count=\"' + (this.mCellStyleXfs.length + 1) + '\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" />';\n        if (this.mCellStyleXfs.length >= 1) {\n            for (var _i = 0, _a = this.mCellStyleXfs; _i < _a.length; _i++) {\n                var cellStyleXf = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                cellXfsStyle += '<xf numFmtId=\"' + cellStyleXf.numFmtId + '\" fontId=\"' + cellStyleXf.fontId + '\" fillId=\"' + cellStyleXf.fillId + '\" borderId=\"' + cellStyleXf.borderId + '\" ';\n                if (cellStyleXf.alignment !== undefined) {\n                    cellXfsStyle += '>' + this.saveAlignment(cellStyleXf) + '</xf>';\n                }\n                else {\n                    cellXfsStyle += ' />';\n                }\n            }\n        }\n        return cellXfsStyle + '</cellStyleXfs>';\n    };\n    Workbook.prototype.saveCellXfs = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var cellXfsStyle = '<cellXfs count=\"' + (this.mCellXfs.length + 1) + '\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\" />';\n        if (this.mCellXfs.length >= 1) {\n            for (var _i = 0, _a = this.mCellXfs; _i < _a.length; _i++) {\n                var cellXf = _a[_i];\n                /* tslint:disable-next-line:max-line-length */\n                cellXfsStyle += '<xf numFmtId=\"' + cellXf.numFmtId + '\" fontId=\"' + cellXf.fontId + '\" fillId=\"' + cellXf.fillId + '\" borderId=\"' + cellXf.borderId + '\" xfId=\"' + cellXf.xfId + '\" ';\n                if (cellXf.applyAlignment === 1) {\n                    cellXfsStyle += 'applyAlignment=\"1\"';\n                }\n                cellXfsStyle += '>' + this.saveAlignment(cellXf) + '</xf>';\n            }\n        }\n        return cellXfsStyle + '</cellXfs>';\n    };\n    Workbook.prototype.saveAlignment = function (cellXf) {\n        var alignString = '<alignment ';\n        if (cellXf.alignment.horizontal !== undefined) {\n            alignString += 'horizontal=\"' + cellXf.alignment.horizontal + '\" ';\n        }\n        if (cellXf.alignment.indent !== undefined && cellXf.alignment.indent !== 0) {\n            alignString += 'indent=\"' + cellXf.alignment.indent + '\" ';\n        }\n        else if (cellXf.alignment.rotation !== undefined && cellXf.alignment.rotation !== 0) {\n            alignString += 'textRotation=\"' + cellXf.alignment.rotation + '\" ';\n        }\n        if (cellXf.alignment.vertical !== undefined) {\n            alignString += 'vertical=\"' + cellXf.alignment.vertical + '\" ';\n        }\n        alignString += 'wrapText=\"' + cellXf.alignment.wrapText + '\" />';\n        return alignString;\n    };\n    Workbook.prototype.saveApp = function (builtInProperties) {\n        /* tslint:disable-next-line:max-line-length */\n        var appString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Properties xmlns=\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\"><Application>Essential XlsIO</Application>';\n        if (builtInProperties !== undefined) {\n            if (builtInProperties.manager !== undefined) {\n                appString += '<Manager>' + builtInProperties.manager + '</Manager>';\n            }\n            if (builtInProperties.company !== undefined) {\n                appString += '<Company>' + builtInProperties.company + '</Company>';\n            }\n        }\n        this.addToArchive((appString + '</Properties>'), 'docProps/app.xml');\n    };\n    Workbook.prototype.saveCore = function (builtInProperties) {\n        var createdDate = new Date();\n        /* tslint:disable-next-line:max-line-length */\n        var coreString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><cp:coreProperties xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:dcterms=\"http://purl.org/dc/terms/\" xmlns:dcmitype=\"http://purl.org/dc/dcmitype/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:cp=\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\">';\n        if (this.builtInProperties !== undefined) {\n            if (builtInProperties.author !== undefined) {\n                coreString += '<dc:creator>' + builtInProperties.author + '</dc:creator>';\n            }\n            if (builtInProperties.subject !== undefined) {\n                coreString += '<dc:subject>' + builtInProperties.subject + '</dc:subject>';\n            }\n            if (builtInProperties.category !== undefined) {\n                coreString += '<cp:category>' + builtInProperties.category + '</cp:category>';\n            }\n            if (builtInProperties.comments !== undefined) {\n                coreString += '<dc:description>' + builtInProperties.comments + '</dc:description>';\n            }\n            if (builtInProperties.title !== undefined) {\n                coreString += '<dc:title>' + builtInProperties.title + '</dc:title>';\n            }\n            if (builtInProperties.tags !== undefined) {\n                coreString += '<cp:keywords>' + builtInProperties.tags + '</cp:keywords>';\n            }\n            if (builtInProperties.status !== undefined) {\n                coreString += '<cp:contentStatus>' + builtInProperties.status + '</cp:contentStatus>';\n            }\n            if (builtInProperties.createdDate !== undefined) {\n                /* tslint:disable-next-line:max-line-length */\n                coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + builtInProperties.createdDate.toISOString() + '</dcterms:created>';\n            }\n            else {\n                coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:created>';\n            }\n            if (builtInProperties.modifiedDate !== undefined) {\n                /* tslint:disable-next-line:max-line-length */\n                coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + builtInProperties.modifiedDate.toISOString() + '</dcterms:modified>';\n            }\n            else {\n                coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:modified>';\n            }\n        }\n        else {\n            coreString += '<dcterms:created xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:created>';\n            coreString += '<dcterms:modified xsi:type=\"dcterms:W3CDTF\">' + createdDate.toISOString() + '</dcterms:modified>';\n        }\n        /* tslint:disable-next-line:max-line-length */\n        coreString += '</cp:coreProperties>';\n        this.addToArchive(coreString, 'docProps/core.xml');\n    };\n    Workbook.prototype.saveTopLevelRelation = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var topRelation = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\"><Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"xl/workbook.xml\" /><Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\" Target=\"docProps/app.xml\" /><Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\" Target=\"docProps/core.xml\" /></Relationships>';\n        this.addToArchive(topRelation, '_rels/.rels');\n    };\n    Workbook.prototype.saveWorkbookRelation = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var wbRelation = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">';\n        var length = this.worksheets.length;\n        var count = 0;\n        for (var i = 0; i < length; i++, count++) {\n            /* tslint:disable-next-line:max-line-length */\n            wbRelation += '<Relationship Id=\"rId' + (i + 1).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\" Target=\"worksheets/sheet' + (i + 1).toString() + '.xml\" />';\n        }\n        /* tslint:disable-next-line:max-line-length */\n        wbRelation += '<Relationship Id=\"rId' + (++count).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\" Target=\"styles.xml\" />';\n        if (this.sharedStringCount > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            wbRelation += '<Relationship Id=\"rId' + (++count).toString() + '\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\" Target=\"sharedStrings.xml\" />';\n        }\n        this.addToArchive((wbRelation + '</Relationships>'), 'xl/_rels/workbook.xml.rels');\n    };\n    Workbook.prototype.saveContentType = function () {\n        /* tslint:disable-next-line:max-line-length */\n        var contentTypeString = '<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?><Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\"><Default Extension=\"xml\" ContentType=\"application/xml\" /><Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" /><Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\" /><Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" /><Override PartName=\"/docProps/app.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.extended-properties+xml\" /><Override PartName=\"/docProps/core.xml\" ContentType=\"application/vnd.openxmlformats-package.core-properties+xml\" />';\n        var sheetsOverride = '';\n        var length = this.worksheets.length;\n        for (var i = 0; i < length; i++) {\n            /* tslint:disable-next-line:max-line-length */\n            sheetsOverride += '<Override PartName=\"/xl/worksheets/sheet' + (i + 1).toString() + '.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" />';\n            if (this.worksheets[i].images != undefined && this.worksheets[i].images.length > 0) {\n                /* tslint:disable-next-line:max-line-length */\n                sheetsOverride += '<Override PartName=\"/xl/drawings/drawing' + (i + 1).toString() + '.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.drawing+xml\" />';\n            }\n        }\n        if (this.imageCount > 0)\n            sheetsOverride += '<Default Extension=\"png\" ContentType=\"image/png\" />';\n        if (this.sharedStringCount > 0) {\n            /* tslint:disable-next-line:max-line-length */\n            contentTypeString += '<Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\" />';\n        }\n        this.addToArchive((contentTypeString + sheetsOverride + '</Types>'), '[Content_Types].xml');\n    };\n    Workbook.prototype.addToArchive = function (xmlString, itemName) {\n        if (typeof (xmlString) === 'string') {\n            var blob = new Blob([xmlString], { type: 'text/plain' });\n            var archiveItem = new ZipArchiveItem(blob, itemName);\n            this.mArchive.addItem(archiveItem);\n        }\n        else {\n            var archiveItem = new ZipArchiveItem(xmlString, itemName);\n            this.mArchive.addItem(archiveItem);\n        }\n    };\n    Workbook.prototype.processMergeCells = function (cell, rowIndex, mergeCells) {\n        if (cell.rowSpan !== 0 || cell.colSpan !== 0) {\n            var mCell = new MergeCell();\n            mCell.x = cell.index;\n            mCell.width = cell.colSpan;\n            mCell.y = rowIndex;\n            mCell.height = cell.rowSpan;\n            var startCell = this.getCellName(mCell.y, mCell.x);\n            var endCell = this.getCellName(rowIndex + mCell.height, cell.index + mCell.width);\n            mCell.ref = startCell + ':' + endCell;\n            var mergedCell = mergeCells.add(mCell);\n            var start = { x: mCell.x, y: mCell.y };\n            var end = {\n                x: (cell.index + mCell.width), y: (rowIndex + mCell.height)\n            };\n            this.updatedMergedCellStyles(start, end, cell);\n        }\n        return mergeCells;\n    };\n    Workbook.prototype.updatedMergedCellStyles = function (sCell, eCell, cell) {\n        for (var x = sCell.x; x <= eCell.x; x++) {\n            for (var y = sCell.y; y <= eCell.y; y++) {\n                this.mergedCellsStyle.set(this.getCellName(y, x), { x: x, y: y, styleIndex: cell.styleIndex });\n            }\n        }\n    };\n    /**\n     * Returns the tick count corresponding to the given year, month, and day.\n     * @param year number value of year\n     * @param month number value of month\n     * @param day number value of day\n     */\n    Workbook.prototype.dateToTicks = function (year, month, day) {\n        var ticksPerDay = 10000 * 1000 * 60 * 60 * 24;\n        var daysToMonth365 = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365];\n        var daysToMonth366 = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366];\n        if (year >= 1 && year <= 9999 && month >= 1 && month <= 12) {\n            var days = this.isLeapYear(year) ? daysToMonth366 : daysToMonth365;\n            var y = year - 1;\n            var n = y * 365 + ((y / 4) | 0) - ((y / 100) | 0) + ((y / 400) | 0) + days[month - 1] + day - 1;\n            return n * ticksPerDay;\n        }\n        throw new Error('Not a valid date');\n    };\n    /**\n     * Return the tick count corresponding to the given hour, minute, second.\n     * @param hour number value of hour\n     * @param minute number value if minute\n     * @param second number value of second\n     */\n    Workbook.prototype.timeToTicks = function (hour, minute, second) {\n        if (hour >= 0 && hour < 24 && minute >= 0 && minute < 60 && second >= 0 && second < 60) {\n            var totalSeconds = hour * 3600 + minute * 60 + second;\n            return totalSeconds * 10000 * 1000;\n        }\n        throw new Error('Not valid time');\n    };\n    /**\n     * Checks if given year is a leap year.\n     * @param year Year value.\n     */\n    Workbook.prototype.isLeapYear = function (year) {\n        return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n    };\n    /**\n     * Converts `DateTime` to the equivalent OLE Automation date.\n     */\n    Workbook.prototype.toOADate = function (date) {\n        var ticks = 0;\n        /* tslint:disable-next-line:max-line-length */\n        ticks = this.dateToTicks(date.getFullYear(), (date.getMonth() + 1), date.getDate()) + this.timeToTicks(date.getHours(), date.getMinutes(), date.getSeconds());\n        if (ticks === 0) {\n            return 0.0;\n        }\n        var ticksPerDay = 10000 * 1000 * 60 * 60 * 24;\n        var daysTo1899 = (((365 * 4 + 1) * 25 - 1) * 4 + 1) * 4 + ((365 * 4 + 1) * 25 - 1) * 3 - 367;\n        var doubleDateOffset = daysTo1899 * ticksPerDay;\n        var oaDateMinAsTicks = (((365 * 4 + 1) * 25 - 1) - 365) * ticksPerDay;\n        if (ticks < oaDateMinAsTicks) {\n            throw new Error('Arg_OleAutDateInvalid');\n        }\n        var millisPerDay = 1000 * 60 * 60 * 24;\n        return ((ticks - doubleDateOffset) / 10000) / millisPerDay;\n    };\n    return Workbook;\n}());\nexport { Workbook };\n/**\n * BuiltInProperties Class\n * @private\n */\nvar BuiltInProperties = /** @class */ (function () {\n    function BuiltInProperties() {\n    }\n    return BuiltInProperties;\n}());\nexport { BuiltInProperties };\n","import * as events from '../base/constant';\nimport { Workbook } from '@syncfusion/ej2-excel-export';\nimport { isNullOrUndefined, getEnumValue, compile, getValue, detach, extend } from '@syncfusion/ej2-base';\nimport { Data } from '../actions/data';\nimport { ExportHelper, ExportValueFormatter } from './export-helper';\nimport { SummaryModelGenerator, GroupSummaryModelGenerator, CaptionSummaryModelGenerator } from '../services/summary-model-generator';\nimport { CellType } from '../base/enum';\nimport { Query, DataManager } from '@syncfusion/ej2-data';\nimport { getPrintGridModel, getUid, isExportColumns, updateColumnTypeForExportColumns, prepareColumns, measureColumnDepth } from '../base/util';\n/**\n * @hidden\n * `ExcelExport` module is used to handle the Excel export action.\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for the Grid Excel Export module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} locator - specifies the ServiceLocator\n     * @hidden\n     */\n    function ExcelExport(parent, locator) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.book = {};\n        this.workSheet = [];\n        this.rows = [];\n        this.columns = [];\n        this.styles = [];\n        this.rowLength = 1;\n        this.expType = 'AppendToSheet';\n        this.includeHiddenColumn = false;\n        this.isCsvExport = false;\n        this.isElementIdChanged = false;\n        this.gridPool = {};\n        this.sheet = {};\n        this.parent = parent;\n        this.helper = new ExportHelper(parent);\n        this.locator = locator;\n        this.l10n = this.locator.getService('localization');\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'ExcelExport';\n    };\n    ExcelExport.prototype.init = function (gObj) {\n        if (gObj.element !== null && gObj.element.id === '') {\n            gObj.element.id = new Date().toISOString();\n            this.isElementIdChanged = true;\n        }\n        this.parent = gObj;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.isExporting = undefined;\n        this.book = {};\n        this.workSheet = [];\n        this.rows = [];\n        this.columns = [];\n        this.styles = [];\n        this.rowLength = 1;\n        this.footer = undefined;\n        this.expType = 'AppendToSheet';\n        this.includeHiddenColumn = false;\n        this.exportValueFormatter = new ExportValueFormatter(gObj.locale);\n        gObj.id = getUid('main-grid');\n        this.gridPool[gObj.id] = false;\n    };\n    /**\n     * Export Grid to Excel file.\n     *\n     * @param {IGrid} grid - Defines the grid.\n     * @param  {exportProperties} exportProperties - Defines the export properties of the Grid.\n     * @param  {isMultipleExport} isMultipleExport - Defines is multiple Grid's are exported.\n     * @param  {Workbook} workbook - Defined the Workbook if multiple Grid is exported.\n     * @param  {boolean} isCsv - true if export to CSV.\n     * @param {boolean} isBlob - true if isBlob is enabled.\n     * @returns {Promise<any>} - Returns the map for export.\n     */\n    // eslint-disable-next-line\n    ExcelExport.prototype.Map = function (grid, exportProperties, isMultipleExport, workbook, isCsv, isBlob) {\n        var gObj = grid;\n        var cancel = 'cancel';\n        var isBlb = 'isBlob';\n        var csv = 'isCsv';\n        var workbk = 'workbook';\n        var isMultiEx = 'isMultipleExport';\n        this.gridPool = {};\n        if (grid.childGrid && !(!isNullOrUndefined(exportProperties) && exportProperties.hierarchyExportMode === 'None')) {\n            grid.expandedRows = getPrintGridModel(grid).expandedRows;\n        }\n        var args = {\n            requestType: 'beforeExcelExport', gridObject: gObj, cancel: false,\n            isMultipleExport: isMultipleExport, workbook: workbook, isCsv: isCsv, isBlob: isBlob\n        };\n        gObj.trigger(events.beforeExcelExport, args);\n        if (args[cancel]) {\n            return new Promise(function (resolve) {\n                return resolve();\n            });\n        }\n        this.parent.log('exporting_begin', this.getModuleName());\n        this.data = new Data(gObj);\n        this.isExporting = true;\n        this.isBlob = args[isBlb];\n        if (args[csv]) {\n            this.isCsvExport = args[csv];\n        }\n        else {\n            this.isCsvExport = false;\n        }\n        if (isExportColumns(exportProperties)) {\n            updateColumnTypeForExportColumns(exportProperties, gObj);\n        }\n        return this.processRecords(gObj, exportProperties, args[isMultiEx], args[workbk]);\n    };\n    ExcelExport.prototype.exportingSuccess = function (resolve) {\n        this.isExporting = false;\n        this.parent.trigger(events.excelExportComplete, this.isBlob ? { promise: this.blobPromise } : {});\n        this.parent.log('exporting_complete', this.getModuleName());\n        resolve(this.book);\n        this.sheet.images = [];\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ExcelExport.prototype.processRecords = function (gObj, exportProperties, isMultipleExport, workbook) {\n        var _this = this;\n        if (!isNullOrUndefined(exportProperties) && !isNullOrUndefined(exportProperties.dataSource) &&\n            exportProperties.dataSource instanceof DataManager) {\n            var query_1 = exportProperties.query ? exportProperties.query : new Query();\n            if (isNullOrUndefined(query_1.isCountRequired) || gObj.aggregates) {\n                query_1.isCountRequired = true;\n            }\n            return new Promise(function (resolve) {\n                var dataManager = exportProperties.dataSource.executeQuery(query_1);\n                dataManager.then(function (r) {\n                    _this.init(gObj);\n                    _this.processInnerRecords(gObj, exportProperties, isMultipleExport, workbook, r).then(function () {\n                        _this.exportingSuccess(resolve);\n                    });\n                });\n            });\n        }\n        else if (!isNullOrUndefined(exportProperties) && exportProperties.exportType === 'CurrentPage') {\n            return new Promise(function (resolve) {\n                _this.init(gObj);\n                _this.processInnerRecords(gObj, exportProperties, isMultipleExport, workbook, _this.parent.getCurrentViewRecords());\n                _this.exportingSuccess(resolve);\n            });\n        }\n        else {\n            var allPromise_1 = [];\n            allPromise_1.push(this.data.getData({}, ExportHelper.getQuery(gObj, this.data)));\n            allPromise_1.push(this.helper.getColumnData(gObj));\n            return new Promise(function (resolve, reject) {\n                Promise.all(allPromise_1).then(function (e) {\n                    _this.init(gObj);\n                    _this.processInnerRecords(gObj, exportProperties, isMultipleExport, workbook, e[0]).then(function () {\n                        _this.exportingSuccess(resolve);\n                    });\n                }).catch(function (e) {\n                    reject(_this.book);\n                    _this.parent.trigger(events.actionFailure, e);\n                });\n            });\n        }\n    };\n    ExcelExport.prototype.processInnerRecords = function (gObj, exportProperties, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isMultipleExport, workbook, r) {\n        var _this = this;\n        this.groupedColLength = gObj.groupSettings.columns.length;\n        var blankRows = 5;\n        var separator;\n        var rows = [];\n        var colDepth = measureColumnDepth(gObj.columns);\n        var isExportPropertiesPresent = !isNullOrUndefined(exportProperties);\n        if (isExportPropertiesPresent && !isNullOrUndefined(exportProperties.multipleExport)) {\n            this.expType = (!isNullOrUndefined(exportProperties.multipleExport.type) ? exportProperties.multipleExport.type : 'AppendToSheet');\n            if (!isNullOrUndefined(exportProperties.multipleExport.blankRows)) {\n                blankRows = exportProperties.multipleExport.blankRows;\n            }\n        }\n        if (isNullOrUndefined(workbook)) {\n            this.workSheet = [];\n            this.rows = [];\n            this.columns = [];\n            this.styles = [];\n        }\n        else if (this.expType === 'NewSheet') {\n            this.workSheet = workbook.worksheets;\n            this.rows = [];\n            this.columns = [];\n            this.styles = workbook.styles;\n        }\n        else {\n            this.workSheet = [];\n            this.rows = workbook.worksheets[0].rows;\n            this.columns = workbook.worksheets[0].columns;\n            this.styles = workbook.styles;\n            this.rowLength = (this.rows[this.rows.length - 1].index + blankRows);\n            this.rowLength++;\n        }\n        if (isExportPropertiesPresent) {\n            if (!isNullOrUndefined(isMultipleExport)) {\n                if (!isNullOrUndefined(exportProperties.header) && (isMultipleExport || this.expType === 'NewSheet')) {\n                    this.processExcelHeader(JSON.parse(JSON.stringify(exportProperties.header)));\n                }\n                if (!isNullOrUndefined(exportProperties.footer)) {\n                    if (this.expType === 'AppendToSheet') {\n                        if (!isMultipleExport) {\n                            this.footer = JSON.parse(JSON.stringify(exportProperties.footer));\n                        }\n                    }\n                    else {\n                        this.footer = JSON.parse(JSON.stringify(exportProperties.footer));\n                    }\n                }\n            }\n            else {\n                if (!isNullOrUndefined(exportProperties.header)) {\n                    this.processExcelHeader(JSON.parse(JSON.stringify(exportProperties.header)));\n                }\n                if (!isNullOrUndefined(exportProperties.footer)) {\n                    this.footer = JSON.parse(JSON.stringify(exportProperties.footer));\n                }\n            }\n        }\n        this.includeHiddenColumn = (isExportPropertiesPresent ? exportProperties.includeHiddenColumn : false);\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        return new Promise(function (resolve, reject) {\n            gObj.childGridLevel = 0;\n            rows = _this.processGridExport(gObj, exportProperties, r);\n            _this.globalResolve = resolve;\n            _this.gridPool[gObj.id] = true;\n            _this.helper.checkAndExport(_this.gridPool, _this.globalResolve);\n        }).then(function () {\n            var organisedRows = [];\n            _this.organiseRows(rows, rows[0].index, organisedRows);\n            _this.rows = _this.rows.concat(organisedRows);\n            //footer template add\n            if (!isNullOrUndefined(_this.footer)) {\n                if ((_this.expType === 'AppendToSheet' && !isMultipleExport) || (_this.expType === 'NewSheet')) {\n                    _this.processExcelFooter(_this.footer);\n                }\n            }\n            if (_this.columns.length > 0) {\n                _this.sheet.columns = _this.columns;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            _this.sheet.rows = _this.rows;\n            _this.sheet.enableRtl = _this.parent.enableRtl;\n            if (_this.parent.allowFiltering && gObj.getVisibleColumns().length && isExportPropertiesPresent &&\n                exportProperties.enableFilter) {\n                var headerRowLen = exportProperties.header ? exportProperties.header.headerRows ||\n                    exportProperties.header.rows.length : 0;\n                var autoFilters = {\n                    row: colDepth + headerRowLen, column: _this.groupedColLength ? _this.groupedColLength + 1 :\n                        _this.sheet.columns[0].index, lastRow: _this.sheet.rows.length, lastColumn: _this.sheet.columns.length\n                };\n                _this.sheet.autoFilters = autoFilters;\n            }\n            _this.workSheet.push(_this.sheet);\n            _this.book.worksheets = _this.workSheet;\n            _this.book.styles = _this.styles;\n            gObj.notify('finalPageSetup', _this.book);\n            if (!isMultipleExport) {\n                if (_this.isCsvExport) {\n                    if (isExportPropertiesPresent && !isNullOrUndefined(exportProperties.separator)\n                        && exportProperties.separator !== ',') {\n                        separator = exportProperties.separator;\n                    }\n                    var book = new Workbook(_this.book, 'csv', gObj.locale, gObj.currencyCode, separator);\n                    if (!_this.isBlob) {\n                        if (isExportPropertiesPresent && exportProperties.fileName) {\n                            book.save(exportProperties.fileName);\n                        }\n                        else {\n                            book.save('Export.csv');\n                        }\n                    }\n                    else {\n                        _this.blobPromise = book.saveAsBlob('text/csv');\n                    }\n                }\n                else {\n                    var book = new Workbook(_this.book, 'xlsx', gObj.locale, gObj.currencyCode);\n                    if (!_this.isBlob) {\n                        if (isExportPropertiesPresent && exportProperties.fileName) {\n                            book.save(exportProperties.fileName);\n                        }\n                        else {\n                            book.save('Export.xlsx');\n                        }\n                    }\n                    else {\n                        _this.blobPromise = book.saveAsBlob('application/vnd.openxmlformats-officedocument.spreadsheetml.sheet');\n                    }\n                }\n                if (_this.isElementIdChanged) {\n                    gObj.element.id = '';\n                }\n                delete gObj.expandedRows;\n            }\n            return workbook;\n        });\n    };\n    ExcelExport.prototype.organiseRows = function (rows, initialIndex, organisedRows) {\n        if (!rows.length) {\n            return initialIndex;\n        }\n        for (var i = 0; i < rows.length; i++) {\n            var row = rows[i];\n            var childRows = row.childRows;\n            if (childRows) {\n                row.index = initialIndex++;\n                delete row.childRows;\n                organisedRows.push(row);\n                initialIndex = this.organiseRows(childRows, initialIndex, organisedRows);\n            }\n            else {\n                row.index = initialIndex++;\n                organisedRows.push(row);\n            }\n        }\n        return initialIndex;\n    };\n    ExcelExport.prototype.processGridExport = function (gObj, exportProperties, r) {\n        var excelRows = [];\n        var isFrozen = this.parent.isFrozenGrid() && !this.parent.getFrozenColumns();\n        if (!isNullOrUndefined(exportProperties) && !isNullOrUndefined(exportProperties.theme)) {\n            this.theme = exportProperties.theme;\n        }\n        if (gObj.childGrid && !isNullOrUndefined(exportProperties)) {\n            gObj.hierarchyPrintMode = exportProperties.hierarchyExportMode || 'Expanded';\n        }\n        var helper = new ExportHelper(gObj, this.helper.getForeignKeyData());\n        var gColumns = isExportColumns(exportProperties) ?\n            prepareColumns(exportProperties.columns, gObj.enableColumnVirtualization) :\n            helper.getGridExportColumns(isFrozen ? gObj.getColumns() : gObj.columns);\n        var headerRow = helper.getHeaders(gColumns, this.includeHiddenColumn);\n        var groupIndent = gObj.groupSettings.columns.length ? gObj.groupSettings.columns.length - 1 : 0;\n        excelRows = this.processHeaderContent(gObj, headerRow, groupIndent, excelRows);\n        // eslint-disable-next-line max-len\n        if (!isNullOrUndefined(exportProperties) && !isNullOrUndefined(exportProperties.dataSource) && !(exportProperties.dataSource instanceof DataManager)) {\n            // eslint-disable-next-line max-len\n            excelRows = this.processRecordContent(gObj, r, headerRow, exportProperties, exportProperties.dataSource, excelRows, helper);\n        }\n        else if (!isNullOrUndefined(exportProperties) && exportProperties.exportType === 'CurrentPage') {\n            excelRows = this.processRecordContent(gObj, r, headerRow, exportProperties, gObj.currentViewData, excelRows, helper);\n        }\n        else {\n            excelRows = this.processRecordContent(gObj, r, headerRow, exportProperties, undefined, excelRows, helper);\n        }\n        gObj.notify(events.exportDataBound, { excelRows: excelRows, type: 'excel' });\n        return excelRows;\n    };\n    ExcelExport.prototype.processRecordContent = function (gObj, returnType, headerRow, exportProperties, currentViewRecords, excelRow, helper) {\n        var record;\n        if (!isNullOrUndefined(currentViewRecords) && currentViewRecords.length) {\n            record = currentViewRecords;\n        }\n        else {\n            record = returnType.result;\n        }\n        if (!isNullOrUndefined(record.level)) {\n            this.processGroupedRows(gObj, record, headerRow, record.level, 0, exportProperties, excelRow, helper);\n        }\n        else {\n            this.processRecordRows(gObj, record, headerRow, 0, 0, exportProperties, excelRow, helper);\n        }\n        if (!isNullOrUndefined(returnType.aggregates)) {\n            if (!isNullOrUndefined(currentViewRecords)) {\n                this.processAggregates(gObj, returnType.result, excelRow, currentViewRecords);\n            }\n            else {\n                var result = returnType.result.GroupGuid ?\n                    returnType.result.records : returnType.result;\n                this.processAggregates(gObj, result, excelRow);\n            }\n        }\n        return excelRow;\n    };\n    ExcelExport.prototype.processGroupedRows = function (\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    gObj, dataSource, headerRow, level, startIndex, excelExportProperties, excelRows, helper) {\n        for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n            var item = dataSource_1[_i];\n            var cells = [];\n            var index = 1;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var cell = {};\n            cell.index = (index + level) - 1;\n            var col = gObj.getColumnByField(item.field);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var args = {\n                value: item.key,\n                column: col,\n                style: undefined,\n                isForeignKey: col.isForeignColumn()\n            };\n            var value = gObj.getColumnByField(item.field).headerText +\n                ': ' + (!col.enableGroupByFormat ? this.exportValueFormatter.formatCellValue(args) : item.key) + ' - ';\n            if (item.count > 1) {\n                value += item.count + ' items';\n            }\n            else {\n                value += item.count + ' item';\n            }\n            var cArgs = { captionText: value, type: this.isCsvExport ? 'CSV' : 'Excel', data: item };\n            this.parent.trigger(events.exportGroupCaption, cArgs);\n            cell.value = cArgs.captionText;\n            cell.style = this.getCaptionThemeStyle(this.theme);\n            var captionModelGen = new CaptionSummaryModelGenerator(gObj);\n            var groupCaptionSummaryRows = captionModelGen.generateRows(item);\n            this.fillAggregates(gObj, groupCaptionSummaryRows, (dataSource.level + dataSource.childLevels) - 1, excelRows, this.rowLength);\n            cells.push(cell);\n            if (excelRows[excelRows.length - 1].cells.length > 0) {\n                var lIndex = dataSource.level + dataSource.childLevels + groupCaptionSummaryRows[0].cells.length;\n                var hIndex = 0;\n                for (var _a = 0, _b = excelRows[excelRows.length - 1].cells; _a < _b.length; _a++) {\n                    var tCell = _b[_a];\n                    if (tCell.index < lIndex) {\n                        lIndex = tCell.index;\n                    }\n                    if (tCell.index > hIndex) {\n                        hIndex = tCell.index;\n                    }\n                    if (cells[cells.length - 1].index !== tCell.index) {\n                        cells.push(tCell);\n                    }\n                }\n                if ((lIndex - cell.index) > 1) {\n                    cell.colSpan = lIndex - cell.index;\n                }\n                while (hIndex < (headerRow.columns.length + level + dataSource.childLevels)) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var sCell = {};\n                    sCell.index = (hIndex + 1);\n                    sCell.style = this.getCaptionThemeStyle(this.theme);\n                    cells.push(sCell);\n                    hIndex++;\n                }\n            }\n            else {\n                var span = 0;\n                //Calculation for column span when group caption dont have aggregates\n                for (var _c = 0, _d = headerRow.columns; _c < _d.length; _c++) {\n                    var col_1 = _d[_c];\n                    if (col_1.visible) {\n                        span++;\n                    }\n                }\n                cell.colSpan = (dataSource.childLevels + span);\n            }\n            excelRows[excelRows.length - 1].cells = cells;\n            this.rowLength++;\n            if (this.groupedColLength < 8 && level > 1) {\n                var grouping = { outlineLevel: level - 1, isCollapsed: true };\n                excelRows[excelRows.length - 1].grouping = grouping;\n            }\n            if (!isNullOrUndefined(dataSource.childLevels) && dataSource.childLevels > 0) {\n                this.processGroupedRows(gObj, item.items, headerRow, item.items.level, startIndex, excelExportProperties, excelRows, helper);\n                this.processAggregates(gObj, item, excelRows, undefined, (level - 1) + dataSource.childLevels, true);\n            }\n            else {\n                startIndex = this.processRecordRows(gObj, item.items, headerRow, (level - 1), startIndex, excelExportProperties, excelRows, helper);\n                this.processAggregates(gObj, item, excelRows, undefined, (level - 1), true);\n            }\n        }\n    };\n    ExcelExport.prototype.processRecordRows = function (gObj, record, headerRow, level, startIndex, excelExportProperties, excelRows, helper) {\n        var index = 1;\n        var cells = [];\n        var columns = headerRow.columns;\n        var rows = helper.getGridRowModel(columns, record, gObj, startIndex);\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            cells = [];\n            startIndex++;\n            index = 1;\n            var templateRowHeight = void 0;\n            for (var c = 0, len = row.cells.length; c < len; c++) {\n                var gCell = row.cells[c];\n                if (gCell.cellType !== CellType.Data) {\n                    continue;\n                }\n                var column = gCell.column;\n                var field = column.field;\n                var cellValue = !isNullOrUndefined(field) ? column.valueAccessor(field, row.data, column) : '';\n                var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n                var fkData = void 0;\n                if (column.isForeignColumn && column.isForeignColumn()) {\n                    fkData = helper.getFData(value, column);\n                    value = getValue(column.foreignKeyValue, fkData);\n                }\n                if (!isNullOrUndefined(value)) {\n                    var cell = {};\n                    var idx = index + level + gObj.childGridLevel;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var excelCellArgs = {\n                        data: row.data, column: column, foreignKeyData: fkData,\n                        value: value, style: undefined, colSpan: 1, cell: cell\n                    };\n                    gObj.trigger(events.excelQueryCellInfo, excelCellArgs);\n                    if (!isNullOrUndefined(excelCellArgs.image) && !isNullOrUndefined(excelCellArgs.image.base64)) {\n                        templateRowHeight = this.setImage(excelCellArgs, idx);\n                    }\n                    if (!isNullOrUndefined(excelCellArgs.hyperLink)) {\n                        excelCellArgs.cell.hyperlink = { target: excelCellArgs.hyperLink.target };\n                        excelCellArgs.value = excelCellArgs.hyperLink.displayText || excelCellArgs.value;\n                    }\n                    cell = excelCellArgs.cell;\n                    cell.index = idx;\n                    cell.value = excelCellArgs.value;\n                    if (excelCellArgs.data === '' && gObj.childGridLevel && index === 1) {\n                        var style = {};\n                        style.hAlign = 'left';\n                        excelCellArgs = { style: style };\n                        cell.colSpan = gObj.getVisibleColumns().length;\n                        cell.value = this.l10n.getConstant('EmptyRecord');\n                    }\n                    if (excelCellArgs.colSpan > 1) {\n                        cell.colSpan = excelCellArgs.colSpan;\n                    }\n                    if (!isNullOrUndefined(excelCellArgs.style)) {\n                        var styleIndex = this.getColumnStyle(gObj, index + level);\n                        cell.style = this.mergeOptions(this.styles[styleIndex], excelCellArgs.style);\n                    }\n                    else {\n                        cell.style = { name: gObj.element.id + 'column' + (index + level) };\n                    }\n                    cells.push(cell);\n                }\n                index++;\n            }\n            var excelRow = { index: this.rowLength++, cells: cells };\n            if (!isNullOrUndefined(templateRowHeight)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                excelRow.height = templateRowHeight;\n            }\n            if (this.groupedColLength && this.groupedColLength < 8 && (level + 1) > 0) {\n                excelRow.grouping = { outlineLevel: (level + 1), isCollapsed: true };\n                excelRows.push(excelRow);\n            }\n            else {\n                excelRows.push(excelRow);\n            }\n            if (row.isExpand && !isNullOrUndefined(gObj.childGrid)) {\n                gObj.isPrinting = true;\n                var exportType = (!isNullOrUndefined(excelExportProperties) && excelExportProperties.exportType) ?\n                    excelExportProperties.exportType : 'AllPages';\n                var returnVal = this.helper.createChildGrid(gObj, row, exportType, this.gridPool);\n                var childGridObj = returnVal.childGrid;\n                var element = returnVal.element;\n                childGridObj.actionFailure =\n                    helper.failureHandler(this.gridPool, childGridObj, this.globalResolve);\n                childGridObj.childGridLevel = gObj.childGridLevel + 1;\n                var args = { childGrid: childGridObj, row: row, exportProperties: excelExportProperties };\n                this.parent.trigger(events.exportDetailDataBound, args);\n                childGridObj.beforeDataBound = this.childGridCell(excelRow, childGridObj, excelExportProperties, row);\n                childGridObj.appendTo(element);\n            }\n            gObj.notify(events.exportRowDataBound, { rowObj: row, type: 'excel', excelRows: excelRows });\n        }\n        return startIndex;\n    };\n    ExcelExport.prototype.setImage = function (args, idx) {\n        if (isNullOrUndefined(this.sheet.images)) {\n            this.sheet.images = [];\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var excelImage = {\n            image: args.image.base64, row: this.rowLength, column: idx,\n            lastRow: this.rowLength, lastColumn: idx\n        };\n        this.sheet.images.push(excelImage);\n        this.columns[idx - 1].width = args.image.width || this.columns[idx - 1].width;\n        return args.image.height || 50;\n    };\n    ExcelExport.prototype.childGridCell = function (excelRow, childGridObj, excelExportProps, gRow) {\n        var _this = this;\n        return function (result) {\n            childGridObj.beforeDataBound = null;\n            result.cancel = true;\n            if (result.result.length === 0) {\n                result.result = [''];\n            }\n            excelRow.childRows = _this.processGridExport(childGridObj, excelExportProps, result);\n            var intent = _this.parent.groupSettings.columns.length;\n            var rows = excelRow.childRows;\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].grouping = { outlineLevel: intent + childGridObj.childGridLevel,\n                    isCollapsed: !gRow.isExpand, isHidden: !gRow.isExpand };\n            }\n            childGridObj.destroy();\n            detach(childGridObj.element);\n            _this.gridPool[childGridObj.id] = true;\n            _this.helper.checkAndExport(_this.gridPool, _this.globalResolve);\n            return excelRow;\n        };\n    };\n    ExcelExport.prototype.processAggregates = function (gObj, rec, excelRows, currentViewRecords, indent, byGroup) {\n        var summaryModel = new SummaryModelGenerator(gObj);\n        var columns = summaryModel.getColumns();\n        columns = columns.filter(function (col) { return isNullOrUndefined(col.commands) && col.type !== 'checkbox'; });\n        if (gObj.aggregates.length && this.parent !== gObj) {\n            gObj.aggregateModule.prepareSummaryInfo();\n        }\n        var data = undefined;\n        if (!isNullOrUndefined(currentViewRecords)) {\n            data = currentViewRecords;\n        }\n        else {\n            data = rec;\n        }\n        if (indent === undefined) {\n            indent = 0;\n        }\n        if (gObj.groupSettings.columns.length > 0 && byGroup) {\n            var groupSummaryModel = new GroupSummaryModelGenerator(gObj);\n            var groupSummaryRows = groupSummaryModel.generateRows(data, { level: data.level });\n            if (groupSummaryRows.length > 0) {\n                excelRows = this.fillAggregates(gObj, groupSummaryRows, indent, excelRows);\n            }\n        }\n        else {\n            indent = gObj.groupSettings.columns.length > 0 && !byGroup ? gObj.groupSettings.columns.length : indent;\n            var sRows = summaryModel.generateRows(data, rec.aggregates, null, null, columns);\n            if (sRows.length > 0 && !byGroup) {\n                indent = gObj.groupSettings.columns.length ? indent - 1 : indent;\n                excelRows = this.fillAggregates(gObj, sRows, indent, excelRows);\n            }\n        }\n        return excelRows;\n    };\n    ExcelExport.prototype.fillAggregates = function (gObj, rows, indent, excelRows, customIndex) {\n        for (var _i = 0, rows_2 = rows; _i < rows_2.length; _i++) {\n            var row = rows_2[_i];\n            var cells = [];\n            var isEmpty = true;\n            var index = 0;\n            for (var _a = 0, _b = row.cells; _a < _b.length; _a++) {\n                var cell = _b[_a];\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var eCell = {};\n                if (cell.cellType === CellType.DetailFooterIntent) {\n                    continue;\n                }\n                if ((cell.visible || this.includeHiddenColumn)) {\n                    index++;\n                    if (cell.isDataCell) {\n                        isEmpty = false;\n                        var footerTemplate = !isNullOrUndefined(cell.column.footerTemplate);\n                        var groupFooterTemplate = !isNullOrUndefined(cell.column.groupFooterTemplate);\n                        var groupCaptionTemplate = !isNullOrUndefined(cell.column.groupCaptionTemplate);\n                        eCell.index = index + indent + gObj.childGridLevel;\n                        if (footerTemplate) {\n                            eCell.value = this.getAggreateValue(CellType.Summary, cell.column.footerTemplate, cell, row);\n                        }\n                        else if (groupFooterTemplate) {\n                            eCell.value = this.getAggreateValue(CellType.GroupSummary, cell.column.groupFooterTemplate, cell, row);\n                        }\n                        else if (groupCaptionTemplate) {\n                            eCell.value = this.getAggreateValue(CellType.CaptionSummary, cell.column.groupCaptionTemplate, cell, row);\n                        }\n                        else {\n                            for (var _c = 0, _d = Object.keys(row.data[cell.column.field]); _c < _d.length; _c++) {\n                                var key = _d[_c];\n                                if (key === cell.column.type) {\n                                    if (!isNullOrUndefined(row.data[cell.column.field].Sum)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - sum\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].Average)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - average\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].Max)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - max\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].Min)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - min\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].Count)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - count\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].TrueCount)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - truecount\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].FalseCount)) {\n                                        eCell.value = row.data[cell.column.field][cell.column.field + \" - falsecount\"];\n                                    }\n                                    else if (!isNullOrUndefined(row.data[cell.column.field].Custom)) {\n                                        eCell.value = row.data[cell.column.field].Custom;\n                                    }\n                                }\n                            }\n                        }\n                        eCell.style = this.getCaptionThemeStyle(this.theme); //{ name: gObj.element.id + 'column' + index };\n                        this.aggregateStyle(cell.column, eCell.style, cell.column.field);\n                        var gridCellStyle = cell.attributes.style;\n                        if (gridCellStyle.textAlign) {\n                            eCell.style.hAlign = gridCellStyle.textAlign.toLowerCase();\n                        }\n                        var args = {\n                            row: row,\n                            type: footerTemplate ? 'Footer' : groupFooterTemplate ? 'GroupFooter' : 'GroupCaption',\n                            style: eCell\n                        };\n                        this.parent.trigger(events.excelAggregateQueryCellInfo, args);\n                        cells.push(eCell);\n                    }\n                    else {\n                        if (customIndex === undefined) {\n                            eCell.index = index + indent + gObj.childGridLevel;\n                            eCell.style = this.getCaptionThemeStyle(this.theme); //{ name: gObj.element.id + 'column' + index };\n                            cells.push(eCell);\n                        }\n                    }\n                }\n            }\n            if (!isNullOrUndefined(customIndex)) {\n                excelRows.push({ index: customIndex, cells: cells });\n            }\n            else {\n                var row_1 = {};\n                if (this.groupedColLength < 8 && this.groupedColLength > 0) {\n                    var dummyOutlineLevel = 'outlineLevel';\n                    var dummyGrouping = 'grouping';\n                    var level = excelRows[excelRows.length - 1][dummyGrouping][dummyOutlineLevel];\n                    var grouping = { outlineLevel: level, isCollapsed: true };\n                    row_1 = { index: this.rowLength++, cells: cells, grouping: grouping };\n                }\n                else {\n                    row_1 = { index: this.rowLength++, cells: cells };\n                }\n                if (!isEmpty) {\n                    excelRows.push(row_1);\n                }\n            }\n        }\n        return excelRows;\n    };\n    ExcelExport.prototype.aggregateStyle = function (col, style, field) {\n        var column = this.parent.getColumnByField(field);\n        if (typeof col.format === 'object') {\n            var format = col.format;\n            style.numberFormat = !isNullOrUndefined(format.format) ? format.format : format.skeleton;\n            if (!isNullOrUndefined(format.type)) {\n                style.type = format.type.toLowerCase();\n            }\n        }\n        else {\n            style.numberFormat = col.format;\n        }\n        if (!isNullOrUndefined(column) && isNullOrUndefined(style.type)) {\n            style.type = column.type.toLowerCase();\n        }\n    };\n    ExcelExport.prototype.getAggreateValue = function (cellType, template, cell, row) {\n        var templateFn = {};\n        templateFn[getEnumValue(CellType, cell.cellType)] = compile(template);\n        var txt;\n        var data = row.data[cell.column.field ? cell.column.field : cell.column.columnName];\n        if (this.parent.isReact || this.parent.isVue) {\n            txt = (templateFn[getEnumValue(CellType, cell.cellType)](data, this.parent));\n            if (this.parent.isReact) {\n                this.parent.renderTemplates();\n            }\n        }\n        else {\n            txt = (templateFn[getEnumValue(CellType, cell.cellType)](data));\n        }\n        return txt[0].textContent;\n    };\n    ExcelExport.prototype.mergeOptions = function (JSON1, JSON2) {\n        var result = {};\n        var attrname = Object.keys(JSON1);\n        for (var index = 0; index < attrname.length; index++) {\n            if (attrname[index] !== 'name') {\n                result[attrname[index]] = JSON1[attrname[index]];\n            }\n        }\n        attrname = Object.keys(JSON2);\n        for (var index = 0; index < attrname.length; index++) {\n            if (attrname[index] !== 'name') {\n                result[attrname[index]] = JSON2[attrname[index]];\n            }\n        }\n        return result;\n    };\n    ExcelExport.prototype.getColumnStyle = function (gObj, columnIndex) {\n        var index = 0;\n        for (var _i = 0, _a = this.styles; _i < _a.length; _i++) {\n            var style = _a[_i];\n            if (style.name === gObj.element.id + 'column' + columnIndex) {\n                return index;\n            }\n            index++;\n        }\n        return undefined;\n    };\n    ExcelExport.prototype.processHeaderContent = function (gObj, headerRow, indent, excelRows) {\n        var rowIndex = 1;\n        var gridRows = headerRow.rows;\n        // Column collection with respect to the records in the grid\n        var gridColumns = headerRow.columns;\n        var spannedCells = [];\n        if (indent > 0) {\n            var index = 0;\n            while (index !== indent) {\n                this.columns.push({ index: index + 1, width: 30 });\n                index++;\n            }\n        }\n        for (var col = 0; col < gridColumns.length; col++) {\n            this.parseStyles(gObj, gridColumns[col], this.getRecordThemeStyle(this.theme), indent + col + 1);\n        }\n        var templateRowHeight;\n        for (var row = 0; row < gridRows.length; row++) {\n            var currentCellIndex = 1 + indent;\n            var cells = [];\n            for (var column = 0; column < gridRows[row].cells.length; column++) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var style = {};\n                var cell = {};\n                var gridCell = gridRows[row].cells[column];\n                if (gridCell.cellType === CellType.HeaderIndent || gridCell.cellType === CellType.DetailHeader) {\n                    continue;\n                }\n                var result = { contains: true, index: 1 };\n                while (result.contains) {\n                    result = this.getIndex(spannedCells, rowIndex, currentCellIndex);\n                    currentCellIndex = result.index;\n                    if (!result.contains) {\n                        cell.index = result.index + gObj.childGridLevel;\n                        break;\n                    }\n                }\n                if (!isNullOrUndefined(gridCell.rowSpan) && gridCell.rowSpan !== 1) {\n                    cell.rowSpan = gridCell.rowSpan;\n                    for (var i = rowIndex; i < gridCell.rowSpan + rowIndex; i++) {\n                        var spannedCell = { rowIndex: 0, columnIndex: 0 };\n                        spannedCell.rowIndex = i;\n                        spannedCell.columnIndex = currentCellIndex;\n                        spannedCells.push(spannedCell);\n                    }\n                }\n                if (!isNullOrUndefined(gridCell.colSpan) && gridCell.colSpan !== 1) {\n                    cell.colSpan = gridCell.colSpan;\n                    currentCellIndex = currentCellIndex + cell.colSpan - 1;\n                }\n                cell.value = gridCell.column.headerText;\n                style = this.getHeaderThemeStyle(this.theme);\n                if (!isNullOrUndefined(gridCell.column.textAlign)) {\n                    style.hAlign = gridCell.column.textAlign.toLowerCase();\n                }\n                if (!isNullOrUndefined(gridCell.column.headerTextAlign)) {\n                    style.hAlign = gridCell.column.headerTextAlign.toLowerCase();\n                }\n                var excelHeaderCellArgs = { cell: cell, gridCell: gridCell, style: style };\n                gObj.trigger(events.excelHeaderQueryCellInfo, excelHeaderCellArgs);\n                if (!isNullOrUndefined(excelHeaderCellArgs.image) && !isNullOrUndefined(excelHeaderCellArgs.image.base64)) {\n                    templateRowHeight = this.setImage(excelHeaderCellArgs, currentCellIndex);\n                }\n                if (!isNullOrUndefined(excelHeaderCellArgs.hyperLink)) {\n                    excelHeaderCellArgs.cell.hyperlink = { target: excelHeaderCellArgs.hyperLink.target };\n                    cell.value = excelHeaderCellArgs.hyperLink.displayText || cell.value;\n                }\n                cell.style = excelHeaderCellArgs.style;\n                cells.push(cell);\n                currentCellIndex++;\n            }\n            var excelRow = { index: this.rowLength++, cells: cells };\n            if (!isNullOrUndefined(templateRowHeight)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                excelRow.height = templateRowHeight;\n            }\n            excelRows.push(excelRow);\n        }\n        return excelRows;\n    };\n    ExcelExport.prototype.getHeaderThemeStyle = function (theme) {\n        var style = {};\n        style.fontSize = 12;\n        style.borders = { color: '#E0E0E0' };\n        style.bold = true;\n        if (!isNullOrUndefined(theme) && !isNullOrUndefined(theme.header)) {\n            style = this.updateThemeStyle(theme.header, style);\n        }\n        return style;\n    };\n    ExcelExport.prototype.updateThemeStyle = function (themestyle, style) {\n        return extend(style, themestyle);\n    };\n    ExcelExport.prototype.getCaptionThemeStyle = function (theme) {\n        var style = {};\n        style.fontSize = 13;\n        style.backColor = '#F6F6F6';\n        if (!isNullOrUndefined(theme) && !isNullOrUndefined(theme.caption)) {\n            style = this.updateThemeStyle(theme.caption, style);\n        }\n        return style;\n    };\n    ExcelExport.prototype.getRecordThemeStyle = function (theme) {\n        var style = {};\n        style.fontSize = 13;\n        style.borders = { color: '#E0E0E0' };\n        if (!isNullOrUndefined(theme) && !isNullOrUndefined(theme.record)) {\n            style = this.updateThemeStyle(theme.record, style);\n        }\n        return style;\n    };\n    ExcelExport.prototype.processExcelHeader = function (header) {\n        if (!isNullOrUndefined(header.rows) && (this.expType === 'NewSheet' || this.rowLength === 1)) {\n            var noRows = void 0;\n            if (header.headerRows === undefined) {\n                this.rowLength = header.rows.length;\n            }\n            else {\n                this.rowLength = header.headerRows;\n            }\n            if (this.rowLength < header.rows.length) {\n                noRows = this.rowLength;\n            }\n            else {\n                noRows = header.rows.length;\n            }\n            this.rowLength++;\n            for (var row = 0; row < noRows; row++) {\n                var json = header.rows[row];\n                //Row index\n                if (!(json.index !== null && !isNullOrUndefined(json.index))) {\n                    json.index = (row + 1);\n                }\n                this.updatedCellIndex(json);\n            }\n        }\n    };\n    ExcelExport.prototype.updatedCellIndex = function (json) {\n        var cellsLength = json.cells.length;\n        for (var cellId = 0; cellId < cellsLength; cellId++) {\n            var jsonCell = json.cells[cellId];\n            //cell index\n            if (!(jsonCell.index !== null && !isNullOrUndefined(jsonCell.index))) {\n                jsonCell.index = (cellId + 1);\n            }\n        }\n        this.rows.push(json);\n    };\n    ExcelExport.prototype.processExcelFooter = function (footer) {\n        if (!isNullOrUndefined(footer.rows)) {\n            var noRows = void 0;\n            if (footer.footerRows === undefined) {\n                this.rowLength += footer.rows.length;\n            }\n            else {\n                if (footer.footerRows > footer.rows.length) {\n                    this.rowLength += (footer.footerRows - footer.rows.length);\n                    noRows = footer.rows.length;\n                }\n                else {\n                    noRows = footer.footerRows;\n                }\n            }\n            for (var row = 0; row < noRows; row++) {\n                var json = footer.rows[row];\n                //Row index\n                if (json.index === null || json.index === undefined) {\n                    json.index = this.rowLength++;\n                }\n                else {\n                    json.index += this.rowLength;\n                }\n                this.updatedCellIndex(json);\n            }\n        }\n    };\n    ExcelExport.prototype.getIndex = function (spannedCells, rowIndex, columnIndex) {\n        for (var _i = 0, spannedCells_1 = spannedCells; _i < spannedCells_1.length; _i++) {\n            var spannedCell = spannedCells_1[_i];\n            if ((spannedCell.rowIndex === rowIndex) && (spannedCell.columnIndex === columnIndex)) {\n                columnIndex = columnIndex + 1;\n                return { contains: true, index: columnIndex };\n            }\n        }\n        return { contains: false, index: columnIndex };\n    };\n    ExcelExport.prototype.parseStyles = function (gObj, col, style, index) {\n        if (!isNullOrUndefined(col.format)) {\n            if (typeof col.format === 'object') {\n                var format = col.format;\n                style.numberFormat = !isNullOrUndefined(format.format) ? format.format : format.skeleton;\n                if (!isNullOrUndefined(format.type)) {\n                    style.type = format.type.toLowerCase();\n                }\n            }\n            else {\n                style.numberFormat = col.format;\n                style.type = col.type;\n            }\n        }\n        if (!isNullOrUndefined(col.textAlign)) {\n            style.hAlign = col.textAlign.toLowerCase();\n        }\n        if (Object.keys(style).length > 0) {\n            style.name = gObj.element.id + 'column' + index;\n            this.styles.push(style);\n        }\n        if (!isNullOrUndefined(col.width) && col.width !== 'auto') {\n            this.columns.push({ index: index + gObj.childGridLevel, width: typeof col.width === 'number' ?\n                    col.width : this.helper.getConvertedWidth(col.width) });\n        }\n    };\n    ExcelExport.prototype.destroy = function () {\n        //destroy for exporting\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { Row } from './../models/row';\nimport { CellType } from '../base/enum';\nimport { isNullOrUndefined, Internationalization, getValue, createElement } from '@syncfusion/ej2-base';\nimport { Cell } from '../models/cell';\nimport { ValueFormatter } from './../services/value-formatter';\nimport { Query, DataManager } from '@syncfusion/ej2-data';\nimport { getForeignData, measureColumnDepth, getUid } from '../base/util';\nimport { Grid } from '../base/grid';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent, foreignKeyData) {\n        this.hideColumnInclude = false;\n        this.foreignKeyData = {};\n        this.parent = parent;\n        if (!parent.parentDetails && foreignKeyData) {\n            this.foreignKeyData = foreignKeyData;\n        }\n    }\n    ExportHelper.getQuery = function (parent, data) {\n        var query = data.generateQuery(true).requiresCount();\n        if (data.isRemote()) {\n            if (parent.groupSettings.enableLazyLoading && parent.groupSettings.columns.length) {\n                query.lazyLoad = [];\n            }\n            else {\n                query.take(parent.pageSettings.totalRecordsCount);\n            }\n        }\n        return query;\n    };\n    ExportHelper.prototype.getFData = function (value, column) {\n        var foreignKeyData = getForeignData(column, {}, value, this.foreignKeyData[column.field])[0];\n        return foreignKeyData;\n    };\n    ExportHelper.prototype.getGridRowModel = function (columns, dataSource, gObj, startIndex) {\n        if (startIndex === void 0) { startIndex = 0; }\n        var rows = [];\n        var length = dataSource.length;\n        if (length) {\n            for (var i = 0; i < length; i++, startIndex++) {\n                var options = { isExpand: false };\n                options.data = dataSource[i];\n                options.index = startIndex;\n                if (gObj.childGrid) {\n                    if (gObj.hierarchyPrintMode === 'All') {\n                        options.isExpand = true;\n                    }\n                    else if (gObj.hierarchyPrintMode === 'Expanded' &&\n                        this.parent.expandedRows && this.parent.expandedRows[startIndex]) {\n                        options.isExpand = gObj.expandedRows[startIndex].isExpand;\n                    }\n                }\n                var row = new Row(options);\n                row.cells = this.generateCells(columns, gObj);\n                rows.push(row);\n            }\n            this.processColumns(rows);\n        }\n        return rows;\n    };\n    ExportHelper.prototype.generateCells = function (columns, gObj) {\n        var cells = [];\n        if (gObj.childGridLevel) {\n            var len = gObj.childGridLevel;\n            for (var i = 0; len > i; i++) {\n                cells.push(this.generateCell({}, CellType.Indent));\n            }\n        }\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var col = columns_1[_i];\n            cells.push(this.generateCell(col, CellType.Data));\n        }\n        return cells;\n    };\n    ExportHelper.prototype.getColumnData = function (gridObj) {\n        var _this = this;\n        var columnPromise = [];\n        var promise;\n        var fColumns = gridObj.getForeignKeyColumns();\n        if (fColumns.length) {\n            for (var i = 0; i < fColumns.length; i++) {\n                var colData = ('result' in fColumns[i].dataSource) ?\n                    new DataManager(fColumns[i].dataSource.result) :\n                    fColumns[i].dataSource;\n                columnPromise.push(colData.executeQuery(new Query()));\n            }\n            promise = Promise.all(columnPromise).then(function (e) {\n                for (var j = 0; j < fColumns.length; j++) {\n                    _this.foreignKeyData[fColumns[j].field] = e[j].result;\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            });\n        }\n        return promise;\n    };\n    ExportHelper.prototype.getHeaders = function (columns, isHideColumnInclude) {\n        if (isHideColumnInclude) {\n            this.hideColumnInclude = true;\n        }\n        else {\n            this.hideColumnInclude = false;\n        }\n        this.colDepth = measureColumnDepth(columns);\n        var rows = [];\n        for (var i = 0; i < this.colDepth; i++) {\n            rows[i] = new Row({});\n            rows[i].cells = [];\n        }\n        rows = this.processColumns(rows);\n        rows = this.processHeaderCells(rows, columns);\n        return { rows: rows, columns: this.generateActualColumns(columns) };\n    };\n    ExportHelper.prototype.getConvertedWidth = function (input) {\n        var value = parseFloat(input);\n        return (input.indexOf('%') !== -1) ? (this.parent.element.getBoundingClientRect().width * value / 100) : value;\n    };\n    ExportHelper.prototype.generateActualColumns = function (columns, actualColumns) {\n        if (actualColumns === void 0) { actualColumns = []; }\n        for (var _i = 0, columns_2 = columns; _i < columns_2.length; _i++) {\n            var column = columns_2[_i];\n            if (column.commands) {\n                continue;\n            }\n            if (!column.columns) {\n                if (column.visible || this.hideColumnInclude) {\n                    actualColumns.push(column);\n                }\n            }\n            else {\n                if (column.visible || this.hideColumnInclude) {\n                    var colSpan = this.getCellCount(column, 0);\n                    if (colSpan !== 0) {\n                        this.generateActualColumns(column.columns, actualColumns);\n                    }\n                }\n            }\n        }\n        return actualColumns;\n    };\n    ExportHelper.prototype.processHeaderCells = function (rows, cols) {\n        var columns = cols;\n        for (var i = 0; i < columns.length; i++) {\n            if (!columns[i].commands) {\n                rows = this.appendGridCells(columns[i], rows, 0);\n            }\n        }\n        return rows;\n    };\n    ExportHelper.prototype.appendGridCells = function (cols, gridRows, index) {\n        if (!cols.columns && (cols.visible !== false || this.hideColumnInclude) && !cols.commands) {\n            gridRows[index].cells.push(this.generateCell(cols, CellType.Header, this.colDepth - index, index));\n        }\n        else if (cols.columns) {\n            var colSpan = this.getCellCount(cols, 0);\n            if (colSpan) {\n                gridRows[index].cells.push(new Cell({\n                    cellType: CellType.StackedHeader, column: cols, colSpan: colSpan\n                }));\n            }\n            var isIgnoreFirstCell = void 0;\n            for (var i = 0, len = cols.columns.length; i < len; i++) {\n                if (cols.columns[i].visible && !isIgnoreFirstCell) {\n                    isIgnoreFirstCell = true;\n                }\n                gridRows = this.appendGridCells(cols.columns[i], gridRows, index + 1);\n            }\n        }\n        return gridRows;\n    };\n    ExportHelper.prototype.generateCell = function (gridColumn, cellType, rowSpan, rowIndex) {\n        var option = {\n            'visible': gridColumn.visible,\n            'isDataCell': cellType === CellType.Data,\n            'column': gridColumn,\n            'cellType': cellType,\n            'rowSpan': rowSpan,\n            'index': rowIndex\n        };\n        if (!option.rowSpan || option.rowSpan < 2) {\n            delete option.rowSpan;\n        }\n        return new Cell(option);\n    };\n    ExportHelper.prototype.processColumns = function (rows) {\n        //TODO: generate dummy column for group, detail, stacked row here; ensureColumns here\n        var gridObj = this.parent;\n        var columnIndexes = [];\n        if (gridObj.enableColumnVirtualization) {\n            columnIndexes = gridObj.getColumnIndexesInView();\n        }\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if (gridObj.allowGrouping) {\n                for (var j = 0, len_1 = gridObj.groupSettings.columns.length - 1; j < len_1; j++) {\n                    if (gridObj.enableColumnVirtualization && columnIndexes.indexOf(j) === -1) {\n                        continue;\n                    }\n                    rows[i].cells.splice(0, 0, this.generateCell({}, CellType.HeaderIndent));\n                }\n            }\n        }\n        return rows;\n    };\n    ExportHelper.prototype.getCellCount = function (column, count) {\n        if (column.columns) {\n            for (var i = 0; i < column.columns.length; i++) {\n                count = this.getCellCount(column.columns[i], count);\n            }\n        }\n        else {\n            if (column.visible || this.hideColumnInclude) {\n                count++;\n            }\n        }\n        return count;\n    };\n    ExportHelper.prototype.checkAndExport = function (gridPool, globalResolve) {\n        var bool = Object.keys(gridPool).some(function (key) {\n            return !gridPool[key];\n        });\n        if (!bool) {\n            globalResolve();\n        }\n    };\n    ExportHelper.prototype.failureHandler = function (gridPool, childGridObj, resolve) {\n        var _this = this;\n        return function () {\n            gridPool[childGridObj.id] = true;\n            _this.checkAndExport(gridPool, resolve);\n        };\n    };\n    ExportHelper.prototype.createChildGrid = function (gObj, row, exportType, gridPool) {\n        var childGridObj = new Grid(this.parent.detailRowModule.getGridModel(gObj, row, exportType));\n        gObj.isPrinting = false;\n        var parent = 'parentDetails';\n        childGridObj[parent] = {\n            parentID: gObj.element.id,\n            parentPrimaryKeys: gObj.getPrimaryKeyFieldNames(),\n            parentKeyField: gObj.childGrid.queryString,\n            parentKeyFieldValue: getValue(childGridObj.queryString, row.data),\n            parentRowData: row.data\n        };\n        var exportId = getUid('child-grid');\n        var element = createElement('div', {\n            id: exportId, styles: 'display: none'\n        });\n        document.body.appendChild(element);\n        childGridObj.id = exportId;\n        gridPool[exportId] = false;\n        childGridObj.isExportGrid = true;\n        return { childGrid: childGridObj, element: element };\n    };\n    ExportHelper.prototype.getGridExportColumns = function (columns) {\n        var actualGridColumns = [];\n        for (var i = 0, gridColumns = columns; i < gridColumns.length; i++) {\n            if (gridColumns[i].type !== 'checkbox') {\n                actualGridColumns.push(gridColumns[i]);\n            }\n        }\n        return actualGridColumns;\n    };\n    /**\n     * Gets the foreignkey data.\n     *\n     * @returns {ForeignKeyFormat} returns the foreignkey data\n     * @hidden\n     */\n    ExportHelper.prototype.getForeignKeyData = function () {\n        return this.foreignKeyData;\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Used to format the exporting cell value\n     *\n     * @param  {ExportHelperArgs} args - Specifies cell details.\n     * @returns {string} returns formated value\n     * @hidden\n     */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value || args.value === 0 ?\n                this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean' && args.value !== '') {\n            return args.value ? 'true' : 'false';\n            /* tslint:disable-next-line:max-line-length */\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                var cFormat = args.column.format;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', skeleton: cFormat };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', skeleton: cFormat };\n                }\n                else {\n                    format = { type: 'dateTime', skeleton: cFormat };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        customFormat = {\n                            type: args.column.format.type,\n                            format: args.column.format.format, skeleton: args.column.format.skeleton\n                        };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, closest } from '@syncfusion/ej2-base';\nimport { attributes } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { appendChildren } from '../base/util';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport * as events from '../base/constant';\n/**\n * FilterCellRenderer class which responsible for building filter cell.\n *\n * @hidden\n */\nvar FilterCellRenderer = /** @class */ (function (_super) {\n    __extends(FilterCellRenderer, _super);\n    function FilterCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', { className: 'e-filterbarcell' });\n        return _this;\n    }\n    /**\n     * Function to return the wrapper for the TH content.\n     *\n     * @returns {string} returns the gui\n     */\n    FilterCellRenderer.prototype.getGui = function () {\n        return this.parent.createElement('div');\n    };\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param  {Cell} cell\n     * @param  {Object} data\n     */\n    /* tslint:disable-next-line:max-func-body-length */\n    FilterCellRenderer.prototype.render = function (cell, data) {\n        var tr = this.parent.element.querySelector('.e-filterbar');\n        var node = this.element.cloneNode();\n        var innerDIV = this.getGui();\n        var input;\n        var column = cell.column;\n        tr.appendChild(node);\n        node.setAttribute('e-mappinguid', column.uid);\n        if (column.filterTemplate) {\n            var fltrData = {};\n            if (data) {\n                fltrData[column.field] = data[column.field];\n            }\n            var col = 'column';\n            fltrData[col] = column;\n            if (column.visible) {\n                var isReactCompiler = this.parent.isReact && typeof (column.filterTemplate) !== 'string';\n                var tempID = this.parent.element.id + column.uid + 'filterTemplate';\n                if (isReactCompiler) {\n                    column.getFilterTemplate()(fltrData, this.parent, 'filterTemplate', tempID, null, null, node);\n                    this.parent.renderTemplates();\n                }\n                else {\n                    var element = column.getFilterTemplate()(fltrData, this.parent, 'filterTemplate', tempID);\n                    appendChildren(node, element);\n                }\n            }\n            else {\n                node.classList.add('e-hide');\n            }\n        }\n        else {\n            if (column.type !== 'checkbox') {\n                if ((isNullOrUndefined(column.allowFiltering) || column.allowFiltering) && !isNullOrUndefined(column.filterBarTemplate)) {\n                    node.classList.add('e-fltrtemp');\n                    attributes(innerDIV, {\n                        'class': 'e-fltrtempdiv'\n                    });\n                    if (isNullOrUndefined(column.filterBarTemplate.create)) {\n                        input = this.parent.createElement('input', {\n                            id: column.field + '_filterBarcell', className: 'e-filterUi_input e-filtertext e-fltrTemp',\n                            attrs: { type: 'search', title: column.headerText }\n                        });\n                        innerDIV.appendChild(input);\n                    }\n                    else {\n                        var args = { column: column, node: Element };\n                        var temp = column.filterBarTemplate.create;\n                        if (typeof temp === 'string') {\n                            temp = getValue(temp, window);\n                        }\n                        input = temp(args);\n                        if (typeof input === 'string') {\n                            var div = this.parent.createElement('div');\n                            div.innerHTML = input;\n                            input = div.firstChild;\n                        }\n                        attributes(innerDIV, {\n                            class: 'e-filterUi_input e-filtertext e-fltrTemp',\n                            title: column.headerText,\n                            id: column.field + '_filterBarcell'\n                        });\n                        innerDIV.appendChild(input);\n                    }\n                }\n                else {\n                    attributes(innerDIV, {\n                        'class': 'e-filterdiv e-fltrinputdiv'\n                    });\n                    input = this.parent.createElement('input', {\n                        id: column.field + '_filterBarcell', className: 'e-filtertext',\n                        attrs: {\n                            type: 'search', title: column.headerText + cell.attributes.title,\n                            value: data[cell.column.field] ? data[cell.column.field] : '', role: 'search'\n                        }\n                    });\n                    innerDIV.appendChild(input);\n                    var args = {\n                        element: input, floatLabelType: 'Never',\n                        properties: {\n                            enableRtl: this.parent.enableRtl, showClearButton: true\n                        }\n                    };\n                    Input.createInput(args, this.parent.createElement);\n                }\n                //TODO: apply intial filtering\n                if (column.allowFiltering === false || column.field === '' || isNullOrUndefined(column.field)) {\n                    input.setAttribute('disabled', 'true');\n                    input.classList.add('e-disable');\n                }\n                if (!column.visible) {\n                    node.classList.add('e-hide');\n                }\n                this.appendHtml(node, innerDIV);\n                // render's the dropdownlist component if showFilterBarOperator sets to true\n                if (this.parent.filterSettings.showFilterBarOperator && this.parent.filterSettings.type === 'FilterBar' &&\n                    !this.parent.isPrinting && isNullOrUndefined(column.filterTemplate) && isNullOrUndefined(column.filterBarTemplate)) {\n                    this.operatorIconRender(innerDIV, column, cell);\n                }\n                if ((isNullOrUndefined(column.allowFiltering) || column.allowFiltering) && !isNullOrUndefined(column.filterBarTemplate)) {\n                    var templateWrite = column.filterBarTemplate.write;\n                    var args = { element: input, column: column };\n                    if (typeof templateWrite === 'string') {\n                        templateWrite = getValue(templateWrite, window);\n                    }\n                    templateWrite.call(this, args);\n                }\n            }\n        }\n        return node;\n    };\n    /**\n     * Function to specifies how the result content to be placed in the cell.\n     *\n     * @param {Element} node - specifies the node\n     * @param {string|Element} innerHtml - specifies the innerHTML\n     * @returns {Element} retruns the element\n     */\n    FilterCellRenderer.prototype.appendHtml = function (node, innerHtml) {\n        node.appendChild(innerHtml);\n        return node;\n    };\n    FilterCellRenderer.prototype.operatorIconRender = function (innerDIV, column, cell) {\n        var gObj = this.parent;\n        var fbicon = this.parent.createElement('input', {\n            className: ' e-filterbaroperator e-icons e-icon-filter',\n            id: cell.column.uid\n        });\n        innerDIV.querySelector('span').appendChild(fbicon);\n        var operators = (column.filter && column.filter.operator) ? column.filter.operator : 'equal';\n        if (!isNullOrUndefined(gObj.filterModule.operators[column.field])) {\n            operators = gObj.filterModule.operators[column.field];\n        }\n        this.dropOptr = new DropDownList({\n            fields: { text: 'text', value: 'value' },\n            popupHeight: 'auto',\n            value: operators,\n            width: '0px',\n            enabled: column.allowFiltering,\n            popupWidth: 'auto',\n            enableRtl: this.parent.enableRtl,\n            change: this.internalEvent.bind(this),\n            beforeOpen: function () {\n                var operator = gObj.filterModule.customOperators;\n                this.dataSource = operator[gObj.getColumnByUid(this.element.id).type + 'Operator'];\n                for (var i = 0; i < this.dataSource.length; i++) {\n                    if (column.filter && column.filter.operator && isNullOrUndefined(gObj.filterModule.operators[column.field]) &&\n                        this.dataSource[i].value === column.filter.operator) {\n                        this.value = column.filter.operator;\n                    }\n                }\n            }\n        });\n        this.dropOptr.appendTo(fbicon);\n        var spanElmt = closest(this.dropOptr.element, 'span');\n        spanElmt.classList.add('e-filterbardropdown');\n        spanElmt.removeAttribute('tabindex');\n    };\n    FilterCellRenderer.prototype.internalEvent = function (e) {\n        var gObj = this.parent;\n        var col = gObj.getColumnByUid(e.element.getAttribute('id'));\n        e.column = col;\n        gObj.filterModule.operators[col.field] = e.value;\n        gObj.notify(events.getFilterBarOperator, e);\n    };\n    return FilterCellRenderer;\n}(CellRenderer));\nexport { FilterCellRenderer };\n","import { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Query, DataManager } from '@syncfusion/ej2-data';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * `filter operators` render boolean column.\n *\n * @hidden\n */\nvar FlMenuOptrUI = /** @class */ (function () {\n    function FlMenuOptrUI(parent, customFltrOperators, serviceLocator, filterSettings) {\n        this.ddOpen = this.dropDownOpen.bind(this);\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.filterSettings = filterSettings;\n        this.customFilterOperators = customFltrOperators;\n        if (this.parent) {\n            this.parent.on(events.filterMenuClose, this.destroyDropDownList, this);\n            this.parent.on(events.destroy, this.destroyDropDownList, this);\n        }\n    }\n    /**\n     * @param {Element} dlgConetntEle - specifies the content element\n     * @param {Element} target - specifies the target\n     * @param {Column} column - specifies the column\n     * @param {Dialog} dlgObj - specifies the dialog\n     * @param {Object[]} operator - specifies the operator list\n     * @returns {void}\n     * @hidden\n     */\n    // eslint-disable-next-line max-len\n    FlMenuOptrUI.prototype.renderOperatorUI = function (dlgConetntEle, target, column, dlgObj, operator) {\n        this.dialogObj = dlgObj;\n        var optr = column.type + 'Operator';\n        this.optrData = this.customOptr = !isNullOrUndefined(operator) ? operator :\n            (!isNullOrUndefined(this.parent.filterSettings.operators) && !isNullOrUndefined(this.parent.filterSettings.operators[optr])) ?\n                this.parent.filterSettings.operators[optr] : this.customFilterOperators[optr];\n        var dropDatasource = this.customOptr;\n        var selectedValue = this.dropSelectedVal(column, optr);\n        var optrDiv = this.parent.createElement('div', { className: 'e-flm_optrdiv' });\n        dlgConetntEle.appendChild(optrDiv);\n        var optrInput = this.parent.createElement('input', { id: column.uid + '-floptr' });\n        optrDiv.appendChild(optrInput);\n        this.dropOptr = new DropDownList({\n            dataSource: dropDatasource,\n            fields: { text: 'text', value: 'value' },\n            cssClass: 'e-popup-flmenu',\n            enableRtl: this.parent.enableRtl,\n            text: selectedValue\n        });\n        this.dropOptr.addEventListener(literals.open, this.ddOpen);\n        this.dropOptr.appendTo('#' + column.uid + '-floptr');\n    };\n    FlMenuOptrUI.prototype.renderResponsiveDropDownList = function (args) {\n        args.popup.element.style.width = '100%';\n    };\n    FlMenuOptrUI.prototype.dropDownOpen = function (args) {\n        args.popup.element.style.zIndex = (this.dialogObj.zIndex + 1).toString();\n        if (this.parent.enableAdaptiveUI) {\n            this.renderResponsiveDropDownList(args);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    FlMenuOptrUI.prototype.dropSelectedVal = function (col, optr) {\n        var selValue = '';\n        var columns = this.parent.filterSettings.columns;\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            if (col.field === column.field || (col.isForeignColumn() && col.foreignKeyValue === column.field)) {\n                var selectedField = new DataManager(this.optrData).executeLocal(new Query().where('value', 'equal', column.operator));\n                selValue = !isNullOrUndefined(selectedField[0]) ? selectedField[0].text : '';\n            }\n        }\n        if (selValue === '') { // rewuired or not\n            if (col.filter.operator) {\n                var optrLen = Object.keys(this.optrData).length;\n                for (var i = 0; i < optrLen; i++) {\n                    if (this.optrData[i].value === col.filter.operator) {\n                        selValue = this.optrData[i].text;\n                    }\n                }\n            }\n            else {\n                selValue = this.optrData[0].text;\n            }\n        }\n        return selValue;\n    };\n    /**\n     * @returns {string} returns the operator\n     * @hidden\n     */\n    FlMenuOptrUI.prototype.getFlOperator = function () {\n        return this.dropOptr.value;\n    };\n    FlMenuOptrUI.prototype.destroyDropDownList = function () {\n        if (this.dropOptr.isDestroyed) {\n            return;\n        }\n        this.dropOptr.removeEventListener(literals.open, this.ddOpen);\n        this.dropOptr.destroy();\n        this.parent.off(events.filterMenuClose, this.destroyDropDownList);\n        this.parent.off(events.destroy, this.destroyDropDownList);\n    };\n    return FlMenuOptrUI;\n}());\nexport { FlMenuOptrUI };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../drop-down-list/drop-down-list-model.d.ts'/>\nimport { EventHandler, Property, Event, addClass, Browser, removeClass, detach } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, NotifyPropertyChanges, getValue, setValue } from '@syncfusion/ej2-base';\nimport { DropDownList, dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { Search } from '../common/incremental-search';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nvar SPINNER_CLASS = 'e-atc-spinner-icon';\ndropDownListClasses.root = 'e-combobox';\nvar inputObject = {\n    container: null,\n    buttons: []\n};\n/**\n * The ComboBox component allows the user to type a value or choose an option from the list of predefined options.\n * ```html\n * <select id=\"list\">\n *      <option value='1'>Badminton</option>\n *      <option value='2'>Basketball</option>\n *      <option value='3'>Cricket</option>\n *      <option value='4'>Football</option>\n *      <option value='5'>Tennis</option>\n * </select>\n * ```\n * ```typescript\n *   let games:ComboBox = new ComboBox();\n *   games.appendTo(\"#list\");\n * ```\n */\nvar ComboBox = /** @class */ (function (_super) {\n    __extends(ComboBox, _super);\n    /**\n     * *Constructor for creating the component\n     *\n     * @param {ComboBoxModel} options - Specifies the ComboBox model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function ComboBox(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    ComboBox.prototype.getLocaleName = function () {\n        return 'combo-box';\n    };\n    ComboBox.prototype.wireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur, this);\n            EventHandler.add(this.inputWrapper.container, 'blur', this.onBlurHandler, this);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick, this);\n        }\n        EventHandler.add(this.inputElement, 'focus', this.targetFocus, this);\n        if (!this.readonly) {\n            EventHandler.add(this.inputElement, 'input', this.onInput, this);\n            EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n            EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n            EventHandler.add(this.inputElement, 'paste', this.pasteHandler, this);\n        }\n        this.bindCommonEvent();\n    };\n    ComboBox.prototype.preventBlur = function (e) {\n        if ((!this.allowFiltering && document.activeElement !== this.inputElement &&\n            !document.activeElement.classList.contains(dropDownListClasses.input) && Browser.isDevice || !Browser.isDevice)) {\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.onBlurHandler = function (e) {\n        var inputValue = this.inputElement && this.inputElement.value === '' ?\n            null : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData) && !isNullOrUndefined(inputValue) && inputValue !== this.text) {\n            this.customValue(e);\n        }\n        _super.prototype.onBlurHandler.call(this, e);\n    };\n    ComboBox.prototype.targetElement = function () {\n        return this.inputElement;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldText = function (text) {\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.customValue();\n        this.removeSelection();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.setOldValue = function (value) {\n        if (this.allowCustom) {\n            this.valueMuteChange(this.value);\n        }\n        else {\n            this.valueMuteChange(null);\n        }\n        this.removeSelection();\n        this.setHiddenValue();\n    };\n    ComboBox.prototype.valueMuteChange = function (value) {\n        var inputValue = isNullOrUndefined(value) ? null : value.toString();\n        Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.setProperties({ value: value, text: value, index: null }, true);\n        this.activeIndex = this.index;\n        var fields = this.fields;\n        var dataItem = {};\n        dataItem[fields.text] = isNullOrUndefined(value) ? null : value.toString();\n        dataItem[fields.value] = isNullOrUndefined(value) ? null : value.toString();\n        this.itemData = dataItem;\n        this.item = null;\n        if (this.previousValue !== this.value) {\n            this.detachChangeEvent(null);\n        }\n    };\n    ComboBox.prototype.updateValues = function () {\n        if (!isNullOrUndefined(this.value)) {\n            var li = this.getElementByValue(this.value);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else if (this.allowCustom) {\n                this.valueMuteChange(this.value);\n            }\n            else {\n                this.valueMuteChange(null);\n            }\n        }\n        else if (this.text && isNullOrUndefined(this.value)) {\n            var li = this.getElementByText(this.text);\n            if (li) {\n                this.setSelection(li, null);\n            }\n            else {\n                Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.customValue();\n            }\n        }\n        else {\n            this.setSelection(this.liCollections[this.activeIndex], null);\n        }\n        this.setHiddenValue();\n        Input.setValue(this.text, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    ComboBox.prototype.updateIconState = function () {\n        if (this.showClearButton) {\n            if (this.inputElement && this.inputElement.value !== '' && !this.readonly) {\n                removeClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n            else {\n                addClass([this.inputWrapper.clearButton], dropDownListClasses.clearIconHide);\n            }\n        }\n    };\n    ComboBox.prototype.getAriaAttributes = function () {\n        var ariaAttributes = {\n            'aria-owns': this.element.id + '_options',\n            'role': 'combobox',\n            'aria-autocomplete': 'both',\n            'aria-labelledby': this.hiddenElement.id,\n            'aria-hasPopup': 'true',\n            'aria-expanded': 'false',\n            'aria-readonly': this.readonly.toString(),\n            'autocomplete': 'off',\n            'autocorrect': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false'\n        };\n        return ariaAttributes;\n    };\n    ComboBox.prototype.searchLists = function (e) {\n        this.isTyped = true;\n        if (this.isFiltering()) {\n            _super.prototype.searchLists.call(this, e);\n            if (this.ulElement && this.filterInput.value.trim() === '') {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n        }\n        else {\n            if (this.ulElement && this.inputElement.value === '' && this.preventAutoFill) {\n                this.setHoverList(this.ulElement.querySelector('.' + dropDownListClasses.li));\n            }\n            this.incrementalSearch(e);\n        }\n    };\n    ComboBox.prototype.getNgDirective = function () {\n        return 'EJS-COMBOBOX';\n    };\n    ComboBox.prototype.setSearchBox = function () {\n        this.filterInput = this.inputElement;\n        return (this.isFiltering() ? this.inputWrapper : inputObject);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ComboBox.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        var _this = this;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        if (this.isSelectCustom) {\n            this.removeSelection();\n        }\n        if (!this.preventAutoFill && this.getModuleName() === 'combobox' && this.isTyped) {\n            setTimeout(function () {\n                _this.inlineSearch();\n            });\n        }\n    };\n    ComboBox.prototype.getFocusElement = function () {\n        var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n        var selected = this.list.querySelector('.' + dropDownListClasses.selected);\n        var isSelected = dataItem.text === this.inputElement.value && !isNullOrUndefined(selected);\n        if (isSelected) {\n            return selected;\n        }\n        if ((Browser.isDevice && !this.isDropDownClick || !Browser.isDevice) &&\n            !isNullOrUndefined(this.liCollections) && this.liCollections.length > 0) {\n            var inputValue = this.inputElement.value;\n            var activeItem = Search(inputValue, this.liCollections, this.filterType, true);\n            var activeElement = activeItem.item;\n            if (!isNullOrUndefined(activeElement)) {\n                var count = this.getIndexByValue(activeElement.getAttribute('data-value')) - 1;\n                var height = parseInt(getComputedStyle(this.liCollections[0], null).getPropertyValue('height'), 10);\n                if (!isNaN(height) && this.getModuleName() !== 'autocomplete') {\n                    this.removeFocus();\n                    var fixedHead = this.fields.groupBy ? this.liCollections[0].offsetHeight : 0;\n                    this.list.scrollTop = count * height + fixedHead;\n                    addClass([activeElement], dropDownListClasses.focus);\n                }\n            }\n            else {\n                if (this.isSelectCustom && this.inputElement.value.trim() !== '') {\n                    this.removeFocus();\n                    this.list.scrollTop = 0;\n                }\n            }\n            return activeElement;\n        }\n        else {\n            return null;\n        }\n    };\n    ComboBox.prototype.setValue = function (e) {\n        if (e && e.type === 'keydown' && e.action === 'enter') {\n            this.removeFillSelection();\n        }\n        if (this.autofill && this.getModuleName() === 'combobox' && e && e.type === 'keydown' && e.action !== 'enter') {\n            this.preventAutoFill = false;\n            this.inlineSearch(e);\n            return false;\n        }\n        else {\n            return _super.prototype.setValue.call(this, e);\n        }\n    };\n    ComboBox.prototype.checkCustomValue = function () {\n        this.itemData = this.getDataByValue(this.value);\n        var dataItem = this.getItemData();\n        if (!(this.allowCustom && isNullOrUndefined(dataItem.value) && isNullOrUndefined(dataItem.text))) {\n            this.setProperties({ 'value': dataItem.value, 'text': dataItem.text }, !this.allowCustom);\n        }\n    };\n    /**\n     * Shows the spinner loader.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.showSpinner = function () {\n        if (isNullOrUndefined(this.spinnerElement)) {\n            this.spinnerElement = (this.getModuleName() === 'autocomplete') ? (this.inputWrapper.buttons[0] ||\n                this.inputWrapper.clearButton ||\n                Input.appendSpan('e-input-group-icon ' + SPINNER_CLASS, this.inputWrapper.container, this.createElement)) :\n                (this.inputWrapper.buttons[0] || this.inputWrapper.clearButton);\n            addClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            createSpinner({\n                target: this.spinnerElement,\n                width: Browser.isDevice ? '16px' : '14px'\n            }, this.createElement);\n            showSpinner(this.spinnerElement);\n        }\n    };\n    /**\n     * Hides the spinner loader.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.hideSpinner = function () {\n        if (!isNullOrUndefined(this.spinnerElement)) {\n            hideSpinner(this.spinnerElement);\n            removeClass([this.spinnerElement], dropDownListClasses.disableIcon);\n            if (this.spinnerElement.classList.contains(SPINNER_CLASS)) {\n                detach(this.spinnerElement);\n            }\n            else {\n                this.spinnerElement.innerHTML = '';\n            }\n            this.spinnerElement = null;\n        }\n    };\n    ComboBox.prototype.setAutoFill = function (activeElement, isHover) {\n        if (!isHover) {\n            this.setHoverList(activeElement);\n        }\n        if (this.autofill && !this.preventAutoFill) {\n            var currentValue = this.getTextByValue(activeElement.getAttribute('data-value')).toString();\n            var currentFillValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n            if (this.getModuleName() === 'combobox') {\n                if (!this.isSelected && this.previousValue !== currentFillValue) {\n                    this.updateSelectedItem(activeElement, null);\n                    this.isSelected = true;\n                    this.previousValue = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                }\n                else {\n                    this.updateSelectedItem(activeElement, null, true);\n                }\n            }\n            if (!this.isAndroidAutoFill(currentValue)) {\n                this.setAutoFillSelection(currentValue);\n            }\n        }\n    };\n    ComboBox.prototype.isAndroidAutoFill = function (value) {\n        if (Browser.isAndroid) {\n            var currentPoints = this.getSelectionPoints();\n            var prevEnd = this.prevSelectPoints.end;\n            var curEnd = currentPoints.end;\n            var prevStart = this.prevSelectPoints.start;\n            var curStart = currentPoints.start;\n            if (prevEnd !== 0 && ((prevEnd === value.length && prevStart === value.length) ||\n                (prevStart > curStart && prevEnd > curEnd) || (prevEnd === curEnd && prevStart === curStart))) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    };\n    ComboBox.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n        if (this.isFiltering() && !isNullOrUndefined(e) && e.target === this.inputWrapper.clearButton) {\n            this.searchLists(e);\n        }\n    };\n    ComboBox.prototype.isSelectFocusItem = function (element) {\n        return !isNullOrUndefined(element);\n    };\n    ComboBox.prototype.inlineSearch = function (e) {\n        var isKeyNavigate = (e && (e.action === 'down' || e.action === 'up' ||\n            e.action === 'home' || e.action === 'end' || e.action === 'pageUp' || e.action === 'pageDown'));\n        var activeElement = isKeyNavigate ? this.liCollections[this.activeIndex] : this.getFocusElement();\n        if (!isNullOrUndefined(activeElement)) {\n            if (!isKeyNavigate) {\n                var value = this.getFormattedValue(activeElement.getAttribute('data-value'));\n                this.activeIndex = this.getIndexByValue(value);\n                this.activeIndex = !isNullOrUndefined(this.activeIndex) ? this.activeIndex : null;\n            }\n            this.preventAutoFill = this.inputElement.value === '' ? false : this.preventAutoFill;\n            this.setAutoFill(activeElement, isKeyNavigate);\n        }\n        else if (this.inputElement.value === '') {\n            this.activeIndex = null;\n            this.list.scrollTop = 0;\n            var focusItem = this.list.querySelector('.' + dropDownListClasses.li);\n            this.setHoverList(focusItem);\n        }\n        else {\n            this.activeIndex = null;\n            this.removeSelection();\n            if (this.liCollections && this.liCollections.length > 0 && !this.isCustomFilter) {\n                this.removeFocus();\n            }\n        }\n    };\n    ComboBox.prototype.incrementalSearch = function (e) {\n        this.showPopup();\n        if (!isNullOrUndefined(this.listData)) {\n            this.inlineSearch(e);\n            e.preventDefault();\n        }\n    };\n    ComboBox.prototype.setAutoFillSelection = function (currentValue) {\n        var selection = this.getSelectionPoints();\n        var value = this.inputElement.value.substr(0, selection.start);\n        if (value && (value.toLowerCase() === currentValue.substr(0, selection.start).toLowerCase())) {\n            var inputValue = value + currentValue.substr(value.length, currentValue.length);\n            Input.setValue(inputValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(selection.start, this.inputElement.value.length);\n        }\n        else {\n            Input.setValue(currentValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n    };\n    ComboBox.prototype.getValueByText = function (text) {\n        return _super.prototype.getValueByText.call(this, text, true, this.ignoreAccent);\n    };\n    ComboBox.prototype.unWireEvent = function () {\n        if (this.getModuleName() === 'combobox') {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.preventBlur);\n            EventHandler.remove(this.inputWrapper.container, 'blur', this.onBlurHandler);\n        }\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0])) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.dropDownClick);\n        }\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'focus', this.targetFocus);\n            if (!this.readonly) {\n                EventHandler.remove(this.inputElement, 'input', this.onInput);\n                EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                EventHandler.remove(this.inputElement, 'paste', this.pasteHandler);\n            }\n        }\n        this.unBindCommonEvent();\n    };\n    ComboBox.prototype.setSelection = function (li, e) {\n        _super.prototype.setSelection.call(this, li, e);\n        if (!isNullOrUndefined(li) && !this.autofill && !this.isDropDownClick) {\n            this.removeFocus();\n        }\n    };\n    ComboBox.prototype.selectCurrentItem = function (e) {\n        var li;\n        if (this.isPopupOpen) {\n            if (this.isSelected) {\n                li = this.list.querySelector('.' + dropDownListClasses.selected);\n            }\n            else {\n                li = this.list.querySelector('.' + dropDownListClasses.focus);\n            }\n            if (li) {\n                this.setSelection(li, e);\n                this.isTyped = false;\n            }\n            if (this.isSelected) {\n                this.isSelectCustom = false;\n                this.onChangeEvent(e);\n            }\n        }\n        if (e.action === 'enter' && this.inputElement.value.trim() === '') {\n            this.clearAll(e);\n        }\n        else if (this.isTyped && !this.isSelected && isNullOrUndefined(li)) {\n            this.customValue(e);\n        }\n        this.hidePopup();\n    };\n    ComboBox.prototype.setHoverList = function (li) {\n        this.removeSelection();\n        if (this.isValidLI(li) && !li.classList.contains(dropDownListClasses.selected)) {\n            this.removeFocus();\n            li.classList.add(dropDownListClasses.focus);\n        }\n    };\n    ComboBox.prototype.targetFocus = function (e) {\n        if (Browser.isDevice && !this.allowFiltering) {\n            this.preventFocus = false;\n        }\n        this.onFocus(e);\n    };\n    ComboBox.prototype.dropDownClick = function (e) {\n        e.preventDefault();\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.dropDownClick.call(this, e);\n    };\n    ComboBox.prototype.customValue = function (e) {\n        var _this = this;\n        var value = this.getValueByText(this.inputElement.value);\n        if (!this.allowCustom && this.inputElement.value !== '') {\n            var previousValue = this.previousValue;\n            var currentValue = this.value;\n            this.setProperties({ value: value });\n            if (isNullOrUndefined(this.value)) {\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n            if (this.autofill && previousValue === this.value && currentValue !== this.value) {\n                this.onChangeEvent(null);\n            }\n        }\n        else if (this.inputElement.value.trim() !== '') {\n            var previousValue_1 = this.value;\n            if (isNullOrUndefined(value)) {\n                var value_1 = this.inputElement.value === '' ? null : this.inputElement.value;\n                // eslint-disable-next-line max-len\n                var eventArgs = { text: value_1, item: {} };\n                if (!this.initial) {\n                    this.trigger('customValueSpecifier', eventArgs, function (eventArgs) {\n                        _this.updateCustomValueCallback(value_1, eventArgs, previousValue_1, e);\n                    });\n                }\n                else {\n                    this.updateCustomValueCallback(value_1, eventArgs, previousValue_1);\n                }\n            }\n            else {\n                this.isSelectCustom = false;\n                this.setProperties({ value: value });\n                if (previousValue_1 !== this.value) {\n                    this.onChangeEvent(e);\n                }\n            }\n        }\n        else if (this.allowCustom) {\n            this.isSelectCustom = true;\n        }\n    };\n    ComboBox.prototype.updateCustomValueCallback = function (value, eventArgs, previousValue, e) {\n        var fields = this.fields;\n        var item = eventArgs.item;\n        var dataItem = {};\n        if (item && getValue(fields.text, item) && getValue(fields.value, item)) {\n            dataItem = item;\n        }\n        else {\n            setValue(fields.text, value, dataItem);\n            setValue(fields.value, value, dataItem);\n        }\n        this.itemData = dataItem;\n        var changeData = {\n            text: getValue(fields.text, this.itemData),\n            value: getValue(fields.value, this.itemData),\n            index: null\n        };\n        this.setProperties(changeData, true);\n        this.setSelection(null, null);\n        this.isSelectCustom = true;\n        if (previousValue !== this.value) {\n            this.onChangeEvent(e);\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {ComboBoxModel} newProp - Returns the dynamic property value of the component.\n     * @param {ComboBoxModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'combobox') {\n            this.checkData(newProp);\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    if (this.readonly) {\n                        EventHandler.remove(this.inputElement, 'input', this.onInput);\n                        EventHandler.remove(this.inputElement, 'keyup', this.onFilterUp);\n                        EventHandler.remove(this.inputElement, 'keydown', this.onFilterDown);\n                    }\n                    else {\n                        EventHandler.add(this.inputElement, 'input', this.onInput, this);\n                        EventHandler.add(this.inputElement, 'keyup', this.onFilterUp, this);\n                        EventHandler.add(this.inputElement, 'keydown', this.onFilterDown, this);\n                    }\n                    this.setReadOnly();\n                    break;\n                case 'allowFiltering':\n                    this.setSearchBox();\n                    if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                case 'allowCustom':\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var comboProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, comboProps.newProperty, comboProps.oldProperty);\n                    if (this.isFiltering() && prop === 'dataSource' && isNullOrUndefined(this.list) && this.itemTemplate &&\n                        this.getModuleName() === 'combobox') {\n                        _super.prototype.renderList.call(this);\n                    }\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * To initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    ComboBox.prototype.render = function () {\n        _super.prototype.render.call(this);\n        this.setSearchBox();\n        if (this.isFiltering() && this.getModuleName() === 'combobox' && isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this);\n        }\n        this.renderComplete();\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    ComboBox.prototype.getModuleName = function () {\n        return 'combobox';\n    };\n    /**\n     * Adds a new item to the combobox popup list. By default, new item appends to the list as the last item,\n     * but you can insert based on the index parameter.\n     *\n     * @param  { Object[] } items - Specifies an array of JSON data or a JSON data.\n     * @param { number } itemIndex - Specifies the index to place the newly added item in the popup list.\n     * @returns {void}\n\n     */\n    ComboBox.prototype.addItem = function (items, itemIndex) {\n        _super.prototype.addItem.call(this, items, itemIndex);\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n\n     */\n    ComboBox.prototype.filter = function (dataSource, query, fields) {\n        _super.prototype.filter.call(this, dataSource, query, fields);\n    };\n    /**\n     * Opens the popup that displays the list of items.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.showPopup = function () {\n        _super.prototype.showPopup.call(this);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.hidePopup = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        var inputValue = this.inputElement && this.inputElement.value === '' ? null\n            : this.inputElement && this.inputElement.value;\n        if (!isNullOrUndefined(this.listData)) {\n            var isEscape = this.isEscapeKey;\n            if (this.isEscapeKey) {\n                Input.setValue(this.typedString, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.isEscapeKey = false;\n            }\n            if (this.autofill) {\n                this.removeFillSelection();\n            }\n            var dataItem = this.isSelectCustom ? { text: '' } : this.getItemData();\n            var selected = this.list.querySelector('.' + dropDownListClasses.selected);\n            if (this.inputElement && dataItem.text === this.inputElement.value && !isNullOrUndefined(selected)) {\n                if (this.isSelected) {\n                    this.onChangeEvent(e);\n                    this.isSelectCustom = false;\n                }\n                _super.prototype.hidePopup.call(this, e);\n                return;\n            }\n            if (this.getModuleName() === 'combobox' && this.inputElement.value.trim() !== '') {\n                var searchItem = Search(this.inputElement.value, this.liCollections, 'Equal', true);\n                this.selectedLI = searchItem.item;\n                if (isNullOrUndefined(searchItem.index)) {\n                    searchItem.index = Search(this.inputElement.value, this.liCollections, 'StartsWith', true).index;\n                }\n                this.activeIndex = searchItem.index;\n                if (!isNullOrUndefined(this.selectedLI)) {\n                    this.updateSelectedItem(this.selectedLI, null, true);\n                }\n                else if (isEscape) {\n                    this.isSelectCustom = true;\n                    this.removeSelection();\n                }\n            }\n            if (!this.isEscapeKey && this.isTyped && !this.isInteracted) {\n                this.customValue(e);\n            }\n        }\n        if (isNullOrUndefined(this.listData) && this.allowCustom && !isNullOrUndefined(inputValue) && inputValue !== this.value) {\n            this.customValue();\n        }\n        _super.prototype.hidePopup.call(this, e);\n    };\n    /**\n     * Sets the focus to the component for interaction.\n     *\n     * @returns {void}\n     */\n    ComboBox.prototype.focusIn = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice && !this.isFiltering()) {\n            this.preventFocus = true;\n        }\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Allows you to clear the selected values from the component.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.clear = function () {\n        this.value = null;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Moves the focus from the component if the component is already focused.\n     *\n     * @returns {void}\n\n     */\n    ComboBox.prototype.focusOut = function (e) {\n        /* eslint-enable valid-jsdoc, jsdoc/require-param */\n        _super.prototype.focusOut.call(this, e);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets all the list items bound on this component.\n     *\n     * @returns {Element[]}\n\n     */\n    ComboBox.prototype.getItems = function () {\n        return _super.prototype.getItems.call(this);\n    };\n    /**\n     * Gets the data Object that matches the given value.\n     *\n     * @param { string | number } value - Specifies the value of the list item.\n     * @returns {Object}\n\n     */\n    ComboBox.prototype.getDataByValue = function (value) {\n        return _super.prototype.getDataByValue.call(this, value);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    ComboBox.prototype.renderHightSearch = function () {\n        // update high light search\n    };\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"autofill\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"allowCustom\", void 0);\n    __decorate([\n        Property({})\n    ], ComboBox.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"index\", void 0);\n    __decorate([\n        Property(true)\n    ], ComboBox.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"customValueSpecifier\", void 0);\n    __decorate([\n        Event()\n    ], ComboBox.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property('Never')\n    ], ComboBox.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"width\", void 0);\n    __decorate([\n        Property('300px')\n    ], ComboBox.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], ComboBox.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], ComboBox.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], ComboBox.prototype, \"value\", void 0);\n    ComboBox = __decorate([\n        NotifyPropertyChanges\n    ], ComboBox);\n    return ComboBox;\n}(DropDownList));\nexport { ComboBox };\n","/* eslint-disable jsdoc/require-param, valid-jsdoc */\n/**\n * Function helps to find which highlightSearch is to call based on your data.\n *\n * @param  {HTMLElement} element - Specifies an li element.\n * @param  {string} query - Specifies the string to be highlighted.\n * @param  {boolean} ignoreCase - Specifies the ignoreCase option.\n * @param  {HightLightType} type - Specifies the type of highlight.\n * @returns {void}\n */\nexport function highlightSearch(element, query, ignoreCase, type) {\n    if (query === '') {\n        return;\n    }\n    else {\n        var ignoreRegex = ignoreCase ? 'gim' : 'gm';\n        // eslint-disable-next-line\n        query = /^[a-zA-Z0-9- ]*$/.test(query) ? query : query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n        var replaceQuery = type === 'StartsWith' ? '^(' + query + ')' : type === 'EndsWith' ?\n            '(' + query + ')$' : '(' + query + ')';\n        findTextNode(element, new RegExp(replaceQuery, ignoreRegex));\n    }\n}\n/* eslint-enable jsdoc/require-param, valid-jsdoc */\n/**\n *\n * @param {HTMLElement} element - Specifies the element.\n * @param {RegExp} pattern - Specifies the regex to match the searched text.\n * @returns {void}\n */\nfunction findTextNode(element, pattern) {\n    for (var index = 0; element.childNodes && (index < element.childNodes.length); index++) {\n        if (element.childNodes[index].nodeType === 3 && element.childNodes[index].textContent.trim() !== '') {\n            var value = element.childNodes[index].nodeValue.trim().replace(pattern, '<span class=\"e-highlight\">$1</span>');\n            element.childNodes[index].nodeValue = '';\n            element.innerHTML = element.innerHTML.trim() + value;\n            break;\n        }\n        else {\n            findTextNode(element.childNodes[index], pattern);\n        }\n    }\n}\n/**\n * Function helps to remove highlighted element based on your data.\n *\n * @param  {HTMLElement} content - Specifies an content element.\n * @returns {void}\n */\nexport function revertHighlightSearch(content) {\n    var contentElement = content.querySelectorAll('.e-highlight');\n    for (var i = contentElement.length - 1; i >= 0; i--) {\n        var parent_1 = contentElement[i].parentNode;\n        var text = document.createTextNode(contentElement[i].textContent);\n        parent_1.replaceChild(text, contentElement[i]);\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../combo-box/combo-box-model.d.ts'/>\nimport { Property, EventHandler, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { Event, Complex } from '@syncfusion/ej2-base';\nimport { removeClass, attributes, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { dropDownListClasses } from '../drop-down-list/drop-down-list';\nimport { ComboBox } from '../combo-box/combo-box';\nimport { highlightSearch, revertHighlightSearch } from '../common/highlight-search';\nimport { Search } from '../common/incremental-search';\nimport { FieldSettings } from '../drop-down-base/drop-down-base';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\ndropDownListClasses.root = 'e-autocomplete';\ndropDownListClasses.icon = 'e-input-group-icon e-ddl-icon e-search-icon';\n/**\n * The AutoComplete component provides the matched suggestion list when type into the input,\n * from which the user can select one.\n * ```html\n * <input id=\"list\" type=\"text\"/>\n * ```\n * ```typescript\n *   let atcObj:AutoComplete = new AutoComplete();\n *   atcObj.appendTo(\"#list\");\n * ```\n */\nvar AutoComplete = /** @class */ (function (_super) {\n    __extends(AutoComplete, _super);\n    /**\n     * * Constructor for creating the widget\n     *\n     * @param {AutoCompleteModel} options - Specifies the AutoComplete model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function AutoComplete(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isFiltered = false;\n        _this.searchList = false;\n        return _this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.preRender = function () {\n        _super.prototype.preRender.call(this);\n    };\n    AutoComplete.prototype.getLocaleName = function () {\n        return 'auto-complete';\n    };\n    AutoComplete.prototype.getNgDirective = function () {\n        return 'EJS-AUTOCOMPLETE';\n    };\n    AutoComplete.prototype.getQuery = function (query) {\n        var filterQuery = query ? query.clone() : this.query ? this.query.clone() : new Query();\n        var filterType = (this.queryString === '' && !isNullOrUndefined(this.value)) ? 'equal' : this.filterType;\n        var queryString = (this.queryString === '' && !isNullOrUndefined(this.value)) ? this.value : this.queryString;\n        if (this.isFiltered) {\n            return filterQuery;\n        }\n        if (this.queryString !== null && this.queryString !== '') {\n            var dataType = this.typeOfData(this.dataSource).typeof;\n            if (!(this.dataSource instanceof DataManager) && dataType === 'string' || dataType === 'number') {\n                filterQuery.where('', filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n            else {\n                var mapping = !isNullOrUndefined(this.fields.value) ? this.fields.value : '';\n                filterQuery.where(mapping, filterType, queryString, this.ignoreCase, this.ignoreAccent);\n            }\n        }\n        if (!isNullOrUndefined(this.suggestionCount)) {\n            // Since defualt value of suggestioncount is 20, checked the condition\n            if (this.suggestionCount !== 20) {\n                for (var queryElements = 0; queryElements < filterQuery.queries.length; queryElements++) {\n                    if (filterQuery.queries[queryElements].fn === 'onTake') {\n                        filterQuery.queries.splice(queryElements, 1);\n                    }\n                }\n            }\n            filterQuery.take(this.suggestionCount);\n        }\n        return filterQuery;\n    };\n    AutoComplete.prototype.searchLists = function (e) {\n        var _this = this;\n        this.isTyped = true;\n        this.isDataFetched = this.isSelectCustom = false;\n        if (isNullOrUndefined(this.list)) {\n            _super.prototype.renderList.call(this, true);\n        }\n        this.queryString = this.filterInput.value;\n        if (e.type !== 'mousedown' && (e.keyCode === 40 || e.keyCode === 38)) {\n            this.queryString = this.queryString === '' ? null : this.queryString;\n            this.beforePopupOpen = true;\n            this.resetList(this.dataSource, this.fields);\n            return;\n        }\n        this.isSelected = false;\n        this.activeIndex = null;\n        var eventArgs = {\n            preventDefaultAction: false,\n            text: this.filterInput.value,\n            updateData: function (dataSource, query, fields) {\n                if (eventArgs.cancel) {\n                    return;\n                }\n                _this.isFiltered = true;\n                _this.filterAction(dataSource, query, fields);\n            },\n            cancel: false\n        };\n        this.trigger('filtering', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel && !_this.isFiltered && !eventArgs.preventDefaultAction) {\n                _this.searchList = true;\n                _this.filterAction(_this.dataSource, null, _this.fields);\n            }\n        });\n    };\n    /**\n     * To filter the data from given data source by using query\n     *\n     * @param  {Object[] | DataManager } dataSource - Set the data source to filter.\n     * @param  {Query} query - Specify the query to filter the data.\n     * @param  {FieldSettingsModel} fields - Specify the fields to map the column in the data table.\n     * @returns {void}\n\n     */\n    AutoComplete.prototype.filter = function (dataSource, query, fields) {\n        this.isFiltered = true;\n        this.filterAction(dataSource, query, fields);\n    };\n    AutoComplete.prototype.filterAction = function (dataSource, query, fields) {\n        this.beforePopupOpen = true;\n        if (this.queryString !== '' && (this.queryString.length >= this.minLength)) {\n            this.resetList(dataSource, fields, query);\n        }\n        else {\n            this.hidePopup();\n            this.beforePopupOpen = false;\n        }\n        this.renderReactTemplates();\n    };\n    AutoComplete.prototype.clearAll = function (e, property) {\n        if (isNullOrUndefined(property) || (!isNullOrUndefined(property) && isNullOrUndefined(property.dataSource))) {\n            _super.prototype.clearAll.call(this, e);\n        }\n        if (this.beforePopupOpen) {\n            this.hidePopup();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.onActionComplete = function (ulElement, list, e, isUpdated) {\n        this.fixedHeaderElement = null;\n        _super.prototype.onActionComplete.call(this, ulElement, list, e);\n        var item = this.list.querySelector('.' + dropDownListClasses.li);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], dropDownListClasses.focus);\n        }\n        this.postBackAction();\n    };\n    AutoComplete.prototype.postBackAction = function () {\n        if (this.autofill && !isNullOrUndefined(this.liCollections[0]) && this.searchList) {\n            var items = [this.liCollections[0]];\n            var searchItem = Search(this.inputElement.value, items, 'StartsWith', this.ignoreCase);\n            this.searchList = false;\n            if (!isNullOrUndefined(searchItem.item)) {\n                _super.prototype.setAutoFill.call(this, this.liCollections[0], true);\n            }\n        }\n    };\n    AutoComplete.prototype.setSelection = function (li, e) {\n        if (!this.isValidLI(li)) {\n            return;\n        }\n        if (!isNullOrUndefined(e) && e.type === 'keydown' && e.action !== 'enter'\n            && e.action !== 'tab' && this.isValidLI(li)) {\n            var value = this.getFormattedValue(li.getAttribute('data-value'));\n            this.activeIndex = this.getIndexByValue(value);\n            this.setHoverList(li);\n            this.selectedLI = li;\n            this.setScrollPosition(e);\n            if (this.autofill && this.isPopupOpen) {\n                this.preventAutoFill = false;\n                _super.prototype.setAutoFill.call(this, li);\n            }\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedLI ? this.selectedLI.id : null });\n        }\n        else {\n            _super.prototype.setSelection.call(this, li, e);\n        }\n    };\n    AutoComplete.prototype.listOption = function (dataSource, fieldsSettings) {\n        var _this = this;\n        var fields = _super.prototype.listOption.call(this, dataSource, fieldsSettings);\n        if (isNullOrUndefined(fields.itemCreated)) {\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    if (_this.element.tagName === _this.getNgDirective() && _this.itemTemplate) {\n                        setTimeout(function () {\n                            highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                        }, 0);\n                    }\n                    else {\n                        highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                    }\n                }\n            };\n        }\n        else {\n            var itemCreated_1 = fields.itemCreated;\n            fields.itemCreated = function (e) {\n                if (_this.highlight) {\n                    highlightSearch(e.item, _this.queryString, _this.ignoreCase, _this.filterType);\n                }\n                itemCreated_1.apply(_this, [e]);\n            };\n        }\n        return fields;\n    };\n    AutoComplete.prototype.isFiltering = function () {\n        return true;\n    };\n    AutoComplete.prototype.renderPopup = function () {\n        this.list.scrollTop = 0;\n        _super.prototype.renderPopup.call(this);\n    };\n    AutoComplete.prototype.isEditTextBox = function () {\n        return true && this.inputElement.value.trim() !== '';\n    };\n    AutoComplete.prototype.isPopupButton = function () {\n        return this.showPopupButton;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    AutoComplete.prototype.isSelectFocusItem = function (element) {\n        return false;\n    };\n    /**\n     * Search the entered text and show it in the suggestion list if available.\n     *\n     * @returns {void}\n\n     */\n    AutoComplete.prototype.showPopup = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.beforePopupOpen) {\n            this.refreshPopup();\n            return;\n        }\n        this.beforePopupOpen = true;\n        this.preventAutoFill = true;\n        if (isNullOrUndefined(this.list)) {\n            this.renderList();\n        }\n        else {\n            this.resetList(this.dataSource, this.fields);\n        }\n    };\n    /**\n     * Hides the popup if it is in open state.\n     *\n     * @returns {void}\n     */\n    AutoComplete.prototype.hidePopup = function () {\n        _super.prototype.hidePopup.call(this);\n        this.activeIndex = -1;\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {AutoCompleteModel} newProp - Returns the dynamic property value of the component.\n     * @param {AutoCompleteModel} oldProp - Returns the previous property value of the component.\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.getModuleName() === 'autocomplete') {\n            this.setUpdateInitial(['fields', 'query', 'dataSource'], newProp);\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showPopupButton':\n                    if (this.showPopupButton) {\n                        var button = Input.appendSpan(dropDownListClasses.icon, this.inputWrapper.container, this.createElement);\n                        this.inputWrapper.buttons[0] = button;\n                        if (this.inputWrapper && this.inputWrapper.buttons && this.inputWrapper.buttons[0]) {\n                            EventHandler.add(this.inputWrapper.buttons[0], 'click', this.dropDownClick, this);\n                        }\n                    }\n                    else {\n                        detach(this.inputWrapper.buttons[0]);\n                        this.inputWrapper.buttons[0] = null;\n                    }\n                    break;\n                default: {\n                    // eslint-disable-next-line max-len\n                    var atcProps = this.getPropObject(prop, newProp, oldProp);\n                    _super.prototype.onPropertyChanged.call(this, atcProps.newProperty, atcProps.oldProperty);\n                    break;\n                }\n            }\n        }\n    };\n    AutoComplete.prototype.renderHightSearch = function () {\n        if (this.highlight) {\n            for (var i = 0; i < this.liCollections.length; i++) {\n                var isHighlight = this.ulElement.querySelector('.e-active');\n                if (!isHighlight) {\n                    revertHighlightSearch(this.liCollections[i]);\n                    highlightSearch(this.liCollections[i], this.queryString, this.ignoreCase, this.filterType);\n                }\n            }\n        }\n    };\n    /**\n     * Return the module name of this component.\n     *\n     * @private\n     * @returns {string} Return the module name of this component.\n     */\n    AutoComplete.prototype.getModuleName = function () {\n        return 'autocomplete';\n    };\n    /**\n     * To initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    AutoComplete.prototype.render = function () {\n        _super.prototype.render.call(this);\n    };\n    __decorate([\n        Complex({ value: null, iconCss: null, groupBy: null }, FieldSettings)\n    ], AutoComplete.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], AutoComplete.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"showPopupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"highlight\", void 0);\n    __decorate([\n        Property(20)\n    ], AutoComplete.prototype, \"suggestionCount\", void 0);\n    __decorate([\n        Property({})\n    ], AutoComplete.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"query\", void 0);\n    __decorate([\n        Property(1)\n    ], AutoComplete.prototype, \"minLength\", void 0);\n    __decorate([\n        Property('Contains')\n    ], AutoComplete.prototype, \"filterType\", void 0);\n    __decorate([\n        Event()\n    ], AutoComplete.prototype, \"filtering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"index\", void 0);\n    __decorate([\n        Property('Never')\n    ], AutoComplete.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"valueTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property(false)\n    ], AutoComplete.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(null)\n    ], AutoComplete.prototype, \"text\", void 0);\n    AutoComplete = __decorate([\n        NotifyPropertyChanges\n    ], AutoComplete);\n    return AutoComplete;\n}(ComboBox));\nexport { AutoComplete };\n","import { AutoComplete } from '@syncfusion/ej2-dropdowns';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Browser, isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { getZIndexCalcualtion, eventPromise } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * `string filterui` render string column.\n *\n * @hidden\n */\nvar StringFilterUI = /** @class */ (function () {\n    function StringFilterUI(parent, serviceLocator, filterSettings) {\n        this.parent = parent;\n        this.serLocator = serviceLocator;\n        this.filterSettings = filterSettings;\n        if (this.parent) {\n            this.parent.on(events.filterMenuClose, this.destroy, this);\n            this.parent.on(events.destroy, this.destroy, this);\n        }\n    }\n    StringFilterUI.prototype.create = function (args) {\n        this.instance = this.parent.createElement('input', { className: 'e-flmenu-input', id: 'strui-' + args.column.uid });\n        args.target.appendChild(this.instance);\n        this.dialogObj = args.dialogObj;\n        this.actObj = this.getAutoCompleteOptions(args);\n        this.actObj.appendTo(this.instance);\n    };\n    StringFilterUI.prototype.getAutoCompleteOptions = function (args) {\n        var isForeignColumn = args.column.isForeignColumn();\n        var foreignColumnQuery;\n        if (isForeignColumn) {\n            foreignColumnQuery = new Query();\n            foreignColumnQuery.params = this.parent.query.params;\n        }\n        var dataSource = isForeignColumn ? args.column.dataSource : this.parent.dataSource;\n        var fields = { value: isForeignColumn ? args.column.foreignKeyValue : args.column.field };\n        var autoComplete = new AutoComplete(extend({\n            dataSource: dataSource instanceof DataManager ? dataSource : new DataManager(dataSource),\n            fields: fields,\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            query: isForeignColumn ? foreignColumnQuery : this.parent.query.clone(),\n            sortOrder: 'Ascending',\n            cssClass: 'e-popup-flmenu',\n            autofill: true,\n            placeholder: args.localizeText.getConstant('EnterValue')\n        }, args.column.filter.params));\n        this.acFocus = this.focus(autoComplete, args);\n        this.acComplete = this.actionComplete(autoComplete);\n        this.acOpen = this.openPopup.bind(this);\n        autoComplete.addEventListener(literals.focus, this.acFocus);\n        autoComplete.addEventListener(literals.open, this.acOpen);\n        autoComplete.addEventListener(events.actionComplete, this.acComplete);\n        if (dataSource && 'result' in dataSource) {\n            var query = this.parent.getQuery ? this.parent.getQuery().clone() : new Query();\n            var defObj = eventPromise({ requestType: 'stringfilterrequest' }, query);\n            this.parent.trigger(events.dataStateChange, defObj.state);\n            var def = defObj.deffered;\n            def.promise.then(function (e) {\n                autoComplete.dataSource = new DataManager(e);\n            });\n        }\n        return autoComplete;\n    };\n    StringFilterUI.prototype.write = function (args) {\n        if (args.filteredValue !== '' && !isNullOrUndefined(args.filteredValue)) {\n            var struiObj = document.querySelector('#strui-' + args.column.uid).ej2_instances[0];\n            struiObj.value = args.filteredValue;\n        }\n    };\n    StringFilterUI.prototype.read = function (element, column, filterOptr, filterObj) {\n        var actuiObj = document.querySelector('#strui-' + column.uid).ej2_instances[0];\n        if (Browser.isDevice) {\n            actuiObj.hidePopup();\n            actuiObj.focusOut();\n        }\n        var filterValue = actuiObj.value;\n        if (isNullOrUndefined(filterValue) || filterValue === '') {\n            filterValue = null;\n        }\n        filterObj.filterByColumn(column.field, filterOptr, filterValue, 'and', this.parent.filterSettings.enableCaseSensitivity);\n    };\n    StringFilterUI.prototype.openPopup = function (args) {\n        getZIndexCalcualtion(args, this.dialogObj);\n    };\n    StringFilterUI.prototype.focus = function (actObj, args) {\n        return function () {\n            actObj.filterType = args.getOptrInstance.getFlOperator();\n        };\n    };\n    StringFilterUI.prototype.actionComplete = function (actObj) {\n        return function (e) {\n            e.result = e.result.filter(function (obj, index, arr) {\n                return arr.map(function (mapObj) {\n                    return (getValue(actObj.fields.value, mapObj));\n                }).indexOf(getValue((actObj.fields.value), obj)) === index;\n            });\n        };\n    };\n    StringFilterUI.prototype.destroy = function () {\n        if (!this.actObj || this.actObj.isDestroyed) {\n            return;\n        }\n        this.actObj.removeEventListener(literals.focus, this.acFocus);\n        this.actObj.removeEventListener(literals.open, this.acOpen);\n        this.actObj.removeEventListener(events.actionComplete, this.acComplete);\n        this.actObj.destroy();\n        this.parent.off(events.filterMenuClose, this.destroy);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    return StringFilterUI;\n}());\nexport { StringFilterUI };\n","import { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { extend, isUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\n/**\n * `numberfilterui` render number column.\n *\n * @hidden\n */\nvar NumberFilterUI = /** @class */ (function () {\n    function NumberFilterUI(parent, serviceLocator, filterSettings) {\n        this.filterSettings = filterSettings;\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        if (this.parent) {\n            this.parent.on(events.filterMenuClose, this.destroy, this);\n            this.parent.on(events.destroy, this.destroy, this);\n        }\n    }\n    NumberFilterUI.prototype.keyEventHandler = function (args) {\n        if (args.keyCode === 13 || args.keyCode === 9) {\n            var evt = document.createEvent('HTMLEvents');\n            evt.initEvent('change', false, true);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.dispatchEvent(evt);\n        }\n    };\n    NumberFilterUI.prototype.create = function (args) {\n        this.instance = this.parent.createElement('input', { className: 'e-flmenu-input', id: 'numberui-' + args.column.uid });\n        args.target.appendChild(this.instance);\n        this.numericTxtObj = new NumericTextBox(extend({\n            format: typeof (args.column.format) === 'string' || isUndefined(args.column.format) ? args.column.format :\n                args.column.format.format,\n            locale: this.parent.locale,\n            cssClass: 'e-popup-flmenu',\n            placeholder: args.localizeText.getConstant('EnterValue'),\n            enableRtl: this.parent.enableRtl\n        }, args.column.filter.params));\n        this.numericTxtObj.appendTo(this.instance);\n    };\n    NumberFilterUI.prototype.write = function (args) {\n        var numberuiObj = document.querySelector('#numberui-' + args.column.uid).ej2_instances[0];\n        numberuiObj.element.addEventListener('keydown', this.keyEventHandler);\n        numberuiObj.value = args.filteredValue;\n    };\n    NumberFilterUI.prototype.read = function (element, column, filterOptr, filterObj) {\n        var numberuiObj = document.querySelector('#numberui-' + column.uid).ej2_instances[0];\n        var filterValue = numberuiObj.value;\n        filterObj.filterByColumn(column.field, filterOptr, filterValue, 'and', true);\n    };\n    NumberFilterUI.prototype.destroy = function () {\n        if (!this.numericTxtObj || this.numericTxtObj.isDestroyed) {\n            return;\n        }\n        this.numericTxtObj.destroy();\n        this.parent.off(events.filterMenuClose, this.destroy);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    return NumberFilterUI;\n}());\nexport { NumberFilterUI };\n","import { getZIndexCalcualtion } from '../base/util';\nimport { Query, DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * `boolfilterui` render boolean column.\n *\n * @hidden\n */\nvar BooleanFilterUI = /** @class */ (function () {\n    function BooleanFilterUI(parent, serviceLocator, filterSettings) {\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.filterSettings = filterSettings;\n        if (this.parent) {\n            this.parent.on(events.filterMenuClose, this.destroy, this);\n            this.parent.on(events.destroy, this.destroy, this);\n        }\n    }\n    BooleanFilterUI.prototype.create = function (args) {\n        var isForeignColumn = args.column.isForeignColumn();\n        var dataSource = isForeignColumn ? args.column.dataSource : this.parent.dataSource;\n        var fields = isForeignColumn ? args.column.foreignKeyValue : args.column.field;\n        this.elem = this.parent.createElement('input', { className: 'e-flmenu-input', id: 'bool-ui-' + args.column.uid });\n        args.target.appendChild(this.elem);\n        this.dialogObj = args.dialogObj;\n        this.dropInstance = new DropDownList(extend({\n            dataSource: dataSource instanceof DataManager ?\n                dataSource : new DataManager(dataSource),\n            query: new Query().select(fields),\n            fields: { text: fields, value: fields },\n            placeholder: args.localizeText.getConstant('SelectValue'),\n            cssClass: 'e-popup-flmenu',\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl\n        }, args.column.filter.params));\n        this.ddOpen = this.openPopup.bind(this);\n        this.ddComplete = this.actionComplete(fields);\n        this.dropInstance.addEventListener(literals.open, this.ddOpen);\n        this.dropInstance.addEventListener(events.actionComplete, this.ddComplete);\n        this.dropInstance.appendTo(this.elem);\n    };\n    BooleanFilterUI.prototype.write = function (args) {\n        var drpuiObj = document.querySelector('#bool-ui-' + args.column.uid).ej2_instances[0];\n        if (!isNullOrUndefined(args.filteredValue)) {\n            drpuiObj.text = args.filteredValue;\n        }\n    };\n    BooleanFilterUI.prototype.read = function (element, column, filterOptr, filterObj) {\n        var drpuiObj = document.querySelector('#bool-ui-' + column.uid).ej2_instances[0];\n        var filterValue = drpuiObj.value;\n        filterObj.filterByColumn(column.field, filterOptr, filterValue, 'and', false);\n    };\n    BooleanFilterUI.prototype.openPopup = function (args) {\n        getZIndexCalcualtion(args, this.dialogObj);\n    };\n    BooleanFilterUI.prototype.actionComplete = function (fields) {\n        return function (e) {\n            e.result = DataUtil.distinct(e.result, fields, true);\n        };\n    };\n    BooleanFilterUI.prototype.destroy = function () {\n        if (!this.dropInstance || this.dropInstance.isDestroyed) {\n            return;\n        }\n        this.dropInstance.removeEventListener(literals.open, this.ddOpen);\n        this.dropInstance.removeEventListener(events.actionComplete, this.ddComplete);\n        this.dropInstance.destroy();\n        this.parent.off(events.filterMenuClose, this.destroy);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    return BooleanFilterUI;\n}());\nexport { BooleanFilterUI };\n","import { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { getCustomDateFormat } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * `datefilterui` render date column.\n *\n * @hidden\n */\nvar DateFilterUI = /** @class */ (function () {\n    function DateFilterUI(parent, serviceLocator, filterSettings) {\n        this.dpOpen = this.openPopup.bind(this);\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.fltrSettings = filterSettings;\n        if (this.parent) {\n            this.parent.on(events.filterMenuClose, this.destroy, this);\n            this.parent.on(events.destroy, this.destroy, this);\n        }\n    }\n    DateFilterUI.prototype.create = function (args) {\n        var format = getCustomDateFormat(args.column.format, args.column.type);\n        this.dialogObj = args.dialogObj;\n        this.inputElem = this.parent.createElement('input', { className: 'e-flmenu-input', id: 'dateui-' + args.column.uid });\n        args.target.appendChild(this.inputElem);\n        if (args.column.type === 'date') {\n            this.datePickerObj = new DatePicker(extend({\n                format: format,\n                cssClass: 'e-popup-flmenu',\n                placeholder: args.localizeText.getConstant('ChooseDate'),\n                width: '100%',\n                locale: this.parent.locale,\n                enableRtl: this.parent.enableRtl\n            }, args.column.filter.params));\n        }\n        else if (args.column.type === 'datetime') {\n            this.datePickerObj = new DateTimePicker(extend({\n                format: format,\n                cssClass: 'e-popup-flmenu',\n                placeholder: args.localizeText.getConstant('ChooseDate'),\n                width: '100%',\n                locale: this.parent.locale,\n                enableRtl: this.parent.enableRtl\n            }, args.column.filter.params));\n        }\n        this.datePickerObj.addEventListener(literals.open, this.dpOpen);\n        this.datePickerObj.appendTo(this.inputElem);\n    };\n    DateFilterUI.prototype.write = function (args) {\n        var dateuiObj = document.querySelector('#dateui-' + args.column.uid).ej2_instances[0];\n        dateuiObj.value = !isNullOrUndefined(args.filteredValue) ? new Date(args.filteredValue) : null;\n    };\n    DateFilterUI.prototype.read = function (element, column, filterOptr, filterObj) {\n        var dateuiObj = document.querySelector('#dateui-' + column.uid).ej2_instances[0];\n        var filterValue = dateuiObj.value;\n        filterValue = isNullOrUndefined(filterValue) ? null : filterValue;\n        filterObj.filterByColumn(column.field, filterOptr, filterValue, 'and', true);\n    };\n    DateFilterUI.prototype.openPopup = function (args) {\n        args.popup.element.style.zIndex = (this.dialogObj.zIndex + 1).toString();\n    };\n    DateFilterUI.prototype.destroy = function () {\n        this.parent.off(events.filterMenuClose, this.destroy);\n        this.parent.off(events.destroy, this.destroy);\n        if (isNullOrUndefined(this.datePickerObj) || this.datePickerObj.isDestroyed) {\n            return;\n        }\n        this.datePickerObj.removeEventListener(literals.open, this.dpOpen);\n        this.datePickerObj.destroy();\n    };\n    return DateFilterUI;\n}());\nexport { DateFilterUI };\n","import { isNullOrUndefined, getValue, remove } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { FlMenuOptrUI } from './filter-menu-operator';\nimport { StringFilterUI } from './string-filter-ui';\nimport { NumberFilterUI } from './number-filter-ui';\nimport { BooleanFilterUI } from './boolean-filter-ui';\nimport { DateFilterUI } from './date-filter-ui';\nimport { getFilterMenuPostion, parentsUntil, appendChildren, clearReactVueTemplates } from '../base/util';\nimport * as events from '../base/constant';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\n/**\n * `filter menu` render boolean column.\n *\n * @hidden\n */\nvar FilterMenuRenderer = /** @class */ (function () {\n    function FilterMenuRenderer(parent, filterSettings, serviceLocator, customFltrOperators, fltrObj) {\n        this.isDialogOpen = false;\n        this.maxHeight = '350px';\n        this.isMenuCheck = false;\n        this.colTypes = {\n            'string': StringFilterUI, 'number': NumberFilterUI, 'date': DateFilterUI, 'boolean': BooleanFilterUI, 'datetime': DateFilterUI\n        };\n        this.parent = parent;\n        this.filterSettings = filterSettings;\n        this.serviceLocator = serviceLocator;\n        this.customFilterOperators = customFltrOperators;\n        this.filterObj = fltrObj;\n        this.flMuiObj = new FlMenuOptrUI(this.parent, this.customFilterOperators, this.serviceLocator);\n        this.l10n = this.serviceLocator.getService('localization');\n        this.menuFilterBase = new CheckBoxFilterBase(parent);\n    }\n    FilterMenuRenderer.prototype.clearCustomFilter = function (col) {\n        this.clearBtnClick(col);\n    };\n    FilterMenuRenderer.prototype.applyCustomFilter = function (args) {\n        this.filterBtnClick(args.col);\n    };\n    FilterMenuRenderer.prototype.openDialog = function (args) {\n        this.options = args;\n        this.col = this.parent.getColumnByField(args.field);\n        if (isNullOrUndefined(this.col.filter) || (isNullOrUndefined(this.col.filter.type) || this.col.filter.type === 'Menu')) { ///\n            this.renderDlgContent(args.target, this.col);\n        }\n    };\n    FilterMenuRenderer.prototype.closeDialog = function (target) {\n        if (!this.dlgObj) {\n            return;\n        }\n        if (this.parent.isReact || this.parent.isVue) {\n            clearReactVueTemplates(this.parent, ['filterTemplate']);\n        }\n        var elem = document.getElementById(this.dlgObj.element.id);\n        if (this.dlgObj && !this.dlgObj.isDestroyed && elem) {\n            var argument = { cancel: false, column: this.col, target: target, element: elem };\n            this.parent.notify(events.filterMenuClose, argument);\n            if (argument.cancel) {\n                return;\n            }\n            this.isDialogOpen = false;\n            if (this.isMenuCheck) {\n                this.menuFilterBase.unWireEvents();\n                this.parent.off(events.cBoxFltrComplete, this.actionComplete);\n                this.isMenuCheck = false;\n            }\n            this.dlgObj.destroy();\n            remove(elem);\n        }\n        this.parent.notify(events.filterDialogClose, {});\n    };\n    FilterMenuRenderer.prototype.renderDlgContent = function (target, column) {\n        var args = {\n            requestType: events.filterBeforeOpen,\n            columnName: column.field, columnType: column.type\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.trigger(events.actionBegin, args);\n        var mainDiv = this.parent.createElement('div', { className: 'e-flmenu-maindiv', id: column.uid + '-flmenu' });\n        this.dlgDiv = this.parent.createElement('div', { className: 'e-flmenu', id: column.uid + '-flmdlg' });\n        this.dlgDiv.setAttribute('aria-label', this.l10n.getConstant('FilterMenuDialogARIA'));\n        if (this.parent.enableAdaptiveUI) {\n            var responsiveCnt = document.querySelector('.e-resfilter > .e-dlg-content > .e-mainfilterdiv');\n            responsiveCnt.appendChild(this.dlgDiv);\n        }\n        else {\n            this.parent.element.appendChild(this.dlgDiv);\n        }\n        this.dlgObj = new Dialog({\n            showCloseIcon: false,\n            closeOnEscape: false,\n            locale: this.parent.locale,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            created: this.dialogCreated.bind(this, target, column),\n            position: this.parent.element.classList.contains('e-device') ? { X: 'center', Y: 'center' } : { X: '', Y: '' },\n            target: this.parent.element.classList.contains('e-device') ? document.body : this.parent.element,\n            buttons: [{\n                    click: this.filterBtnClick.bind(this, column),\n                    buttonModel: {\n                        content: this.l10n.getConstant('FilterButton'), isPrimary: true, cssClass: 'e-flmenu-okbtn'\n                    }\n                },\n                {\n                    click: this.clearBtnClick.bind(this, column),\n                    buttonModel: { content: this.l10n.getConstant('ClearButton'), cssClass: 'e-flmenu-cancelbtn' }\n                }],\n            content: mainDiv,\n            width: (!isNullOrUndefined(parentsUntil(target, 'e-bigger'))) || this.parent.element.classList.contains('e-device') ? 260 : 250,\n            animationSettings: { effect: 'None' },\n            cssClass: 'e-filter-popup'\n        });\n        var isStringTemplate = 'isStringTemplate';\n        this.dlgObj[isStringTemplate] = true;\n        this.renderResponsiveDialog();\n        this.dlgObj.appendTo(this.dlgDiv);\n    };\n    FilterMenuRenderer.prototype.renderResponsiveDialog = function () {\n        var gObj = this.parent;\n        if (gObj.enableAdaptiveUI) {\n            this.dlgObj.position = { X: '', Y: '' };\n            this.dlgObj.target = document.querySelector('.e-resfilter > .e-dlg-content > .e-mainfilterdiv');\n            this.dlgObj.width = '100%';\n            this.dlgObj.isModal = false;\n            this.dlgObj.buttons = [{}];\n        }\n    };\n    FilterMenuRenderer.prototype.dialogCreated = function (target, column) {\n        if (!Browser.isDevice && target) {\n            getFilterMenuPostion(target, this.dlgObj);\n        }\n        this.renderFilterUI(target, column);\n        if (column.showColumnMenu) {\n            this.parent.notify(events.filterDialogCreated, {});\n        }\n        if (this.parent.enableAdaptiveUI) {\n            this.dlgObj.element.style.left = '0px';\n            this.dlgObj.element.style.maxHeight = 'none';\n        }\n        else {\n            this.dlgObj.element.style.maxHeight = this.maxHeight;\n        }\n        this.dlgObj.show();\n        if (!column.filterTemplate) {\n            this.writeMethod(column, this.dlgObj.element.querySelector('#' + column.uid + '-flmenu'));\n        }\n        var args = {\n            requestType: events.filterAfterOpen,\n            columnName: column.field, columnType: column.type\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.isDialogOpen = true;\n        if (!this.isMenuCheck) {\n            this.parent.trigger(events.actionComplete, args);\n        }\n    };\n    FilterMenuRenderer.prototype.renderFilterUI = function (target, col) {\n        var dlgConetntEle = this.dlgObj.element.querySelector('.e-flmenu-maindiv');\n        this.parent.log('column_type_missing', { column: col });\n        this.renderOperatorUI(dlgConetntEle, target, col);\n        this.renderFlValueUI(dlgConetntEle, target, col);\n    };\n    FilterMenuRenderer.prototype.renderOperatorUI = function (dlgConetntEle, target, column) {\n        this.flMuiObj.renderOperatorUI(dlgConetntEle, target, column, this.dlgObj, this.filterObj.menuOperator);\n    };\n    FilterMenuRenderer.prototype.renderFlValueUI = function (dlgConetntEle, target, column) {\n        var valueDiv = this.parent.createElement('div', { className: 'e-flmenu-valuediv' });\n        var fObj = this.filterObj;\n        dlgConetntEle.appendChild(valueDiv);\n        var instanceofFilterUI = new this.colTypes[column.type](this.parent, this.serviceLocator, this.parent.filterSettings);\n        if (column.filterTemplate) {\n            var fltrData = {};\n            var valueInString = 'value';\n            fltrData[column.field] = fltrData[valueInString] = fObj.values[column.field];\n            if (column.foreignKeyValue) {\n                fltrData[column.foreignKeyValue] = fObj.values[column.field];\n                fltrData[column.field] = undefined;\n            }\n            var col = 'column';\n            fltrData[col] = column;\n            var isReactCompiler = this.parent.isReact && typeof (column.filterTemplate) !== 'string';\n            var tempID = this.parent.element.id + column.uid + 'filterTemplate';\n            if (isReactCompiler) {\n                column.getFilterTemplate()(fltrData, this.parent, 'filterTemplate', tempID, null, null, valueDiv);\n                this.parent.renderTemplates();\n            }\n            else {\n                var compElement = column.getFilterTemplate()(fltrData, this.parent, 'filterTemplate', tempID);\n                appendChildren(valueDiv, compElement);\n            }\n            if (this.isMenuCheck) {\n                this.menuFilterBase.cBox = this.dlgObj.element.querySelector('.e-checkboxlist.e-fields');\n                this.menuFilterBase.wireEvents();\n                this.parent.on(events.cBoxFltrComplete, this.actionComplete, this);\n                this.menuFilterBase.getAllData();\n            }\n        }\n        else {\n            if (!isNullOrUndefined(column.filter) && !isNullOrUndefined(column.filter.ui)\n                && !isNullOrUndefined(column.filter.ui.create)) {\n                var temp = column.filter.ui.create;\n                if (typeof temp === 'string') {\n                    temp = getValue(temp, window);\n                }\n                temp({\n                    column: column, target: valueDiv,\n                    getOptrInstance: this.flMuiObj, dialogObj: this.dlgObj\n                });\n            }\n            else {\n                instanceofFilterUI.create({\n                    column: column, target: valueDiv,\n                    getOptrInstance: this.flMuiObj, localizeText: this.l10n, dialogObj: this.dlgObj\n                });\n            }\n        }\n    };\n    FilterMenuRenderer.prototype.writeMethod = function (col, dlgContentEle) {\n        var flValue;\n        var target = dlgContentEle.querySelector('.e-flmenu-valinput');\n        var instanceofFilterUI = new this.colTypes[col.type](this.parent, this.serviceLocator, this.parent.filterSettings);\n        var columns = this.filterSettings.columns;\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            if (col.uid === column.uid) {\n                flValue = column.value;\n            }\n        }\n        if (!isNullOrUndefined(col.filter) && !isNullOrUndefined(col.filter.ui)\n            && !isNullOrUndefined(col.filter.ui.write)) {\n            var temp = col.filter.ui.write;\n            if (typeof temp === 'string') {\n                temp = getValue(temp, window);\n            }\n            temp({ column: col, target: target, parent: this.parent, filteredValue: flValue });\n        }\n        else {\n            instanceofFilterUI.write({ column: col, target: target, parent: this.parent, filteredValue: flValue });\n        }\n    };\n    FilterMenuRenderer.prototype.filterBtnClick = function (col) {\n        var flValue;\n        var targ = this.dlgObj.element.querySelector('.e-flmenu-valuediv input');\n        var flOptrValue = this.flMuiObj.getFlOperator();\n        var instanceofFilterUI = new this.colTypes[col.type](this.parent, this.serviceLocator, this.parent.filterSettings);\n        if (col.filterTemplate) {\n            var element = this.dlgDiv.querySelector('.e-flmenu-valuediv');\n            var fltrValue = void 0;\n            if (element.children[0].value) {\n                fltrValue = element.children[0].value;\n            }\n            else {\n                if (!isNullOrUndefined(element.children[0].ej2_instances)) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    fltrValue = (this.parent.isAngular ? element.children[0] :\n                        element.querySelector('input')).ej2_instances[0].value;\n                }\n                else {\n                    var eControl = element.querySelector('.e-control');\n                    fltrValue = col.type === 'boolean' ? eControl.checked :\n                        !isNullOrUndefined(eControl.ej2_instances) ?\n                            eControl.ej2_instances[0].value :\n                            eControl.value;\n                }\n            }\n            this.filterObj.filterByColumn(col.field, flOptrValue, fltrValue);\n        }\n        else {\n            if (!isNullOrUndefined(col.filter) &&\n                !isNullOrUndefined(col.filter.ui) && !isNullOrUndefined(col.filter.ui.read)) {\n                var temp = col.filter.ui.read;\n                if (typeof temp === 'string') {\n                    temp = getValue(temp, window);\n                }\n                // eslint-disable-next-line\n                flValue = temp({ element: targ, column: col, operator: flOptrValue, fltrObj: this.filterObj });\n            }\n            else {\n                instanceofFilterUI.read(targ, col, flOptrValue, this.filterObj);\n            }\n        }\n        this.closeDialog();\n        if (this.parent.showColumnMenu) {\n            this.parent.notify(events.afterFilterColumnMenuClose, {});\n        }\n    };\n    FilterMenuRenderer.prototype.closeResponsiveDialog = function () {\n        this.closeDialog();\n    };\n    FilterMenuRenderer.prototype.clearBtnClick = function (column) {\n        this.filterObj.removeFilteredColsByField(column.field);\n        this.closeDialog();\n        var iconClass = this.parent.showColumnMenu && column.showColumnMenu ? '.e-columnmenu' : '.e-icon-filter';\n        var col = this.parent.element.querySelector('[e-mappinguid=\"' + column.uid + '\"]').parentElement;\n        var flIcon = col.querySelector(iconClass);\n        if (flIcon) {\n            flIcon.classList.remove('e-filtered');\n        }\n    };\n    FilterMenuRenderer.prototype.destroy = function () {\n        this.closeDialog();\n    };\n    /**\n     * @returns {FilterUI} returns the filterUI\n     * @hidden\n     */\n    FilterMenuRenderer.prototype.getFilterUIInfo = function () {\n        return { field: this.col.field, operator: this.flMuiObj.getFlOperator() };\n    };\n    FilterMenuRenderer.prototype.renderCheckBoxMenu = function () {\n        this.isMenuCheck = true;\n        this.menuFilterBase.updateModel(this.options);\n        this.menuFilterBase.getAndSetChkElem(this.options);\n        this.dlgObj.buttons = [{\n                click: this.menuFilterBase.btnClick.bind(this.menuFilterBase),\n                buttonModel: {\n                    content: this.menuFilterBase.getLocalizedLabel('FilterButton'),\n                    cssClass: 'e-primary', isPrimary: true\n                }\n            },\n            {\n                click: this.menuFilterBase.btnClick.bind(this.menuFilterBase),\n                buttonModel: { cssClass: 'e-flat', content: this.menuFilterBase.getLocalizedLabel('ClearButton') }\n            }];\n        this.menuFilterBase.dialogObj = this.dlgObj;\n        this.menuFilterBase.dlg = this.dlgObj.element;\n        this.menuFilterBase.dlg.classList.add('e-menucheckbox');\n        this.menuFilterBase.dlg.classList.remove('e-checkboxfilter');\n        this.maxHeight = '800px';\n        return this.menuFilterBase.sBox.innerHTML;\n    };\n    FilterMenuRenderer.prototype.actionComplete = function (args) {\n        if (this.isMenuCheck) {\n            this.parent.trigger(events.actionComplete, args);\n        }\n    };\n    return FilterMenuRenderer;\n}());\nexport { FilterMenuRenderer };\n","import * as events from '../base/constant';\nimport { isActionPrevent } from '../base/util';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\n/**\n * @hidden\n * `CheckBoxFilter` module is used to handle filtering action.\n */\nvar CheckBoxFilter = /** @class */ (function () {\n    /**\n     * Constructor for checkbox filtering module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {FilterSettings} filterSettings - specifies the filtersettings\n     * @param {ServiceLocator} serviceLocator - specifies the ServiceLocator\n     * @hidden\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function CheckBoxFilter(parent, filterSettings, serviceLocator) {\n        this.parent = parent;\n        this.isresetFocus = true;\n        this.checkBoxBase = new CheckBoxFilterBase(parent);\n        this.addEventListener();\n    }\n    /**\n     * To destroy the check box filter.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    CheckBoxFilter.prototype.destroy = function () {\n        this.removeEventListener();\n        this.checkBoxBase.closeDialog();\n    };\n    CheckBoxFilter.prototype.openDialog = function (options) {\n        this.checkBoxBase.openDialog(options);\n        this.parent.log('column_type_missing', { column: options.column });\n    };\n    CheckBoxFilter.prototype.closeDialog = function () {\n        this.destroy();\n        if (this.isresetFocus) {\n            this.parent.notify(events.restoreFocus, {});\n        }\n    };\n    CheckBoxFilter.prototype.closeResponsiveDialog = function () {\n        this.checkBoxBase.closeDialog();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name\n     * @private\n     */\n    CheckBoxFilter.prototype.getModuleName = function () {\n        return 'checkboxFilter';\n    };\n    CheckBoxFilter.prototype.actionBegin = function (args) {\n        this.parent.trigger(events.actionBegin, args);\n    };\n    CheckBoxFilter.prototype.actionComplete = function (args) {\n        this.parent.trigger(events.actionComplete, args);\n    };\n    CheckBoxFilter.prototype.actionPrevent = function (args) {\n        if (isActionPrevent(this.parent)) {\n            this.parent.notify(events.preventBatch, args);\n            args.cancel = true;\n        }\n    };\n    CheckBoxFilter.prototype.clearCustomFilter = function (col) {\n        this.checkBoxBase.clearFilter(col);\n    };\n    CheckBoxFilter.prototype.applyCustomFilter = function () {\n        this.checkBoxBase.fltrBtnHandler();\n        this.checkBoxBase.closeDialog();\n    };\n    CheckBoxFilter.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.cBoxFltrBegin, this.actionBegin, this);\n        this.parent.on(events.cBoxFltrComplete, this.actionComplete, this);\n        this.parent.on(events.fltrPrevent, this.actionPrevent, this);\n    };\n    CheckBoxFilter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.cBoxFltrBegin, this.actionBegin);\n        this.parent.off(events.cBoxFltrComplete, this.actionComplete);\n        this.parent.off(events.fltrPrevent, this.actionPrevent);\n    };\n    return CheckBoxFilter;\n}());\nexport { CheckBoxFilter };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, rippleEffect, NotifyPropertyChanges, Property, closest } from '@syncfusion/ej2-base';\nimport { addClass, getInstance, getUniqueID, isRippleEnabled, removeClass, attributes, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { detach, Event, EventHandler, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { wrapperInitialize, rippleMouseHandler } from './../common/common';\nvar LABEL = 'e-label';\nvar RIPPLE = 'e-ripple-container';\nvar RTL = 'e-rtl';\nvar WRAPPER = 'e-radio-wrapper';\nvar ATTRIBUTES = ['title', 'class', 'style', 'disabled', 'readonly', 'name', 'value'];\n/**\n * The RadioButton is a graphical user interface element that allows you to select one option from the choices.\n * It contains checked and unchecked states.\n * ```html\n * <input type=\"radio\" id=\"radio\"/>\n * <script>\n * var radioObj = new RadioButton({ label: \"Default\" });\n * radioObj.appendTo(\"#radio\");\n * </script>\n * ```\n */\nvar RadioButton = /** @class */ (function (_super) {\n    __extends(RadioButton, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @private\n     * @param {RadioButtonModel} options - Specifies Radio button model\n     * @param {string | HTMLInputElement} element - Specifies target element\n     */\n    function RadioButton(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isFocused = false;\n        return _this;\n    }\n    RadioButton_1 = RadioButton;\n    RadioButton.prototype.changeHandler = function (event) {\n        this.checked = true;\n        this.dataBind();\n        var value = this.element.getAttribute('value');\n        value = this.isVue && value ? this.element.value : this.value;\n        this.trigger('change', { value: value, event: event });\n        if (this.tagName === 'EJS-RADIOBUTTON') {\n            event.stopPropagation();\n        }\n    };\n    RadioButton.prototype.updateChange = function () {\n        var input;\n        var instance;\n        var radioGrp = this.getRadioGroup();\n        for (var i = 0; i < radioGrp.length; i++) {\n            input = radioGrp[i];\n            if (input !== this.element) {\n                instance = getInstance(input, RadioButton_1);\n                instance.checked = false;\n                if (this.tagName === 'EJS-RADIOBUTTON') {\n                    instance.angularValue = this.value;\n                }\n            }\n        }\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    RadioButton.prototype.destroy = function () {\n        var _this = this;\n        var radioWrap = this.wrapper;\n        _super.prototype.destroy.call(this);\n        if (radioWrap) {\n            if (!this.disabled) {\n                this.unWireEvents();\n            }\n            if (this.tagName === 'INPUT') {\n                if (radioWrap.parentNode) {\n                    radioWrap.parentNode.insertBefore(this.element, radioWrap);\n                }\n                detach(radioWrap);\n                this.element.checked = false;\n                ['name', 'value', 'disabled'].forEach(function (key) {\n                    _this.element.removeAttribute(key);\n                });\n            }\n            else {\n                ['role', 'aria-checked', 'class'].forEach(function (key) {\n                    radioWrap.removeAttribute(key);\n                });\n                radioWrap.innerHTML = '';\n            }\n        }\n    };\n    RadioButton.prototype.focusHandler = function () {\n        this.isFocused = true;\n    };\n    RadioButton.prototype.focusOutHandler = function () {\n        var label = this.getLabel();\n        if (label) {\n            label.classList.remove('e-focus');\n        }\n    };\n    RadioButton.prototype.getModuleName = function () {\n        return 'radio';\n    };\n    /**\n     * To get the value of selected radio button in a group.\n     *\n     * @method getSelectedValue\n     * @returns {string} - Selected Value\n     */\n    RadioButton.prototype.getSelectedValue = function () {\n        var input;\n        var radioGrp = this.getRadioGroup();\n        for (var i = 0, len = radioGrp.length; i < len; i++) {\n            input = radioGrp[i];\n            if (input.checked) {\n                return input.value;\n            }\n        }\n        return '';\n    };\n    RadioButton.prototype.getRadioGroup = function () {\n        return document.querySelectorAll('input.e-radio[name=\"' + this.element.getAttribute('name') + '\"]');\n    };\n    /**\n     * Gets the properties to be maintained in the persistence state.\n     *\n     * @private\n     * @returns {string} - Persist Data\n     */\n    RadioButton.prototype.getPersistData = function () {\n        return this.addOnPersist(['checked']);\n    };\n    RadioButton.prototype.getWrapper = function () {\n        if (this.element) {\n            return this.element.parentElement;\n        }\n        else {\n            return null;\n        }\n    };\n    RadioButton.prototype.getLabel = function () {\n        if (this.element) {\n            return this.element.nextElementSibling;\n        }\n        else {\n            return null;\n        }\n    };\n    RadioButton.prototype.initialize = function () {\n        if (isNullOrUndefined(this.initialCheckedValue)) {\n            this.initialCheckedValue = this.checked;\n        }\n        this.initWrapper();\n        this.updateHtmlAttribute();\n        if (this.name) {\n            this.element.setAttribute('name', this.name);\n        }\n        var value = this.element.getAttribute('value');\n        if (this.isVue && value && value === this.value) {\n            this.checked = true;\n        }\n        if (this.isVue ? this.value && !value : this.value) {\n            this.element.setAttribute('value', this.value);\n        }\n        if (this.checked) {\n            this.element.checked = true;\n        }\n        if (this.disabled) {\n            this.setDisabled();\n        }\n    };\n    RadioButton.prototype.initWrapper = function () {\n        var rippleSpan;\n        var wrapper = this.element.parentElement;\n        if (!wrapper.classList.contains(WRAPPER)) {\n            wrapper = this.createElement('div', { className: WRAPPER });\n            this.element.parentNode.insertBefore(wrapper, this.element);\n        }\n        var label = this.createElement('label', { attrs: { for: this.element.id } });\n        wrapper.appendChild(this.element);\n        wrapper.appendChild(label);\n        if (isRippleEnabled) {\n            rippleSpan = this.createElement('span', { className: (RIPPLE) });\n            label.appendChild(rippleSpan);\n            rippleEffect(rippleSpan, {\n                duration: 400,\n                isCenterRipple: true\n            });\n        }\n        wrapper.classList.add('e-wrapper');\n        if (this.enableRtl) {\n            label.classList.add(RTL);\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        if (this.label) {\n            this.setText(this.label);\n        }\n    };\n    RadioButton.prototype.keyUpHandler = function () {\n        if (this.isFocused) {\n            this.getLabel().classList.add('e-focus');\n        }\n    };\n    RadioButton.prototype.labelRippleHandler = function (e) {\n        var ripple = this.getLabel().getElementsByClassName(RIPPLE)[0];\n        rippleMouseHandler(e, ripple);\n    };\n    RadioButton.prototype.formResetHandler = function () {\n        this.checked = this.initialCheckedValue;\n        if (this.initialCheckedValue) {\n            attributes(this.element, { 'checked': 'true' });\n        }\n    };\n    /**\n     * Called internally if any of the property value changes.\n     *\n     * @private\n     * @param {RadioButtonModel} newProp - Specifies New Properties\n     * @param {RadioButtonModel} oldProp - Specifies Old Properties\n     * @returns {void}\n     */\n    RadioButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var wrap = this.getWrapper();\n        var label = this.getLabel();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'checked':\n                    if (newProp.checked) {\n                        this.updateChange();\n                    }\n                    this.element.checked = newProp.checked;\n                    break;\n                case 'disabled':\n                    if (newProp.disabled) {\n                        this.setDisabled();\n                        this.unWireEvents();\n                    }\n                    else {\n                        this.element.disabled = false;\n                        this.wireEvents();\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrap], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrap], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        label.classList.add(RTL);\n                    }\n                    else {\n                        label.classList.remove(RTL);\n                    }\n                    break;\n                case 'label':\n                    this.setText(newProp.label);\n                    break;\n                case 'labelPosition':\n                    if (newProp.labelPosition === 'Before') {\n                        label.classList.add('e-right');\n                    }\n                    else {\n                        label.classList.remove('e-right');\n                    }\n                    break;\n                case 'name':\n                    this.element.setAttribute('name', newProp.name);\n                    break;\n                case 'value':\n                    if (!isNullOrUndefined(this.htmlAttributes) && this.htmlAttributes.value) {\n                        break;\n                    }\n                    this.element.setAttribute('value', newProp.value);\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttribute();\n                    break;\n            }\n        }\n    };\n    /**\n     * Initialize checked Property, Angular and React and Unique ID support.\n     *\n     * @private\n     * @returns {void}\n     */\n    RadioButton.prototype.preRender = function () {\n        var element = this.element;\n        this.formElement = closest(this.element, 'form');\n        this.tagName = this.element.tagName;\n        element = wrapperInitialize(this.createElement, 'EJS-RADIOBUTTON', 'radio', element, WRAPPER, 'radio');\n        this.element = element;\n        if (this.element.getAttribute('type') !== 'radio') {\n            this.element.setAttribute('type', 'radio');\n        }\n        if (!this.element.id) {\n            this.element.id = getUniqueID('e-' + this.getModuleName());\n        }\n        if (this.tagName === 'EJS-RADIOBUTTON') {\n            var formControlName = this.element.getAttribute('formcontrolname');\n            if (formControlName) {\n                this.setProperties({ 'name': formControlName }, true);\n                this.element.setAttribute('name', formControlName);\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    RadioButton.prototype.render = function () {\n        this.initialize();\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.renderComplete();\n        this.wrapper = this.getWrapper();\n    };\n    RadioButton.prototype.setDisabled = function () {\n        this.element.disabled = true;\n    };\n    RadioButton.prototype.setText = function (text) {\n        var label = this.getLabel();\n        var textLabel = label.getElementsByClassName(LABEL)[0];\n        if (textLabel) {\n            textLabel.textContent = text;\n        }\n        else {\n            text = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(text) : text;\n            textLabel = this.createElement('span', { className: LABEL, innerHTML: text });\n            label.appendChild(textLabel);\n        }\n        if (this.labelPosition === 'Before') {\n            this.getLabel().classList.add('e-right');\n        }\n        else {\n            this.getLabel().classList.remove('e-right');\n        }\n    };\n    RadioButton.prototype.updateHtmlAttribute = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (ATTRIBUTES.indexOf(key) > -1) {\n                    var wrapper = this.element.parentElement;\n                    if (key === 'class') {\n                        addClass([wrapper], this.htmlAttributes[key].split(' '));\n                    }\n                    else if (key === 'title' || key === 'style') {\n                        wrapper.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                    else {\n                        this.element.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    RadioButton.prototype.unWireEvents = function () {\n        var label = this.wrapper;\n        EventHandler.remove(this.element, 'change', this.changeHandler);\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n        var rippleLabel = label.getElementsByTagName('label')[0];\n        if (rippleLabel) {\n            EventHandler.remove(rippleLabel, 'mousedown', this.labelRippleHandler);\n            EventHandler.remove(rippleLabel, 'mouseup', this.labelRippleHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    RadioButton.prototype.wireEvents = function () {\n        var label = this.getLabel();\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        var rippleLabel = label.getElementsByClassName(LABEL)[0];\n        if (rippleLabel) {\n            EventHandler.add(rippleLabel, 'mousedown', this.labelRippleHandler, this);\n            EventHandler.add(rippleLabel, 'mouseup', this.labelRippleHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n    };\n    /**\n     * Click the RadioButton element\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    RadioButton.prototype.click = function () {\n        this.element.click();\n    };\n    /**\n     * Sets the focus to RadioButton\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    RadioButton.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    var RadioButton_1;\n    __decorate([\n        Event()\n    ], RadioButton.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], RadioButton.prototype, \"created\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"checked\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"label\", void 0);\n    __decorate([\n        Property('After')\n    ], RadioButton.prototype, \"labelPosition\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"name\", void 0);\n    __decorate([\n        Property('')\n    ], RadioButton.prototype, \"value\", void 0);\n    __decorate([\n        Property(false)\n    ], RadioButton.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property({})\n    ], RadioButton.prototype, \"htmlAttributes\", void 0);\n    RadioButton = RadioButton_1 = __decorate([\n        NotifyPropertyChanges\n    ], RadioButton);\n    return RadioButton;\n}(Component));\nexport { RadioButton };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EventHandler, remove, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Query, DataManager, Predicate } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { DropDownList, AutoComplete } from '@syncfusion/ej2-dropdowns';\nimport { NumericTextBox } from '@syncfusion/ej2-inputs';\nimport { RadioButton, CheckBox } from '@syncfusion/ej2-buttons';\nimport { distinctStringValues, isComplexField, getComplexFieldID, getCustomDateFormat, applyBiggerTheme, performComplexDataOperation, registerEventHandlers, removeEventHandlers, clearReactVueTemplates } from '../base/util';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { parentsUntil, appendChildren, extend, eventPromise } from '../base/util';\nimport * as events from '../base/constant';\nimport { ContextMenu } from '@syncfusion/ej2-navigations';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\nimport * as literals from '../base/string-literals';\n/**\n * @hidden\n * `ExcelFilter` module is used to handle filtering action.\n */\nvar ExcelFilterBase = /** @class */ (function (_super) {\n    __extends(ExcelFilterBase, _super);\n    /**\n     * Constructor for excel filtering module\n     *\n     * @param {IXLFilter} parent - parent details\n     * @param {Object} customFltrOperators - operator details\n     * @hidden\n     */\n    function ExcelFilterBase(parent, customFltrOperators) {\n        var _this = _super.call(this, parent) || this;\n        _this.childRefs = [];\n        _this.eventHandlers = {};\n        _this.isDevice = false;\n        _this.customFilterOperators = customFltrOperators;\n        _this.isExcel = true;\n        return _this;\n    }\n    ExcelFilterBase.prototype.getCMenuDS = function (type, operator) {\n        var options = {\n            number: ['Equal', 'NotEqual', '', 'LessThan', 'LessThanOrEqual', 'GreaterThan',\n                'GreaterThanOrEqual', 'Between', '', 'CustomFilter'],\n            string: ['Equal', 'NotEqual', '', 'StartsWith', 'EndsWith', '', 'Contains', '', 'CustomFilter']\n        };\n        options.date = options.number;\n        options.datetime = options.number;\n        var model = [];\n        for (var i = 0; i < options[type].length; i++) {\n            if (options[type][i].length) {\n                if (operator) {\n                    model.push({\n                        text: this.getLocalizedLabel(options[type][i]) + '...',\n                        iconCss: 'e-icons e-icon-check ' + (operator === options[type][i].toLowerCase() ? '' : 'e-emptyicon')\n                    });\n                }\n                else {\n                    model.push({\n                        text: this.getLocalizedLabel(options[type][i]) + '...'\n                    });\n                }\n            }\n            else {\n                model.push({ separator: true });\n            }\n        }\n        return model;\n    };\n    /**\n     * To destroy the filter bar.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    ExcelFilterBase.prototype.destroy = function () {\n        if (this.dlg) {\n            this.unwireExEvents();\n            _super.prototype.closeDialog.call(this);\n        }\n        if (!this.isDevice && this.menuObj) {\n            var li = this.menuObj.element.querySelector('li.e-focused');\n            if (!(li && parentsUntil(li, 'e-excel-menu'))) {\n                this.destroyCMenu();\n            }\n        }\n        if (this.dlgObj && !this.dlgObj.isDestroyed) {\n            this.removeDialog();\n        }\n    };\n    ExcelFilterBase.prototype.createMenu = function (type, isFiltered, isCheckIcon, eleOptions) {\n        var options = { string: 'TextFilter', date: 'DateFilter', datetime: 'DateTimeFilter', number: 'NumberFilter' };\n        this.menu = this.parent.createElement('div', { className: 'e-contextmenu-wrapper' });\n        if (this.parent.enableRtl) {\n            this.menu.classList.add('e-rtl');\n        }\n        else {\n            this.menu.classList.remove('e-rtl');\n        }\n        var ul = this.parent.createElement('ul');\n        var icon = isFiltered ? 'e-excl-filter-icon e-filtered' : 'e-excl-filter-icon';\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.parent.allowSorting && this.parent.getModuleName() === 'grid'\n            && !this.options.isResponsiveFilter) {\n            var hdrele = this.parent.getColumnHeaderByUid(eleOptions.uid).getAttribute('aria-sort');\n            var colIsSort = this.parent.getColumnByField(eleOptions.field).allowSorting;\n            var isAsc = (!colIsSort || hdrele === 'ascending') ? 'e-disabled e-excel-ascending' : 'e-excel-ascending';\n            var isDesc = (!colIsSort || hdrele === 'descending') ? 'e-disabled e-excel-descending' : 'e-excel-descending';\n            var ascName = (type === 'string') ? this.getLocalizedLabel('SortAtoZ') : (type === 'datetime' || type === 'date') ?\n                this.getLocalizedLabel('SortByOldest') : this.getLocalizedLabel('SortSmallestToLargest');\n            var descName = (type === 'string') ? this.getLocalizedLabel('SortZtoA') : (type === 'datetime' || type === 'date') ?\n                this.getLocalizedLabel('SortByNewest') : this.getLocalizedLabel('SortLargestToSmallest');\n            ul.appendChild(this.createMenuElem(ascName, isAsc, 'e-sortascending'));\n            ul.appendChild(this.createMenuElem(descName, isDesc, 'e-sortdescending'));\n            var separator = this.parent.createElement('li', { className: 'e-separator e-menu-item e-excel-separator' });\n            ul.appendChild(separator);\n        }\n        if (!this.options.isResponsiveFilter) {\n            ul.appendChild(this.createMenuElem(this.getLocalizedLabel('ClearFilter'), isFiltered ? '' : 'e-disabled', icon));\n        }\n        if (type !== 'boolean') {\n            ul.appendChild(this.createMenuElem(this.getLocalizedLabel(options[type]), 'e-submenu', isCheckIcon && this.ensureTextFilter() ? 'e-icon-check' : icon + ' e-emptyicon', true));\n        }\n        this.menu.appendChild(ul);\n        this.parent.notify(events.beforeFltrcMenuOpen, { element: this.menu });\n        this.parent.notify(events.refreshCustomFilterClearBtn, { isFiltered: isFiltered });\n    };\n    ExcelFilterBase.prototype.createMenuElem = function (val, className, iconName, isSubMenu) {\n        var li = this.parent.createElement('li', { className: className + ' e-menu-item' });\n        li.innerHTML = val;\n        li.insertBefore(this.parent.createElement('span', { className: 'e-menu-icon e-icons ' + iconName }), li.firstChild);\n        if (isSubMenu) {\n            li.appendChild(this.parent.createElement('span', { className: 'e-icons e-caret' }));\n        }\n        return li;\n    };\n    ExcelFilterBase.prototype.wireExEvents = function () {\n        EventHandler.add(this.dlg, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.dlg, 'click', this.clickExHandler, this);\n    };\n    ExcelFilterBase.prototype.unwireExEvents = function () {\n        EventHandler.remove(this.dlg, 'mouseover', this.hoverHandler);\n        EventHandler.remove(this.dlg, 'click', this.clickExHandler);\n    };\n    ExcelFilterBase.prototype.clickExHandler = function (e) {\n        var options = { string: 'TextFilter', date: 'DateFilter', datetime: 'DateTimeFilter', number: 'NumberFilter' };\n        var menuItem = parentsUntil(e.target, 'e-menu-item');\n        if (menuItem) {\n            if (this.getLocalizedLabel('ClearFilter') === menuItem.innerText.trim()) {\n                this.clearFilter();\n                this.closeDialog();\n            }\n            else if (this.options.isResponsiveFilter\n                && this.getLocalizedLabel(options[this.options.type]) === menuItem.innerText.trim()) {\n                this.hoverHandler(e);\n            }\n        }\n    };\n    ExcelFilterBase.prototype.destroyCMenu = function () {\n        this.isCMenuOpen = false;\n        if (this.menuObj && !this.menuObj.isDestroyed) {\n            this.menuObj.destroy();\n            remove(this.cmenu);\n            this.parent.notify(events.renderResponsiveCmenu, { target: null, header: '', isOpen: false, col: this.options.column });\n        }\n    };\n    ExcelFilterBase.prototype.hoverHandler = function (e) {\n        if (this.options.isResponsiveFilter && e.type === 'mouseover') {\n            return;\n        }\n        var target = e.target.querySelector('.e-contextmenu');\n        var li = parentsUntil(e.target, 'e-menu-item');\n        var focused = this.menu.querySelector('.e-focused');\n        var isSubMenu;\n        if (focused) {\n            focused.classList.remove('e-focused');\n        }\n        if (li) {\n            li.classList.add('e-focused');\n            isSubMenu = li.classList.contains('e-submenu');\n        }\n        if (target) {\n            return;\n        }\n        if (!isSubMenu) {\n            var submenu = this.menu.querySelector('.e-submenu');\n            if (!isNullOrUndefined(submenu)) {\n                submenu.classList.remove('e-selected');\n            }\n            this.destroyCMenu();\n        }\n        var selectedMenu = this.ensureTextFilter();\n        if (!this.isCMenuOpen && isSubMenu) {\n            li.classList.add('e-selected');\n            this.isCMenuOpen = true;\n            var menuOptions = {\n                items: this.getCMenuDS(this.options.type, selectedMenu ? selectedMenu.replace(/\\s/g, '') : undefined),\n                select: this.selectHandler.bind(this),\n                onClose: this.destroyCMenu.bind(this),\n                enableRtl: this.parent.enableRtl,\n                beforeClose: this.preventClose.bind(this),\n                cssClass: this.options.isResponsiveFilter ? 'e-res-contextmenu-wrapper' : ''\n            };\n            this.parent.element.appendChild(this.cmenu);\n            this.menuObj = new ContextMenu(menuOptions, this.cmenu);\n            var client = this.menu.querySelector('.e-submenu').getBoundingClientRect();\n            var pos = { top: 0, left: 0 };\n            if (this.options.isResponsiveFilter) {\n                var options = { string: 'TextFilter', date: 'DateFilter', datetime: 'DateTimeFilter', number: 'NumberFilter' };\n                var content = document.querySelector('.e-responsive-dialog > .e-dlg-header-content');\n                var height = content.offsetHeight + 4;\n                this.menuObj.element.style.height = 'calc(100% - ' + height + 'px)';\n                this.menuObj.open(height, 0, document.body);\n                var header = this.getLocalizedLabel(options[this.options.type]);\n                this.parent.notify(events.renderResponsiveCmenu, {\n                    target: this.menuObj.element.parentElement, header: header, isOpen: true\n                });\n            }\n            else {\n                if (Browser.isDevice) {\n                    this.isDevice = true;\n                    var contextRect = this.getContextBounds();\n                    pos.top = (window.innerHeight - contextRect.height) / 2;\n                    pos.left = (window.innerWidth - contextRect.width) / 2;\n                    this.closeDialog();\n                    this.isDevice = false;\n                }\n                else {\n                    pos.top = Browser.isIE ? window.pageYOffset + client.top : window.scrollY + client.top;\n                    pos.left = this.getCMenuYPosition(this.dlg);\n                }\n                this.menuObj.open(pos.top, pos.left, e.target);\n            }\n            applyBiggerTheme(this.parent.element, this.menuObj.element.parentElement);\n        }\n    };\n    ExcelFilterBase.prototype.ensureTextFilter = function () {\n        var selectedMenu;\n        var predicates = this.existingPredicate[this.options.field];\n        if (predicates && predicates.length === 2) {\n            if (predicates[0].operator === 'greaterthanorequal' && predicates[1].operator === 'lessthanorequal') {\n                selectedMenu = 'between';\n            }\n            else {\n                selectedMenu = 'customfilter';\n            }\n        }\n        else {\n            if (predicates && predicates.length === 1) {\n                this.optrData = this.customFilterOperators[this.options.type + 'Operator'];\n                selectedMenu = predicates[0].operator;\n            }\n        }\n        return selectedMenu;\n    };\n    ExcelFilterBase.prototype.preventClose = function (args) {\n        if (this.options && this.options.isResponsiveFilter && args.event) {\n            var target = args.event.target;\n            var isFilterBack = target.classList.contains('e-resfilterback')\n                || target.classList.contains('e-res-back-btn') || target.classList.contains('e-menu-item');\n            args.cancel = !isFilterBack;\n        }\n        else {\n            if (args.event instanceof MouseEvent && args.event.target.classList.contains('e-submenu')) {\n                args.cancel = true;\n            }\n        }\n    };\n    ExcelFilterBase.prototype.getContextBounds = function () {\n        this.menuObj.element.style.display = 'block';\n        return this.menuObj.element.getBoundingClientRect();\n    };\n    ExcelFilterBase.prototype.getCMenuYPosition = function (target) {\n        var contextWidth = this.getContextBounds().width;\n        var targetPosition = target.getBoundingClientRect();\n        var leftPos = targetPosition.right + contextWidth - this.parent.element.clientWidth;\n        var targetBorder = target.offsetWidth - target.clientWidth;\n        targetBorder = targetBorder ? targetBorder + 1 : 0;\n        return (leftPos < 1) ? (targetPosition.right + 1 - targetBorder) : (targetPosition.left - contextWidth - 1 + targetBorder);\n    };\n    ExcelFilterBase.prototype.openDialog = function (options) {\n        var _this = this;\n        this.updateModel(options);\n        this.getAndSetChkElem(options);\n        this.showDialog(options);\n        if (options.cancel) {\n            return;\n        }\n        this.dialogObj.dataBind();\n        var filterLength = (this.existingPredicate[options.field] && this.existingPredicate[options.field].length) ||\n            this.options.filteredColumns.filter(function (col) {\n                return _this.options.field === col.field;\n            }).length;\n        this.createMenu(options.type, filterLength > 0, (filterLength === 1 || filterLength === 2), options);\n        this.dlg.insertBefore(this.menu, this.dlg.firstChild);\n        this.dlg.classList.add('e-excelfilter');\n        if (this.parent.enableRtl) {\n            this.dlg.classList.add('e-rtl');\n        }\n        this.dlg.classList.remove('e-checkboxfilter');\n        this.cmenu = this.parent.createElement('ul', { className: 'e-excel-menu' });\n        if (options.column.showColumnMenu) {\n            this.parent.notify(events.filterDialogCreated, {});\n        }\n        this.wireExEvents();\n    };\n    ExcelFilterBase.prototype.closeDialog = function () {\n        this.destroy();\n    };\n    ExcelFilterBase.prototype.selectHandler = function (e) {\n        if (e.item) {\n            this.parent.notify(events.filterCmenuSelect, {});\n            this.menuItem = e.item;\n            this.renderDialogue(e);\n        }\n    };\n    /**\n     * @hidden\n     * @param {MenuEventArgs} e - event args\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.renderDialogue = function (e) {\n        var _this = this;\n        var target = e ? e.element : undefined;\n        var column = this.options.field;\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var mainDiv = this.parent.createElement('div', {\n            className: 'e-xlfl-maindiv',\n            id: isComplex ? complexFieldName + '-xlflmenu' : column + '-xlflmenu'\n        });\n        this.dlgDiv = this.parent.createElement('div', {\n            className: 'e-xlflmenu',\n            id: isComplex ? complexFieldName + '-xlfldlg' : column + '-xlfldlg'\n        });\n        if (this.options.isResponsiveFilter) {\n            var responsiveCnt = document.querySelector('.e-resfilter > .e-dlg-content > .e-xl-customfilterdiv');\n            responsiveCnt.appendChild(this.dlgDiv);\n        }\n        else {\n            this.parent.element.appendChild(this.dlgDiv);\n        }\n        this.dlgObj = new Dialog({\n            header: this.getLocalizedLabel('CustomFilter'),\n            isModal: true,\n            overlayClick: this.removeDialog.bind(this),\n            showCloseIcon: true,\n            closeOnEscape: false,\n            target: document.body,\n            // target: this.parent.element,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            open: function () {\n                var row = _this.dlgObj.element.querySelector('table.e-xlfl-table>tr');\n                if (_this.options.column.filterTemplate) {\n                    row.querySelector('#' + _this.options.column.field + '-xlfl-frstvalue').focus();\n                }\n                else {\n                    //(row.cells[1].querySelector('input:not([type=hidden])') as HTMLElement).focus();\n                }\n            },\n            close: this.removeDialog.bind(this),\n            created: this.createdDialog.bind(this, target, column),\n            buttons: [{\n                    click: this.filterBtnClick.bind(this, column),\n                    buttonModel: {\n                        content: this.getLocalizedLabel('OKButton'), isPrimary: true, cssClass: 'e-xlfl-okbtn'\n                    }\n                },\n                {\n                    click: this.removeDialog.bind(this),\n                    buttonModel: { content: this.getLocalizedLabel('CancelButton'), cssClass: 'e-xlfl-cancelbtn' }\n                }],\n            content: mainDiv,\n            width: 430,\n            animationSettings: { effect: 'None' }\n        });\n        var isStringTemplate = 'isStringTemplate';\n        this.dlgObj[isStringTemplate] = true;\n        this.renderResponsiveDialog();\n        this.dlgDiv.setAttribute('aria-label', this.getLocalizedLabel('CustomFilterDialogARIA'));\n        this.childRefs.push(this.dlgObj);\n        this.dlgObj.appendTo(this.dlgDiv);\n    };\n    ExcelFilterBase.prototype.renderResponsiveDialog = function () {\n        if (this.options.isResponsiveFilter) {\n            var rowResponsiveDlg = document.querySelector('.e-row-responsive-filter');\n            if (rowResponsiveDlg) {\n                rowResponsiveDlg.classList.remove('e-row-responsive-filter');\n            }\n            this.dlgObj.buttons = [{}];\n            this.dlgObj.header = undefined;\n            this.dlgObj.position = { X: '', Y: '' };\n            this.dlgObj.target = document.querySelector('.e-resfilter > .e-dlg-content > .e-xl-customfilterdiv');\n            this.dlgObj.width = '100%';\n            this.dlgObj.isModal = false;\n            this.dlgObj.showCloseIcon = false;\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.removeDialog = function () {\n        this.parent.notify(events.customFilterClose, {});\n        if ((this.parent.isReact || this.parent.isVue) && this.parent.destroyTemplate !== undefined) {\n            clearReactVueTemplates(this.parent, ['filterTemplate']);\n        }\n        this.removeObjects(this.childRefs);\n        remove(this.dlgDiv);\n        this.parent.notify(events.filterDialogClose, {});\n    };\n    ExcelFilterBase.prototype.createdDialog = function (target, column) {\n        this.renderCustomFilter(target, column);\n        this.dlgObj.element.style.left = '0px';\n        if (!this.options.isResponsiveFilter) {\n            this.dlgObj.element.style.top = '0px';\n        }\n        else {\n            var content = document.querySelector('.e-responsive-dialog > .e-dlg-header-content');\n            var height = content.offsetHeight + 4;\n            this.dlgObj.element.style.top = height + 'px';\n        }\n        if (!this.options.isResponsiveFilter && Browser.isDevice && window.innerWidth < 440) {\n            this.dlgObj.element.style.width = '90%';\n        }\n        this.parent.notify(events.beforeCustomFilterOpen, { column: column, dialog: this.dialogObj });\n        this.dlgObj.show();\n        applyBiggerTheme(this.parent.element, this.dlgObj.element.parentElement);\n    };\n    ExcelFilterBase.prototype.renderCustomFilter = function (target, column) {\n        var dlgConetntEle = this.dlgObj.element.querySelector('.e-xlfl-maindiv');\n        var dlgFields = this.parent.createElement('div', { innerHTML: this.getLocalizedLabel('ShowRowsWhere'), className: 'e-xlfl-dlgfields' });\n        dlgConetntEle.appendChild(dlgFields);\n        //column name\n        var fieldSet = this.parent.createElement('div', { innerHTML: this.options.displayName, className: 'e-xlfl-fieldset' });\n        dlgConetntEle.appendChild(fieldSet);\n        this.renderFilterUI(column, dlgConetntEle);\n    };\n    /**\n     * @hidden\n     * @param {string} col - Defines column details\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.filterBtnClick = function (col) {\n        var isComplex = !isNullOrUndefined(col) && isComplexField(col);\n        var complexFieldName = !isNullOrUndefined(col) && getComplexFieldID(col);\n        var colValue = isComplex ? complexFieldName : col;\n        var fValue = this.dlgDiv.querySelector('#' + colValue + '-xlfl-frstvalue').ej2_instances[0];\n        var fOperator = this.dlgDiv.querySelector('#' + colValue + '-xlfl-frstoptr').ej2_instances[0];\n        var sValue = this.dlgDiv.querySelector('#' + colValue + '-xlfl-secndvalue').ej2_instances[0];\n        var sOperator = this.dlgDiv.querySelector('#' + colValue + '-xlfl-secndoptr').ej2_instances[0];\n        var checkBoxValue;\n        if (this.options.type === 'string') {\n            var checkBox = this.dlgDiv.querySelector('#' + colValue + '-xlflmtcase').ej2_instances[0];\n            checkBoxValue = checkBox.checked;\n        }\n        var andRadio = this.dlgDiv.querySelector('#' + colValue + 'e-xlfl-frstpredicate').ej2_instances[0];\n        var predicate = (andRadio.checked ? 'and' : 'or');\n        if (sValue.value === null) {\n            predicate = 'or';\n        }\n        this.filterByColumn(this.options.field, fOperator.value, fValue.value, predicate, checkBoxValue, this.options.ignoreAccent, sOperator.value, sValue.value);\n        this.removeDialog();\n    };\n    /**\n     * @hidden\n     * Filters grid row by column name with given options.\n     *\n     * @param {string} fieldName - Defines the field name of the filter column.\n     * @param {string} firstOperator - Defines the first operator by how to filter records.\n     * @param {string | number | Date | boolean} firstValue - Defines the first value which is used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query with another by using AND or OR predicate.\n     * @param {boolean} matchCase - If ignore case set to true, then filter records with exact match or else\n     * filter records with case insensitive(uppercase and lowercase letters treated as same).\n     * @param {boolean} ignoreAccent - If ignoreAccent set to true, then ignores the diacritic characters or accents when filtering.\n     * @param {string} secondOperator - Defines the second operator by how to filter records.\n     * @param {string | number | Date | boolean} secondValue - Defines the first value which is used to filter records.\n     * @returns {void}\n     */\n    ExcelFilterBase.prototype.filterByColumn = function (fieldName, firstOperator, firstValue, predicate, matchCase, ignoreAccent, secondOperator, secondValue) {\n        var col = this.parent.getColumnByField ? this.parent.getColumnByField(fieldName) : this.options.column;\n        var field = this.isForeignColumn(col) ? col.foreignKeyValue : fieldName;\n        var fColl = [];\n        var mPredicate;\n        fColl.push({\n            field: field,\n            predicate: predicate,\n            matchCase: matchCase,\n            ignoreAccent: ignoreAccent,\n            operator: firstOperator,\n            value: firstValue,\n            type: this.options.type\n        });\n        var arg = {\n            instance: this, handler: this.filterByColumn, arg1: fieldName, arg2: firstOperator, arg3: firstValue, arg4: predicate,\n            arg5: matchCase, arg6: ignoreAccent, arg7: secondOperator, arg8: secondValue, cancel: false\n        };\n        this.parent.notify(events.fltrPrevent, arg);\n        if (arg.cancel) {\n            return;\n        }\n        mPredicate = new Predicate(field, firstOperator.toLowerCase(), firstValue, !matchCase, ignoreAccent);\n        if (!isNullOrUndefined(secondValue) && !isNullOrUndefined(secondOperator)) {\n            fColl.push({\n                field: field,\n                predicate: predicate,\n                matchCase: matchCase,\n                ignoreAccent: ignoreAccent,\n                operator: secondOperator,\n                value: secondValue,\n                type: this.options.type\n            });\n            // eslint-disable-next-line max-len\n            mPredicate = mPredicate[predicate](field, secondOperator.toLowerCase(), secondValue, !matchCase, ignoreAccent);\n        }\n        var args = {\n            action: 'filtering', filterCollection: fColl, field: this.options.field,\n            ejpredicate: mPredicate, actualPredicate: fColl\n        };\n        if (this.isForeignColumn(col)) {\n            this.foreignKeyFilter(args, fColl, mPredicate);\n        }\n        else {\n            this.options.handler(args);\n        }\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderOperatorUI = function (column, table, elementID, predicates, isFirst) {\n        var fieldElement = this.parent.createElement('tr', { className: 'e-xlfl-fields' });\n        table.appendChild(fieldElement);\n        var xlfloptr = this.parent.createElement('td', { className: 'e-xlfl-optr' });\n        fieldElement.appendChild(xlfloptr);\n        var optrDiv = this.parent.createElement('div', { className: 'e-xlfl-optrdiv' });\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var optrInput = this.parent\n            .createElement('input', { id: isComplex ? complexFieldName + elementID : column + elementID });\n        optrDiv.appendChild(optrInput);\n        xlfloptr.appendChild(optrDiv);\n        var optr = this.options.type + 'Operator';\n        var dropDatasource = this.customFilterOperators[optr];\n        this.optrData = dropDatasource;\n        var selectedValue = this.dropSelectedVal(this.options.column, predicates, isFirst);\n        //Trailing three dots are sliced.\n        var menuText = '';\n        if (this.menuItem) {\n            menuText = this.menuItem.text.slice(0, -3);\n            if (menuText !== this.getLocalizedLabel('CustomFilter')) {\n                selectedValue = isFirst ? menuText : undefined;\n            }\n            if (menuText === this.getLocalizedLabel('Between')) {\n                selectedValue = this.getLocalizedLabel(isFirst ? 'GreaterThanOrEqual' : 'LessThanOrEqual');\n            }\n        }\n        var col = this.options.column;\n        var dropOptr = new DropDownList(extend({\n            dataSource: dropDatasource,\n            fields: { text: 'text', value: 'value' },\n            text: selectedValue,\n            enableRtl: this.parent.enableRtl\n        }, col.filter.params));\n        this.childRefs.push(dropOptr);\n        var evt = { 'open': this.dropDownOpen.bind(this), 'change': this.dropDownValueChange.bind(this) };\n        registerEventHandlers(optrInput.id, [literals.open, literals.change], evt, this);\n        dropOptr.addEventListener(literals.open, this.eventHandlers[optrInput.id][literals.open]);\n        dropOptr.addEventListener(literals.change, this.eventHandlers[optrInput.id][literals.change]);\n        dropOptr.appendTo(optrInput);\n        var operator = this.getSelectedValue(selectedValue);\n        return { fieldElement: fieldElement, operator: operator };\n    };\n    ExcelFilterBase.prototype.removeHandlersFromComponent = function (component) {\n        if (component.element.classList.contains('e-dropdownlist')) {\n            removeEventHandlers(component, [literals.open, literals.change], this);\n        }\n        else if (component.element.classList.contains('e-autocomplete')) {\n            removeEventHandlers(component, [events.actionComplete, literals.focus], this);\n        }\n    };\n    ExcelFilterBase.prototype.dropDownOpen = function (args) {\n        args.popup.element.style.zIndex = (this.dialogObj.zIndex + 1).toString();\n    };\n    ExcelFilterBase.prototype.dropDownValueChange = function (args) {\n        if (args.element.id.includes('-xlfl-frstoptr')) {\n            this.firstOperator = args.value.toString();\n        }\n        else {\n            this.secondOperator = args.value.toString();\n        }\n    };\n    /**\n     * @hidden\n     * @returns {FilterUI} returns filter UI\n     */\n    ExcelFilterBase.prototype.getFilterUIInfo = function () {\n        return { firstOperator: this.firstOperator, secondOperator: this.secondOperator, field: this.options.field };\n    };\n    ExcelFilterBase.prototype.getSelectedValue = function (text) {\n        var selectedField = new DataManager(this.optrData).executeLocal(new Query().where('text', 'equal', text));\n        return !isNullOrUndefined(selectedField[0]) ? selectedField[0].value : '';\n    };\n    ExcelFilterBase.prototype.dropSelectedVal = function (col, predicates, isFirst) {\n        var operator;\n        if (predicates && predicates.length > 0) {\n            operator = predicates.length === 2 ?\n                (isFirst ? predicates[0].operator : predicates[1].operator) :\n                (isFirst ? predicates[0].operator : undefined);\n        }\n        else if (isFirst && col.type === 'string' && !col.filter.operator) {\n            operator = 'startswith';\n        }\n        else {\n            operator = isFirst ? col.filter.operator || 'equal' : undefined;\n        }\n        return this.getSelectedText(operator);\n    };\n    ExcelFilterBase.prototype.getSelectedText = function (operator) {\n        var selectedField = new DataManager(this.optrData).executeLocal(new Query().where('value', 'equal', operator));\n        return !isNullOrUndefined(selectedField[0]) ? selectedField[0].text : '';\n    };\n    ExcelFilterBase.prototype.renderFilterUI = function (column, dlgConetntEle) {\n        var predicates = this.existingPredicate[column];\n        var table = this.parent.createElement('table', { className: 'e-xlfl-table' });\n        dlgConetntEle.appendChild(table);\n        var colGroup = this.parent.createElement(literals.colGroup);\n        colGroup.innerHTML = '<col style=\"width: 50%\"></col><col style=\"width: 50%\"></col>';\n        table.appendChild(colGroup);\n        //Renders first dropdown\n        var optr = this.renderOperatorUI(column, table, '-xlfl-frstoptr', predicates, true);\n        this.firstOperator = optr.operator;\n        //Renders first value\n        this.renderFlValueUI(column, optr, '-xlfl-frstvalue', predicates, true);\n        var predicate = this.parent.createElement('tr', { className: 'e-xlfl-predicate' });\n        table.appendChild(predicate);\n        //Renders first radion button\n        this.renderRadioButton(column, predicate, predicates);\n        //Renders second dropdown\n        optr = this.renderOperatorUI(column, table, '-xlfl-secndoptr', predicates, false);\n        this.secondOperator = optr.operator;\n        //Renders second text box\n        this.renderFlValueUI(column, optr, '-xlfl-secndvalue', predicates, false);\n    };\n    ExcelFilterBase.prototype.renderRadioButton = function (column, tr, predicates) {\n        var td = this.parent.createElement('td', { className: 'e-xlfl-radio', attrs: { 'colSpan': '2' } });\n        tr.appendChild(td);\n        var radioDiv = this.parent\n            .createElement('div', { className: 'e-xlfl-radiodiv', attrs: { 'style': 'display: inline-block' } });\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var frstpredicate = this.parent.createElement('input', { id: isComplex ? complexFieldName + 'e-xlfl-frstpredicate' : column + 'e-xlfl-frstpredicate', attrs: { 'type': 'radio' } });\n        var secndpredicate = this.parent.createElement('input', { id: isComplex ? complexFieldName + 'e-xlfl-secndpredicate' : column + 'e-xlfl-secndpredicate', attrs: { 'type': 'radio' } });\n        //appends into div\n        radioDiv.appendChild(frstpredicate);\n        radioDiv.appendChild(secndpredicate);\n        td.appendChild(radioDiv);\n        if (this.options.type === 'string') {\n            this.renderMatchCase(column, tr, td, '-xlflmtcase', predicates);\n        }\n        // Initialize AND RadioButton component.\n        var andRadio = new RadioButton({ label: this.getLocalizedLabel('AND'), name: 'default', checked: true, enableRtl: this.parent.enableRtl });\n        this.childRefs.push(andRadio);\n        // Initialize OR RadioButton component.\n        var orRadio = new RadioButton({ label: this.getLocalizedLabel('OR'), name: 'default', enableRtl: this.parent.enableRtl });\n        this.childRefs.push(orRadio);\n        var flValue = predicates && predicates.length === 2 ? predicates[1].predicate : 'and';\n        if (flValue === 'and') {\n            andRadio.checked = true;\n            orRadio.checked = false;\n        }\n        else {\n            orRadio.checked = true;\n            andRadio.checked = false;\n        }\n        // Render initialized RadioButton.\n        andRadio.appendTo(frstpredicate);\n        orRadio.appendTo(secndpredicate);\n        andRadio.element.nextElementSibling.classList.add('e-xlfl-radio-and');\n        orRadio.element.nextElementSibling.classList.add('e-xlfl-radio-or');\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ExcelFilterBase.prototype.removeObjects = function (elements) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var obj = elements_1[_i];\n            if (obj && !obj.isDestroyed) {\n                this.removeHandlersFromComponent(obj);\n                obj.destroy();\n            }\n        }\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderFlValueUI = function (column, optr, elementId, predicates, isFirst) {\n        var value = this.parent.createElement('td', { className: 'e-xlfl-value' });\n        optr.fieldElement.appendChild(value);\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var valueDiv = this.parent.createElement('div', { className: 'e-xlfl-valuediv' });\n        var isFilteredCol = this.options.filteredColumns.some(function (col) { return column === col.field; });\n        var fltrPredicates = this.options.filteredColumns.filter(function (col) { return col.field === column; });\n        if (this.options.column.filterTemplate) {\n            var data = {};\n            var columnObj = this.options.column;\n            if (isFilteredCol && elementId) {\n                data = this.getExcelFilterData(elementId, data, columnObj, predicates, fltrPredicates);\n            }\n            var isReactCompiler = this.parent.isReact && typeof (this.options.column.filterTemplate) !== 'string';\n            var tempID = this.parent.element.id + columnObj.uid + 'filterTemplate';\n            if (isReactCompiler) {\n                this.options.column.getFilterTemplate()(data, this.parent, 'filterTemplate', tempID, null, null, valueDiv);\n                this.parent.renderTemplates();\n            }\n            else {\n                var element = this.options.column.getFilterTemplate()(data, this.parent, 'filterTemplate', tempID);\n                appendChildren(valueDiv, element);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (this.parent.isAngular ? valueDiv.children[0] : valueDiv.querySelector('input')).id = isComplex ?\n                complexFieldName + elementId : column + elementId;\n            value.appendChild(valueDiv);\n        }\n        else {\n            var valueInput = this.parent\n                .createElement('input', { id: isComplex ? complexFieldName + elementId : column + elementId });\n            valueDiv.appendChild(valueInput);\n            value.appendChild(valueDiv);\n            var flValue = void 0;\n            var predicate = void 0;\n            if (predicates && predicates.length > 0) {\n                predicate = predicates.length === 2 ?\n                    (isFirst ? predicates[0] : predicates[1]) :\n                    (isFirst ? predicates[0] : undefined);\n                flValue = (predicate && predicate.operator === optr.operator) ? predicate.value : undefined;\n                if (isNullOrUndefined(flValue)) {\n                    flValue = undefined;\n                }\n            }\n            var types = {\n                'string': this.renderAutoComplete.bind(this),\n                'number': this.renderNumericTextBox.bind(this),\n                'date': this.renderDate.bind(this),\n                'datetime': this.renderDateTime.bind(this)\n            };\n            types[this.options.type](this.options, column, valueInput, flValue, this.parent.enableRtl);\n        }\n    };\n    ExcelFilterBase.prototype.getExcelFilterData = function (elementId, data, columnObj, predicates, fltrPredicates) {\n        var predIndex = elementId === '-xlfl-frstvalue' ? 0 : 1;\n        if (elementId === '-xlfl-frstvalue' || fltrPredicates.length > 1) {\n            data = { column: predicates instanceof Array ? predicates[predIndex] : predicates };\n            var indx = this.options.column.columnData && fltrPredicates.length > 1 ?\n                (this.options.column.columnData.length === 1 ? 0 : 1) : predIndex;\n            data[this.options.field] = columnObj.foreignKeyValue ? this.options.column.columnData[indx][columnObj.foreignKeyValue] :\n                fltrPredicates[indx].value;\n            if (this.options.foreignKeyValue) {\n                data[this.options.foreignKeyValue] = this.options.column.columnData[indx][columnObj.foreignKeyValue];\n            }\n        }\n        return data;\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderMatchCase = function (column, tr, matchCase, elementId, predicates) {\n        var matchCaseDiv = this.parent.createElement('div', { className: 'e-xlfl-matchcasediv', attrs: { 'style': 'display: inline-block' } });\n        var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n        var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n        var matchCaseInput = this.parent.createElement('input', { id: isComplex ? complexFieldName + elementId : column + elementId, attrs: { 'type': 'checkbox' } });\n        matchCaseDiv.appendChild(matchCaseInput);\n        matchCase.appendChild(matchCaseDiv);\n        var flValue = predicates && predicates.length > 0 ?\n            (predicates && predicates.length === 2 ? predicates[1].matchCase : predicates[0].matchCase) :\n            false;\n        // Initialize Match Case check box.\n        var checkbox = new CheckBox({\n            label: this.getLocalizedLabel('MatchCase'),\n            enableRtl: this.parent.enableRtl, checked: flValue\n        });\n        this.childRefs.push(checkbox);\n        // Render initialized CheckBox.\n        checkbox.appendTo(matchCaseInput);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderDate = function (options, column, inputValue, fValue, isRtl) {\n        var format = getCustomDateFormat(options.format, options.type) || options.format;\n        var datePicker = new DatePicker(extend({\n            format: format,\n            cssClass: 'e-popup-flmenu',\n            placeholder: this.getLocalizedLabel('CustomFilterDatePlaceHolder'),\n            width: '100%',\n            enableRtl: isRtl,\n            value: new Date(fValue),\n            locale: this.parent.locale\n        }, options.column.filter.params));\n        this.childRefs.push(datePicker);\n        datePicker.appendTo(inputValue);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderDateTime = function (options, column, inputValue, fValue, isRtl) {\n        var format = getCustomDateFormat(options.format, options.type);\n        var dateTimePicker = new DateTimePicker(extend({\n            format: format,\n            cssClass: 'e-popup-flmenu',\n            placeholder: this.getLocalizedLabel('CustomFilterDatePlaceHolder'),\n            width: '100%',\n            enableRtl: isRtl,\n            value: new Date(fValue),\n            locale: this.parent.locale\n        }, options.column.filter.params));\n        this.childRefs.push(dateTimePicker);\n        dateTimePicker.appendTo(inputValue);\n    };\n    ExcelFilterBase.prototype.completeAction = function (e) {\n        e.result = distinctStringValues(e.result);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderNumericTextBox = function (options, column, inputValue, fValue, isRtl) {\n        var numericTextBox = new NumericTextBox(extend({\n            format: options.format,\n            placeholder: this.getLocalizedLabel('CustomFilterPlaceHolder'),\n            enableRtl: isRtl,\n            value: fValue,\n            locale: this.parent.locale\n        }, options.column.filter.params));\n        this.childRefs.push(numericTextBox);\n        numericTextBox.appendTo(inputValue);\n    };\n    // eslint-disable-next-line max-len\n    ExcelFilterBase.prototype.renderAutoComplete = function (options, column, inputValue, fValue, isRtl) {\n        var colObj = this.options.column;\n        var isForeignColumn = this.isForeignColumn(colObj);\n        var dataSource = isForeignColumn ? colObj.dataSource : options.dataSource;\n        var fields = { value: isForeignColumn ? colObj.foreignKeyValue : column };\n        var actObj = new AutoComplete(extend({\n            dataSource: dataSource instanceof DataManager ? dataSource : new DataManager(dataSource),\n            fields: fields,\n            query: this.getQuery(),\n            sortOrder: 'Ascending',\n            locale: this.parent.locale,\n            cssClass: 'e-popup-flmenu',\n            autofill: true,\n            placeholder: this.getLocalizedLabel('CustomFilterPlaceHolder'),\n            enableRtl: isRtl,\n            text: fValue\n        }, colObj.filter.params));\n        if (dataSource && 'result' in dataSource) {\n            var defObj = eventPromise({ requestType: 'stringfilterrequest' }, this.getQuery());\n            this.parent.trigger(events.dataStateChange, defObj.state);\n            var def = defObj.deffered;\n            def.promise.then(function (e) {\n                actObj.dataSource = new DataManager(e);\n            });\n        }\n        this.childRefs.push(actObj);\n        var evt = { 'actionComplete': this.acActionComplete(actObj, column), 'focus': this.acFocus(actObj, column, options, inputValue) };\n        registerEventHandlers(inputValue.id, [events.actionComplete, literals.focus], evt, this);\n        actObj.addEventListener(literals.focus, this.eventHandlers[inputValue.id][literals.focus]);\n        actObj.addEventListener(events.actionComplete, this.eventHandlers[inputValue.id][events.actionComplete]);\n        actObj.appendTo(inputValue);\n    };\n    ExcelFilterBase.prototype.acActionComplete = function (actObj, column) {\n        return function (e) {\n            var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n            e.result = e.result.filter(function (obj, index, arr) {\n                return arr.map(function (mapObject) {\n                    return isComplex ? performComplexDataOperation(actObj.fields.value, mapObject)\n                        : mapObject[actObj.fields.value];\n                }).indexOf(isComplex ? performComplexDataOperation(actObj.fields.value, obj) :\n                    obj[actObj.fields.value]) === index;\n            });\n        };\n    };\n    ExcelFilterBase.prototype.acFocus = function (actObj, column, options, inputValue) {\n        var _this = this;\n        return function () {\n            var isComplex = !isNullOrUndefined(column) && isComplexField(column);\n            var complexFieldName = !isNullOrUndefined(column) && getComplexFieldID(column);\n            var columnvalue = isComplex ? complexFieldName : column;\n            actObj.filterType = _this.dlgDiv.querySelector('#' + columnvalue +\n                (inputValue.id === (columnvalue + '-xlfl-frstvalue') ?\n                    '-xlfl-frstoptr' :\n                    '-xlfl-secndoptr')).ej2_instances[0].value;\n            actObj.ignoreCase = options.type === 'string' ?\n                !_this.dlgDiv.querySelector('#' + columnvalue + '-xlflmtcase').ej2_instances[0].checked :\n                true;\n            actObj.filterType = !isNullOrUndefined(actObj.filterType) ? actObj.filterType :\n                'equal';\n        };\n    };\n    return ExcelFilterBase;\n}(CheckBoxFilterBase));\nexport { ExcelFilterBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ExcelFilterBase } from '../common/excel-filter-base';\nimport { CheckBoxFilter } from './checkbox-filter';\nimport * as events from '../base/constant';\n/**\n * @hidden\n * `ExcelFilter` module is used to handle filtering action.\n */\nvar ExcelFilter = /** @class */ (function (_super) {\n    __extends(ExcelFilter, _super);\n    /**\n     * Constructor for excelbox filtering module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {FilterSettings} filterSettings - specifies the Filtersettings\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     * @param {object} customFltrOperators - specifies the customFltrOperators\n     * @hidden\n     */\n    function ExcelFilter(parent, filterSettings, serviceLocator, customFltrOperators) {\n        var _this = _super.call(this, parent, filterSettings, serviceLocator) || this;\n        _this.parent = parent;\n        _this.isresetFocus = true;\n        _this.excelFilterBase = new ExcelFilterBase(parent, customFltrOperators);\n        return _this;\n    }\n    /**\n     * To destroy the excel filter.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    ExcelFilter.prototype.destroy = function () {\n        this.excelFilterBase.closeDialog();\n    };\n    ExcelFilter.prototype.openDialog = function (options) {\n        this.excelFilterBase.openDialog(options);\n    };\n    ExcelFilter.prototype.closeDialog = function () {\n        this.excelFilterBase.closeDialog();\n        if (this.isresetFocus) {\n            this.parent.notify(events.restoreFocus, {});\n        }\n    };\n    ExcelFilter.prototype.clearCustomFilter = function (col) {\n        this.excelFilterBase.clearFilter(col);\n    };\n    ExcelFilter.prototype.closeResponsiveDialog = function (isCustomFilter) {\n        if (isCustomFilter) {\n            this.excelFilterBase.removeDialog();\n        }\n        else {\n            this.closeDialog();\n        }\n    };\n    ExcelFilter.prototype.applyCustomFilter = function (args) {\n        if (!args.isCustomFilter) {\n            this.excelFilterBase.fltrBtnHandler();\n            this.excelFilterBase.closeDialog();\n        }\n        else {\n            this.excelFilterBase.filterBtnClick(args.col.field);\n        }\n    };\n    ExcelFilter.prototype.filterByColumn = function (fieldName, firstOperator, firstValue, predicate, matchCase, ignoreAccent, secondOperator, secondValue) {\n        this.excelFilterBase.filterByColumn(fieldName, firstOperator, firstValue, predicate, matchCase, ignoreAccent, secondOperator, secondValue);\n    };\n    /**\n     * @returns {FilterUI} returns the filterUI\n     * @hidden\n     */\n    ExcelFilter.prototype.getFilterUIInfo = function () {\n        return this.excelFilterBase.getFilterUIInfo();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    ExcelFilter.prototype.getModuleName = function () {\n        return 'excelFilter';\n    };\n    return ExcelFilter;\n}(CheckBoxFilter));\nexport { ExcelFilter };\n","import { EventHandler, isNullOrUndefined, extend, closest, getValue } from '@syncfusion/ej2-base';\nimport { getActualPropFromColl, isActionPrevent, getColumnByForeignKeyValue } from '../base/util';\nimport { remove, matches } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager } from '@syncfusion/ej2-data';\nimport * as events from '../base/constant';\nimport { CellType, ResponsiveDialogAction } from '../base/enum';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { Cell } from '../models/cell';\nimport { Row } from '../models/row';\nimport { FilterCellRenderer } from '../renderer/filter-cell-renderer';\nimport { parentsUntil } from '../base/util';\nimport { FilterMenuRenderer } from '../renderer/filter-menu-renderer';\nimport { CheckBoxFilter } from '../actions/checkbox-filter';\nimport { ExcelFilter } from '../actions/excel-filter';\nimport * as literals from '../base/string-literals';\nimport { Input } from '@syncfusion/ej2-inputs';\n/**\n *\n * The `Filter` module is used to handle filtering action.\n */\nvar Filter = /** @class */ (function () {\n    /**\n     * Constructor for Grid filtering module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {FilterSettings} filterSettings - specifies the filterSettings\n     * @param {ServiceLocator} serviceLocator - specifes the serviceLocator\n     * @hidden\n     */\n    function Filter(parent, filterSettings, serviceLocator) {\n        this.predicate = 'and';\n        this.contentRefresh = true;\n        this.filterByMethod = true;\n        this.refresh = true;\n        this.values = {};\n        this.operators = {};\n        this.cellText = {};\n        this.nextFlMenuOpen = '';\n        this.type = { 'Menu': FilterMenuRenderer, 'CheckBox': CheckBoxFilter, 'Excel': ExcelFilter };\n        /** @hidden */\n        this.filterOperators = {\n            contains: 'contains', endsWith: 'endswith', equal: 'equal', greaterThan: 'greaterthan', greaterThanOrEqual: 'greaterthanorequal',\n            lessThan: 'lessthan', lessThanOrEqual: 'lessthanorequal', notEqual: 'notequal', startsWith: 'startswith'\n        };\n        this.fltrDlgDetails = { field: '', isOpen: false };\n        /** @hidden */\n        this.skipNumberInput = ['=', ' ', '!'];\n        this.skipStringInput = ['>', '<', '='];\n        this.actualPredicate = {};\n        this.parent = parent;\n        this.filterSettings = filterSettings;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n        this.setFullScreenDialog();\n    }\n    /**\n     * To render filter bar when filtering enabled.\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.render = function (e) {\n        if (DataUtil.getObject('args.isFrozen', e) || (this.parent.getFrozenMode() === literals.leftRight &&\n            DataUtil.getObject('args.renderFrozenRightContent', e))) {\n            return;\n        }\n        var gObj = this.parent;\n        this.l10n = this.serviceLocator.getService('localization');\n        this.getLocalizedCustomOperators();\n        if (this.parent.filterSettings.type === 'FilterBar') {\n            if (gObj.columns.length) {\n                var fltrElem = this.parent.element.querySelector('.e-filterbar');\n                if (fltrElem) {\n                    remove(fltrElem);\n                }\n                var rowRenderer = new RowRenderer(this.serviceLocator, CellType.Filter, gObj);\n                var cellrender = this.serviceLocator.getService('cellRendererFactory');\n                cellrender.addCellRenderer(CellType.Filter, new FilterCellRenderer(this.parent, this.serviceLocator));\n                this.valueFormatter = this.serviceLocator.getService('valueFormatter');\n                rowRenderer.element = this.parent.createElement('tr', { className: 'e-filterbar' });\n                var row = this.generateRow();\n                row.data = this.values;\n                if (gObj.getFrozenMode() === 'Right') {\n                    var thead = gObj.getFrozenRightHeader().querySelector('thead');\n                    thead.appendChild(rowRenderer.element);\n                }\n                else {\n                    this.parent.getHeaderContent().querySelector('thead').appendChild(rowRenderer.element);\n                }\n                var rowdrag = this.parent.element.querySelector('.e-rowdragheader');\n                this.element = rowRenderer.render(row, gObj.getColumns(), null, null, rowRenderer.element);\n                var detail = this.element.querySelector('.e-detailheadercell');\n                if (detail) {\n                    detail.className = 'e-filterbarcell e-mastercell';\n                }\n                if (rowdrag) {\n                    rowdrag.className = 'e-dragheadercell e-mastercell';\n                }\n                var gCells = [].slice.call(this.element.getElementsByClassName('e-grouptopleftcell'));\n                if (gCells.length) {\n                    gCells[gCells.length - 1].classList.add('e-lastgrouptopleftcell');\n                }\n                this.wireEvents();\n                this.parent.notify(events.freezeRender, { case: 'filter' });\n            }\n        }\n    };\n    /**\n     * To show the responsive custom filter dialog\n     *\n     * @param {boolean} enable - specifes dialog open\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.showCustomFilter = function (enable) {\n        this.responsiveDialogRenderer.isCustomDialog = enable;\n        this.responsiveDialogRenderer.showResponsiveDialog(this.column);\n    };\n    /**\n     * To create the filter module.\n     *\n     * @param {Column} col - specifies the filtering column name\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.setFilterModel = function (col) {\n        var type = col.filter.type || this.parent.filterSettings.type;\n        this.filterModule = new this.type[type](this.parent, this.parent.filterSettings, this.serviceLocator, this.customOperators, this);\n    };\n    /**\n     * To destroy the filter bar.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        if (this.filterModule) {\n            this.filterModule.destroy();\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.parent.refreshing && (this.parent.isDestroyed || !this.parent.allowFiltering)) {\n            this.filterSettings.columns = [];\n        }\n        this.updateFilterMsg();\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.filterSettings.type === 'FilterBar' && this.filterSettings.showFilterBarOperator) {\n            var dropdownlist = [].slice.call(this.element.getElementsByClassName('e-filterbaroperator'));\n            for (var i = 0; i < dropdownlist.length; i++) {\n                if (dropdownlist[i].ej2_instances[0]) {\n                    dropdownlist[i].ej2_instances[0].destroy();\n                }\n            }\n        }\n        if (this.element) {\n            if (this.element.parentElement) {\n                remove(this.element);\n            }\n            var filterBarElement = this.parent.getHeaderContent().querySelector('.e-filterbar');\n            if (this.parent.isFrozenGrid() && filterBarElement) {\n                remove(filterBarElement);\n            }\n        }\n    };\n    Filter.prototype.setFullScreenDialog = function () {\n        if (this.serviceLocator) {\n            this.serviceLocator.registerAdaptiveService(this, this.parent.enableAdaptiveUI, ResponsiveDialogAction.isFilter);\n        }\n    };\n    Filter.prototype.generateRow = function () {\n        var options = {};\n        var row = new Row(options);\n        row.cells = this.generateCells();\n        return row;\n    };\n    Filter.prototype.generateCells = function () {\n        //TODO: generate dummy column for group, detail, stacked row here for filtering;\n        var cells = [];\n        if (this.parent.allowGrouping) {\n            for (var c = 0, len = this.parent.groupSettings.columns.length; c < len; c++) {\n                cells.push(this.generateCell({}, CellType.HeaderIndent));\n            }\n        }\n        if (this.parent.detailTemplate || this.parent.childGrid) {\n            cells.push(this.generateCell({}, CellType.DetailHeader));\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() !== 'Right') {\n            cells.push(this.generateCell({}, CellType.RowDragHIcon));\n        }\n        for (var _i = 0, _a = this.parent.getColumns(); _i < _a.length; _i++) {\n            var dummy = _a[_i];\n            cells.push(this.generateCell(dummy));\n        }\n        if (this.parent.getFrozenMode() === 'Right') {\n            cells.push(this.generateCell({}, CellType.RowDragHIcon));\n        }\n        return cells;\n    };\n    Filter.prototype.generateCell = function (column, cellType) {\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': false,\n            'rowId': '',\n            'column': column,\n            'cellType': cellType ? cellType : CellType.Filter,\n            'attributes': { title: this.l10n.getConstant('FilterbarTitle') }\n        };\n        return new Cell(opt);\n    };\n    /**\n     * To update filterSettings when applying filter.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.updateModel = function () {\n        var col = this.parent.getColumnByField(this.fieldName);\n        this.filterObjIndex = this.getFilteredColsIndexByField(col);\n        this.prevFilterObject = this.filterSettings.columns[this.filterObjIndex];\n        var arrayVal = Array.isArray(this.value) ? this.value : [this.value];\n        var moduleName = this.parent.dataSource.adaptor && this.parent.dataSource.adaptor.getModuleName ? this.parent.dataSource.adaptor.getModuleName() : undefined;\n        for (var i = 0, len = arrayVal.length; i < len; i++) {\n            var field = col.isForeignColumn() ? col.foreignKeyValue : this.fieldName;\n            var isMenuNotEqual = this.operator === 'notequal';\n            this.currentFilterObject = {\n                field: field, uid: col.uid, isForeignKey: col.isForeignColumn(), operator: this.operator,\n                value: arrayVal[i], predicate: this.predicate,\n                matchCase: this.matchCase, ignoreAccent: this.ignoreAccent, actualFilterValue: {}, actualOperator: {}\n            };\n            var index = this.getFilteredColsIndexByField(col);\n            if (index > -1 && !Array.isArray(this.value)) {\n                this.filterSettings.columns[index] = this.currentFilterObject;\n            }\n            else {\n                this.filterSettings.columns.push(this.currentFilterObject);\n            }\n            if (isNullOrUndefined(this.value) && (this.operator === 'equal' || this.operator === 'notequal') &&\n                (moduleName !== 'ODataAdaptor' && moduleName !== 'ODataV4Adaptor')) {\n                this.filterSettings.columns = [];\n                if (col.type === 'string') {\n                    this.filterSettings.columns.push({\n                        field: field, ignoreAccent: this.ignoreAccent, matchCase: this.matchCase,\n                        operator: this.operator, predicate: isMenuNotEqual ? 'and' : 'or', value: ''\n                    });\n                }\n                this.filterSettings.columns.push({\n                    field: field, ignoreAccent: this.ignoreAccent, matchCase: this.matchCase,\n                    operator: this.operator, predicate: isMenuNotEqual ? 'and' : 'or', value: undefined\n                });\n                this.filterSettings.columns.push({\n                    field: field, ignoreAccent: this.ignoreAccent, matchCase: this.matchCase,\n                    operator: this.operator, predicate: isMenuNotEqual ? 'and' : 'or', value: null\n                });\n            }\n        }\n        // eslint-disable-next-line no-self-assign\n        this.filterSettings.columns = this.filterSettings.columns;\n        this.parent.dataBind();\n    };\n    Filter.prototype.getFilteredColsIndexByField = function (col) {\n        var cols = this.filterSettings.columns;\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (cols[i].uid === col.uid || (col.isForeignColumn() && this.parent.getColumnByUid(col.uid).field === col.foreignKeyValue)) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    /**\n     * To trigger action complete event.\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.onActionComplete = function (e) {\n        var args = !this.isRemove ? {\n            currentFilterObject: this.currentFilterObject,\n            /* tslint:disable:no-string-literal */\n            currentFilteringColumn: !isNullOrUndefined(this.column) ? this.column.field : undefined,\n            /* tslint:enable:no-string-literal */\n            columns: this.filterSettings.columns, requestType: 'filtering', type: events.actionComplete\n        } : {\n            requestType: 'filtering', type: events.actionComplete\n        };\n        this.parent.trigger(events.actionComplete, extend(e, args));\n        this.isRemove = false;\n    };\n    Filter.prototype.wireEvents = function () {\n        EventHandler.add(this.parent.getHeaderContent(), 'keyup', this.keyUpHandlerImmediate, this);\n    };\n    Filter.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.getHeaderContent(), 'keyup', this.keyUpHandlerImmediate);\n    };\n    Filter.prototype.enableAfterRender = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.parent.getHeaderTable().classList.add('e-sortfilter');\n            this.render();\n        }\n    };\n    Filter.prototype.refreshFilterValue = function () {\n        if (this.filterSettings.type === 'FilterBar' && this.filterSettings.columns.length &&\n            !this.parent.getCurrentViewRecords().length && this.parent.enablePersistence) {\n            this.initialEnd();\n            this.parent.removeEventListener(events.beforeDataBound, this.refreshFilterValueFn);\n        }\n    };\n    Filter.prototype.initialEnd = function () {\n        this.parent.off(events.contentReady, this.initialEnd);\n        if (this.parent.getColumns().length && this.filterSettings.columns.length) {\n            var gObj = this.parent;\n            this.contentRefresh = false;\n            this.initialLoad = true;\n            for (var _i = 0, _a = gObj.filterSettings.columns; _i < _a.length; _i++) {\n                var col = _a[_i];\n                this.filterByColumn(col.field, col.operator, col.value, col.predicate, col.matchCase, col.ignoreAccent, col.actualFilterValue, col.actualOperator);\n            }\n            this.initialLoad = false;\n            this.updateFilterMsg();\n            this.contentRefresh = true;\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.setFullScreenDialog, this.setFullScreenDialog, this);\n        this.parent.on(events.uiUpdate, this.enableAfterRender, this);\n        this.parent.on(events.filterComplete, this.onActionComplete, this);\n        this.parent.on(events.inBoundModelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.keyPressed, this.keyUpHandler, this);\n        this.parent.on(events.columnPositionChanged, this.columnPositionChanged, this);\n        this.parent.on(events.headerRefreshed, this.render, this);\n        this.parent.on(events.contentReady, this.initialEnd, this);\n        this.parent.on(events.filterMenuClose, this.filterMenuClose, this);\n        this.docClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.docClickHandler, this);\n        EventHandler.add(this.parent.element, 'mousedown', this.refreshClearIcon, this);\n        this.parent.on(events.filterOpen, this.columnMenuFilter, this);\n        this.parent.on(events.click, this.filterIconClickHandler, this);\n        this.parent.on('persist-data-changed', this.initialEnd, this);\n        this.parent.on(events.closeFilterDialog, this.clickHandler, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.refreshFilterValueFn = this.refreshFilterValue.bind(this);\n        this.parent.addEventListener(events.beforeDataBound, this.refreshFilterValueFn);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.removeEventListener = function () {\n        EventHandler.remove(document, 'click', this.docClickHandler);\n        EventHandler.remove(this.parent.element, 'mousedown', this.refreshClearIcon);\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.setFullScreenDialog, this.setFullScreenDialog);\n        this.parent.off(events.uiUpdate, this.enableAfterRender);\n        this.parent.off(events.filterComplete, this.onActionComplete);\n        this.parent.off(events.inBoundModelChanged, this.onPropertyChanged);\n        this.parent.off(events.keyPressed, this.keyUpHandler);\n        this.parent.off(events.columnPositionChanged, this.columnPositionChanged);\n        this.parent.off(events.headerRefreshed, this.render);\n        this.parent.off(events.filterOpen, this.columnMenuFilter);\n        this.parent.off(events.filterMenuClose, this.filterMenuClose);\n        this.parent.off(events.click, this.filterIconClickHandler);\n        this.parent.off(events.closeFilterDialog, this.clickHandler);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    Filter.prototype.refreshClearIcon = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterSettings.type === 'FilterBar' &&\n            e.target.classList.contains('e-clear-icon')) {\n            var targetText = e.target.previousElementSibling;\n            Input.setValue(null, targetText, 'Never', true);\n            if (this.filterSettings.mode === 'Immediate') {\n                this.removeFilteredColsByField(targetText.id.slice(0, -14)); //Length of _filterBarcell = 14\n            }\n        }\n    };\n    Filter.prototype.filterMenuClose = function () {\n        this.fltrDlgDetails.isOpen = false;\n    };\n    /**\n     * Filters the Grid row by fieldName, filterOperator, and filterValue.\n     *\n     * @param  {string} fieldName - Defines the field name of the filter column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean} filterValue - Defines the value which is used to filter records.\n     * @param  {string} predicate - Defines the relationship of one filter query with another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, then the filter records\n     * the exact match or <br> filters records that are case insensitive (uppercase and lowercase letters treated the same).\n     * @param {boolean} ignoreAccent - If ignoreAccent set to true, then filter ignores the diacritic characters or accents while filtering.\n     * @param  {string} actualFilterValue - Defines the actual filter value for the filter column.\n     * @param  {string} actualOperator - Defines the actual filter operator for the filter column.\n     * @returns {void}\n     */\n    Filter.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator) {\n        var _this = this;\n        var gObj = this.parent;\n        var filterCell;\n        this.column = gObj.grabColumnByFieldFromAllCols(fieldName);\n        if (this.filterSettings.type === 'FilterBar' && this.filterSettings.showFilterBarOperator\n            && isNullOrUndefined(this.column.filterBarTemplate)) {\n            filterOperator = this.getOperatorName(fieldName);\n        }\n        if (!this.column) {\n            return;\n        }\n        if (this.filterSettings.type === 'FilterBar') {\n            filterCell = gObj.getHeaderContent().querySelector('[id=\\'' + this.column.field + '_filterBarcell\\']');\n        }\n        if (!isNullOrUndefined(this.column.allowFiltering) && !this.column.allowFiltering) {\n            this.parent.log('action_disabled_column', { moduleName: this.getModuleName(), columnName: this.column.headerText });\n            return;\n        }\n        if (isActionPrevent(gObj)) {\n            gObj.notify(events.preventBatch, {\n                instance: this, handler: this.filterByColumn, arg1: fieldName, arg2: filterOperator, arg3: filterValue, arg4: predicate,\n                arg5: matchCase, arg6: ignoreAccent, arg7: actualFilterValue, arg8: actualOperator\n            });\n            return;\n        }\n        this.predicate = predicate ? predicate : Array.isArray(filterValue) ? 'or' : 'and';\n        this.value = filterValue;\n        this.matchCase = matchCase || false;\n        this.ignoreAccent = this.ignoreAccent = !isNullOrUndefined(ignoreAccent) ? ignoreAccent : this.parent.filterSettings.ignoreAccent;\n        this.fieldName = fieldName;\n        this.operator = filterOperator;\n        filterValue = !isNullOrUndefined(filterValue) ? filterValue.toString() : filterValue;\n        if (this.column.type === 'number' || this.column.type === 'date') {\n            this.matchCase = true;\n        }\n        gObj.getColumnHeaderByField(fieldName).setAttribute('aria-filtered', 'true');\n        if (filterCell && this.filterSettings.type === 'FilterBar') {\n            if ((filterValue && filterValue.length < 1) || (!this.filterByMethod &&\n                this.checkForSkipInput(this.column, filterValue))) {\n                this.filterStatusMsg = (filterValue && filterValue.length < 1) ? '' : this.l10n.getConstant('InvalidFilterMessage');\n                this.updateFilterMsg();\n                return;\n            }\n            if (filterCell.value !== filterValue) {\n                filterCell.value = filterValue;\n            }\n        }\n        if (!isNullOrUndefined(this.column.format)) {\n            this.applyColumnFormat(filterValue);\n            if (this.initialLoad && this.filterSettings.type === 'FilterBar') {\n                filterCell.value = this.values[this.column.field];\n            }\n        }\n        else {\n            this.values[this.column.field] = filterValue; //this line should be above updateModel\n        }\n        var predObj = {\n            field: this.fieldName,\n            predicate: predicate,\n            matchCase: matchCase,\n            ignoreAccent: ignoreAccent,\n            operator: this.operator,\n            value: this.value,\n            type: this.column.type\n        };\n        var filterColumn = this.parent.filterSettings.columns.filter(function (fColumn) {\n            return (fColumn.field === _this.fieldName);\n        });\n        if (filterColumn.length > 1 && !isNullOrUndefined(this.actualPredicate[this.fieldName])) {\n            this.actualPredicate[this.fieldName].push(predObj);\n        }\n        else {\n            this.actualPredicate[this.fieldName] = [predObj];\n        }\n        if (this.checkAlreadyColFiltered(this.column.field)) {\n            return;\n        }\n        this.updateModel();\n    };\n    Filter.prototype.applyColumnFormat = function (filterValue) {\n        var _this = this;\n        var getFlvalue = (this.column.type === 'date' || this.column.type === 'datetime') ?\n            new Date(filterValue) : parseFloat(filterValue);\n        if ((this.column.type === 'date' || this.column.type === 'datetime') && filterValue &&\n            filterValue.split(',').length > 1) {\n            this.values[this.column.field] = ((filterValue).split(',')).map(function (val) {\n                return _this.setFormatForFlColumn(new Date(val), _this.column);\n            });\n        }\n        else {\n            this.values[this.column.field] = this.setFormatForFlColumn(getFlvalue, this.column);\n        }\n    };\n    // To skip the second time request to server while applying initial filtering - EJ2-44361\n    Filter.prototype.skipUid = function (col) {\n        var flag = true;\n        var colLen = Object.keys((col));\n        for (var i = 0; i < colLen.length; i++) {\n            var key = Object.keys(col[colLen[i]]);\n            if (key.length === 1 && key[0] === 'uid') {\n                flag = false;\n            }\n        }\n        return flag;\n    };\n    Filter.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.properties); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'columns':\n                    // eslint-disable-next-line no-case-declarations\n                    var col = 'columns';\n                    // eslint-disable-next-line no-case-declarations\n                    var args = {\n                        currentFilterObject: this.currentFilterObject, currentFilteringColumn: this.column ?\n                            this.column.field : undefined, action: 'filter', columns: this.filterSettings.columns,\n                        requestType: 'filtering', type: events.actionBegin, cancel: false\n                    };\n                    if (this.contentRefresh && this.skipUid(e.properties[col])) {\n                        this.parent.notify(events.modelChanged, args);\n                        if (args.cancel) {\n                            if (isNullOrUndefined(this.prevFilterObject)) {\n                                this.filterSettings.columns.splice(this.filterSettings.columns.length - 1, 1);\n                            }\n                            else {\n                                this.filterSettings.columns[this.filterObjIndex] = this.prevFilterObject;\n                            }\n                            return;\n                        }\n                        this.updateFilterIcon();\n                        this.refreshFilterSettings();\n                        this.updateFilterMsg();\n                        this.updateFilter();\n                    }\n                    break;\n                case 'showFilterBarStatus':\n                    if (e.properties[prop]) {\n                        this.updateFilterMsg();\n                    }\n                    else if (this.parent.allowPaging) {\n                        this.parent.updateExternalMessage('');\n                    }\n                    break;\n                case 'showFilterBarOperator':\n                case 'type':\n                    this.parent.refreshHeader();\n                    this.refreshFilterSettings();\n                    break;\n            }\n        }\n    };\n    Filter.prototype.refreshFilterSettings = function () {\n        if (this.filterSettings.type === 'FilterBar') {\n            for (var i = 0; i < this.filterSettings.columns.length; i++) {\n                this.column = this.parent.grabColumnByUidFromAllCols(this.filterSettings.columns[i].uid);\n                var filterValue = this.filterSettings.columns[i].value;\n                filterValue = !isNullOrUndefined(filterValue) && filterValue.toString();\n                if (!isNullOrUndefined(this.column.format)) {\n                    this.applyColumnFormat(filterValue);\n                }\n                else {\n                    var key = this.filterSettings.columns[i].field;\n                    this.values[key] = this.filterSettings.columns[i].value;\n                }\n                var filterElement = this.getFilterBarElement(this.column.field);\n                if (filterElement) {\n                    if (this.cellText[this.filterSettings.columns[i].field] !== ''\n                        && !isNullOrUndefined(this.cellText[this.filterSettings.columns[i].field])) {\n                        filterElement.value = this.cellText[this.column.field];\n                    }\n                    else {\n                        filterElement.value = this.filterSettings.columns[i].value;\n                    }\n                }\n            }\n            if (this.filterSettings.columns.length === 0) {\n                var col = this.parent.getColumns();\n                for (var i = 0; i < col.length; i++) {\n                    var filterElement = this.getFilterBarElement(col[i].field);\n                    if (filterElement && filterElement.value !== '') {\n                        filterElement.value = '';\n                        delete this.values[col[i].field];\n                    }\n                }\n            }\n        }\n    };\n    Filter.prototype.updateFilterIcon = function () {\n        if (this.filterSettings.columns.length === 0 && this.parent.element.querySelector('.e-filtered')) {\n            var fltrIconElement = [].slice.call(this.parent.element.getElementsByClassName('e-filtered'));\n            for (var i = 0, len = fltrIconElement.length; i < len; i++) {\n                fltrIconElement[i].removeAttribute('aria-filtered');\n                fltrIconElement[i].classList.remove('e-filtered');\n            }\n        }\n    };\n    Filter.prototype.getFilterBarElement = function (col) {\n        var selector = '[id=\\'' + col + '_filterBarcell\\']';\n        var filterElement;\n        if (selector && !isNullOrUndefined(this.element)) {\n            filterElement = this.element.querySelector(selector);\n        }\n        return filterElement;\n    };\n    /**\n     * @private\n     * @returns {void}\n     */\n    Filter.prototype.refreshFilter = function () {\n        this.refreshFilterSettings();\n        this.updateFilterMsg();\n    };\n    /**\n     * Clears all the filtered rows of the Grid.\n     *\n     * @param {string[]} fields - returns the fields\n     * @returns {void}\n     */\n    Filter.prototype.clearFiltering = function (fields) {\n        var _this = this;\n        var cols = getActualPropFromColl(this.filterSettings.columns);\n        if (!isNullOrUndefined(fields)) {\n            this.refresh = false;\n            fields.forEach(function (field) { _this.removeFilteredColsByField(field, false); });\n            this.parent.setProperties({ filterSettings: { columns: this.filterSettings.columns } }, true);\n            this.parent.renderModule.refresh();\n            this.refresh = true;\n            return;\n        }\n        if (isActionPrevent(this.parent)) {\n            this.parent.notify(events.preventBatch, { instance: this, handler: this.clearFiltering });\n            return;\n        }\n        for (var i = 0; i < cols.length; i++) {\n            cols[i].uid = cols[i].uid || this.parent.getColumnByField(cols[i].field).uid;\n        }\n        var colUid = cols.map(function (f) { return f.uid; });\n        var filteredcols = colUid.filter(function (item, pos) { return colUid.indexOf(item) === pos; });\n        this.refresh = false;\n        for (var i = 0, len = filteredcols.length; i < len; i++) {\n            this.removeFilteredColsByField(this.parent.getColumnByUid(filteredcols[i]).field, false);\n        }\n        this.refresh = true;\n        if (filteredcols.length) {\n            this.parent.renderModule.refresh();\n        }\n        if (this.parent.filterSettings.columns.length === 0 && this.parent.element.querySelector('.e-filtered')) {\n            var fltrElement = [].slice.call(this.parent.element.getElementsByClassName('e-filtered'));\n            for (var i = 0, len = fltrElement.length; i < len; i++) {\n                fltrElement[0].removeAttribute('aria-filtered');\n                fltrElement[0].classList.remove('e-filtered');\n            }\n        }\n        this.isRemove = true;\n        this.filterStatusMsg = '';\n        this.updateFilterMsg();\n    };\n    Filter.prototype.checkAlreadyColFiltered = function (field) {\n        var columns = this.filterSettings.columns;\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var col = columns_1[_i];\n            if (col.field === field && col.value === this.value &&\n                col.operator === this.operator && col.predicate === this.predicate) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Filter.prototype.columnMenuFilter = function (args) {\n        this.column = args.col;\n        var ele = closest(args.target, '#' + args.id);\n        if (args.isClose && !ele) {\n            this.filterModule.closeDialog();\n        }\n        else if (ele) {\n            this.filterDialogOpen(this.column, args.target);\n        }\n    };\n    Filter.prototype.filterDialogOpen = function (col, target, left, top) {\n        if (this.filterModule) {\n            this.filterModule.closeDialog();\n        }\n        this.setFilterModel(col);\n        this.filterModule.openDialog(this.createOptions(col, target, left, top));\n    };\n    /**\n     * Create filter dialog options\n     *\n     * @param  {Column} col - Filtering column detail.\n     * @param  {Element} target -  Filter dialog target.\n     * @param  {number} left -  Filter dialog left position.\n     * @param  {number} top -  Filter dialog top position.\n     * @returns {Object} returns the created dialog options\n     * @hidden\n     */\n    Filter.prototype.createOptions = function (col, target, left, top) {\n        var gObj = this.parent;\n        var dataSource = col.filter.dataSource || gObj.dataSource && 'result' in gObj.dataSource ? gObj.dataSource :\n            gObj.getDataModule().dataManager;\n        var type = col.filter.type || this.parent.filterSettings.type;\n        var options = {\n            type: col.type, field: col.field, displayName: col.headerText,\n            dataSource: dataSource, format: col.format, height: 800, columns: gObj.getColumns(),\n            filteredColumns: gObj.filterSettings.columns, target: target, dataManager: gObj.getDataModule().dataManager,\n            formatFn: col.getFormatter(), ignoreAccent: gObj.filterSettings.ignoreAccent,\n            parserFn: col.getParser(), query: gObj.query, template: col.getFilterItemTemplate(),\n            hideSearchbox: isNullOrUndefined(col.filter.hideSearchbox) ? false : col.filter.hideSearchbox,\n            handler: this.filterHandler.bind(this), localizedStrings: gObj.getLocaleConstants(),\n            position: { X: left, Y: top }, column: col, foreignKeyValue: col.foreignKeyValue,\n            actualPredicate: this.actualPredicate, localeObj: gObj.localeObj,\n            isRemote: gObj.getDataModule().isRemote(), allowCaseSensitive: this.filterSettings.enableCaseSensitivity,\n            isResponsiveFilter: this.parent.enableAdaptiveUI,\n            operator: this.actualPredicate[col.field] && type === 'Menu' ? this.actualPredicate[col.field][0].operator : 'equal'\n        };\n        return options;\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @param  {boolean} isClearFilterBar - Specifies whether the filter bar value needs to be cleared.\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.removeFilteredColsByField = function (field, isClearFilterBar) {\n        var fCell;\n        var cols = this.filterSettings.columns;\n        if (isActionPrevent(this.parent)) {\n            var args = { instance: this, handler: this.removeFilteredColsByField, arg1: field, arg2: isClearFilterBar };\n            this.parent.notify(events.preventBatch, args);\n            return;\n        }\n        var colUid = cols.map(function (f) { return f.uid; });\n        var filteredColsUid = colUid.filter(function (item, pos) { return colUid.indexOf(item) === pos; });\n        var _loop_1 = function (i, len) {\n            cols[i].uid = cols[i].uid || this_1.parent.getColumnByField(cols[i].field).uid;\n            var len_1 = cols.length;\n            var column = this_1.parent.grabColumnByUidFromAllCols(filteredColsUid[i]);\n            if (column.field === field || (column.field === column.foreignKeyValue && column.isForeignColumn())) {\n                var currentPred = this_1.filterSettings.columns.filter(function (e) {\n                    return e.uid === column.uid;\n                })[0];\n                if (this_1.filterSettings.type === 'FilterBar' && !isClearFilterBar) {\n                    var selector = '[id=\\'' + column.field + '_filterBarcell\\']';\n                    fCell = this_1.parent.getHeaderContent().querySelector(selector);\n                    if (fCell) {\n                        fCell.value = '';\n                        delete this_1.values[field];\n                    }\n                }\n                while (len_1--) {\n                    if (cols[len_1].uid === column.uid) {\n                        cols.splice(len_1, 1);\n                    }\n                }\n                var fltrElement = this_1.parent.getColumnHeaderByField(column.field);\n                fltrElement.removeAttribute('aria-filtered');\n                if (this_1.filterSettings.type !== 'FilterBar') {\n                    var iconClass = this_1.parent.showColumnMenu && column.showColumnMenu ? '.e-columnmenu' : '.e-icon-filter';\n                    fltrElement.querySelector(iconClass).classList.remove('e-filtered');\n                }\n                this_1.isRemove = true;\n                if (this_1.actualPredicate[field]) {\n                    delete this_1.actualPredicate[field];\n                }\n                if (this_1.values[field]) {\n                    delete this_1.values[field];\n                }\n                if (this_1.refresh) {\n                    this_1.parent.notify(events.modelChanged, {\n                        requestType: 'filtering', type: events.actionBegin, currentFilterObject: currentPred,\n                        currentFilterColumn: column, action: 'clearFilter'\n                    });\n                }\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var i = 0, len = filteredColsUid.length; i < len; i++) {\n            var state_1 = _loop_1(i, len);\n            if (state_1 === \"break\")\n                break;\n        }\n        this.updateFilterMsg();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    Filter.prototype.keyUpHandlerImmediate = function (e) {\n        if (e.keyCode !== 13) {\n            this.keyUpHandler(e);\n        }\n    };\n    Filter.prototype.keyUpHandler = function (e) {\n        var gObj = this.parent;\n        var target = e.target;\n        if (target && matches(target, '.e-filterbar input')) {\n            var closeHeaderEle = closest(target, 'th.e-filterbarcell');\n            this.column = gObj.getColumnByUid(closeHeaderEle.getAttribute('e-mappinguid'));\n            if (!this.column) {\n                return;\n            }\n            if (e.action === 'altDownArrow' && this.parent.filterSettings.showFilterBarOperator) {\n                var dropDownListInput = closest(target, 'span').querySelector('.e-filterbaroperator');\n                dropDownListInput.ej2_instances[0].showPopup();\n                dropDownListInput.focus();\n            }\n            if ((this.filterSettings.mode === 'Immediate' || (e.keyCode === 13 &&\n                !e.target.classList.contains('e-filterbaroperator')))\n                && e.keyCode !== 9 && !this.column.filterTemplate) {\n                this.value = target.value.trim();\n                this.processFilter(e);\n            }\n        }\n        if (e.action === 'altDownArrow' && this.filterSettings.type !== 'FilterBar') {\n            var element = gObj.focusModule.currentInfo.element;\n            if (element && element.classList.contains('e-headercell')) {\n                var column = gObj.getColumnByUid(element.firstElementChild.getAttribute('e-mappinguid'));\n                this.openMenuByField(column.field);\n                this.parent.focusModule.clearIndicator();\n            }\n        }\n        if (e.action === 'escape' && this.filterSettings.type === 'Menu' && this.filterModule) {\n            this.filterModule.closeDialog();\n            gObj.notify(events.restoreFocus, {});\n        }\n    };\n    Filter.prototype.updateCrossIcon = function (element) {\n        if (element.value.length) {\n            element.nextElementSibling.classList.remove('e-hide');\n        }\n    };\n    Filter.prototype.updateFilterMsg = function () {\n        if (this.filterSettings.type === 'FilterBar') {\n            var gObj = this.parent;\n            var getFormatFlValue = void 0;\n            var columns = this.filterSettings.columns;\n            var column = void 0;\n            if (!this.filterSettings.showFilterBarStatus) {\n                return;\n            }\n            if (columns.length > 0 && this.filterStatusMsg !== this.l10n.getConstant('InvalidFilterMessage')) {\n                this.filterStatusMsg = '';\n                for (var index = 0; index < columns.length; index++) {\n                    column = gObj.grabColumnByUidFromAllCols(columns[index].uid) || gObj.grabColumnByFieldFromAllCols(columns[index].field);\n                    if (index) {\n                        this.filterStatusMsg += ' && ';\n                    }\n                    if (!isNullOrUndefined(column.format)) {\n                        var flValue = (column.type === 'date' || column.type === 'datetime') ?\n                            this.valueFormatter.fromView(this.values[column.field], column.getParser(), column.type) :\n                            this.values[column.field];\n                        if (!(column.type === 'date' || column.type === 'datetime')) {\n                            var formater = this.serviceLocator.getService('valueFormatter');\n                            getFormatFlValue = formater.toView(flValue, column.getParser()).toString();\n                        }\n                        else {\n                            getFormatFlValue = this.setFormatForFlColumn(flValue, column);\n                        }\n                        this.filterStatusMsg += column.headerText + ': ' + getFormatFlValue;\n                    }\n                    else {\n                        this.filterStatusMsg += column.headerText + ': ' + this.values[column.field];\n                    }\n                }\n            }\n            if (gObj.allowPaging) {\n                gObj.updateExternalMessage(this.filterStatusMsg);\n            }\n            //TODO: virtual paging\n            this.filterStatusMsg = '';\n        }\n    };\n    Filter.prototype.setFormatForFlColumn = function (value, column) {\n        var formater = this.serviceLocator.getService('valueFormatter');\n        return formater.toView(value, column.getFormatter()).toString();\n    };\n    Filter.prototype.checkForSkipInput = function (column, value) {\n        var isSkip;\n        if (column.type === 'number') {\n            if (DataUtil.operatorSymbols[value] || this.skipNumberInput.indexOf(value) > -1) {\n                isSkip = true;\n            }\n        }\n        else if (column.type === 'string') {\n            for (var _i = 0, value_1 = value; _i < value_1.length; _i++) {\n                var val = value_1[_i];\n                if (this.skipStringInput.indexOf(val) > -1) {\n                    isSkip = true;\n                }\n            }\n        }\n        return isSkip;\n    };\n    Filter.prototype.processFilter = function (e) {\n        this.stopTimer();\n        this.startTimer(e);\n    };\n    Filter.prototype.startTimer = function (e) {\n        var _this = this;\n        this.timer = window.setInterval(function () { _this.onTimerTick(); }, e.keyCode === 13 ? 0 : this.filterSettings.immediateModeDelay);\n    };\n    Filter.prototype.stopTimer = function () {\n        window.clearInterval(this.timer);\n    };\n    Filter.prototype.onTimerTick = function () {\n        var selector = '[id=\\'' + this.column.field + '_filterBarcell\\']';\n        var filterElement = this.element.querySelector(selector);\n        if (!filterElement && this.parent.isFrozenGrid()) {\n            filterElement = this.parent.getHeaderContent().querySelector(selector);\n        }\n        var filterValue;\n        this.cellText[this.column.field] = filterElement.value;\n        this.stopTimer();\n        if (!isNullOrUndefined(this.column.filterBarTemplate)) {\n            var templateRead = this.column.filterBarTemplate.read;\n            if (typeof templateRead === 'string') {\n                templateRead = getValue(templateRead, window);\n            }\n            if (!isNullOrUndefined(templateRead)) {\n                this.value = templateRead.call(this, filterElement);\n            }\n        }\n        else {\n            filterValue = JSON.parse(JSON.stringify(filterElement.value));\n        }\n        if (isNullOrUndefined(this.value) || this.value === '') {\n            this.removeFilteredColsByField(this.column.field);\n            return;\n        }\n        this.validateFilterValue(this.value);\n        this.filterByMethod = false;\n        this.filterByColumn(this.column.field, this.operator, this.value, this.predicate, this.filterSettings.enableCaseSensitivity, this.ignoreAccent);\n        this.filterByMethod = true;\n        filterElement.value = filterValue;\n        this.updateFilterMsg();\n    };\n    Filter.prototype.validateFilterValue = function (value) {\n        var skipInput;\n        var index;\n        this.matchCase = this.filterSettings.enableCaseSensitivity;\n        switch (this.column.type) {\n            case 'number':\n                if (this.column.filter.operator) {\n                    this.operator = this.column.filter.operator;\n                }\n                else {\n                    this.operator = this.filterOperators.equal;\n                }\n                skipInput = ['>', '<', '=', '!'];\n                for (var i = 0; i < value.length; i++) {\n                    if (skipInput.indexOf(value[i]) > -1) {\n                        index = i;\n                        break;\n                    }\n                }\n                this.getOperator(value.substring(index));\n                if (index !== 0) {\n                    this.value = value.substring(0, index);\n                }\n                if (this.value !== '' && value.length >= 1) {\n                    this.value = this.valueFormatter.fromView(this.value, this.column.getParser(), this.column.type);\n                }\n                if (isNaN(this.value)) {\n                    this.filterStatusMsg = this.l10n.getConstant('InvalidFilterMessage');\n                }\n                break;\n            case 'date':\n            case 'datetime':\n                this.operator = this.filterOperators.equal;\n                if (this.value !== '' && !(this.value instanceof Date)) {\n                    this.getOperator(value);\n                    this.value = this.valueFormatter.fromView(this.value, this.column.getParser(), this.column.type);\n                    if (isNullOrUndefined(this.value)) {\n                        this.filterStatusMsg = this.l10n.getConstant('InvalidFilterMessage');\n                    }\n                }\n                break;\n            case 'string':\n                this.matchCase = false;\n                if (value.charAt(0) === '*') {\n                    this.value = this.value.slice(1);\n                    this.operator = this.filterOperators.startsWith;\n                }\n                else if (value.charAt(value.length - 1) === '%') {\n                    this.value = this.value.slice(0, -1);\n                    this.operator = this.filterOperators.startsWith;\n                }\n                else if (value.charAt(0) === '%') {\n                    this.value = this.value.slice(1);\n                    this.operator = this.filterOperators.endsWith;\n                }\n                else {\n                    if (this.column.filter.operator) {\n                        this.operator = this.column.filter.operator;\n                    }\n                    else {\n                        this.operator = this.filterOperators.startsWith;\n                    }\n                }\n                break;\n            case 'boolean':\n                if (value.toLowerCase() === 'true' || value === '1') {\n                    this.value = true;\n                }\n                else if (value.toLowerCase() === 'false' || value === '0') {\n                    this.value = false;\n                }\n                else if (value.length) {\n                    this.filterStatusMsg = this.l10n.getConstant('InvalidFilterMessage');\n                }\n                this.operator = this.filterOperators.equal;\n                break;\n            default:\n                if (this.column.filter.operator) {\n                    this.operator = this.column.filter.operator;\n                }\n                else {\n                    this.operator = this.filterOperators.equal;\n                }\n        }\n    };\n    Filter.prototype.getOperator = function (value) {\n        var singleOp = value.charAt(0);\n        var multipleOp = value.slice(0, 2);\n        var operators = extend({ '=': this.filterOperators.equal, '!': this.filterOperators.notEqual }, DataUtil.operatorSymbols);\n        // eslint-disable-next-line no-prototype-builtins\n        if (operators.hasOwnProperty(singleOp) || operators.hasOwnProperty(multipleOp)) {\n            this.operator = operators[singleOp];\n            this.value = value.substring(1);\n            if (!this.operator) {\n                this.operator = operators[multipleOp];\n                this.value = value.substring(2);\n            }\n        }\n        if (this.operator === this.filterOperators.lessThan || this.operator === this.filterOperators.greaterThan) {\n            if (this.value.charAt(0) === '=') {\n                this.operator = this.operator + 'orequal';\n                this.value = this.value.substring(1);\n            }\n        }\n    };\n    Filter.prototype.columnPositionChanged = function () {\n        if (this.parent.filterSettings.type !== 'FilterBar') {\n            return;\n        }\n    };\n    Filter.prototype.getLocalizedCustomOperators = function () {\n        var numOptr = [\n            { value: 'equal', text: this.l10n.getConstant('Equal') },\n            { value: 'greaterthan', text: this.l10n.getConstant('GreaterThan') },\n            { value: 'greaterthanorequal', text: this.l10n.getConstant('GreaterThanOrEqual') },\n            { value: 'lessthan', text: this.l10n.getConstant('LessThan') },\n            { value: 'lessthanorequal', text: this.l10n.getConstant('LessThanOrEqual') },\n            { value: 'notequal', text: this.l10n.getConstant('NotEqual') }\n        ];\n        this.customOperators = {\n            stringOperator: [\n                { value: 'startswith', text: this.l10n.getConstant('StartsWith') },\n                { value: 'endswith', text: this.l10n.getConstant('EndsWith') },\n                { value: 'contains', text: this.l10n.getConstant('Contains') },\n                { value: 'equal', text: this.l10n.getConstant('Equal') },\n                { value: 'notequal', text: this.l10n.getConstant('NotEqual') }\n            ],\n            numberOperator: numOptr,\n            dateOperator: numOptr,\n            datetimeOperator: numOptr,\n            booleanOperator: [\n                { value: 'equal', text: this.l10n.getConstant('Equal') },\n                { value: 'notequal', text: this.l10n.getConstant('NotEqual') }\n            ]\n        };\n    };\n    /**\n     * @param {string} field - specifies the field name\n     * @returns {void}\n     * @hidden\n     */\n    Filter.prototype.openMenuByField = function (field) {\n        var gObj = this.parent;\n        if (gObj.enableAdaptiveUI) {\n            this.showCustomFilter(false);\n            return;\n        }\n        var column = gObj.getColumnByField(field);\n        var header = gObj.getColumnHeaderByField(field);\n        var target = header.querySelector('.e-filtermenudiv');\n        if (!target) {\n            return;\n        }\n        var gClient = gObj.element.getBoundingClientRect();\n        var fClient = target.getBoundingClientRect();\n        this.filterDialogOpen(column, target, fClient.right - gClient.left, fClient.bottom - gClient.top);\n    };\n    Filter.prototype.filterIconClickHandler = function (e) {\n        var target = e.target;\n        if (target.classList.contains('e-filtermenudiv') && (this.parent.filterSettings.type === 'Menu' ||\n            this.parent.filterSettings.type === 'CheckBox' || this.parent.filterSettings.type === 'Excel')) {\n            var gObj = this.parent;\n            var col = gObj.getColumnByUid(parentsUntil(target, 'e-headercell').firstElementChild.getAttribute('e-mappinguid'));\n            this.column = col;\n            if (this.fltrDlgDetails.field === col.field && this.fltrDlgDetails.isOpen) {\n                return;\n            }\n            if (this.filterModule) {\n                this.filterModule.closeDialog();\n            }\n            this.fltrDlgDetails = { field: col.field, isOpen: true };\n            this.openMenuByField(col.field);\n        }\n    };\n    Filter.prototype.clickHandler = function (e) {\n        if (this.filterSettings.type === 'FilterBar' && this.filterSettings.showFilterBarOperator) {\n            if (parentsUntil(e.target, 'e-filterbarcell') &&\n                e.target.classList.contains('e-input-group-icon')) {\n                closest(e.target, 'div').querySelector('.e-filterbaroperator').focus();\n            }\n            if (e.target.classList.contains('e-list-item')) {\n                var inputId = document.querySelector('.e-popup-open').getAttribute('id').replace('_popup', '');\n                if (inputId.indexOf('grid-column') !== -1) {\n                    closest(document.getElementById(inputId), 'div').querySelector('.e-filtertext').focus();\n                }\n            }\n        }\n        if (this.filterSettings.mode === 'Immediate' || this.parent.filterSettings.type === 'Menu' ||\n            this.parent.filterSettings.type === 'CheckBox' || this.parent.filterSettings.type === 'Excel') {\n            var target = e.target;\n            var datepickerEle = target.classList.contains('e-day'); // due to datepicker popup cause\n            var dialog = parentsUntil(this.parent.element, 'e-dialog');\n            var hasDialog = false;\n            var popupEle = parentsUntil(target, 'e-popup');\n            var hasDialogClosed = this.parent.element.querySelector('.e-filter-popup');\n            if (dialog && popupEle) {\n                hasDialog = dialog.id === popupEle.id;\n            }\n            if ((hasDialogClosed && (parentsUntil(target, 'e-excel-ascending') ||\n                parentsUntil(target, 'e-excel-descending')))) {\n                this.filterModule.closeDialog(target);\n            }\n            if (parentsUntil(target, 'e-filter-popup') || target.classList.contains('e-filtermenudiv')) {\n                return;\n            }\n            else if (this.filterModule && (!parentsUntil(target, 'e-popup-wrapper')\n                && (!closest(target, '.e-filter-item.e-menu-item'))) && !datepickerEle) {\n                if ((hasDialog && (!parentsUntil(target, 'e-filter-popup'))\n                    && (!parentsUntil(target, 'e-popup-flmenu'))) || (!popupEle && hasDialogClosed)) {\n                    this.filterModule.isresetFocus = parentsUntil(target, 'e-grid') &&\n                        parentsUntil(target, 'e-grid').id === this.parent.element.id;\n                    this.filterModule.closeDialog(target);\n                }\n            }\n        }\n    };\n    Filter.prototype.filterHandler = function (args) {\n        this.actualPredicate[args.field] = args.actualPredicate;\n        var dataManager = new DataManager(this.filterSettings.columns);\n        var query = new Query().where('field', this.filterOperators.equal, args.field);\n        var result = dataManager.executeLocal(query);\n        for (var i = 0; i < result.length; i++) {\n            var index = -1;\n            for (var j = 0; j < this.filterSettings.columns.length; j++) {\n                if (result[i].field === this.filterSettings.columns[j].field) {\n                    index = j;\n                    break;\n                }\n            }\n            if (index !== -1) {\n                this.filterSettings.columns.splice(index, 1);\n            }\n        }\n        if (this.values[args.field]) {\n            delete this.values[args.field];\n        }\n        var col = this.parent.getColumnByField(args.field);\n        var iconClass = this.parent.showColumnMenu && col.showColumnMenu ? '.e-columnmenu' : '.e-icon-filter';\n        var filterIconElement = this.parent.getColumnHeaderByField(args.field).querySelector(iconClass);\n        if (args.action === 'filtering') {\n            this.filterSettings.columns = this.filterSettings.columns.concat(args.filterCollection);\n            if (this.filterSettings.columns.length && filterIconElement) {\n                filterIconElement.classList.add('e-filtered');\n            }\n        }\n        else {\n            if (filterIconElement) {\n                filterIconElement.classList.remove('e-filtered');\n            }\n            args.requestType = 'filtering';\n            this.parent.renderModule.refresh(args); //hot-fix onpropertychanged not working for object { array }\n        }\n        this.parent.dataBind();\n    };\n    Filter.prototype.updateFilter = function () {\n        var cols = this.filterSettings.columns;\n        this.actualPredicate = {};\n        for (var i = 0; i < cols.length; i++) {\n            this.column = this.parent.getColumnByField(cols[i].field) ||\n                getColumnByForeignKeyValue(cols[i].field, this.parent.getForeignKeyColumns());\n            var fieldName = cols[i].field;\n            if (!this.parent.getColumnByField(cols[i].field)) {\n                fieldName = getColumnByForeignKeyValue(cols[i].field, this.parent.getForeignKeyColumns()).field;\n            }\n            this.refreshFilterIcon(fieldName, cols[i].operator, cols[i].value, cols[i].type, cols[i].predicate, cols[i].matchCase, cols[i].ignoreAccent, cols[i].uid);\n        }\n    };\n    Filter.prototype.refreshFilterIcon = function (fieldName, operator, value, type, predicate, matchCase, ignoreAccent, uid) {\n        var obj = {\n            field: fieldName,\n            predicate: predicate,\n            matchCase: matchCase,\n            ignoreAccent: ignoreAccent,\n            operator: operator,\n            value: value,\n            type: type\n        };\n        if (this.actualPredicate[fieldName]) {\n            this.actualPredicate[fieldName].push(obj);\n        }\n        else {\n            this.actualPredicate[fieldName] = [obj];\n        }\n        var field = uid ? this.parent.grabColumnByUidFromAllCols(uid).field : fieldName;\n        this.addFilteredClass(field);\n    };\n    Filter.prototype.addFilteredClass = function (fieldName) {\n        var filterIconElement;\n        var col = this.parent.getColumnByField(fieldName);\n        if (this.parent.showColumnMenu && col.showColumnMenu) {\n            filterIconElement = this.parent.getColumnHeaderByField(fieldName).querySelector('.e-columnmenu');\n        }\n        else if (col) {\n            filterIconElement = this.parent.getColumnHeaderByField(fieldName).querySelector('.e-icon-filter');\n        }\n        if (filterIconElement) {\n            filterIconElement.classList.add('e-filtered');\n        }\n    };\n    /**\n     * @hidden\n     * @returns {FilterUI} returns the FilterUI\n     */\n    Filter.prototype.getFilterUIInfo = function () {\n        return this.filterModule ? this.filterModule.getFilterUIInfo() : {};\n    };\n    /**\n     * @param {string} field - specifies the field name\n     * @returns {string} returns the operator name\n     * @hidden\n     */\n    Filter.prototype.getOperatorName = function (field) {\n        return document.getElementById(this.parent.getColumnByField(field).uid).ej2_instances[0].value;\n    };\n    /**\n     * Renders checkbox items in Menu filter dialog.\n     *\n     * @returns {void}\n     */\n    Filter.prototype.renderCheckboxOnFilterMenu = function () {\n        return this.filterModule.renderCheckBoxMenu();\n    };\n    return Filter;\n}());\nexport { Filter };\n","/**\n * public Enum for `PdfBorderOverlapStyle`.\n * @private\n */\nexport var PdfBorderOverlapStyle;\n(function (PdfBorderOverlapStyle) {\n    /**\n     * Specifies the type of `Overlap`.\n     * @private\n     */\n    PdfBorderOverlapStyle[PdfBorderOverlapStyle[\"Overlap\"] = 0] = \"Overlap\";\n    /**\n     * Specifies the type of `Inside`.\n     * @private\n     */\n    PdfBorderOverlapStyle[PdfBorderOverlapStyle[\"Inside\"] = 1] = \"Inside\";\n})(PdfBorderOverlapStyle || (PdfBorderOverlapStyle = {}));\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen } from './../../../graphics/pdf-pen';\nimport { PdfDashStyle } from './../../../graphics/enum';\nimport { PdfColor } from './../../../graphics/pdf-color';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfBorders, PdfPaddings } from './pdf-borders';\nimport { PdfBorderOverlapStyle } from './../../tables/light-tables/enum';\n/**\n * Base class for the `grid style`,\n */\nvar PdfGridStyleBase = /** @class */ (function () {\n    function PdfGridStyleBase() {\n    }\n    Object.defineProperty(PdfGridStyleBase.prototype, \"backgroundBrush\", {\n        // Properties\n        /**\n         * Gets or sets the `background brush`.\n         * @private\n         */\n        get: function () {\n            return this.gridBackgroundBrush;\n        },\n        set: function (value) {\n            this.gridBackgroundBrush = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyleBase.prototype, \"textBrush\", {\n        /**\n         * Gets or sets the `text brush`.\n         * @private\n         */\n        get: function () {\n            return this.gridTextBrush;\n        },\n        set: function (value) {\n            this.gridTextBrush = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyleBase.prototype, \"textPen\", {\n        /**\n         * Gets or sets the `text pen`.\n         * @private\n         */\n        get: function () {\n            return this.gridTextPen;\n        },\n        set: function (value) {\n            this.gridTextPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyleBase.prototype, \"font\", {\n        /**\n         * Gets or sets the `font`.\n         * @private\n         */\n        get: function () {\n            return this.gridFont;\n        },\n        set: function (value) {\n            this.gridFont = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyleBase.prototype, \"backgroundImage\", {\n        /**\n         * Gets or sets the `background Image`.\n         * @private\n         */\n        get: function () {\n            return this.gridBackgroundImage;\n        },\n        set: function (value) {\n            this.gridBackgroundImage = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridStyleBase;\n}());\nexport { PdfGridStyleBase };\n/**\n * `PdfGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n */\nvar PdfGridStyle = /** @class */ (function (_super) {\n    __extends(PdfGridStyle, _super);\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     * @private\n     */\n    function PdfGridStyle() {\n        var _this = _super.call(this) || this;\n        _this.gridBorderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        _this.bAllowHorizontalOverflow = false;\n        _this.gridHorizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        return _this;\n    }\n    Object.defineProperty(PdfGridStyle.prototype, \"cellSpacing\", {\n        //Properties\n        /**\n         * Gets or sets the `cell spacing` of the 'PdfGrid'.\n         * @private\n         */\n        get: function () {\n            if (typeof this.gridCellSpacing === 'undefined') {\n                this.gridCellSpacing = 0;\n            }\n            return this.gridCellSpacing;\n        },\n        set: function (value) {\n            this.gridCellSpacing = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyle.prototype, \"horizontalOverflowType\", {\n        /**\n         * Gets or sets the type of the `horizontal overflow` of the 'PdfGrid'.\n         * @private\n         */\n        get: function () {\n            return this.gridHorizontalOverflowType;\n        },\n        set: function (value) {\n            this.gridHorizontalOverflowType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyle.prototype, \"allowHorizontalOverflow\", {\n        /**\n         * Gets or sets a value indicating whether to `allow horizontal overflow`.\n         * @private\n         */\n        get: function () {\n            return this.bAllowHorizontalOverflow;\n        },\n        set: function (value) {\n            this.bAllowHorizontalOverflow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyle.prototype, \"cellPadding\", {\n        /**\n         * Gets or sets the `cell padding`.\n         * @private\n         */\n        get: function () {\n            if (typeof this.gridCellPadding === 'undefined') {\n                this.gridCellPadding = new PdfPaddings();\n            }\n            return this.gridCellPadding;\n        },\n        set: function (value) {\n            if (typeof this.gridCellPadding === 'undefined') {\n                this.gridCellPadding = new PdfPaddings();\n                this.gridCellPadding = value;\n            }\n            else {\n                this.gridCellPadding = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridStyle.prototype, \"borderOverlapStyle\", {\n        /**\n         * Gets or sets the `border overlap style` of the 'PdfGrid'.\n         * @private\n         */\n        get: function () {\n            return this.gridBorderOverlapStyle;\n        },\n        set: function (value) {\n            this.gridBorderOverlapStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridStyle;\n}(PdfGridStyleBase));\nexport { PdfGridStyle };\n/**\n * `PdfGridCellStyle` class provides customization of the appearance for the 'PdfGridCell'.\n */\nvar PdfGridCellStyle = /** @class */ (function (_super) {\n    __extends(PdfGridCellStyle, _super);\n    /**\n     * Initializes a new instance of the `PdfGridCellStyle` class.\n     * @private\n     */\n    function PdfGridCellStyle() {\n        var _this = _super.call(this) || this;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.gridCellBorders = PdfBorders.default;\n        return _this;\n    }\n    Object.defineProperty(PdfGridCellStyle.prototype, \"stringFormat\", {\n        //Properties\n        /**\n         * Gets the `string format` of the 'PdfGridCell'.\n         * @private\n         */\n        get: function () {\n            return this.format;\n        },\n        set: function (value) {\n            this.format = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCellStyle.prototype, \"borders\", {\n        /**\n         * Gets or sets the `border` of the 'PdfGridCell'.\n         * @private\n         */\n        get: function () {\n            return this.gridCellBorders;\n        },\n        set: function (value) {\n            this.gridCellBorders = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCellStyle.prototype, \"cellPadding\", {\n        /**\n         * Gets or sets the `cell padding`.\n         * @private\n         */\n        get: function () {\n            return this.gridCellPadding;\n        },\n        set: function (value) {\n            if (this.gridCellPadding == null || typeof this.gridCellPadding === 'undefined') {\n                this.gridCellPadding = new PdfPaddings();\n            }\n            this.gridCellPadding = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridCellStyle;\n}(PdfGridStyleBase));\nexport { PdfGridCellStyle };\n/**\n * `PdfGridRowStyle` class provides customization of the appearance for the `PdfGridRow`.\n */\nvar PdfGridRowStyle = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfGridRowStyle` class.\n     * @private\n     */\n    function PdfGridRowStyle() {\n        //\n    }\n    Object.defineProperty(PdfGridRowStyle.prototype, \"backgroundBrush\", {\n        // Properties\n        /**\n         * Gets or sets the `background brush`.\n         * @private\n         */\n        get: function () {\n            return this.gridRowBackgroundBrush;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowStyle.prototype.setBackgroundBrush = function (value) {\n        this.gridRowBackgroundBrush = value;\n        if (typeof this.parent !== 'undefined') {\n            for (var i = 0; i < this.parent.cells.count; i++) {\n                this.parent.cells.getCell(i).style.backgroundBrush = value;\n            }\n        }\n    };\n    Object.defineProperty(PdfGridRowStyle.prototype, \"textBrush\", {\n        /**\n         * Gets or sets the `text brush`.\n         * @private\n         */\n        get: function () {\n            return this.gridRowTextBrush;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowStyle.prototype.setTextBrush = function (value) {\n        this.gridRowTextBrush = value;\n        if (typeof this.parent !== 'undefined') {\n            for (var i = 0; i < this.parent.cells.count; i++) {\n                this.parent.cells.getCell(i).style.textBrush = value;\n            }\n        }\n    };\n    Object.defineProperty(PdfGridRowStyle.prototype, \"textPen\", {\n        /**\n         * Gets or sets the `text pen`.\n         * @private\n         */\n        get: function () {\n            return this.gridRowTextPen;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowStyle.prototype.setTextPen = function (value) {\n        this.gridRowTextPen = value;\n        if (typeof this.parent !== 'undefined') {\n            for (var i = 0; i < this.parent.cells.count; i++) {\n                this.parent.cells.getCell(i).style.textPen = value;\n            }\n        }\n    };\n    Object.defineProperty(PdfGridRowStyle.prototype, \"font\", {\n        /**\n         * Gets or sets the `font`.\n         * @private\n         */\n        get: function () {\n            return this.gridRowFont;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowStyle.prototype.setFont = function (value) {\n        this.gridRowFont = value;\n        if (typeof this.parent !== 'undefined') {\n            for (var i = 0; i < this.parent.cells.count; i++) {\n                this.parent.cells.getCell(i).style.font = value;\n            }\n        }\n    };\n    Object.defineProperty(PdfGridRowStyle.prototype, \"border\", {\n        /**\n         * Gets or sets the `border` of the current row.\n         * @private\n         */\n        get: function () {\n            if (typeof this.gridRowBorder === 'undefined') {\n                this.setBorder(new PdfBorders());\n            }\n            return this.gridRowBorder;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowStyle.prototype.setBorder = function (value) {\n        this.gridRowBorder = value;\n        if (typeof this.parent !== 'undefined') {\n            for (var i = 0; i < this.parent.cells.count; i++) {\n                this.parent.cells.getCell(i).style.borders = value;\n            }\n        }\n    };\n    /**\n     * sets the `parent row` of the current object.\n     * @private\n     */\n    PdfGridRowStyle.prototype.setParent = function (parent) {\n        this.parent = parent;\n    };\n    Object.defineProperty(PdfGridRowStyle.prototype, \"backgroundImage\", {\n        /**\n         * Gets or sets the `backgroundImage` of the 'PdfGridCell'.\n         * @private\n         */\n        get: function () {\n            return this.gridRowBackgroundImage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * sets the `backgroundImage` of the 'PdfGridCell'.\n     * @private\n     */\n    PdfGridRowStyle.prototype.setBackgroundImage = function (value) {\n        this.gridRowBackgroundImage = value;\n    };\n    return PdfGridRowStyle;\n}());\nexport { PdfGridRowStyle };\n/**\n * public Enum for `PdfHorizontalOverflowType`.\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","/**\n * ElementLayouter.ts class for EJ2-PDF\n */\nimport { RectangleF } from './../../../drawing/pdf-drawing';\n/**\n * Base class for `elements lay outing`.\n * @private\n */\nvar ElementLayouter = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `ElementLayouter` class.\n     * @private\n     */\n    function ElementLayouter(element) {\n        this.layoutElement = element;\n    }\n    Object.defineProperty(ElementLayouter.prototype, \"elements\", {\n        // Properties\n        /**\n         * Gets the `element`.\n         * @private\n         */\n        get: function () {\n            return this.layoutElement;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `element`.\n     * @private\n     */\n    ElementLayouter.prototype.getElement = function () {\n        return this.layoutElement;\n    };\n    // Implementation\n    /**\n     * `Layouts` the element.\n     * @private\n     */\n    ElementLayouter.prototype.layout = function (param) {\n        return this.layoutInternal(param);\n    };\n    ElementLayouter.prototype.Layouter = function (param) {\n        return this.layoutInternal(param);\n    };\n    /**\n     * Returns the `next page`.\n     * @private\n     */\n    ElementLayouter.prototype.getNextPage = function (currentPage) {\n        var section = currentPage.section;\n        var nextPage = section.add();\n        return nextPage;\n    };\n    ElementLayouter.prototype.getPaginateBounds = function (param) {\n        if ((param == null)) {\n            throw new Error('ArgumentNullException : param');\n        }\n        var result = param.format.usePaginateBounds ? param.format.paginateBounds\n            : new RectangleF(param.bounds.x, 0, param.bounds.width, param.bounds.height);\n        return result;\n    };\n    return ElementLayouter;\n}());\nexport { ElementLayouter };\nvar PdfLayoutFormat = /** @class */ (function () {\n    function PdfLayoutFormat(baseFormat) {\n        if (typeof baseFormat === 'undefined') {\n            //\n        }\n        else {\n            this.break = baseFormat.break;\n            this.layout = baseFormat.layout;\n            this.paginateBounds = baseFormat.paginateBounds;\n            this.boundsSet = baseFormat.usePaginateBounds;\n        }\n    }\n    Object.defineProperty(PdfLayoutFormat.prototype, \"layout\", {\n        // Properties\n        /**\n         * Gets or sets `layout` type of the element.\n         * @private\n         */\n        get: function () {\n            // if (typeof this.layoutType === 'undefined' || this.layoutType == null) {\n            //      this.layoutType = PdfLayoutType.Paginate;\n            // }\n            return this.layoutType;\n        },\n        set: function (value) {\n            this.layoutType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutFormat.prototype, \"break\", {\n        /**\n         * Gets or sets `break` type of the element.\n         * @private\n         */\n        get: function () {\n            // if (typeof this.breakType === 'undefined' || this.boundsSet == null) {\n            //      this.breakType = PdfLayoutBreakType.FitPage;\n            // }\n            return this.breakType;\n        },\n        set: function (value) {\n            this.breakType = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutFormat.prototype, \"paginateBounds\", {\n        /**\n         * Gets or sets the `bounds` on the next page.\n         * @private\n         */\n        get: function () {\n            if (typeof this.layoutPaginateBounds === 'undefined' && this.layoutPaginateBounds == null) {\n                this.layoutPaginateBounds = new RectangleF(0, 0, 0, 0);\n            }\n            return this.layoutPaginateBounds;\n        },\n        set: function (value) {\n            this.layoutPaginateBounds = value;\n            this.boundsSet = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutFormat.prototype, \"usePaginateBounds\", {\n        /**\n         * Gets a value indicating whether [`use paginate bounds`].\n         * @private\n         */\n        get: function () {\n            // if (typeof this.boundsSet === 'undefined' || this.boundsSet == null) {\n            //      this.boundsSet = false;\n            // }\n            return this.boundsSet;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfLayoutFormat;\n}());\nexport { PdfLayoutFormat };\nvar PdfLayoutParams = /** @class */ (function () {\n    function PdfLayoutParams() {\n    }\n    Object.defineProperty(PdfLayoutParams.prototype, \"page\", {\n        // Properties\n        /**\n         * Gets or sets the layout `page` for the element.\n         * @private\n         */\n        get: function () {\n            return this.pdfPage;\n        },\n        set: function (value) {\n            this.pdfPage = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutParams.prototype, \"bounds\", {\n        /**\n         * Gets or sets layout `bounds` for the element.\n         * @private\n         */\n        get: function () {\n            return new RectangleF(this.layoutBounds.x, this.layoutBounds.y, this.layoutBounds.width, this.layoutBounds.height);\n        },\n        set: function (value) {\n            this.layoutBounds = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutParams.prototype, \"format\", {\n        /**\n         * Gets or sets `layout settings` for the element.\n         * @private\n         */\n        get: function () {\n            return this.layoutFormat;\n        },\n        set: function (value) {\n            this.layoutFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfLayoutParams;\n}());\nexport { PdfLayoutParams };\nvar PdfLayoutResult = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initializes the new instance of `PdfLayoutResult` class.\n     * @private\n     */\n    function PdfLayoutResult(page, bounds) {\n        this.pdfPage = page;\n        this.layoutBounds = bounds;\n    }\n    Object.defineProperty(PdfLayoutResult.prototype, \"page\", {\n        // Properties\n        /**\n         * Gets the last `page` where the element was drawn.\n         * @private\n         */\n        get: function () {\n            return this.pdfPage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutResult.prototype, \"bounds\", {\n        /**\n         * Gets the `bounds` of the element on the last page where it was drawn.\n         * @private\n         */\n        get: function () {\n            return this.layoutBounds;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfLayoutResult;\n}());\nexport { PdfLayoutResult };\n","import { RectangleF, PointF } from './../../drawing/pdf-drawing';\nimport { PdfLayoutParams, PdfLayoutFormat } from './base/element-layouter';\nimport { PdfBorders } from './../../structured-elements/grid/styles/pdf-borders';\n/**\n * `PdfLayoutElement` class represents the base class for all elements that can be layout on the pages.\n * @private\n */\nvar PdfLayoutElement = /** @class */ (function () {\n    function PdfLayoutElement() {\n    }\n    Object.defineProperty(PdfLayoutElement.prototype, \"raiseBeginPageLayout\", {\n        // Property\n        /**\n         * Gets a value indicating whether the `start page layout event` should be raised.\n         * @private\n         */\n        get: function () {\n            return (typeof this.beginPageLayout !== 'undefined');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfLayoutElement.prototype, \"raiseEndPageLayout\", {\n        /**\n         * Gets a value indicating whether the `ending page layout event` should be raised.\n         * @private\n         */\n        get: function () {\n            return (typeof this.endPageLayout !== 'undefined');\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Event Handlers\n    PdfLayoutElement.prototype.onBeginPageLayout = function (args) {\n        if (this.beginPageLayout) {\n            this.beginPageLayout(this, args);\n        }\n    };\n    PdfLayoutElement.prototype.onEndPageLayout = function (args) {\n        if (this.endPageLayout) {\n            this.endPageLayout(this, args);\n        }\n    };\n    PdfLayoutElement.prototype.drawHelper = function (arg2, arg3, arg4, arg5) {\n        if (arg3 instanceof PointF && typeof arg3.width === 'undefined' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg2, arg3.x, arg3.y);\n        }\n        else if (typeof arg3 === 'number' && typeof arg4 === 'number' && typeof arg5 === 'undefined') {\n            return this.drawHelper(arg2, arg3, arg4, null);\n        }\n        else if (arg3 instanceof RectangleF && typeof arg3.width !== 'undefined' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg2, arg3, null);\n        }\n        else if (arg3 instanceof PointF && typeof arg3.width === 'undefined' && arg4 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg2, arg3.x, arg3.y, arg4);\n        }\n        else if (typeof arg3 === 'number' && typeof arg4 === 'number' && (arg5 instanceof PdfLayoutFormat || arg5 == null)) {\n            var width = (arg2.graphics.clientSize.width - arg3);\n            var layoutRectangle = new RectangleF(arg3, arg4, width, 0);\n            return this.drawHelper(arg2, layoutRectangle, arg5);\n        }\n        else if (arg3 instanceof RectangleF && typeof arg3.width !== 'undefined' && typeof arg4 === 'boolean') {\n            this.bEmbedFonts = arg4;\n            return this.drawHelper(arg2, arg3, null);\n        }\n        else {\n            var param = new PdfLayoutParams();\n            var temparg3 = arg3;\n            var temparg4 = arg4;\n            param.page = arg2;\n            param.bounds = temparg3;\n            if (param != null) {\n                var x = param.bounds.x;\n                var y = param.bounds.y;\n                if (param.bounds.x === 0) {\n                    x = PdfBorders.default.right.width / 2;\n                }\n                if (param.bounds.y === 0) {\n                    y = PdfBorders.default.top.width / 2;\n                }\n                var newBound = new RectangleF(x, y, param.bounds.width, param.bounds.height);\n                param.bounds = newBound;\n            }\n            param.format = (temparg4 != null) ? temparg4 : new PdfLayoutFormat();\n            var result = this.layout(param);\n            return result;\n        }\n    };\n    return PdfLayoutElement;\n}());\nexport { PdfLayoutElement };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * TextLayouter.ts class for EJ2-PDF\n */\nimport { ElementLayouter, PdfLayoutResult } from './element-layouter';\nimport { RectangleF, SizeF } from './../../../drawing/pdf-drawing';\nimport { PdfStringLayouter } from './../../fonts/string-layouter';\nimport { PdfLayoutBreakType } from './../../figures/enum';\nimport { PdfColor } from './../../pdf-color';\nimport { PdfTextWebLink } from './../../../annotations/pdf-text-web-link';\n/**\n * Class that `layouts the text`.\n * @private\n */\nvar TextLayouter = /** @class */ (function (_super) {\n    __extends(TextLayouter, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `TextLayouter` class.\n     * @private\n     */\n    function TextLayouter(element) {\n        return _super.call(this, element) || this;\n    }\n    Object.defineProperty(TextLayouter.prototype, \"element\", {\n        /**\n         * Gets the layout `element`.\n         * @private\n         */\n        get: function () {\n            return _super.prototype.getElement.call(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Layouts` the element.\n     * @private\n     */\n    TextLayouter.prototype.layoutInternal = function (param) {\n        /* tslint:disable */\n        this.format = (this.element.stringFormat !== null && typeof this.element.stringFormat !== 'undefined') ? this.element.stringFormat : null;\n        var currentPage = param.page;\n        var currentBounds = param.bounds;\n        var text = this.element.value;\n        var result = null;\n        var pageResult = new TextPageLayoutResult();\n        pageResult.page = currentPage;\n        pageResult.remainder = text;\n        for (;;) {\n            pageResult = this.layoutOnPage(text, currentPage, currentBounds, param);\n            result = this.getLayoutResult(pageResult);\n            break;\n        }\n        /* tslint:enable */\n        return result;\n    };\n    /**\n     * Raises `PageLayout` event if needed.\n     * @private\n     */\n    TextLayouter.prototype.getLayoutResult = function (pageResult) {\n        var result = new PdfTextLayoutResult(pageResult.page, pageResult.bounds, pageResult.remainder, pageResult.lastLineBounds);\n        return result;\n    };\n    /* tslint:disable */\n    /**\n     * `Layouts` the text on the page.\n     * @private\n     */\n    TextLayouter.prototype.layoutOnPage = function (text, currentPage, currentBounds, param) {\n        var result = new TextPageLayoutResult();\n        result.remainder = text;\n        result.page = currentPage;\n        currentBounds = this.checkCorrectBounds(currentPage, currentBounds);\n        var layouter = new PdfStringLayouter();\n        var stringResult = layouter.layout(text, this.element.font, this.format, currentBounds, currentPage.getClientSize().height, false, new SizeF(0, 0));\n        var textFinished = (stringResult.remainder == null);\n        var doesntFit = (param.format.break === PdfLayoutBreakType.FitElement);\n        var canDraw = !(doesntFit || stringResult.empty);\n        // Draw the text.\n        var graphics = currentPage.graphics;\n        var brush = this.element.getBrush();\n        if (this.element instanceof PdfTextWebLink) {\n            brush.color = new PdfColor(0, 0, 255);\n        }\n        graphics.drawStringLayoutResult(stringResult, this.element.font, this.element.pen, brush, currentBounds, this.format);\n        var lineInfo = stringResult.lines[stringResult.lineCount - 1];\n        result.lastLineBounds = graphics.getLineBounds(stringResult.lineCount - 1, stringResult, this.element.font, currentBounds, this.format);\n        result.bounds = this.getTextPageBounds(currentPage, currentBounds, stringResult);\n        result.remainder = stringResult.remainder;\n        result.end = (textFinished);\n        return result;\n    };\n    /* tslint:enable */\n    /**\n     * `Corrects current bounds` on the page.\n     * @private\n     */\n    TextLayouter.prototype.checkCorrectBounds = function (currentPage, currentBounds) {\n        var pageSize = currentPage.graphics.clientSize;\n        currentBounds.height = (currentBounds.height > 0) ? currentBounds.height : pageSize.height - currentBounds.y;\n        return currentBounds;\n    };\n    /**\n     * Returns a `rectangle` where the text was printed on the page.\n     * @private\n     */\n    /* tslint:disable */\n    TextLayouter.prototype.getTextPageBounds = function (currentPage, currentBounds, stringResult) {\n        var textSize = stringResult.actualSize;\n        var x = currentBounds.x;\n        var y = currentBounds.y;\n        var width = (currentBounds.width > 0) ? currentBounds.width : textSize.width;\n        var height = textSize.height;\n        var shiftedRect = currentPage.graphics.checkCorrectLayoutRectangle(textSize, currentBounds.x, currentBounds.y, this.format);\n        // if (currentBounds.width <= 0) {\n        x = shiftedRect.x;\n        // }\n        var verticalShift = currentPage.graphics.getTextVerticalAlignShift(textSize.height, currentBounds.height, this.format);\n        y += verticalShift;\n        var bounds = new RectangleF(x, y, width, height);\n        return bounds;\n    };\n    return TextLayouter;\n}(ElementLayouter));\nexport { TextLayouter };\nvar TextPageLayoutResult = /** @class */ (function () {\n    function TextPageLayoutResult() {\n    }\n    return TextPageLayoutResult;\n}());\nexport { TextPageLayoutResult };\nvar PdfTextLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTextLayoutResult, _super);\n    // Constructors\n    /**\n     * Initializes the new instance of `PdfTextLayoutResult` class.\n     * @private\n     */\n    function PdfTextLayoutResult(page, bounds, remainder, lastLineBounds) {\n        var _this = _super.call(this, page, bounds) || this;\n        _this.remainderText = remainder;\n        _this.lastLineTextBounds = lastLineBounds;\n        return _this;\n    }\n    Object.defineProperty(PdfTextLayoutResult.prototype, \"remainder\", {\n        // Properties\n        /**\n         * Gets a value that contains the `text` that was not printed.\n         * @private\n         */\n        get: function () {\n            return this.remainderText;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextLayoutResult.prototype, \"lastLineBounds\", {\n        /**\n         * Gets a value that indicates the `bounds` of the last line that was printed on the page.\n         * @private\n         */\n        get: function () {\n            return this.lastLineTextBounds;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTextLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTextLayoutResult };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfTextElement.ts class for EJ2-PDF\n */\nimport { PdfLayoutElement } from './../figures/layout-element';\nimport { PdfBrush } from './../brushes/pdf-brush';\nimport { PdfFont } from './../fonts/pdf-font';\nimport { PdfStandardFont } from './../fonts/pdf-standard-font';\nimport { PdfPen } from './../pdf-pen';\nimport { PdfLayoutParams } from './../figures/base/element-layouter';\nimport { TextLayouter } from './base/text-layouter';\nimport { PdfSolidBrush } from './../brushes/pdf-solid-brush';\nimport { PdfColor } from './../pdf-color';\nimport { RectangleF, SizeF, PointF } from './../../drawing/pdf-drawing';\nimport { PdfLayoutFormat } from './base/element-layouter';\nimport { PdfStringLayouter } from './../fonts/string-layouter';\nimport { PdfTextAlignment } from './../enum';\n/**\n * `PdfTextElement` class represents the text area with the ability to span several pages\n * and inherited from the 'PdfLayoutElement' class.\n * @private\n */\nvar PdfTextElement = /** @class */ (function (_super) {\n    __extends(PdfTextElement, _super);\n    function PdfTextElement(arg1, arg2, arg3, arg4, arg5) {\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * `Text` data.\n         * @private\n         */\n        _this.content = '';\n        /**\n         * `Value` of text data.\n         * @private\n         */\n        _this.elementValue = '';\n        /**\n         * indicate whether the drawText with PointF overload is called or not.\n         * @default false\n         * @private\n         */\n        _this.hasPointOverload = false;\n        /**\n         * indicate whether the PdfGridCell value is `PdfTextElement`\n         * @default false\n         * @private\n         */\n        _this.isPdfTextElement = false;\n        if (typeof arg1 === 'undefined') {\n            //\n        }\n        else if (typeof arg1 === 'string' && typeof arg2 === 'undefined') {\n            _this.content = arg1;\n            _this.elementValue = arg1;\n        }\n        else if (typeof arg1 === 'string' && arg2 instanceof PdfFont && typeof arg3 === 'undefined') {\n            _this.content = arg1;\n            _this.elementValue = arg1;\n            _this.pdfFont = arg2;\n        }\n        else if (typeof arg1 === 'string' && arg2 instanceof PdfFont && arg3 instanceof PdfPen && typeof arg4 === 'undefined') {\n            _this.content = arg1;\n            _this.elementValue = arg1;\n            _this.pdfFont = arg2;\n            _this.pdfPen = arg3;\n        }\n        else if (typeof arg1 === 'string' && arg2 instanceof PdfFont && arg3 instanceof PdfBrush && typeof arg4 === 'undefined') {\n            _this.content = arg1;\n            _this.elementValue = arg1;\n            _this.pdfFont = arg2;\n            _this.pdfBrush = arg3;\n        }\n        else {\n            _this.content = arg1;\n            _this.elementValue = arg1;\n            _this.pdfFont = arg2;\n            _this.pdfPen = arg3;\n            _this.pdfBrush = arg4;\n            _this.format = arg5;\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfTextElement.prototype, \"text\", {\n        // Properties\n        /**\n         * Gets or sets a value indicating the `text` that should be printed.\n         * ```typescript\n         * // create a new PDF document.\n         * let document : PdfDocument = new PdfDocument();\n         * // add a page to the document.\n         * let page1 : PdfPage = document.pages.add();\n         * // create the font\n         * let font : PdfFont = new PdfStandardFont(PdfFontFamily.Helvetica, 12);\n         * // create the Text Web Link\n         * let textLink : PdfTextWebLink = new PdfTextWebLink();\n         * // set the hyperlink\n         * textLink.url = 'http://www.google.com';\n         * //\n         * // set the link text\n         * textLink.text = 'Google';\n         * //\n         * // set the font\n         * textLink.font = font;\n         * // draw the hyperlink in PDF page\n         * textLink.draw(page1, new PointF(10, 40));\n         * // save the document.\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            return this.content;\n        },\n        set: function (value) {\n            this.elementValue = value;\n            this.content = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextElement.prototype, \"value\", {\n        //get value\n        /**\n         * Gets or sets a `value` indicating the text that should be printed.\n         * @private\n         */\n        get: function () {\n            return this.elementValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextElement.prototype, \"pen\", {\n        //get pen\n        /**\n         * Gets or sets a `PdfPen` that determines the color, width, and style of the text\n         * @private\n         */\n        get: function () {\n            return this.pdfPen;\n        },\n        //Set pen value\n        set: function (value) {\n            this.pdfPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextElement.prototype, \"brush\", {\n        //get brush\n        /**\n         * Gets or sets the `PdfBrush` that will be used to draw the text with color and texture.\n         * @private\n         */\n        get: function () {\n            return this.pdfBrush;\n        },\n        //Set brush value\n        set: function (value) {\n            this.pdfBrush = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextElement.prototype, \"font\", {\n        //get font\n        /**\n         * Gets or sets a `PdfFont` that defines the text format.\n         * ```typescript\n         * // create a new PDF document.\n         * let document : PdfDocument = new PdfDocument();\n         * // add a page to the document.\n         * let page1 : PdfPage = document.pages.add();\n         * // create the font\n         * let font : PdfFont = new PdfStandardFont(PdfFontFamily.Helvetica, 12);\n         * // create the Text Web Link\n         * let textLink : PdfTextWebLink = new PdfTextWebLink();\n         * // set the hyperlink\n         * textLink.url = 'http://www.google.com';\n         * // set the link text\n         * textLink.text = 'Google';\n         * //\n         * // set the font\n         * textLink.font = font;\n         * //\n         * // draw the hyperlink in PDF page\n         * textLink.draw(page1, new PointF(10, 40));\n         * // save the document.\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            return this.pdfFont;\n        },\n        set: function (value) {\n            this.pdfFont = value;\n            if (this.pdfFont instanceof PdfStandardFont && this.content != null) {\n                this.elementValue = PdfStandardFont.convert(this.content);\n            }\n            else {\n                this.elementValue = this.content;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTextElement.prototype, \"stringFormat\", {\n        /**\n         * Gets or sets the `PdfStringFormat` that will be used to set the string format\n         * @private\n         */\n        get: function () {\n            return this.format;\n        },\n        set: function (value) {\n            this.format = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * Gets a `brush` for drawing.\n     * @private\n     */\n    PdfTextElement.prototype.getBrush = function () {\n        return (this.pdfBrush == null || typeof this.pdfBrush === 'undefined') ? new PdfSolidBrush(new PdfColor(0, 0, 0)) : this.pdfBrush;\n    };\n    // /**\n    //  * `Draws` an element on the Graphics.\n    //  * @private\n    //  */\n    // public drawInternal(graphics : PdfGraphics) : void {\n    //     graphics.drawString(this.elementValue, this.pdfFont, this.pdfPen, this.getBrush(), 0, 0, this.stringFormat);\n    // }\n    /**\n     * `Layouts` the element.\n     * @private\n     */\n    PdfTextElement.prototype.layout = function (param) {\n        var layouter = new TextLayouter(this);\n        var result = layouter.layout(param);\n        return result;\n    };\n    PdfTextElement.prototype.drawText = function (arg2, arg3, arg4, arg5) {\n        if (arg3 instanceof PointF && typeof arg3.width === 'undefined' && typeof arg4 === 'undefined') {\n            this.hasPointOverload = true;\n            return this.drawText(arg2, arg3.x, arg3.y);\n        }\n        else if (typeof arg3 === 'number' && typeof arg4 === 'number' && typeof arg5 === 'undefined') {\n            this.hasPointOverload = true;\n            return this.drawText(arg2, arg3, arg4, null);\n        }\n        else if (arg3 instanceof RectangleF && typeof arg3.width !== 'undefined' && typeof arg4 === 'undefined') {\n            return this.drawText(arg2, arg3, null);\n        }\n        else if (arg3 instanceof PointF && typeof arg3.width === 'undefined' && arg4 instanceof PdfLayoutFormat) {\n            this.hasPointOverload = true;\n            return this.drawText(arg2, arg3.x, arg3.y, arg4);\n        }\n        else if (typeof arg3 === 'number' && typeof arg4 === 'number' && (arg5 instanceof PdfLayoutFormat || arg5 == null)) {\n            this.hasPointOverload = true;\n            var width = (arg2.graphics.clientSize.width - arg3);\n            var layoutRectangle = new RectangleF(arg3, arg4, width, 0);\n            return this.drawText(arg2, layoutRectangle, arg5);\n        }\n        else if (arg3 instanceof RectangleF && typeof arg3.width !== 'undefined' && typeof arg4 === 'boolean') {\n            return this.drawText(arg2, arg3, null);\n        }\n        else {\n            var layout = new PdfStringLayouter();\n            if (this.hasPointOverload) {\n                var stringLayoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF((arg2.graphics.clientSize.width - arg3.x), 0), true, arg2.graphics.clientSize);\n                var layoutResult = void 0;\n                var param = new PdfLayoutParams();\n                var temparg3 = arg3;\n                var temparg4 = arg4;\n                param.page = arg2;\n                var previousPage = arg2;\n                param.bounds = temparg3;\n                param.format = (temparg4 != null) ? temparg4 : new PdfLayoutFormat();\n                if (stringLayoutResult.lines.length > 1) {\n                    this.text = stringLayoutResult.layoutLines[0].text;\n                    if (param.bounds.y <= param.page.graphics.clientSize.height) {\n                        var previousPosition = new PointF(param.bounds.x, param.bounds.y);\n                        layoutResult = this.layout(param);\n                        var bounds = new RectangleF(0, layoutResult.bounds.y + stringLayoutResult.lineHeight, arg2.graphics.clientSize.width, stringLayoutResult.lineHeight);\n                        var isPaginate = false;\n                        for (var i = 1; i < stringLayoutResult.lines.length; i++) {\n                            param.page = layoutResult.page;\n                            param.bounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n                            this.text = stringLayoutResult.layoutLines[i].text;\n                            if (bounds.y + stringLayoutResult.lineHeight > layoutResult.page.graphics.clientSize.height) {\n                                isPaginate = true;\n                                param.page = param.page.graphics.getNextPage();\n                                if (previousPosition.y > (layoutResult.page.graphics.clientSize.height - layoutResult.bounds.height)) {\n                                    bounds = new RectangleF(0, layoutResult.bounds.height, layoutResult.page.graphics.clientSize.width, stringLayoutResult.lineHeight);\n                                }\n                                else {\n                                    bounds = new RectangleF(0, 0, layoutResult.page.graphics.clientSize.width, stringLayoutResult.lineHeight);\n                                }\n                                param.bounds = bounds;\n                            }\n                            layoutResult = this.layout(param);\n                            if (i !== (stringLayoutResult.lines.length - 1)) {\n                                bounds = new RectangleF(0, layoutResult.bounds.y + stringLayoutResult.lineHeight, layoutResult.page.graphics.clientSize.width, stringLayoutResult.lineHeight);\n                            }\n                            else {\n                                var lineWidth = this.font.measureString(this.text, this.format).width;\n                                layoutResult = this.calculateResultBounds(layoutResult, lineWidth, layoutResult.page.graphics.clientSize.width, 0);\n                            }\n                        }\n                    }\n                    return layoutResult;\n                }\n                else {\n                    var lineSize = this.font.measureString(this.text, this.format);\n                    if (param.bounds.y <= param.page.graphics.clientSize.height) {\n                        layoutResult = this.layout(param);\n                        layoutResult = this.calculateResultBounds(layoutResult, lineSize.width, layoutResult.page.graphics.clientSize.width, 0);\n                    }\n                    return layoutResult;\n                }\n            }\n            else {\n                var layoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF(arg3.width, 0), false, arg2.graphics.clientSize);\n                var result = void 0;\n                var param = new PdfLayoutParams();\n                var temparg3 = arg3;\n                var temparg4 = arg4;\n                param.page = arg2;\n                param.bounds = temparg3;\n                param.format = (temparg4 != null) ? temparg4 : new PdfLayoutFormat();\n                if (layoutResult.lines.length > 1) {\n                    this.text = layoutResult.layoutLines[0].text;\n                    if (param.bounds.y <= param.page.graphics.clientSize.height) {\n                        var previousPosition = new PointF(param.bounds.x, param.bounds.y);\n                        result = this.layout(param);\n                        var bounds = new RectangleF(temparg3.x, result.bounds.y + layoutResult.lineHeight, temparg3.width, layoutResult.lineHeight);\n                        var isPaginate = false;\n                        for (var i = 1; i < layoutResult.lines.length; i++) {\n                            param.page = result.page;\n                            param.bounds = new RectangleF(bounds.x, bounds.y, bounds.width, bounds.height);\n                            this.text = layoutResult.layoutLines[i].text;\n                            if (bounds.y + layoutResult.lineHeight > result.page.graphics.clientSize.height) {\n                                isPaginate = true;\n                                param.page = param.page.graphics.getNextPage();\n                                if (previousPosition.y > (result.page.graphics.clientSize.height - result.bounds.height)) {\n                                    bounds = new RectangleF(temparg3.x, layoutResult.lineHeight, temparg3.width, layoutResult.lineHeight);\n                                }\n                                else {\n                                    bounds = new RectangleF(temparg3.x, 0, temparg3.width, layoutResult.lineHeight);\n                                }\n                                param.bounds = bounds;\n                            }\n                            result = this.layout(param);\n                            if (i !== (layoutResult.lines.length - 1)) {\n                                bounds = new RectangleF(temparg3.x, result.bounds.y + layoutResult.lineHeight, temparg3.width, layoutResult.lineHeight);\n                            }\n                            else {\n                                var lineWidth = this.font.measureString(this.text, this.format).width;\n                                result = this.calculateResultBounds(result, lineWidth, temparg3.width, temparg3.x);\n                            }\n                        }\n                    }\n                    return result;\n                }\n                else {\n                    var lineSize = this.font.measureString(this.text, this.format);\n                    if (param.bounds.y <= param.page.graphics.clientSize.height) {\n                        result = this.layout(param);\n                        result = this.calculateResultBounds(result, lineSize.width, temparg3.width, temparg3.x);\n                    }\n                    return result;\n                }\n            }\n        }\n    };\n    PdfTextElement.prototype.calculateResultBounds = function (result, lineWidth, maximumWidth, startPosition) {\n        var shift = 0;\n        if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Center) {\n            result.bounds.x = startPosition + (maximumWidth - lineWidth) / 2;\n            result.bounds.width = lineWidth;\n        }\n        else if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Right) {\n            result.bounds.x = startPosition + (maximumWidth - lineWidth);\n            result.bounds.width = lineWidth;\n        }\n        else if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Justify) {\n            result.bounds.x = startPosition;\n            result.bounds.width = maximumWidth;\n        }\n        else {\n            result.bounds.width = startPosition;\n            result.bounds.width = lineWidth;\n        }\n        return result;\n    };\n    return PdfTextElement;\n}(PdfLayoutElement));\nexport { PdfTextElement };\n","import { PdfColor } from './../graphics/pdf-color';\nimport { RectangleF, PointF } from './../drawing/pdf-drawing';\nimport { PdfDictionary, SaveAnnotationEventHandler } from './../primitives/pdf-dictionary';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfNumber } from './../primitives/pdf-number';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfString } from './../primitives/pdf-string';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfSolidBrush } from './../graphics/brushes/pdf-solid-brush';\nimport { PdfStandardFont } from './../graphics/fonts/pdf-standard-font';\nimport { PdfFontFamily } from './../graphics/fonts/enum';\nimport { PdfStringFormat } from './../graphics/fonts/pdf-string-format';\nimport { PdfTextAlignment } from './../graphics/enum';\n/**\n * `PdfAnnotation` class represents the base class for annotation objects.\n * @private\n */\nvar PdfAnnotation = /** @class */ (function () {\n    function PdfAnnotation(arg1) {\n        // Fields\n        /**\n         * Specifies the Internal variable to store fields of `PdfDictionaryProperties`.\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        /**\n         * `Color` of the annotation\n         * @private\n         */\n        this.pdfColor = new PdfColor(255, 255, 255);\n        /**\n         * `Bounds` of the annotation.\n         * @private\n         */\n        this.rectangle = new RectangleF(0, 0, 0, 0);\n        /**\n         * Parent `page` of the annotation.\n         * @private\n         */\n        this.pdfPage = null;\n        /**\n         * `Brush of the text` of the annotation.\n         * @default new PdfSolidBrush(new PdfColor(0, 0, 0))\n         * @private\n         */\n        this.textBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        /**\n         * `Font of the text` of the annotation.\n         * @default new PdfStandardFont(PdfFontFamily.TimesRoman, 10)\n         * @private\n         */\n        this.textFont = new PdfStandardFont(PdfFontFamily.TimesRoman, 10);\n        /**\n         * `StringFormat of the text` of the annotation.\n         * @default new PdfStringFormat(PdfTextAlignment.Left)\n         * @private\n         */\n        this.format = new PdfStringFormat(PdfTextAlignment.Left);\n        /**\n         * `Text` of the annotation.\n         * @private\n         */\n        this.content = '';\n        /**\n         * Internal variable to store `dictionary`.\n         * @private\n         */\n        this.pdfDictionary = new PdfDictionary();\n        /**\n         * To specifying the `Inner color` with which to fill the annotation\n         * @private\n         */\n        this.internalColor = new PdfColor();\n        /**\n         * `opacity or darkness` of the annotation.\n         * @private\n         * @default 1.0\n         */\n        this.darkness = 1.0;\n        if (typeof arg1 === 'undefined') {\n            this.initialize();\n        }\n        else {\n            this.initialize();\n            this.bounds = arg1;\n        }\n    }\n    Object.defineProperty(PdfAnnotation.prototype, \"color\", {\n        // Properties\n        /**\n         * `Color` of the annotation\n         * @private\n         */\n        get: function () {\n            return this.pdfColor;\n        },\n        set: function (value) {\n            this.pdfColor = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"innerColor\", {\n        /**\n         * To specifying the `Inner color` with which to fill the annotation\n         * @private\n         */\n        get: function () {\n            return this.internalColor;\n        },\n        set: function (value) {\n            this.internalColor = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"bounds\", {\n        /**\n         * `bounds` of the annotation.\n         * @private\n         */\n        get: function () {\n            return this.rectangle;\n        },\n        set: function (value) {\n            this.rectangle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"page\", {\n        /**\n         * Parent `page` of the annotation.\n         * @private\n         */\n        get: function () {\n            return this.pdfPage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"font\", {\n        /**\n         * To specifying the `Font of the text` in the annotation.\n         * @private\n         */\n        get: function () {\n            return this.textFont;\n        },\n        set: function (value) {\n            this.textFont = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"stringFormat\", {\n        /**\n         * To specifying the `StringFormat of the text` in the annotation.\n         * @private\n         */\n        get: function () {\n            return this.format;\n        },\n        set: function (value) {\n            this.format = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"brush\", {\n        /**\n         * To specifying the `Brush of the text` in the annotation.\n         * @private\n         */\n        get: function () {\n            return this.textBrush;\n        },\n        set: function (value) {\n            this.textBrush = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"text\", {\n        /**\n         * `Text` of the annotation.\n         * @private\n         */\n        get: function () {\n            return this.content;\n        },\n        set: function (value) {\n            this.content = value;\n            this.dictionary.items.setValue(this.dictionaryProperties.contents, new PdfString(this.content));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAnnotation.prototype, \"dictionary\", {\n        /**\n         * Internal variable to store `dictionary`.\n         * @hidden\n         */\n        get: function () {\n            return this.pdfDictionary;\n        },\n        set: function (value) {\n            this.pdfDictionary = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Initialize` the annotation event handler and specifies the type of the annotation.\n     * @private\n     */\n    PdfAnnotation.prototype.initialize = function () {\n        this.pdfDictionary.annotationBeginSave = new SaveAnnotationEventHandler(this);\n        this.pdfDictionary.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.annot));\n    };\n    /**\n     * Sets related `page` of the annotation.\n     * @private\n     */\n    PdfAnnotation.prototype.setPage = function (page) {\n        this.pdfPage = page;\n        this.pdfDictionary.items.setValue(this.dictionaryProperties.p, new PdfReferenceHolder(this.pdfPage));\n    };\n    /**\n     * Handles the `BeginSave` event of the Dictionary.\n     * @private\n     */\n    PdfAnnotation.prototype.beginSave = function () {\n        this.save();\n    };\n    /**\n     * `Saves` an annotation.\n     * @private\n     */\n    /* tslint:disable */\n    PdfAnnotation.prototype.save = function () {\n        var nativeRectangle = new RectangleF(this.rectangle.x, this.rectangle.y, this.rectangle.width, this.rectangle.height);\n        var section = this.pdfPage.section;\n        var initialHeight = nativeRectangle.height;\n        var tempLoacation = section.pointToNativePdf(this.page, new PointF(nativeRectangle.x, nativeRectangle.y));\n        nativeRectangle.x = tempLoacation.x;\n        nativeRectangle.width = tempLoacation.x + nativeRectangle.width;\n        nativeRectangle.y = (tempLoacation.y - this.page.document.pageSettings.margins.top);\n        nativeRectangle.height = nativeRectangle.y - initialHeight;\n        this.pdfDictionary.items.setValue(this.dictionaryProperties.rect, PdfArray.fromRectangle(nativeRectangle));\n        this.dictionary.items.setValue(this.dictionaryProperties.ca, new PdfNumber(this.darkness));\n    };\n    Object.defineProperty(PdfAnnotation.prototype, \"element\", {\n        /* tslint:enable */\n        // IPdfWrapper Members\n        /**\n         * Gets the `element`.\n         * @private\n         */\n        get: function () {\n            return this.pdfDictionary;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfAnnotation;\n}());\nexport { PdfAnnotation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfAnnotation } from './annotation';\nimport { PdfName } from './../primitives/pdf-name';\n/**\n * `PdfLinkAnnotation` class represents the ink annotation class.\n * @private\n */\nvar PdfLinkAnnotation = /** @class */ (function (_super) {\n    __extends(PdfLinkAnnotation, _super);\n    function PdfLinkAnnotation(rectangle) {\n        return _super.call(this, rectangle) || this;\n    }\n    // Implementation\n    /**\n     * `Initializes` annotation object.\n     * @private\n     */\n    PdfLinkAnnotation.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        this.dictionary.items.setValue(this.dictionaryProperties.subtype, new PdfName(this.dictionaryProperties.link));\n    };\n    return PdfLinkAnnotation;\n}(PdfAnnotation));\nexport { PdfLinkAnnotation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfLinkAnnotation } from './link-annotation';\n/**\n * Represents base class for `link annotations` with associated action.\n * @private\n */\nvar PdfActionLinkAnnotation = /** @class */ (function (_super) {\n    __extends(PdfActionLinkAnnotation, _super);\n    // Constructors\n    /**\n     * Specifies the constructor for `ActionLinkAnnotation`.\n     * @private\n     */\n    function PdfActionLinkAnnotation(rectangle) {\n        var _this = _super.call(this, rectangle) || this;\n        // Fields\n        /**\n         * Internal variable to store annotation's `action`.\n         * @default null\n         * @private\n         */\n        _this.pdfAction = null;\n        return _this;\n    }\n    //Public method\n    /**\n     * get and set the `action`.\n     * @hidden\n     */\n    PdfActionLinkAnnotation.prototype.getSetAction = function (value) {\n        if (typeof value === 'undefined') {\n            return this.pdfAction;\n        }\n        else {\n            this.pdfAction = value;\n        }\n    };\n    return PdfActionLinkAnnotation;\n}(PdfLinkAnnotation));\nexport { PdfActionLinkAnnotation };\n","import { PdfDictionary } from './../primitives/pdf-dictionary';\nimport { PdfReferenceHolder } from './../primitives/pdf-reference';\nimport { PdfName } from './../primitives/pdf-name';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\n/**\n * `PdfAction` class represents base class for all action types.\n * @private\n */\nvar PdfAction = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initialize instance for `Action` class.\n     * @private\n     */\n    function PdfAction() {\n        /**\n         * Specifies the Next `action` to perform.\n         * @private\n         */\n        this.action = null;\n        /**\n         * Specifies the Internal variable to store `dictionary properties`.\n         * @private\n         */\n        this.dictionaryProperties = new DictionaryProperties();\n        // super(); -> Object()\n        this.initialize();\n    }\n    Object.defineProperty(PdfAction.prototype, \"next\", {\n        // Properties\n        /**\n         * Gets and Sets the `Next` action to perform.\n         * @private\n         */\n        get: function () {\n            return this.action;\n        },\n        set: function (value) {\n            // if (this.action !== value) {\n            this.action = value;\n            this.dictionary.items.setValue(this.dictionaryProperties.next, new PdfReferenceHolder(this.action));\n            // }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfAction.prototype, \"dictionary\", {\n        /**\n         * Gets and Sets the instance of PdfDictionary class for `Dictionary`.\n         * @private\n         */\n        get: function () {\n            if (typeof this.pdfDictionary === 'undefined') {\n                this.pdfDictionary = new PdfDictionary();\n            }\n            return this.pdfDictionary;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Initialize` the action type.\n     * @private\n     */\n    PdfAction.prototype.initialize = function () {\n        this.dictionary.items.setValue(this.dictionaryProperties.type, new PdfName(this.dictionaryProperties.action));\n    };\n    Object.defineProperty(PdfAction.prototype, \"element\", {\n        // IPdfWrapper Members\n        /**\n         * Gets the `Element` as IPdfPrimitive class.\n         * @private\n         */\n        get: function () {\n            return this.dictionary;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfAction;\n}());\nexport { PdfAction };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfAction } from './action';\nimport { PdfString } from './../primitives/pdf-string';\nimport { PdfName } from './../primitives/pdf-name';\n/**\n * `PdfUriAction` class for initialize the uri related internals.\n * @private\n */\nvar PdfUriAction = /** @class */ (function (_super) {\n    __extends(PdfUriAction, _super);\n    function PdfUriAction(uri) {\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * Specifies the `uri` string.\n         * @default ''.\n         * @private\n         */\n        _this.uniformResourceIdentifier = '';\n        return _this;\n    }\n    Object.defineProperty(PdfUriAction.prototype, \"uri\", {\n        // Properties\n        /**\n         * Gets and Sets the value of `Uri`.\n         * @private\n         */\n        get: function () {\n            return this.uniformResourceIdentifier;\n        },\n        set: function (value) {\n            this.uniformResourceIdentifier = value;\n            this.dictionary.items.setValue(this.dictionaryProperties.uri, new PdfString(this.uniformResourceIdentifier));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Initialize` the internals.\n     * @private\n     */\n    PdfUriAction.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        this.dictionary.items.setValue(this.dictionaryProperties.s, new PdfName(this.dictionaryProperties.uri));\n    };\n    return PdfUriAction;\n}(PdfAction));\nexport { PdfUriAction };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfActionLinkAnnotation } from './action-link-annotation';\nimport { PdfName } from './../primitives/pdf-name';\nimport { PdfUriAction } from './../actions/uri-action';\n/**\n * `PdfUriAnnotation` class represents the Uri annotation.\n * @private\n */\nvar PdfUriAnnotation = /** @class */ (function (_super) {\n    __extends(PdfUriAnnotation, _super);\n    function PdfUriAnnotation(rectangle, uri) {\n        var _this = _super.call(this, rectangle) || this;\n        if (typeof uri !== 'undefined') {\n            _this.uri = uri;\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfUriAnnotation.prototype, \"uriAction\", {\n        /**\n         * Get `action` of the annotation.\n         * @private\n         */\n        get: function () {\n            if (typeof this.pdfUriAction === 'undefined') {\n                this.pdfUriAction = new PdfUriAction();\n            }\n            return this.pdfUriAction;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfUriAnnotation.prototype, \"uri\", {\n        // Properties\n        /**\n         * Gets or sets the `Uri` address.\n         * @private\n         */\n        get: function () {\n            return this.uriAction.uri;\n        },\n        set: function (value) {\n            if (this.uriAction.uri !== value) {\n                this.uriAction.uri = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfUriAnnotation.prototype, \"action\", {\n        /**\n         * Gets or sets the `action`.\n         * @private\n         */\n        get: function () {\n            return this.getSetAction();\n        },\n        set: function (value) {\n            this.getSetAction(value);\n            this.uriAction.next = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * `Initializes` annotation object.\n     * @private\n     */\n    PdfUriAnnotation.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        this.dictionary.items.setValue(this.dictionaryProperties.subtype, new PdfName(this.dictionaryProperties.link));\n        var tempPrimitive = this.uriAction.element;\n        this.dictionary.items.setValue(this.dictionaryProperties.a, this.uriAction.element);\n    };\n    return PdfUriAnnotation;\n}(PdfActionLinkAnnotation));\nexport { PdfUriAnnotation };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfPage } from './../pages/pdf-page';\nimport { PointF, RectangleF, SizeF } from './../drawing/pdf-drawing';\nimport { PdfTextElement } from './../graphics/figures/text-element';\nimport { PdfUriAnnotation } from './uri-annotation';\nimport { PdfStringLayouter } from './../graphics/fonts/string-layouter';\nimport { PdfFontStyle } from './../graphics/fonts/enum';\nimport { PdfTextAlignment } from './../graphics/enum';\nimport { PdfArray } from './../primitives/pdf-array';\nimport { PdfNumber } from './../primitives/pdf-number';\n/**\n * `PdfTextWebLink` class represents the class for text web link annotation.\n * ```typescript\n * // create a new PDF document.\n * let document : PdfDocument = new PdfDocument();\n * // add a page to the document.\n * let page1 : PdfPage = document.pages.add();\n * // create the font\n * let font : PdfFont = new PdfStandardFont(PdfFontFamily.Helvetica, 12);\n * //\n * // create the Text Web Link\n * let textLink : PdfTextWebLink = new PdfTextWebLink();\n * // set the hyperlink\n * textLink.url = 'http://www.google.com';\n * // set the link text\n * textLink.text = 'Google';\n * // set the font\n * textLink.font = font;\n * // draw the hyperlink in PDF page\n * textLink.draw(page1, new PointF(10, 40));\n * //\n * // save the document.\n * document.save('output.pdf');\n * // destroy the document\n * document.destroy();\n * ```\n */\nvar PdfTextWebLink = /** @class */ (function (_super) {\n    __extends(PdfTextWebLink, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `PdfTextWebLink` class.\n     * @private\n     */\n    function PdfTextWebLink() {\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * Internal variable to store `Url`.\n         * @default ''\n         * @private\n         */\n        _this.uniformResourceLocator = '';\n        /**\n         * Internal variable to store `Uri Annotation` object.\n         * @default null\n         * @private\n         */\n        _this.uriAnnotation = null;\n        /**\n         * Checks whether the drawTextWebLink method with `PointF` overload is called or not.\n         * If it set as true, then the start position of each lines excluding firest line is changed as (0, Y).\n         * @private\n         * @hidden\n         */\n        _this.recalculateBounds = false;\n        _this.defaultBorder = new PdfArray();\n        for (var i = 0; i < 3; i++) {\n            _this.defaultBorder.add(new PdfNumber(0));\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfTextWebLink.prototype, \"url\", {\n        // Properties\n        /**\n         * Gets or sets the `Uri address`.\n         * ```typescript\n         * // create a new PDF document.\n         * let document : PdfDocument = new PdfDocument();\n         * // add a page to the document.\n         * let page1 : PdfPage = document.pages.add();\n         * // create the font\n         * let font : PdfFont = new PdfStandardFont(PdfFontFamily.Helvetica, 12);\n         * // create the Text Web Link\n         * let textLink : PdfTextWebLink = new PdfTextWebLink();\n         * //\n         * // set the hyperlink\n         * textLink.url = 'http://www.google.com';\n         * //\n         * // set the link text\n         * textLink.text = 'Google';\n         * // set the font\n         * textLink.font = font;\n         * // draw the hyperlink in PDF page\n         * textLink.draw(page1, new PointF(10, 40));\n         * // save the document.\n         * document.save('output.pdf');\n         * // destroy the document\n         * document.destroy();\n         * ```\n         */\n        get: function () {\n            return this.uniformResourceLocator;\n        },\n        set: function (value) {\n            if (value.length === 0) {\n                throw new Error('ArgumentException : Url - string can not be empty');\n            }\n            this.uniformResourceLocator = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTextWebLink.prototype.draw = function (arg1, arg2) {\n        if (arg1 instanceof PdfPage) {\n            var layout = new PdfStringLayouter();\n            var previousFontStyle = this.font.style;\n            if (arg2 instanceof PointF) {\n                this.recalculateBounds = true;\n                this.font.style = PdfFontStyle.Underline;\n                var layoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF((arg1.graphics.clientSize.width - arg2.x), 0), true, arg1.graphics.clientSize);\n                if (layoutResult.lines.length === 1) {\n                    var textSize = this.font.measureString(this.value);\n                    var rect = new RectangleF(arg2, textSize);\n                    rect = this.calculateBounds(rect, textSize.width, arg1.graphics.clientSize.width, arg2.x);\n                    this.uriAnnotation = new PdfUriAnnotation(rect, this.url);\n                    this.uriAnnotation.dictionary.items.setValue('Border', this.defaultBorder);\n                    arg1.annotations.add(this.uriAnnotation);\n                    var result = this.drawText(arg1, arg2);\n                    this.font.style = previousFontStyle;\n                    return result;\n                }\n                else {\n                    var result = this.drawMultipleLineWithPoint(layoutResult, arg1, arg2);\n                    this.font.style = previousFontStyle;\n                    return result;\n                }\n            }\n            else {\n                var layoutResult = layout.layout(this.value, this.font, this.stringFormat, new SizeF(arg2.width, 0), false, new SizeF(0, 0));\n                this.font.style = PdfFontStyle.Underline;\n                if (layoutResult.lines.length === 1) {\n                    var textSize = this.font.measureString(this.value);\n                    var rect = new RectangleF(new PointF(arg2.x, arg2.y), textSize);\n                    rect = this.calculateBounds(rect, textSize.width, arg2.width, arg2.x);\n                    this.uriAnnotation = new PdfUriAnnotation(rect, this.url);\n                    this.uriAnnotation.dictionary.items.setValue('Border', this.defaultBorder);\n                    arg1.annotations.add(this.uriAnnotation);\n                    var returnValue = this.drawText(arg1, arg2);\n                    this.font.style = previousFontStyle;\n                    return returnValue;\n                }\n                else {\n                    var returnValue = this.drawMultipleLineWithBounds(layoutResult, arg1, arg2);\n                    this.font.style = previousFontStyle;\n                    return returnValue;\n                }\n            }\n        }\n        else {\n            var page = new PdfPage();\n            page = arg1.page;\n            return this.draw(page, arg2);\n        }\n    };\n    /* tslint:enable */\n    //Private methods\n    /**\n     * Helper method `Draw` a Multiple Line Text Web Link on the Graphics with the specified location.\n     * @private\n     */\n    PdfTextWebLink.prototype.drawMultipleLineWithPoint = function (result, page, location) {\n        var layoutResult;\n        for (var i = 0; i < result.layoutLines.length; i++) {\n            var size = this.font.measureString(result.lines[i].text);\n            var bounds = new RectangleF(location, size);\n            if (i !== 0) {\n                bounds.x = 0;\n            }\n            this.text = result.lines[i].text;\n            if (bounds.y + size.height > page.graphics.clientSize.height) {\n                if (i !== 0) {\n                    page = page.graphics.getNextPage();\n                    bounds = new RectangleF(0, 0, page.graphics.clientSize.width, size.height);\n                    location.y = 0;\n                }\n                else {\n                    break;\n                }\n            }\n            bounds = this.calculateBounds(bounds, size.width, page.graphics.clientSize.width, bounds.x);\n            this.uriAnnotation = new PdfUriAnnotation(bounds, this.url);\n            this.uriAnnotation.dictionary.items.setValue('Border', this.defaultBorder);\n            page.annotations.add(this.uriAnnotation);\n            if (i !== 0) {\n                layoutResult = this.drawText(page, new PointF(0, bounds.y));\n            }\n            else {\n                layoutResult = this.drawText(page, bounds.x, bounds.y);\n            }\n            location.y += size.height;\n        }\n        return layoutResult;\n    };\n    /**\n     * Helper method `Draw` a Multiple Line Text Web Link on the Graphics with the specified bounds.\n     * @private\n     */\n    PdfTextWebLink.prototype.drawMultipleLineWithBounds = function (result, page, bounds) {\n        var layoutResult;\n        for (var i = 0; i < result.layoutLines.length; i++) {\n            var size = this.font.measureString(result.lines[i].text);\n            var internalBounds = new RectangleF(new PointF(bounds.x, bounds.y), size);\n            internalBounds = this.calculateBounds(internalBounds, size.width, bounds.width, bounds.x);\n            this.text = result.lines[i].text;\n            if (bounds.y + size.height > page.graphics.clientSize.height) {\n                if (i !== 0) {\n                    page = page.graphics.getNextPage();\n                    bounds = new RectangleF(bounds.x, 0, bounds.width, size.height);\n                    internalBounds.y = 0;\n                }\n                else {\n                    break;\n                }\n            }\n            this.uriAnnotation = new PdfUriAnnotation(internalBounds, this.url);\n            this.uriAnnotation.dictionary.items.setValue('Border', this.defaultBorder);\n            page.annotations.add(this.uriAnnotation);\n            layoutResult = this.drawText(page, bounds);\n            bounds.y += size.height;\n        }\n        return layoutResult;\n    };\n    /* tslint:disable */\n    PdfTextWebLink.prototype.calculateBounds = function (currentBounds, lineWidth, maximumWidth, startPosition) {\n        var shift = 0;\n        if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Center) {\n            currentBounds.x = startPosition + (maximumWidth - lineWidth) / 2;\n            currentBounds.width = lineWidth;\n        }\n        else if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Right) {\n            currentBounds.x = startPosition + (maximumWidth - lineWidth);\n            currentBounds.width = lineWidth;\n        }\n        else if (this.stringFormat != null && typeof this.stringFormat !== 'undefined' && this.stringFormat.alignment === PdfTextAlignment.Justify) {\n            currentBounds.x = startPosition;\n            currentBounds.width = maximumWidth;\n        }\n        else {\n            currentBounds.width = startPosition;\n            currentBounds.width = lineWidth;\n        }\n        return currentBounds;\n    };\n    return PdfTextWebLink;\n}(PdfTextElement));\nexport { PdfTextWebLink };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfGrid } from '../pdf-grid';\nimport { PdfStringFormat } from './../../../graphics/fonts/pdf-string-format';\nimport { SizeF, RectangleF, PointF } from './../../../drawing/pdf-drawing';\nimport { PdfBorders } from '../styles/pdf-borders';\nimport { PdfLayoutType, PdfLayoutBreakType } from './../../../graphics/figures/enum';\nimport { PdfLayoutResult, PdfLayoutFormat, ElementLayouter } from './../../../graphics/figures/base/element-layouter';\nimport { PdfHorizontalOverflowType } from '../styles/style';\nimport { TemporaryDictionary } from './../../../collections/object-object-pair/dictionary';\nimport { PdfStringLayouter } from './../../../graphics/fonts/string-layouter';\nimport { PdfDocument } from './../../../document/pdf-document';\n/**\n * Class `lay outing the text`.\n *\n */\nvar PdfGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfGridLayouter, _super);\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGrid` class.\n     * @private\n     */\n    function PdfGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.gridInitialWidth = 0;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.gridSize = new SizeF(0, 0);\n        _this.parentCellIndex = 0;\n        _this.tempWidth = 0;\n        _this.childheight = 0;\n        /**\n         * Check weather it is `child grid or not`.\n         * @private\n         */\n        _this.isChildGrid = false;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.hasRowSpanSpan = false;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.isRearranged = false;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.pageBounds = new RectangleF();\n        /**\n         * @hidden\n         * @private\n         */\n        _this.listOfNavigatePages = [];\n        /**\n         * @hidden\n         * @private\n         */\n        _this.flag = true;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.columnRanges = [];\n        /**\n         * @hidden\n         * @private\n         */\n        _this.currentLocation = new PointF(0, 0);\n        /**\n         * @hidden\n         * @private\n         */\n        _this.breakRow = true;\n        _this.slr = null;\n        _this.remainderText = null;\n        _this.isPaginate = false;\n        /**\n         * Checks whether the x co-ordinate is need to set as client size or not.\n         * @hidden\n         * @private\n         */\n        _this.isOverloadWithPosition = false;\n        return _this;\n    }\n    Object.defineProperty(PdfGridLayouter.prototype, \"Grid\", {\n        //Properties\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Constructors\n    /**\n     * Initializes a new instance of the `StringLayouter` class.\n     * @private\n     */\n    //Public methods\n    /**\n     * `Layouts` the text.\n     * @private\n     */\n    /**\n     * `Layouts` the specified graphics.\n     * @private\n     */\n    /**\n     * `Layouts` the specified graphics.\n     * @private\n     */\n    /*public layout(graphics : PdfLayoutParams) : PdfLayoutResult\n    public layout(graphics : PdfGraphics, bounds : RectangleF) : void\n    public layout(graphics : PdfGraphics, bounds : PointF) : void\n    public layout(graphics ?: PdfGraphics | PdfLayoutParams, bounds ?: PointF | RectangleF) : void | PdfLayoutResult  {\n        if (graphics instanceof PdfGraphics) {\n        if (bounds instanceof PointF) {\n            if (bounds.x === 0) {\n                bounds.x = PdfBorders.default.right.width / 2;\n            }\n            if (bounds.y === 0) {\n                bounds.y = PdfBorders.default.top.width / 2;\n            }\n            let boundaries : RectangleF = new RectangleF(bounds, new SizeF(0, 0));\n            this.layout(graphics, boundaries);\n        } else {\n            let width : number = graphics.clientSize.width;\n            let parameter : PdfLayoutParams = new PdfLayoutParams();\n            parameter.bounds = bounds;\n            this.currentGraphics = graphics;\n            if (graphics.layer != null) {\n                let index : number = 0;\n                if (this.currentGraphics.page instanceof PdfPage) {\n                    index = (this.currentGraphics.page as PdfPage).section.indexOf(this.currentGraphics.page as PdfPage);\n                } else {\n                    index = (this.currentGraphics.page as PdfPageBase).defaultLayerIndex;\n                }\n            } else {\n                this.layoutInternal(parameter);\n            }\n        }\n    }\n    }*/\n    /**\n     * Gets the `format`.\n     * @private\n     */\n    PdfGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    /**\n     * `Layouts` the element.\n     * @private\n     */\n    PdfGridLayouter.prototype.layoutInternal = function (param) {\n        var format = this.getFormat(param.format);\n        this.gridLayoutFormat = this.getFormat(param.format);\n        this.currentPage = param.page;\n        if (this.currentPage !== null) {\n            var pageHeight = this.currentPage.getClientSize().height;\n            var pageWidth = this.currentPage.getClientSize().width;\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        else {\n            throw Error('Can not set page as null');\n            //this.currentPageBounds = this.currentGraphics.clientSize;\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        //this.currentGraphics = (this.currentPage != null ) ? this.currentPage.graphics : this.currentGraphics;\n        // if (this.currentGraphics.layer !== null) {\n        //     let index : number = 0;\n        //     if (this.currentGraphics.page instanceof PdfPage) {\n        //         index = (this.currentGraphics.page as PdfPage).section.indexOf(this.currentGraphics.page as PdfPage);\n        //     } else {\n        //         index = (this.currentGraphics.page as PdfPageBase).defaultLayerIndex;\n        //     }\n        //     this.listOfNavigatePages.push(index);\n        // }\n        var index = 0;\n        index = this.currentGraphics.page.section.indexOf(this.currentGraphics.page);\n        this.listOfNavigatePages.push(index);\n        if (format != null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.Grid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        //this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        if (this.Grid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.Grid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        else if (this.Grid.headers.count !== 0) {\n            // this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width : (this.currentBounds.width -\n            //                                 this.Grid.headers.getHeader(0).cells.getCell(0).style.borders.left.width / 2);\n            this.currentBounds.width = param.bounds.width;\n        }\n        else {\n            throw Error('Please add row or header into grid');\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        // if (this.Grid.style.allowHorizontalOverflow && this.currentBounds.width > this.currentGraphics.clientSize.width) {\n        //     this.currentBounds.width = this.currentGraphics.clientSize.width;\n        //     this.currentBounds.width -= this.currentBounds.x;\n        // }\n        // if (this.Grid.isChildGrid) {\n        //     this.childheight = param.bounds.height;\n        // }\n        // if (param.format !== null && param.format.usePaginateBounds) {\n        //     if (param.format.paginateBounds.height > 0) {\n        //         this.currentBounds.height = param.format.paginateBounds.height;\n        //     }\n        //} else \n        if (param.bounds.height > 0 && !this.Grid.isChildGrid) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.Grid.isChildGrid) {\n            this.hType = this.Grid.style.horizontalOverflowType;\n        }\n        if (!this.Grid.style.allowHorizontalOverflow) {\n            this.columnRanges = [];\n            if (typeof this.Grid.isChildGrid !== 'undefined' && typeof this.Grid.isChildGrid) {\n                this.Grid.measureColumnsWidth(this.currentBounds);\n            }\n            else {\n                this.Grid.measureColumnsWidth(new RectangleF(this.currentBounds.x, this.currentBounds.y, this.currentBounds.x + this.currentBounds.width, this.currentBounds.height));\n            }\n            this.columnRanges.push([0, this.Grid.columns.count - 1]);\n        }\n        else {\n            this.Grid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        if (this.Grid.hasRowSpanSpan) {\n            for (var i = 0; i < this.Grid.rows.count; i++) {\n                if (this.Grid.rows.getRow(i).height !== -1 && !this.Grid.rows.getRow(i).isRowHeightSet) {\n                    this.Grid.rows.getRow(i).isRowHeightSet = true;\n                }\n            }\n        }\n        var result = this.layoutOnPage(param);\n        return result;\n    };\n    // /* tslint:enable */\n    /**\n     * `Determines the column draw ranges`.\n     * @private\n     */\n    PdfGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.Grid.columns.count; i++) {\n            cellWidths += this.Grid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.Grid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                endColumn = startColumn;\n                cellWidths = (endColumn <= i) ? this.Grid.columns.getColumn(i).width : 0;\n            }\n        }\n        // if (startColumn !== this.columns.Count) {\n        this.columnRanges.push([startColumn, this.Grid.columns.count - 1]);\n        // }\n    };\n    /**\n     * `Layouts the on page`.\n     * @private\n     */\n    PdfGridLayouter.prototype.layoutOnPage = function (param) {\n        /* tslint:disable */\n        this.pageBounds.x = param.bounds.x;\n        this.pageBounds.y = param.bounds.y;\n        this.pageBounds.height = param.bounds.height;\n        var format = this.getFormat(param.format);\n        var endArgs = null;\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        var isParentCell = false;\n        var cellBounds = [];\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var returnObject = this.raiseBeforePageLayout(this.currentPage, this.currentBounds, this.currentRowIndex);\n            this.currentBounds = returnObject.currentBounds;\n            this.currentRowIndex = returnObject.currentRowIndex;\n            // if (returnObject.returnValue) {\n            //     result = new PdfGridLayoutResult(this.currentPage, this.currentBounds);\n            //     break;\n            // }\n            //Draw Headers.\n            var drawHeader = void 0;\n            for (var i_1 = 0; i_1 < this.Grid.headers.count; i_1++) {\n                var row = this.Grid.headers.getHeader(i_1);\n                var headerHeight = this.currentBounds.y;\n                this.isHeader = true;\n                if (startPage != this.currentPage) {\n                    for (var k = this.cellStartIndex; k <= this.cellEndIndex; k++) {\n                        if (row.cells.getCell(k).isCellMergeContinue) {\n                            row.cells.getCell(k).isCellMergeContinue = false;\n                            row.cells.getCell(k).value = \"\";\n                        }\n                    }\n                }\n                // RowLayoutResult\n                var headerResult = this.drawRow(row);\n                if (headerHeight === this.currentBounds.y) {\n                    drawHeader = true;\n                    if (PdfGridLayouter.repeatRowIndex === -1) {\n                        PdfGridLayouter.repeatRowIndex = i_1;\n                    }\n                }\n                else {\n                    drawHeader = false;\n                }\n                if (!headerResult.isFinish && startPage !== null\n                    && format.layout !== PdfLayoutType.OnePage && drawHeader) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageformat(format);\n                    this.startLocation.y = this.currentBounds.y;\n                    if (typeof format.paginateBounds !== 'undefined' && format.paginateBounds.x === 0 && format.paginateBounds.y === 0 && format.paginateBounds.width === 0 && format.paginateBounds.height === 0)\n                        this.currentBounds.x += this.startLocation.x;\n                    this.drawRow(row);\n                }\n                this.isHeader = false;\n            }\n            var i = 0;\n            var length_1 = this.Grid.rows.count;\n            var repeatRow = void 0;\n            var startingHeight = 0;\n            var flag = true;\n            //Here is to draw parent Grid and Cells\n            cellBounds = [];\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < this.Grid.rows.count; j++) {\n                var row = this.Grid.rows.getRow(j);\n                i++;\n                this.currentRowIndex = i - 1;\n                var originalHeight = this.currentBounds.y;\n                startPage = this.currentPage;\n                PdfGridLayouter.repeatRowIndex = -1;\n                if (flag && row.grid.isChildGrid) {\n                    startingHeight = originalHeight;\n                    flag = false;\n                }\n                var rowResult = null;\n                ///rowResult = this.drawRow(row);\n                /*if(!row.isrowFinish) {\n                    if(!row.grid.isgridSplit){\n                        rowResult = this.drawRow(row);\n                        row.isrowFinish = true;\n                        row.isrowDraw = true;\n                    } else {\n                        if(!row.isrowDraw){\n                            rowResult = this.drawRow(row);\n                            row.isrowFinish = true;\n                            row.isrowDraw = true;\n                            row.grid.isgridSplit = false;\n                        } else {\n                            rowResult =  null;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    //row.isrowFinish = false;\n                    //rowResult = this.drawRow(row);\n                    rowResult = null;\n                    break;\n                    \n                }             */\n                if (this.Grid.splitChildRowIndex == -1) {\n                    rowResult = this.drawRow(row);\n                    row.isrowFinish = true;\n                }\n                else {\n                    if (row.grid.ParentCell.row.grid.isGridSplit && this.Grid.splitChildRowIndex <= row.rowIndex) {\n                        rowResult = this.drawRow(row);\n                        row.isrowFinish = true;\n                    }\n                    else if (row.isrowFinish) {\n                        continue;\n                    }\n                    else {\n                        break;\n                    }\n                }\n                //rowResult = this.drawRow(row);\n                cellBounds.push(rowResult.bounds.width);\n                /*if (row.isRowBreaksNextPage)\n                    {\n                        let x : number  = 0;\n                        for (let l : number = 0; l < row.cells.count; l++)\n                        {\n                            let isNestedRowBreak : boolean = false;\n                            if (row.height == row.cells.getCell(l).height)\n                            {\n                                let n : number;\n                                let grid : PdfGrid = row.cells.getCell(l).value as PdfGrid;\n                                for (let m : number = grid.rows.count; 0 < m; m--)\n                                {\n                                    if ((grid.rows.getRow(m - 1).rowBreakHeight > 0))\n                                    {\n                                        isNestedRowBreak = true;\n                                        break;\n                                    }\n                                    if (grid.rows.getRow(m - 1).isRowBreaksNextPage)\n                                    {\n                                        row.rowBreakHeightValue = grid.rows.getRow(m - 1).rowBreakHeightValue;\n                                        break;\n                                    }\n                                    row.rowBreakHeightValue += grid.rows.getRow(m - 1).height;\n                                }\n                            }\n                            if (isNestedRowBreak)\n                                break;\n                        }\n                        for (let j : number = 0; j < row.cells.count; j++)\n                        {\n\n                            if (row.height > row.cells.getCell(j).height)\n                            {\n                                row.cells.getCell(j).value = \" \";\n                                let rect : RectangleF ;\n                                let page : PdfPage = this.getNextPage(this.currentPage);\n                                let section : PdfSection = this.currentPage.section;\n                                let index : number = section.indexOf(page);\n                                for (let k : number = 0; k < (section.count - 1) - index; k++)\n                                {\n                                    rect = new RectangleF(x, 0, row.grid.columns.getColumn(j).width, page.getClientSize().height);\n                                    PdfGridLayouter.repeatRowIndex = -1;\n                                    row.cells.getCell(j).draw(page.graphics, rect, false);\n                                    page = this.getNextPage(page);\n                                }\n                                rect = new RectangleF(x, 0, row.grid.columns.getColumn(j).width, row.rowBreakHeightValue);\n\n                                row.cells.getCell(j).draw(page.graphics, rect, false);\n                            }\n                            x += row.grid.columns.getColumn(j).width;\n                        }\n                    }*/\n                //if height remains same, it is understood that row is not drawn in the page\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    PdfGridLayouter.repeatRowIndex = this.Grid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    PdfGridLayouter.repeatRowIndex = -1;\n                }\n                while (!rowResult.isFinish && startPage != null) {\n                    var tempResult = this.getLayoutResult();\n                    /*if (startPage != this.currentPage)\n                        {\n                            if (row.grid.isChildGrid && row.grid.ParentCell != null)\n                            {\n                                let bounds : RectangleF= new RectangleF(new PointF(format.paginateBounds.x,format.paginateBounds.y), new SizeF(param.bounds.width, tempResult.bounds.height));\n                                bounds.x += param.bounds.x;\n                                if (row.grid.ParentCell.row.grid.style.cellPadding != null)\n                                {\n                                    bounds.y += row.grid.ParentCell.row.grid.style.cellPadding.top;\n                                    if (bounds.height > this.currentPageBounds.height)\n                                    {\n                                        bounds.height = this.currentPageBounds.height - bounds.y;\n                                        bounds.height -= (row.grid.ParentCell.row.grid.style.cellPadding.bottom);\n                                    }\n                                }\n                                // Draw border for cells in the nested grid cell's row.\n                                for (let c : number = 0; c < row.cells.count; c++)\n                                {\n                                    let cell : PdfGridCell = row.cells.getCell(c);\n                                    let cellWidth :  number= 0;\n                                    if (cell.columnSpan > 1)\n                                    {\n                                        for (; c < cell.columnSpan; c++)\n                                            cellWidth += row.grid.columns.getColumn(c).width;\n                                    }\n                                    else\n                                        cellWidth = Math.max(cell.width, row.grid.columns.getColumn(c).width);\n                                    cell.drawCellBorders(this.currentGraphics, new RectangleF(new PointF(bounds.x,bounds.y), new SizeF(cellWidth, bounds.height)));\n                                    bounds.x += cellWidth;\n                                    c += (cell.columnSpan - 1);\n                                }\n                            }\n                        }\n                        */\n                    endArgs = this.raisePageLayouted(tempResult);\n                    if (endArgs.cancel || repeatRow)\n                        break;\n                    else if (this.Grid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageformat(format);\n                        originalHeight = this.currentBounds.y;\n                        var location_1 = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n                        if ((format.paginateBounds.x === 0 && format.paginateBounds.y === 0 && format.paginateBounds.width === 0 &&\n                            format.paginateBounds.height === 0) && (this.startLocation.x === location_1.x && this.startLocation.y === location_1.y)) {\n                            this.currentBounds.x += this.startLocation.x;\n                            this.currentBounds.y += this.startLocation.y;\n                        }\n                        if (this.isPaginate) {\n                            this.startLocation.y = this.currentBounds.y;\n                            this.isPaginate = false;\n                        }\n                        if (this.Grid.isChildGrid && row.grid.ParentCell != null) {\n                            if (this.Grid.ParentCell.row.grid.style.cellPadding != null) {\n                                if (row.rowBreakHeight + this.Grid.ParentCell.row.grid.style.cellPadding.top < this.currentBounds.height) {\n                                    this.currentBounds.y = this.Grid.ParentCell.row.grid.style.cellPadding.top;\n                                }\n                            }\n                        }\n                        if (row.grid.ParentCell != null) {\n                            row.grid.ParentCell.row.isRowBreaksNextPage = true;\n                            row.grid.ParentCell.row.rowBreakHeightValue = row.rowBreakHeight + this.Grid.ParentCell.row.grid.style.cellPadding.top + this.Grid.ParentCell.row.grid.style.cellPadding.bottom;\n                            for (var i_2 = row.rowIndex + 1; i_2 < row.grid.rows.count; i_2++) {\n                                row.grid.ParentCell.row.rowBreakHeightValue += row.grid.rows.getRow(i_2).height;\n                            }\n                            //row.rowBreakHeight = row.grid.ParentCell.row.rowBreakHeightValue;\n                        }\n                        /*if (row.noOfPageCount > 1)\n                        {\n                            let temp : number = row.rowBreakHeightValue;\n                            for (let j : number = 1; j < row.noOfPageCount; j++)\n                            {\n                                row.rowBreakHeightValue = 0;\n                                row.height = ((row.noOfPageCount - 1) * this.currentPage.getClientSize().height);\n                                this.drawRow(row);\n                                this.currentPage = this.getNextPageformat(format);\n                                startPage = this.currentPage;\n                            }\n                            row.rowBreakHeightValue = temp;\n                            row.noOfPageCount = 1;\n                            rowResult = this.drawRow(row);\n                        } else {\n                            rowResult = this.drawRow(row);\n                        }\n                        /*if(row.grid.isChildGrid){\n                            row.isrowFinish = false;\n                            row.isrowDraw = false;\n                            row.grid.isgridSplit = true;\n                            row.grid.ParentCell.row.grid.isgridSplit = true;\n                            //rowResult.isFinish = false;\n                            break;\n                        }*/\n                        if (row.grid.isChildGrid) {\n                            //row.grid.isgridSplit = true;\n                            row.isrowFinish = false;\n                            //row.grid.ParentCell.row.grid.isgridSplit = true;\n                            row.grid.splitChildRowIndex = row.rowIndex;\n                            row.grid.ParentCell.row.grid.splitChildRowIndex = row.grid.ParentCell.row.rowIndex;\n                            if (row.grid.ParentCell.row.grid.isGridSplit) {\n                                row.grid.ParentCell.row.noOfPageCount += 1;\n                                row.grid.ParentCell.row.grid.isGridSplit = false;\n                            }\n                            break;\n                        }\n                        if (row.noOfPageCount < 1) {\n                            if (row.grid.splitChildRowIndex != -1) {\n                                row.grid.isGridSplit = true;\n                            }\n                            if (row.style.border != null && ((row.style.border.left != null && row.style.border.left.width !== 1)\n                                || (row.style.border.top != null && row.style.border.top.width !== 1))) {\n                                var x = row.style.border.left.width / 2;\n                                var y = row.style.border.top.width / 2;\n                                if (this.currentBounds.x === PdfBorders.default.right.width / 2 && this.currentBounds.y === PdfBorders.default.right.width / 2) {\n                                    var newBound = new RectangleF(x, y, this.currentBounds.width, this.currentBounds.height);\n                                    this.currentBounds = newBound;\n                                }\n                            }\n                            if (this.Grid.repeatHeader) {\n                                for (var j_1 = 0; j_1 < this.Grid.headers.count; j_1++) {\n                                    var headerRepeat = this.Grid.headers.getHeader(j_1);\n                                    this.drawRow(headerRepeat);\n                                }\n                            }\n                            rowResult = this.drawRow(row);\n                            if (row.noOfPageCount >= 1) {\n                                var temp = row.rowBreakHeightValue;\n                                for (var j_2 = 0; j_2 < row.noOfPageCount; j_2++) {\n                                    //this.currentPage.section.add();\n                                    var tempResult1 = this.getLayoutResult();\n                                    endArgs = this.raisePageLayouted(tempResult1);\n                                    this.currentPage = this.getNextPageformat(format);\n                                    originalHeight = this.currentBounds.y;\n                                    //row.rowBreakHeightValue = 0;\n                                    if (row.grid.splitChildRowIndex != -1) {\n                                        row.grid.isGridSplit = true;\n                                    }\n                                    this.currentBounds.y = 0.5;\n                                    if (this.Grid.repeatHeader) {\n                                        for (var i_3 = 0; i_3 < this.Grid.headers.count; i_3++) {\n                                            var header = this.Grid.headers.getHeader(i_3);\n                                            this.drawRow(header);\n                                        }\n                                    }\n                                    //row.height = ((row.noOfPageCount - 1) * this.currentPage.getClientSize().height);\n                                    this.drawRow(row);\n                                }\n                                // row.rowBreakHeight = temp;\n                                // row.noOfPageCount = 1;\n                                // rowResult = this.drawRow(row);\n                            }\n                            row.grid.splitChildRowIndex = -1;\n                            row.grid.isGridSplit = false;\n                            rowResult.isFinish = this.checkIsFisished(row);\n                            //row.NestedGridLayoutResult.bounds.height = row.rowBreakHeightValue;\n                            //this.currentBounds.y = rowResult.bounds.y;\n                            for (var i_4 = 0; i_4 < row.cells.count; i_4++) {\n                                if (row.cells.getCell(i_4).value instanceof PdfGrid) {\n                                    row.cells.getCell(i_4).value.splitChildRowIndex = -1;\n                                }\n                            }\n                        }\n                    }\n                    // else if (!this.Grid.allowRowBreakAcrossPages && i < length)\n                    // {\n                    //     this.currentPage = this.getNextPageformat(format);\n                    //     break;\n                    // }\n                    // else if (i >= length)\n                    //     break;\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    // During pagination, cell position is maintained here.\n                    this.startLocation.x = this.currentBounds.x;\n                    var isAddNextPage = false;\n                    this.currentPage = this.getNextPageformat(format);\n                    /*if (!this.Grid.isSingleGrid)\n                    {\n                        for ( let j : number= 0; j < this.Grid.rows.count; j++)\n                        {\n                            let isWidthGreaterthanParent : boolean = false;\n                            for (let k : number = 0; k < this.Grid.rows.getRow(j).cells.count; k++)\n                            {\n                                if (this.Grid.rows.getRow(j).cells.getCell(k).width > this.currentPageBounds.width)\n                                    isWidthGreaterthanParent = true;\n                            }\n                            if (isWidthGreaterthanParent && this.Grid.rows.getRow(j).cells.getCell(this.rowBreakPageHeightCellIndex).pageCount > 0)\n                            {\n                                isAddNextPage = true;\n                            }\n                        }\n                    }\n                    if (!this.Grid.isRearranged && isAddNextPage)\n                         {\n                             let section : PdfSection = this.currentPage.section;\n                             \n                             //this.currentPage = section.add();\n                         \n                             this.currentGraphics = this.currentPage.graphics;\n                             this.currentBounds = new RectangleF(new PointF(0,0), this.currentPage.getClientSize());\n                          \n                             let pageindex  : number = (this.currentGraphics.page as PdfPage).section.indexOf(this.currentGraphics.page as PdfPage);\n                         }\n                         else\n                         {\n                             this.currentPage = this.getNextPageformat(format);\n                         }\n                         if (format.paginateBounds.y == 0)\n                             this.currentBounds.y = PdfBorders.default.top.width/2;\n                         else\n                         {\n                             this.currentBounds.y = format == null ? 0 : format.paginateBounds.y;\n                             \n                         }*/\n                    if (this.raiseBeforePageLayout(this.currentPage, this.currentBounds, this.currentRowIndex).returnValue) {\n                        break;\n                    }\n                    if ((param.format !== null) && !param.format.usePaginateBounds && param.bounds !== null &&\n                        param.bounds.height > 0 && !this.Grid.isChildGrid) {\n                        this.currentBounds.height = param.bounds.height;\n                    }\n                    if (typeof param.format !== 'undefined' && param.format != null && typeof param.format.usePaginateBounds !== 'undefined' && !param.format.usePaginateBounds && !(param.format.paginateBounds.x === 0 && param.format.paginateBounds.y === 0 && param.format.paginateBounds.width === 0 && param.format.paginateBounds.height === 0) && param.format.paginateBounds.y === 0) {\n                        this.currentBounds.y = PdfBorders.default.top.width / 2;\n                    }\n                    else {\n                        this.currentBounds.y = format == null ? 0 : format.paginateBounds.y;\n                        if (format != null && (format.paginateBounds.x !== 0 || format.paginateBounds.y !== 0 || format.paginateBounds.height !== 0 || format.paginateBounds.width !== 0)) {\n                            this.currentBounds.x = format.paginateBounds.x;\n                            this.currentBounds.width = format.paginateBounds.width;\n                            this.currentBounds.height = format.paginateBounds.height;\n                        }\n                    }\n                    if (typeof param.format !== 'undefined' && (param.format !== null) && typeof param.format.usePaginateBounds !== 'undefined' && !param.format.usePaginateBounds && param.bounds !== null &&\n                        param.bounds.y > 0 && !this.Grid.isChildGrid) {\n                        this.currentBounds.y = param.bounds.y;\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if ((format.paginateBounds.x === format.paginateBounds.y) &&\n                        (format.paginateBounds.y === format.paginateBounds.height) &&\n                        (format.paginateBounds.height === format.paginateBounds.width) && (format.paginateBounds.width === 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    if (this.Grid.repeatHeader) {\n                        for (var i_5 = 0; i_5 < this.Grid.headers.count; i_5++) {\n                            var header = this.Grid.headers.getHeader(i_5);\n                            this.drawRow(header);\n                        }\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                }\n                if (row.NestedGridLayoutResult != null) {\n                    // Position for next row in the grid.\n                    this.currentPage = row.NestedGridLayoutResult.page;\n                    this.currentGraphics = this.currentPage.graphics; //If not, next row will not be drawn in the layouted page.\n                    this.startLocation = new PointF(row.NestedGridLayoutResult.bounds.x, row.NestedGridLayoutResult.bounds.y);\n                    var recalHeight = this.ReCalculateHeight(row, row.NestedGridLayoutResult.bounds.height);\n                    this.currentBounds.y = recalHeight;\n                    //this.currentBounds.y = row.NestedGridLayoutResult.bounds.height;\n                    if (startPage != this.currentPage) {\n                        var secion = this.currentPage.section;\n                        var startIndex = secion.indexOf(startPage) + 1;\n                        var endIndex = secion.indexOf(this.currentPage);\n                        for (var page = startIndex; page < endIndex + 1; page++) {\n                            var pageGraphics = this.currentPage.graphics;\n                            var location_2 = new PointF(format.paginateBounds.x, format.paginateBounds.y);\n                            var height = page == endIndex ? (row.NestedGridLayoutResult.bounds.height - param.bounds.y) :\n                                (this.currentBounds.height - location_2.y);\n                            if (height <= pageGraphics.clientSize.height)\n                                height += param.bounds.y;\n                            // if (row.grid.isChildGrid && row.grid.ParentCell != null)\n                            //     location.x += param.bounds.x;\n                            location_2.y = format == null ? 0.5 : format.paginateBounds.y;\n                            // Draw border for last paginated row containing nested grid.\n                            for (var c = 0; c < row.cells.count; c++) {\n                                var cell = row.cells.getCell(c);\n                                var cellWidth = 0;\n                                var totalwidth = 0;\n                                if (cell.value instanceof PdfGrid) {\n                                    for (var i_6 = 0; i_6 < cell.value.columns.count; i_6++) {\n                                        totalwidth += cell.value.columns.getColumn(i_6).columnWidth;\n                                    }\n                                }\n                                else {\n                                    totalwidth = cell.width;\n                                }\n                                // if (cell.columnSpan > 1)\n                                // {\n                                //     for (; c < cell.columnSpan; c++)\n                                //         cellWidth += row.grid.columns.getColumn(c).width;\n                                // }\n                                // else\n                                cellWidth = Math.max(totalwidth, row.grid.columns.getColumn(c).width);\n                                cell.drawCellBorders(pageGraphics, new RectangleF(location_2, new SizeF(cellWidth, height)));\n                                location_2.x += cellWidth;\n                                c += (cell.columnSpan - 1);\n                            }\n                        }\n                        // So, nested grid drawing is completed for the current row. Update page.\n                        // Otherwise, the next nested grid of the parent will draw borders from start.\n                        startPage = this.currentPage;\n                    }\n                }\n            }\n            var isPdfGrid = false;\n            var maximumCellBoundsWidth = 0;\n            if (cellBounds.length > 0) {\n                maximumCellBoundsWidth = cellBounds[0];\n            }\n            var largeNavigatePage = [[1, 2]];\n            for (var c = 0; c < this.Grid.rows.count; c++) {\n                if (this.cellEndIndex != -1 && this.Grid.rows.getRow(c).cells.getCell(this.cellEndIndex).value instanceof PdfGrid) {\n                    var grid = this.Grid.rows.getRow(c).cells.getCell(this.cellEndIndex).value;\n                    this.rowLayoutBoundsWidth = grid.rowLayoutBoundsWidth;\n                    isPdfGrid = true;\n                    // if (largeNavigatePage[0][0] < grid.listOfNavigatePages.length)\n                    // {\n                    //     largeNavigatePage[0][0] = grid.listOfNavigatePages.length;\n                    //     largeNavigatePage[0][1] = cellBounds[c];\n                    // }\n                    // else if ((largeNavigatePage[0][0] == grid.listOfNavigatePages.length) && (largeNavigatePage[0][1] < cellBounds[c]))\n                    // {\n                    //     largeNavigatePage[0][1] = cellBounds[c];\n                    // }\n                }\n            }\n            if (!isPdfGrid && cellBounds.length > 0) {\n                for (var c = 0; c < i - 1; c++) {\n                    if (maximumCellBoundsWidth < cellBounds[c]) {\n                        maximumCellBoundsWidth = cellBounds[c];\n                    }\n                }\n                this.rowLayoutBoundsWidth = maximumCellBoundsWidth;\n            }\n            else {\n                this.rowLayoutBoundsWidth = largeNavigatePage[0][1];\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1\n                && startPage != null && format.layout != PdfLayoutType.OnePage) {\n                isParentCell = this.Grid.isChildGrid;\n                if (largeNavigatePage[0][0] != 0) {\n                    var section = this.currentPage.section;\n                    var pageIndex = section.indexOf(this.currentPage);\n                    this.currentGraphics = this.currentPage.graphics;\n                    this.currentBounds = new RectangleF(new PointF(0, 0), this.currentPage.getClientSize());\n                    var pageindex = this.currentGraphics.page.section.indexOf(this.currentGraphics.page);\n                }\n                else {\n                    this.currentPage = this.getNextPageformat(format);\n                }\n                // let locationGrid : PointF= new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n                // if (format.paginateBounds == new RectangleF(0,0,0,0) && this.startLocation == locationGrid)\n                // {\n                //     this.currentBounds.x += this.startLocation.x;\n                //     this.currentBounds.y += this.startLocation.y;\n                // }\n            }\n            if (this.columnRanges.length - 1 !== index && this.columnRanges.length > 1 && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageformat(format);\n                if ((format.paginateBounds.x === format.paginateBounds.y) && (format.paginateBounds.y === format.paginateBounds.height)\n                    && (format.paginateBounds.height === format.paginateBounds.width) && (format.paginateBounds.width === 0)) {\n                    this.currentBounds.x += this.startLocation.x;\n                    this.currentBounds.y += this.startLocation.y;\n                    //this.currentBounds.height = this.pageBounds.height;\n                }\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.Grid.style.allowHorizontalOverflow && this.Grid.style.horizontalOverflowType == PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        this.raisePageLayouted(result);\n        return result;\n    };\n    PdfGridLayouter.prototype.checkIsFisished = function (row) {\n        var result = true;\n        for (var i = 0; i < row.cells.count; i++) {\n            if (!row.cells.getCell(i).FinishedDrawingCell) {\n                result = false;\n            }\n        }\n        return result;\n    };\n    /* tslint:enable */\n    /**\n     * Gets the `next page`.\n     * @private\n     */\n    PdfGridLayouter.prototype.getNextPageformat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        this.flag = false;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        var pageindex = this.currentGraphics.page.section.indexOf(this.currentGraphics.page);\n        if (!(this.listOfNavigatePages.indexOf(pageindex) !== -1)) {\n            this.listOfNavigatePages.push(pageindex);\n        }\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        if ((typeof format !== 'undefined') && format != null && format.usePaginateBounds && (typeof format.paginateBounds !== 'undefined') && format.paginateBounds != null && (format.paginateBounds.x !== format.paginateBounds.y) && (format.paginateBounds.y !== format.paginateBounds.height)\n            && (format.paginateBounds.height !== format.paginateBounds.width) && (format.paginateBounds.width !== 0)) {\n            this.currentBounds.x = format.paginateBounds.x;\n            this.currentBounds.y = format.paginateBounds.y;\n            this.currentBounds.height = format.paginateBounds.height;\n        }\n        return nextPage;\n    };\n    PdfGridLayouter.prototype.CheckIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    /**\n     * `Raises BeforeCellDraw event`.\n     * @private\n     */\n    PdfGridLayouter.prototype.RaiseBeforeCellDraw = function (graphics, rowIndex, cellIndex, bounds, value, style) {\n        var args = null;\n        if (this.Grid.raiseBeginCellDraw) {\n            args = new PdfGridBeginCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, style);\n            this.Grid.onBeginCellDraw(args);\n            style = args.style;\n        }\n        return style;\n    };\n    /**\n     * `Raises AfterCellDraw event`.\n     * @private\n     */\n    PdfGridLayouter.prototype.raiseAfterCellDraw = function (graphics, rowIndex, cellIndex, bounds, value, cellstyle) {\n        var args = null;\n        if (this.Grid.raiseEndCellDraw) {\n            args = new PdfGridEndCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, cellstyle);\n            this.Grid.onEndCellDraw(args);\n        }\n    };\n    PdfGridLayouter.prototype.reArrangePages = function (layoutedPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutedPages.keys();\n        var values = layoutedPages.values();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        /* tslint:disable */\n        for (var i = 0; i < layoutedPages.size(); i++) {\n            var count = 0;\n            for (var j = i, count_1 = (layoutedPages.size() / this.columnRanges.length); j < layoutedPages.size(); j += count_1) {\n                var page = pages[j];\n                if (typeof page !== 'undefined' && document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n        /* tslint:enable */\n    };\n    /**\n     * Gets the `layout result`.\n     * @private\n     */\n    PdfGridLayouter.prototype.getLayoutResult = function () {\n        if (this.Grid.isChildGrid && this.Grid.allowRowBreakAcrossPages) {\n            for (var i = 0; i < this.Grid.rows.count; i++) {\n                var row = this.Grid.rows.getRow(i);\n                if (row.rowBreakHeight > 0 && row.repeatFlag) {\n                    this.startLocation.y = this.currentPage.origin.y;\n                }\n            }\n        }\n        var bounds;\n        if (!this.isChanged) {\n            bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n                this.startLocation.y));\n        }\n        // else {\n        //     bounds = new RectangleF(this.currentLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n        //                              this.currentLocation.y));\n        // }\n        /* tslint:enable */\n        return new PdfGridLayoutResult(this.currentPage, bounds);\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     * @private\n     */\n    PdfGridLayouter.prototype.ReCalculateHeight = function (row, height) {\n        var newHeight = 0.0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!(row.cells.getCell(i).remainingString === null || row.cells.getCell(i).remainingString === '' ||\n                typeof row.cells.getCell(i).remainingString === 'undefined')) {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    /**\n     * `Raises BeforePageLayout event`.\n     * @private\n     */\n    PdfGridLayouter.prototype.raiseBeforePageLayout = function (currentPage, currentBounds, currentRow) {\n        var cancel = false;\n        if (this.Grid.raiseBeginPageLayout) {\n            var args = new PdfGridBeginPageLayoutEventArgs(currentBounds, currentPage, currentRow);\n            this.Grid.onBeginPageLayout(args);\n            // if (currentBounds !== args.Bounds) {\n            //     this.isChanged = true;\n            //     this.currentLocation = new PointF(args.Bounds.x, args.Bounds.y);\n            //     this.measureColumnsWidth(new RectangleF(new PointF(args.Bounds.x, args.Bounds.y) ,\n            //                                                  new SizeF(args.Bounds.width + args.Bounds.x ,\n            //                                                                 args.Bounds.height)));\n            // }\n            cancel = (typeof args.cancel === 'undefined' ? false : args.cancel);\n            currentBounds = args.bounds;\n            currentRow = args.startRowIndex;\n        }\n        return { returnValue: cancel, currentBounds: currentBounds, currentRowIndex: currentRow };\n    };\n    /**\n     * `Raises PageLayout event` if needed.\n     * @private\n     */\n    PdfGridLayouter.prototype.raisePageLayouted = function (result) {\n        var args = new PdfGridEndPageLayoutEventArgs(result);\n        if (this.Grid.raiseEndPageLayout) {\n            this.Grid.onEndPageLayout(args);\n        }\n        return args;\n    };\n    PdfGridLayouter.prototype.drawRow = function (row, result, height) {\n        if (typeof result === 'undefined') {\n            //.. Check if required space available.\n            //.....If the row conains spans which  falls through more than one page, then draw the row to next page.                        \n            var result_1 = new RowLayoutResult();\n            var rowHeightWithSpan = 0;\n            var location_3 = new PointF(0, 0);\n            var size = new SizeF(0, 0);\n            var isHeader = false;\n            if (row.rowSpanExists) {\n                var maxSpan = 0;\n                var currRowIndex = this.Grid.rows.rowCollection.indexOf(row);\n                if (currRowIndex === -1) {\n                    currRowIndex = this.Grid.headers.indexOf(row);\n                    if (currRowIndex !== -1) {\n                        isHeader = true;\n                    }\n                }\n                for (var i = 0; i < row.cells.count; i++) {\n                    var cell = row.cells.getCell(i);\n                    maxSpan = Math.max(maxSpan, cell.rowSpan);\n                }\n                for (var i = currRowIndex; i < currRowIndex + maxSpan; i++) {\n                    rowHeightWithSpan += (isHeader ? this.Grid.headers.getHeader(i).height : this.Grid.rows.getRow(i).height);\n                }\n                // let rowMaxHeight : number = rowHeightWithSpan;\n                // for (let i : number = 0; i < row.cells.count; i++ ) {\n                //     rowMaxHeight = rowMaxHeight > row.cells.getCell(i).height ? rowMaxHeight : row.cells.getCell(i).height;\n                // }\n                // let flag : boolean = true;\n                // let nextRow : PdfGridRow = this.Grid.headers.getHeader(this.Grid.headers.indexOf(row) + 1);\n                // for (let i : number = 0; i < nextRow.cells.count; i++ ) {\n                //     if (nextRow.cells.getCell(i).value !== '' && nextRow.cells.getCell(i).value !== undefined) {\n                //         flag = false;\n                //         break;\n                //     }\n                // }\n                // if ((rowMaxHeight > rowHeightWithSpan) && flag) {\n                //     row.height += (rowMaxHeight - rowHeightWithSpan);\n                // }                \n            }\n            var calculatedHeight = row.rowBreakHeight > 0.0 ? row.rowBreakHeight : row.height;\n            if (typeof this.Grid.isChildGrid !== 'undefined' && this.Grid.isChildGrid && typeof this.Grid.ParentCell !== 'undefined' && this.Grid.ParentCell != null) {\n                //Split row only if row height exceeds page height and AllowRowBreakAcrossPages is true.\n                // if (calculatedHeight + this.Grid.ParentCell.row.grid.style.cellPadding.bottom +\n                //             this.Grid.ParentCell.row.grid.style.cellPadding.top > this.currentPageBounds.height) {\n                //     if (this.Grid.allowRowBreakAcrossPages) {\n                //         result.isFinish = true;\n                //         if ( this.Grid.isChildGrid && row.rowBreakHeight > 0 ) {\n                //             if (this.Grid.ParentCell.row.grid.style.cellPadding !== null) {\n                //                 this.currentBounds.y += this.Grid.ParentCell.row.grid.style.cellPadding.top;\n                //             }\n                //             this.currentBounds.x = this.startLocation.x;\n                //         }\n                //         result.bounds = this.currentBounds ;\n                //         this.drawRowWithBreak(result, row, calculatedHeight);\n                //     } else {\n                //         //If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.                       \n                //         if (this.Grid.ParentCell.row.grid.style.cellPadding != null) {\n                //             this.currentBounds.y += this.Grid.ParentCell.row.grid.style.cellPadding.top;\n                //             calculatedHeight = this.currentBounds.height - this.currentBounds.y -\n                //                     this.Grid.ParentCell.row.grid.style.cellPadding.bottom;\n                //         }\n                //         result.isFinish = false;\n                //         this.drawRow( row, result, calculatedHeight);\n                //     }\n                // } else\n                if (this.currentBounds.y + this.Grid.ParentCell.row.grid.style.cellPadding.bottom + calculatedHeight >\n                    this.currentPageBounds.height || this.currentBounds.y + this.Grid.ParentCell.row.grid.style.cellPadding.bottom\n                    + calculatedHeight > this.currentBounds.height || this.currentBounds.y +\n                    this.Grid.ParentCell.row.grid.style.cellPadding.bottom + rowHeightWithSpan > this.currentPageBounds.height) {\n                    //If a row is repeated and still cannot fit in page, proceed draw.\n                    if (typeof this.Grid.ParentCell.row.grid.LayoutFormat !== 'undefined' && this.Grid.ParentCell.row.grid.LayoutFormat.break === PdfLayoutBreakType.FitPage) {\n                        PdfGridLayouter.repeatRowIndex = this.Grid.rows.rowCollection.indexOf(row);\n                        this.Grid.splitChildRowIndex = this.Grid.rows.rowCollection.indexOf(row);\n                    }\n                    if (PdfGridLayouter.repeatRowIndex > -1 && PdfGridLayouter.repeatRowIndex === row.rowIndex) {\n                        if (this.Grid.allowRowBreakAcrossPages) {\n                            result_1.isFinish = true;\n                            // if (this.Grid.isChildGrid && row.rowBreakHeightValue > 0) {\n                            //     // if (this.Grid.ParentCell.row.grid.style.cellPadding != null) {\n                            //     //     this.currentBounds.y += this.Grid.ParentCell.row.grid.style.cellPadding.top;\n                            //     // }\n                            //     this.currentBounds.x = this.startLocation.x;\n                            // }\n                            result_1.bounds = this.currentBounds;\n                            this.drawRowWithBreak(result_1, row, calculatedHeight);\n                            row.repeatFlag = true;\n                            row.repeatRowNumber = PdfGridLayouter.repeatRowIndex;\n                        }\n                        // else {\n                        //     result.isFinish = false;\n                        //     row.repeatFlag = false;\n                        //     this.drawRow( row, result, calculatedHeight);\n                        // }\n                    }\n                    // else {\n                    //     result.isFinish = false;\n                    // }\n                }\n                else {\n                    result_1.isFinish = true;\n                    if (row.grid.ParentCell.row.rowBreakHeightValue > 0) {\n                        row.repeatFlag = true;\n                    }\n                    else {\n                        row.repeatFlag = false;\n                        calculatedHeight = row.height;\n                    }\n                    if (this.Grid.isChildGrid && row.rowBreakHeight > 0) {\n                        if (this.Grid.ParentCell.row.grid.style.cellPadding != null) {\n                            calculatedHeight += this.Grid.ParentCell.row.grid.style.cellPadding.bottom;\n                        }\n                    }\n                    this.drawRow(row, result_1, calculatedHeight);\n                }\n            }\n            else {\n                //Split row only if row height exceeds page height and AllowRowBreakAcrossPages is true.\n                if (calculatedHeight > this.currentPageBounds.height) {\n                    if (this.Grid.allowRowBreakAcrossPages) {\n                        result_1.isFinish = true;\n                        //result.bounds = this.currentBounds;\n                        this.drawRowWithBreak(result_1, row, calculatedHeight);\n                        row.isrowFinish = true;\n                        row.repeatFlag = true;\n                        if (row.grid.splitChildRowIndex !== -1) {\n                            result_1.isFinish = false;\n                        }\n                    }\n                    // else {\n                    //     //If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    //     result.isFinish = false;\n                    //     this.drawRow( row, result, calculatedHeight);\n                    // }\n                }\n                else if (this.currentBounds.y + calculatedHeight > this.currentPageBounds.height ||\n                    this.currentBounds.y + calculatedHeight > (this.currentBounds.height + this.startLocation.y) ||\n                    this.currentBounds.y + rowHeightWithSpan > this.currentPageBounds.height) {\n                    // If a row is repeated and still cannot fit in page, proceed draw.\n                    var isFit = false;\n                    if ((this.Grid.allowRowBreakAcrossPages && !this.Grid.repeatHeader && !row.isRowHeightSet && !row.rowMergeComplete)) {\n                        if (this.Grid.LayoutFormat !== null && this.Grid.LayoutFormat.paginateBounds.height > 0) {\n                            isFit = this.isFitToCell((this.currentBounds.height + this.startLocation.y) - this.currentBounds.y, this.Grid, row);\n                        }\n                        else\n                            isFit = this.isFitToCell(this.currentPageBounds.height - this.currentBounds.y, this.Grid, row);\n                        if (isFit) {\n                            this.isPaginate = true;\n                        }\n                    }\n                    else if (this.Grid.allowRowBreakAcrossPages && this.Grid.LayoutFormat != null && this.Grid.LayoutFormat.layout == PdfLayoutType.Paginate && this.Grid.LayoutFormat.break != PdfLayoutBreakType.FitElement && row.isRowHeightSet && this.currentBounds.y + height > this.currentPageBounds.height) {\n                        isFit = this.isFitToCell(this.currentPageBounds.height - this.currentBounds.y, this.Grid, row);\n                        if (!isFit)\n                            isFit = !(this.slr !== null && this.slr.actualSize.height == 0 && this.slr.remainder != null && this.slr.remainder.length > 0 && this.remainderText == this.slr.remainder);\n                        if (isFit && this.slr != null && this.slr.lineCount > 1) {\n                            //It may text cutoff issue\n                            isFit = false;\n                        }\n                        this.remainderText = null;\n                    }\n                    if (PdfGridLayouter.repeatRowIndex > -1 && PdfGridLayouter.repeatRowIndex === row.rowIndex || isFit) {\n                        if (this.Grid.allowRowBreakAcrossPages) {\n                            result_1.isFinish = true;\n                            this.drawRowWithBreak(result_1, row, calculatedHeight);\n                            row.repeatFlag = true;\n                            row.repeatRowNumber = PdfGridLayouter.repeatRowIndex;\n                            if (row.grid.splitChildRowIndex !== -1) {\n                                result_1.isFinish = false;\n                            }\n                        }\n                        else {\n                            result_1.isFinish = false;\n                            this.drawRow(row, result_1, calculatedHeight);\n                        }\n                    }\n                    else {\n                        result_1.isFinish = false;\n                    }\n                }\n                else {\n                    result_1.isFinish = true;\n                    this.drawRow(row, result_1, calculatedHeight);\n                    row.repeatFlag = false;\n                }\n            }\n            return result_1;\n        }\n        else {\n            var skipcell = false;\n            var location_4 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            // if (row.grid.isChildGrid && row.grid.allowRowBreakAcrossPages && this.startLocation.x !== this.currentBounds.x && row.width <\n            //                 this.currentPage.getClientSize().width) {\n            //     location.x = this.startLocation.x;\n            // }\n            result.bounds = new RectangleF(location_4, new SizeF(0, 0));\n            height = this.ReCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cancelSpans = ((i > this.cellEndIndex + 1) && (row.cells.getCell(i).columnSpan > 1));\n                // let cancelSpans : boolean = false;\n                if (!cancelSpans) {\n                    for (var j = 1; j < row.cells.getCell(i).columnSpan; j++) {\n                        row.cells.getCell(i + j).isCellMergeContinue = true;\n                    }\n                }\n                var size = new SizeF(this.Grid.columns.getColumn(i).width, height);\n                // if (size.width > this.currentGraphics.clientSize.width) {\n                //     size.width = this.currentGraphics.clientSize.width;\n                // }\n                // if (this.Grid.isChildGrid && this.Grid.style.allowHorizontalOverflow) {\n                //     if (size.width >= this.currentGraphics.clientSize.width) {\n                //         size.width -= 2 * this.currentBounds.x;\n                //     }\n                // }\n                /* tslint:disable */\n                if (!this.CheckIfDefaultFormat(this.Grid.columns.getColumn(i).format) &&\n                    this.CheckIfDefaultFormat(row.cells.getCell(i).stringFormat)) {\n                    row.cells.getCell(i).stringFormat = this.Grid.columns.getColumn(i).format;\n                }\n                var cellstyle = row.cells.getCell(i).style;\n                var tempValue = ((typeof row.cells.getCell(i).value === 'string' &&\n                    row.cells.getCell(i).value !== null) ? row.cells.getCell(i).value : '');\n                row.cells.getCell(i).style = this.RaiseBeforeCellDraw(this.currentGraphics, this.currentRowIndex, i, new RectangleF(location_4, size), tempValue, cellstyle);\n                //row.cells.getCell(i).style = cellstyle;\n                if (!skipcell) {\n                    if (row.cells.getCell(i).value instanceof PdfGrid) {\n                        var grid = row.cells.getCell(i).value;\n                        grid.parentCellIndex = i;\n                    }\n                    var stringResult = row.cells.getCell(i).draw(this.currentGraphics, new RectangleF(location_4, size), cancelSpans);\n                    if (row.grid.style.allowHorizontalOverflow && (row.cells.getCell(i).columnSpan > this.cellEndIndex ||\n                        i + row.cells.getCell(i).columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                        row.rowOverflowIndex = this.cellEndIndex;\n                    }\n                    if (row.grid.style.allowHorizontalOverflow && (row.rowOverflowIndex > 0 && (row.cells.getCell(i).columnSpan >\n                        this.cellEndIndex || i + row.cells.getCell(i).columnSpan > this.cellEndIndex + 1)) &&\n                        row.cells.getCell(i).columnSpan - this.cellEndIndex + i - 1 > 0) {\n                        row.cells.getCell(row.rowOverflowIndex + 1).value = stringResult !== null ? (stringResult.remainder !== undefined) ?\n                            stringResult.remainder : '' : '';\n                        row.cells.getCell(row.rowOverflowIndex + 1).stringFormat = row.cells.getCell(i).stringFormat;\n                        row.cells.getCell(row.rowOverflowIndex + 1).style = row.cells.getCell(i).style;\n                        row.cells.getCell(row.rowOverflowIndex + 1).columnSpan = row.cells.getCell(i).columnSpan - this.cellEndIndex + i - 1;\n                    }\n                }\n                /* tslint:enable */\n                tempValue = ((typeof row.cells.getCell(i).value === 'string' &&\n                    row.cells.getCell(i).value !== null) ? row.cells.getCell(i).value : '');\n                if (!cancelSpans) {\n                    this.raiseAfterCellDraw(this.currentGraphics, this.currentRowIndex, i, new RectangleF(location_4, size), tempValue, row.cells.getCell(i).style);\n                }\n                if (row.cells.getCell(i).value instanceof PdfGrid) {\n                    var grid = row.cells.getCell(i).value;\n                    if (this.Grid.columns.getColumn(i).width >= this.currentGraphics.clientSize.width) {\n                        location_4.x = grid.rowLayoutBoundsWidth;\n                        location_4.x += grid.style.cellSpacing;\n                    }\n                    else {\n                        location_4.x += this.Grid.columns.getColumn(i).width;\n                    }\n                }\n                else {\n                    location_4.x += this.Grid.columns.getColumn(i).width;\n                }\n            }\n            if (!row.rowMergeComplete || row.isRowHeightSet) {\n                this.currentBounds.y += height;\n            }\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location_4.x, location_4.y));\n        }\n    };\n    PdfGridLayouter.prototype.isFitToCell = function (currentHeight, grid, gridRow) {\n        var isFit = false;\n        var layouter = new PdfStringLayouter();\n        for (var i = 0; i < gridRow.cells.count; i++) {\n            var cell = gridRow.cells.getCell(i);\n            if (typeof cell.value !== 'undefined' && cell.value !== null && typeof cell.value === 'string') {\n                var font = null;\n                if (typeof cell.style.font !== 'undefined' && cell.style.font != null) {\n                    font = cell.style.font;\n                }\n                else if (typeof cell.row.style.font !== 'undefined' && cell.row.style.font != null) {\n                    font = cell.row.style.font;\n                }\n                else if (typeof cell.row.grid.style.font !== 'undefined' && cell.row.grid.style.font != null) {\n                    font = cell.row.grid.style.font;\n                }\n                else {\n                    font = PdfDocument.defaultFont;\n                }\n                this.remainderText = gridRow.cells.getCell(i).value;\n                var width = gridRow.cells.getCell(i).width;\n                if (grid.columns.getColumn(i).isCustomWidth && gridRow.cells.getCell(i).width > grid.columns.getColumn(i).width) {\n                    width = grid.columns.getColumn(i).width;\n                }\n                this.slr = layouter.layout(gridRow.cells.getCell(i).value, font, gridRow.cells.getCell(i).stringFormat, new SizeF(width, currentHeight), false, this.currentPageBounds);\n                var height = this.slr.actualSize.height;\n                if (height == 0) {\n                    isFit = false;\n                    break;\n                }\n                if (gridRow.cells.getCell(i).style != null && gridRow.cells.getCell(i).style.borders != null && gridRow.cells.getCell(i).style.borders.top != null && gridRow.cells.getCell(i).style.borders.bottom != null)\n                    height += (gridRow.cells.getCell(i).style.borders.top.width + gridRow.cells.getCell(i).style.borders.bottom.width) * 2;\n                if (this.slr.lineCount > 1 && gridRow.cells.getCell(i).stringFormat != null && gridRow.cells.getCell(i).stringFormat.lineSpacing != 0)\n                    height += (this.slr.lineCount - 1) * (gridRow.cells.getCell(i).style.stringFormat.lineSpacing);\n                if (gridRow.cells.getCell(i).style.cellPadding == null) {\n                    height += (grid.style.cellPadding.top + grid.style.cellPadding.bottom);\n                }\n                else {\n                    height += (grid.style.cellPadding.top + grid.style.cellPadding.bottom);\n                }\n                height += grid.style.cellSpacing;\n                if (currentHeight > height || (typeof this.slr.remainder !== 'undefined' && this.slr.remainder !== null)) {\n                    isFit = true;\n                    break;\n                }\n            }\n        }\n        return isFit;\n    };\n    PdfGridLayouter.prototype.drawRowWithBreak = function (result, row, calculateHeight) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        if (row.grid.isChildGrid && row.grid.allowRowBreakAcrossPages && this.startLocation.x !== this.currentBounds.x) {\n            location.x = this.startLocation.x;\n        }\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        this.gridHeight = row.rowBreakHeight > 0 ? this.currentPageBounds.height : 0;\n        // Calculate the remaining height.\n        if (row.grid.style.cellPadding.top + this.currentBounds.y + row.grid.style.cellPadding.bottom < this.currentPageBounds.height) {\n            row.rowBreakHeight = this.currentBounds.y + calculateHeight - this.currentPageBounds.height;\n        }\n        // else {\n        //     row.rowBreakHeight = calculateHeight;\n        //     result.isFinish = false;\n        //     return;\n        // }\n        // No need to explicit break if the row height is equal to grid height.\n        for (var i = 0; i < row.cells.count; i++) {\n            var cell = row.cells.getCell(i);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === calculateHeight && cell.value instanceof PdfGrid) {\n                row.rowBreakHeight = 0;\n            }\n            // else if (cellHeight === calculateHeight && (cell.value as PdfGrid) === null) {\n            //     row.rowBreakHeight = this.currentBounds.y + calculateHeight - this.currentPageBounds.height;\n            // }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var cancelSpans = ((row.cells.getCell(i).columnSpan + i > this.cellEndIndex + 1) &&\n                (row.cells.getCell(i).columnSpan > 1));\n            // if (!cancelSpans) {\n            //     for (let k : number = 1; k < row.cells.getCell(i).columnSpan; k++) {\n            //         row.cells.getCell(i + k).isCellMergeContinue = true;\n            //     }\n            //}\n            var size = new SizeF(this.Grid.columns.getColumn(i).width, this.gridHeight > 0.0 ? this.gridHeight :\n                this.currentPageBounds.height);\n            // if (size.width === 0) {\n            //     size = new SizeF(row.cells.getCell(i).width, size.height);\n            // }\n            // if (!this.CheckIfDefaultFormat(this.Grid.columns.getColumn(i).format) &&\n            //         this.CheckIfDefaultFormat((row.cells.getCell(i).stringFormat))) {\n            //     row.cells.getCell(i).stringFormat = this.Grid.columns.getColumn(i).format;\n            // }\n            var cellstyle1 = row.cells.getCell(i).style;\n            row.cells.getCell(i).style = cellstyle1;\n            var skipcell = false;\n            var stringResult = null;\n            if (!skipcell) {\n                stringResult = row.cells.getCell(i).draw(this.currentGraphics, new RectangleF(location, size), cancelSpans);\n            }\n            //If still row is to be drawn, set cell finished drawing cell as false and update the text to be drawn.\n            if (row.rowBreakHeight > 0.0) {\n                if (stringResult != null && typeof stringResult.remainder !== 'undefined') {\n                    row.cells.getCell(i).FinishedDrawingCell = false;\n                    row.cells.getCell(i).remainingString = stringResult.remainder == null ? ' ' : stringResult.remainder;\n                    row.rowBreakHeight = calculateHeight - stringResult.actualSize.height;\n                }\n            }\n            result.isFinish = (!result.isFinish) ? result.isFinish : row.cells.getCell(i).FinishedDrawingCell;\n            // let tempValue : string = ((typeof row.cells.getCell(i).value === 'string' &&\n            //row.cells.getCell(i).value !== null) ? row.cells.getCell(i).value : '') as string;\n            // if (!cancelSpans) {\n            //     // this.raiseAfterCellDraw(this.currentGraphics, this.currentRowIndex, i,\n            //     //           new RectangleF(location, size), tempValue, row.cells.getCell(i).style);            \n            //     this.raiseAfterCellDraw(this.currentGraphics, this.currentRowIndex, i, new RectangleF(location, size),\n            //                             (row.cells.getCell(i).value as string) ? row.cells.getCell(i).value.toString() : ' ',\n            //                             row.cells.getCell(i).style);\n            //     }                \n            if (row.cells.getCell(i).value instanceof PdfGrid) {\n                var grid = row.cells.getCell(i).value;\n                this.rowBreakPageHeightCellIndex = i;\n                // row.cells.getCell(i).pageCount = grid.listOfNavigatePages.length;\n                // for (let j : number = 0;j<grid.listOfNavigatePages.length;j++){\n                //     let pageIndex : number =grid.listOfNavigatePages.indexOf(j);\n                //             this.Grid.listOfNavigatePages.push(pageIndex);\n                //     }\n                if (this.Grid.columns.getColumn(i).width >= this.currentGraphics.clientSize.width) {\n                    location.x = this.rowLayoutBoundsWidth;\n                    location.x += grid.style.cellSpacing;\n                }\n                else {\n                    location.x += this.Grid.columns.getColumn(i).width;\n                }\n            }\n            else {\n                location.x += this.Grid.columns.getColumn(i).width;\n            }\n        }\n        this.currentBounds.y += this.gridHeight > 0.0 ? this.gridHeight : calculateHeight;\n        result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n    };\n    /**\n     * @hidden\n     * @private\n     */\n    PdfGridLayouter.repeatRowIndex = -1;\n    return PdfGridLayouter;\n}(ElementLayouter));\nexport { PdfGridLayouter };\n// recalculateBounds : boolean, clientSize : SizeF\n//Implementation\n/**\n * `Initializes` internal data.\n * @private\n */\n//Internal declaration\nvar PdfGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfGridLayoutResult, _super);\n    /**\n     * Constructor\n     * @private\n     */\n    function PdfGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     * @private\n     */\n    function PdfGridLayoutFormat(baseFormat) {\n        return _super.call(this, baseFormat) || this;\n    }\n    return PdfGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfGridLayoutFormat };\nvar GridCellEventArgs = /** @class */ (function () {\n    // Constructors\n    /**\n     * Initialize a new instance for `GridCellEventArgs` class.\n     * @private\n     */\n    function GridCellEventArgs(graphics, rowIndex, cellIndex, bounds, value) {\n        this.gridRowIndex = rowIndex;\n        this.gridCellIndex = cellIndex;\n        this.internalValue = value;\n        this.gridBounds = bounds;\n        this.pdfGraphics = graphics;\n    }\n    Object.defineProperty(GridCellEventArgs.prototype, \"rowIndex\", {\n        // Properties\n        /**\n         * Gets the value of current `row index`.\n         * @private\n         */\n        get: function () {\n            return this.gridRowIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GridCellEventArgs.prototype, \"cellIndex\", {\n        /**\n         * Gets the value of current `cell index`.\n         * @private\n         */\n        get: function () {\n            return this.gridCellIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GridCellEventArgs.prototype, \"value\", {\n        /**\n         * Gets the actual `value` of current cell.\n         * @private\n         */\n        get: function () {\n            return this.internalValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GridCellEventArgs.prototype, \"bounds\", {\n        /**\n         * Gets the `bounds` of current cell.\n         * @private\n         */\n        get: function () {\n            return this.gridBounds;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GridCellEventArgs.prototype, \"graphics\", {\n        /**\n         * Gets the instance of `current graphics`.\n         * @private\n         */\n        get: function () {\n            return this.pdfGraphics;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return GridCellEventArgs;\n}());\nexport { GridCellEventArgs };\nvar PdfGridBeginCellDrawEventArgs = /** @class */ (function (_super) {\n    __extends(PdfGridBeginCellDrawEventArgs, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `StartCellLayoutEventArgs` class.\n     * @private\n     */\n    function PdfGridBeginCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, style) {\n        var _this = _super.call(this, graphics, rowIndex, cellIndex, bounds, value) || this;\n        _this.style = style;\n        return _this;\n    }\n    Object.defineProperty(PdfGridBeginCellDrawEventArgs.prototype, \"skip\", {\n        // Properties\n        /**\n         * Gets or sets a value indicating whether the value of this cell should be `skipped`.\n         * @private\n         */\n        get: function () {\n            return this.bSkip;\n        },\n        set: function (value) {\n            this.bSkip = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridBeginCellDrawEventArgs.prototype, \"style\", {\n        /**\n         * Gets or sets a `style` value of the cell.\n         * @private\n         */\n        get: function () {\n            return this.cellStyle;\n        },\n        set: function (value) {\n            this.cellStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridBeginCellDrawEventArgs;\n}(GridCellEventArgs));\nexport { PdfGridBeginCellDrawEventArgs };\nvar PdfGridEndCellDrawEventArgs = /** @class */ (function (_super) {\n    __extends(PdfGridEndCellDrawEventArgs, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `PdfGridEndCellLayoutEventArgs` class.\n     * @private\n     */\n    function PdfGridEndCellDrawEventArgs(graphics, rowIndex, cellIndex, bounds, value, style) {\n        var _this = _super.call(this, graphics, rowIndex, cellIndex, bounds, value) || this;\n        _this.cellStyle = style;\n        return _this;\n    }\n    Object.defineProperty(PdfGridEndCellDrawEventArgs.prototype, \"style\", {\n        // Propertise\n        /**\n         * Get the `PdfGridCellStyle`.\n         * @private\n         */\n        get: function () {\n            return this.cellStyle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridEndCellDrawEventArgs;\n}(GridCellEventArgs));\nexport { PdfGridEndCellDrawEventArgs };\nvar PdfCancelEventArgs = /** @class */ (function () {\n    function PdfCancelEventArgs() {\n    }\n    Object.defineProperty(PdfCancelEventArgs.prototype, \"cancel\", {\n        // Properties\n        /**\n         * Gets and Sets the value of `cancel`.\n         * @private\n         */\n        get: function () {\n            return this.isCancel;\n        },\n        set: function (value) {\n            this.isCancel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfCancelEventArgs;\n}());\nexport { PdfCancelEventArgs };\nvar BeginPageLayoutEventArgs = /** @class */ (function (_super) {\n    __extends(BeginPageLayoutEventArgs, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `BeginPageLayoutEventArgs` class with the specified rectangle and page.\n     * @private\n     */\n    function BeginPageLayoutEventArgs(bounds, page) {\n        var _this = _super.call(this) || this;\n        _this.bounds = bounds;\n        _this.pdfPage = page;\n        return _this;\n    }\n    Object.defineProperty(BeginPageLayoutEventArgs.prototype, \"bounds\", {\n        // Properties\n        /**\n         * Gets or sets value that indicates the lay outing `bounds` on the page.\n         * @private\n         */\n        get: function () {\n            return this.cellBounds;\n        },\n        set: function (value) {\n            this.cellBounds = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(BeginPageLayoutEventArgs.prototype, \"page\", {\n        /**\n         * Gets the `page` where the lay outing should start.\n         * @private\n         */\n        get: function () {\n            return this.pdfPage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return BeginPageLayoutEventArgs;\n}(PdfCancelEventArgs));\nexport { BeginPageLayoutEventArgs };\n/**\n * `EndPageLayoutEventArgs` class is alternate for end page layout events.\n */\nvar EndPageLayoutEventArgs = /** @class */ (function (_super) {\n    __extends(EndPageLayoutEventArgs, _super);\n    // Constructors\n    /**\n     * Initializes a new instance of the `EndPageLayoutEventArgs` class. with the specified 'PdfLayoutResult'.\n     * @private\n     */\n    function EndPageLayoutEventArgs(result) {\n        var _this = _super.call(this) || this;\n        _this.layoutResult = result;\n        return _this;\n    }\n    Object.defineProperty(EndPageLayoutEventArgs.prototype, \"result\", {\n        // Properties\n        /**\n         * Gets the lay outing `result` of the page.\n         * @private\n         */\n        get: function () {\n            return this.layoutResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EndPageLayoutEventArgs.prototype, \"nextPage\", {\n        /**\n         * Gets or sets a value indicating the `next page` where the element should be layout.\n         * @private\n         */\n        get: function () {\n            return this.nextPdfPage;\n        },\n        set: function (value) {\n            this.nextPdfPage = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EndPageLayoutEventArgs;\n}(PdfCancelEventArgs));\nexport { EndPageLayoutEventArgs };\n/**\n * `PdfGridBeginPageLayoutEventArgs` class is alternate for begin page layout events.\n */\nvar PdfGridBeginPageLayoutEventArgs = /** @class */ (function (_super) {\n    __extends(PdfGridBeginPageLayoutEventArgs, _super);\n    // Constructors\n    /**\n     * Initialize a new instance of `PdfGridBeginPageLayoutEventArgs` class.\n     * @private\n     */\n    function PdfGridBeginPageLayoutEventArgs(bounds, page, startRow) {\n        var _this = _super.call(this, bounds, page) || this;\n        _this.startRow = startRow;\n        return _this;\n    }\n    Object.defineProperty(PdfGridBeginPageLayoutEventArgs.prototype, \"startRowIndex\", {\n        // Properties\n        /**\n         * Gets the `start row index`.\n         * @private\n         */\n        get: function () {\n            return this.startRow;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridBeginPageLayoutEventArgs;\n}(BeginPageLayoutEventArgs));\nexport { PdfGridBeginPageLayoutEventArgs };\n/**\n * `PdfGridEndPageLayoutEventArgs` class is alternate for begin page layout events.\n */\nvar PdfGridEndPageLayoutEventArgs = /** @class */ (function (_super) {\n    __extends(PdfGridEndPageLayoutEventArgs, _super);\n    // Constructors\n    /**\n     * Initialize a new instance of `PdfGridEndPageLayoutEventArgs` class.\n     * @private\n     */\n    function PdfGridEndPageLayoutEventArgs(result) {\n        return _super.call(this, result) || this;\n    }\n    return PdfGridEndPageLayoutEventArgs;\n}(EndPageLayoutEventArgs));\nexport { PdfGridEndPageLayoutEventArgs };\nvar RowLayoutResult = /** @class */ (function () {\n    //Constructors\n    /**\n     * Initializes a new instance of the `RowLayoutResult` class.\n     * @private\n     */\n    function RowLayoutResult() {\n        this.layoutedBounds = new RectangleF(0, 0, 0, 0);\n    }\n    Object.defineProperty(RowLayoutResult.prototype, \"isFinish\", {\n        /**\n         * Gets or sets a value indicating whether this instance `is finish`.\n         * @private\n         */\n        get: function () {\n            return this.bIsFinished;\n        },\n        set: function (value) {\n            this.bIsFinished = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RowLayoutResult.prototype, \"bounds\", {\n        /**\n         * Gets or sets the `bounds`.\n         * @private\n         */\n        get: function () {\n            return this.layoutedBounds;\n        },\n        set: function (value) {\n            this.layoutedBounds = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RowLayoutResult;\n}());\nexport { RowLayoutResult };\n","import { PdfGrid } from './pdf-grid';\nimport { PdfGridCellStyle } from './styles/style';\nimport { PdfStringLayouter } from './../../graphics/fonts/string-layouter';\nimport { PdfDocument } from './../../document/pdf-document';\nimport { PdfStringFormat } from './../../graphics/fonts/pdf-string-format';\nimport { RectangleF, PointF, SizeF } from './../../drawing/pdf-drawing';\nimport { PdfDashStyle, PdfLineCap } from './../../graphics/enum';\nimport { PdfBorderOverlapStyle } from './../tables/light-tables/enum';\nimport { PdfSolidBrush } from './../../graphics/brushes/pdf-solid-brush';\nimport { PdfColor } from './../../graphics/pdf-color';\nimport { PdfImage } from './../../graphics/images/pdf-image';\nimport { PdfBitmap } from './../../graphics/images/pdf-bitmap';\nimport { PdfTextWebLink } from './../../annotations/pdf-text-web-link';\nimport { PdfLayoutType } from './../../graphics/figures/enum';\nimport { PdfGridLayouter, PdfGridLayoutFormat } from './../../structured-elements/grid/layout/grid-layouter';\nimport { PdfLayoutParams } from '../../../implementation/graphics/figures/base/element-layouter';\n/**\n * `PdfGridCell` class represents the schema of a cell in a 'PdfGrid'.\n */\nvar PdfGridCell = /** @class */ (function () {\n    function PdfGridCell(row) {\n        /**\n         * `Width` of the cell.\n         * @default 0\n         * @private\n         */\n        this.cellWidth = 0;\n        /**\n         * `Height` of the cell.\n         * @default 0\n         * @private\n         */\n        this.cellHeight = 0;\n        /**\n         * `tempval`to stores current width .\n         * @default 0\n         * @private\n         */\n        this.tempval = 0;\n        this.fontSpilt = false;\n        /**\n         * Specifies weather the `cell is drawn`.\n         * @default true\n         * @private\n         */\n        this.finsh = true;\n        /**\n         * The `remaining height` of row span.\n         * @default 0\n         * @private\n         */\n        this.rowSpanRemainingHeight = 0;\n        this.hasRowSpan = false;\n        this.hasColSpan = false;\n        /**\n         * the 'isFinish' is set to page finish\n         */\n        this.isFinish = true;\n        /**\n         * The `present' to store the current cell.\n         * @default false\n         * @private\n         */\n        this.present = false;\n        this.gridRowSpan = 1;\n        this.colSpan = 1;\n        if (typeof row !== 'undefined') {\n            this.gridRow = row;\n        }\n    }\n    Object.defineProperty(PdfGridCell.prototype, \"isCellMergeContinue\", {\n        //Properties\n        get: function () {\n            return this.internalIsCellMergeContinue;\n        },\n        set: function (value) {\n            this.internalIsCellMergeContinue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"isRowMergeContinue\", {\n        get: function () {\n            return this.internalIsRowMergeContinue;\n        },\n        set: function (value) {\n            this.internalIsRowMergeContinue = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"isCellMergeStart\", {\n        get: function () {\n            return this.internalIsCellMergeStart;\n        },\n        set: function (value) {\n            this.internalIsCellMergeStart = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"isRowMergeStart\", {\n        get: function () {\n            return this.internalIsRowMergeStart;\n        },\n        set: function (value) {\n            this.internalIsRowMergeStart = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"remainingString\", {\n        /**\n         * Gets or sets the `remaining string` after the row split between pages.\n         * @private\n         */\n        get: function () {\n            return this.remaining;\n        },\n        set: function (value) {\n            this.remaining = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"FinishedDrawingCell\", {\n        /**\n         * Gets or sets the `FinishedDrawingCell` .\n         * @private\n         */\n        get: function () {\n            return this.isFinish;\n        },\n        set: function (value) {\n            this.isFinish = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"stringFormat\", {\n        /**\n         * Gets or sets the `string format`.\n         * @private\n         */\n        get: function () {\n            if (this.format == null) {\n                this.format = new PdfStringFormat();\n            }\n            return this.format;\n        },\n        set: function (value) {\n            this.format = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"row\", {\n        /**\n         * Gets or sets the parent `row`.\n         * @private\n         */\n        get: function () {\n            return this.gridRow;\n        },\n        set: function (value) {\n            this.gridRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"value\", {\n        /**\n         * Gets or sets the `value` of the cell.\n         * @private\n         */\n        get: function () {\n            return this.objectValue;\n        },\n        set: function (value) {\n            this.objectValue = value;\n            if (this.objectValue instanceof PdfGrid) {\n                this.row.grid.isSingleGrid = false;\n                var grid = this.objectValue;\n                grid.ParentCell = this;\n                this.objectValue.isChildGrid = true;\n                var rowCount = this.row.grid.rows.count;\n                for (var i = 0; i < rowCount; i++) {\n                    var row = this.row.grid.rows.getRow(i);\n                    var colCount = row.cells.count;\n                    for (var j = 0; j < colCount; j++) {\n                        var cell = row.cells.getCell(j);\n                        cell.parent = this;\n                    }\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"rowSpan\", {\n        /**\n         * Gets or sets a value that indicates the total number of rows that cell `spans` within a PdfGrid.\n         * @private\n         */\n        get: function () {\n            return this.gridRowSpan;\n        },\n        set: function (value) {\n            if (value < 1) {\n                throw new Error('ArgumentException : Invalid span specified, must be greater than or equal to 1');\n            }\n            else {\n                this.gridRowSpan = value;\n                this.row.rowSpanExists = true;\n                this.row.grid.hasRowSpanSpan = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"style\", {\n        /**\n         * Gets or sets the cell `style`.\n         * @private\n         */\n        get: function () {\n            if (this.cellStyle == null) {\n                this.cellStyle = new PdfGridCellStyle();\n            }\n            return this.cellStyle;\n        },\n        set: function (value) {\n            this.cellStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfGrid cell.[Read-Only].\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"columnSpan\", {\n        /**\n         * Gets or sets a value that indicates the total number of columns that cell `spans` within a PdfGrid.\n         * @private\n         */\n        get: function () {\n            return this.colSpan;\n        },\n        set: function (value) {\n            if (value < 1) {\n                throw Error('Invalid span specified, must be greater than or equal to 1');\n            }\n            else {\n                this.colSpan = value;\n                this.row.columnSpanExists = true;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfGrid cell.[Read-Only].\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0 || this.row.grid.isComplete) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Calculates the width`.\n     * @private\n     */\n    PdfGridCell.prototype.measureWidth = function () {\n        // .. Calculate the cell text width.\n        // .....Add border widths, cell spacings and paddings to the width.\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.objectValue === 'string') {\n            /* tslint:disable */\n            var slr = layouter.layout(this.objectValue, this.getTextFont(), this.stringFormat, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        else if (this.objectValue instanceof PdfGrid) {\n            width = this.objectValue.size.width;\n            //width += this.objectValue.style.cellSpacing;\n        }\n        else if (this.objectValue instanceof PdfImage || this.objectValue instanceof PdfBitmap) {\n            width += this.objectValue.width;\n        }\n        else if (this.objectValue instanceof PdfTextWebLink) {\n            var webLink = this.objectValue;\n            var result = layouter.layout(webLink.text, webLink.font, webLink.stringFormat, new SizeF(0, 0), false, new SizeF(0, 0));\n            /* tslint:enable */\n            width += result.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (!(this.objectValue instanceof PdfGrid)) {\n            if (this.style.cellPadding != null) {\n                width += (this.style.cellPadding.left + this.style.cellPadding.right);\n            }\n            else {\n                width += (this.row.grid.style.cellPadding.left + this.row.grid.style.cellPadding.right);\n            }\n        }\n        else {\n            if (this.style.cellPadding != null || typeof this.style.cellPadding !== 'undefined') {\n                if (typeof this.style.cellPadding.left !== 'undefined' && this.style.cellPadding.hasLeftPad) {\n                    width += this.style.cellPadding.left;\n                }\n                if (typeof this.style.cellPadding.right !== 'undefined' && this.style.cellPadding.hasRightPad) {\n                    width += this.style.cellPadding.right;\n                }\n            }\n            else {\n                if (typeof this.row.grid.style.cellPadding.left !== 'undefined' && this.row.grid.style.cellPadding.hasLeftPad) {\n                    width += this.row.grid.style.cellPadding.left;\n                }\n                if (typeof this.row.grid.style.cellPadding.right !== 'undefined' && this.row.grid.style.cellPadding.hasRightPad) {\n                    width += this.row.grid.style.cellPadding.right;\n                }\n            }\n        }\n        width += this.row.grid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * Draw the `cell background`.\n     * @private\n     */\n    PdfGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = this.getBackgroundBrush();\n        //graphics.isTemplateGraphics = true;\n        if (backgroundBrush != null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        if (this.style.backgroundImage != null) {\n            var image = this.getBackgroundImage();\n            graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     * @private\n     */\n    /* tslint:disable */\n    PdfGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(bounds.x, bounds.y, bounds.width, bounds.height);\n        if (!(this.objectValue instanceof PdfGrid)) {\n            if (typeof this.style.cellPadding === 'undefined' || this.style.cellPadding == null) {\n                returnBounds.x += this.gridRow.grid.style.cellPadding.left + this.cellStyle.borders.left.width;\n                returnBounds.y += this.gridRow.grid.style.cellPadding.top + this.cellStyle.borders.top.width;\n                returnBounds.width -= (this.gridRow.grid.style.cellPadding.right + this.gridRow.grid.style.cellPadding.left);\n                returnBounds.height -= (this.gridRow.grid.style.cellPadding.bottom + this.gridRow.grid.style.cellPadding.top);\n                returnBounds.height -= (this.cellStyle.borders.top.width + this.cellStyle.borders.bottom.width);\n            }\n            else {\n                returnBounds.x += this.style.cellPadding.left + this.cellStyle.borders.left.width;\n                returnBounds.y += this.style.cellPadding.top + this.cellStyle.borders.top.width;\n                returnBounds.width -= (this.style.cellPadding.right + this.style.cellPadding.left);\n                returnBounds.width -= (this.cellStyle.borders.left.width + this.cellStyle.borders.right.width);\n                returnBounds.height -= (this.style.cellPadding.bottom + this.style.cellPadding.top);\n                returnBounds.height -= (this.cellStyle.borders.top.width + this.cellStyle.borders.bottom.width);\n                if (this.rowSpan === 1) {\n                    returnBounds.width -= (this.style.borders.left.width);\n                }\n            }\n        }\n        else {\n            if (this.style.cellPadding == null || typeof this.style.cellPadding === 'undefined') {\n                if (typeof this.gridRow.grid.style.cellPadding.left !== 'undefined' && this.gridRow.grid.style.cellPadding.hasLeftPad) {\n                    returnBounds.x += this.gridRow.grid.style.cellPadding.left + this.cellStyle.borders.left.width;\n                    returnBounds.width -= this.gridRow.grid.style.cellPadding.left;\n                }\n                if (typeof this.gridRow.grid.style.cellPadding.top !== 'undefined' && this.gridRow.grid.style.cellPadding.hasTopPad) {\n                    returnBounds.y += this.gridRow.grid.style.cellPadding.top + this.cellStyle.borders.top.width;\n                    returnBounds.height -= this.gridRow.grid.style.cellPadding.top;\n                }\n                if (typeof this.gridRow.grid.style.cellPadding.right !== 'undefined' && this.gridRow.grid.style.cellPadding.hasRightPad) {\n                    returnBounds.width -= this.gridRow.grid.style.cellPadding.right;\n                }\n                if (typeof this.gridRow.grid.style.cellPadding.bottom !== 'undefined' && this.gridRow.grid.style.cellPadding.hasBottomPad) {\n                    returnBounds.height -= this.gridRow.grid.style.cellPadding.bottom;\n                }\n            }\n            else {\n                if (typeof this.style.cellPadding.left !== 'undefined' && this.style.cellPadding.hasLeftPad) {\n                    returnBounds.x += this.style.cellPadding.left + this.cellStyle.borders.left.width;\n                    returnBounds.width -= this.style.cellPadding.left;\n                }\n                if (typeof this.style.cellPadding.top !== 'undefined' && this.style.cellPadding.hasTopPad) {\n                    returnBounds.y += this.style.cellPadding.top + this.cellStyle.borders.top.width;\n                    returnBounds.height -= this.style.cellPadding.top;\n                }\n                if (typeof this.style.cellPadding.right !== 'undefined' && this.style.cellPadding.hasRightPad) {\n                    returnBounds.width -= this.style.cellPadding.right;\n                }\n                if (typeof this.style.cellPadding.bottom !== 'undefined' && this.style.cellPadding.hasBottomPad) {\n                    returnBounds.height -= this.style.cellPadding.bottom;\n                }\n            }\n            returnBounds.width -= (this.cellStyle.borders.left.width + this.cellStyle.borders.right.width);\n            returnBounds.height -= (this.cellStyle.borders.top.width + this.cellStyle.borders.bottom.width);\n        }\n        return returnBounds;\n    };\n    /**\n     * `Draws` the specified graphics.\n     * @private\n     */\n    PdfGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans) {\n        var isrowbreak = false;\n        /*if (!this.row.grid.isSingleGrid)\n        {\n            //Check whether the Grid Span to Nextpage\n            if ((this.remainingString != null) || (PdfGridLayouter.repeatRowIndex != -1))\n            {\n                this.DrawParentCells(graphics, bounds, true);\n            }\n            else if (this.row.grid.rows.count > 1)\n            {\n                for (let i : number  = 0; i < this.row.grid.rows.count; i++)\n                {\n                    if (this.row == this.row.grid.rows.getRow(i))\n                    {\n                        if (this.row.grid.rows.getRow(i).rowBreakHeight > 0)\n                            isrowbreak = true;\n                        if ((i > 0) && (isrowbreak))\n                            this.DrawParentCells(graphics, bounds, false);\n                    }\n                }\n            }\n        } */\n        var result = null;\n        /*if (cancelSubsequentSpans)\n        {\n            //..Cancel all subsequent cell spans, if no space exists.\n            let currentCellIndex : number = this.row.cells.indexOf(this);\n            for (let i : number = currentCellIndex + 1; i <= currentCellIndex + this.colSpan; i++)\n            {\n                this.row.cells.getCell(i).isCellMergeContinue = false;\n                this.row.cells.getCell(i).isRowMergeContinue = false;\n            }\n            this.colSpan = 1;\n        }*/\n        //..Skip cells which were already covered by spanmap.\n        if (this.internalIsCellMergeContinue || this.internalIsRowMergeContinue) {\n            if (this.internalIsCellMergeContinue && this.row.grid.style.allowHorizontalOverflow) {\n                if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) != this.row.rowOverflowIndex + 1)) || (this.row.rowOverflowIndex == 0 && this.internalIsCellMergeContinue)) {\n                    return result;\n                }\n            }\n            else {\n                return result;\n            }\n        }\n        //Adjust bounds with Row and Column Spacing\n        bounds = this.adjustOuterLayoutArea(bounds, graphics);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = this.getTextPen();\n        var textBrush = this.getTextBrush();\n        if (typeof textPen === 'undefined' && typeof textBrush === 'undefined') {\n            textBrush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var font = this.getTextFont();\n        var strFormat = this.getStringFormat();\n        var innerLayoutArea = bounds;\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // If to break row to next page.\n            if (this.row.grid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                //bounds.height -= bounds.y;\n                // if(this.row.grid.isChildGrid)\n                // {\n                //     innerLayoutArea.height -= this.row.grid.ParentCell.row.grid.style.cellPadding.bottom;\n                // }\n            }\n            // if user choose to cut the row whose height is more than page height.\n            // else\n            // {\n            //     innerLayoutArea.height = graphics.clientSize.height;\n            //     bounds.height = graphics.clientSize.height;\n            // }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (typeof this.objectValue === 'string' || typeof this.remaining === 'string') {\n            var temp = void 0;\n            var layoutRectangle = void 0;\n            if (innerLayoutArea.height < font.height)\n                layoutRectangle = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, innerLayoutArea.width, font.height);\n            else\n                layoutRectangle = innerLayoutArea;\n            if (innerLayoutArea.height < font.height && this.row.grid.isChildGrid && this.row.grid.ParentCell != null) {\n                var height = layoutRectangle.height - this.row.grid.ParentCell.row.grid.style.cellPadding.bottom - this.row.grid.style.cellPadding.bottom;\n                if (this.row.grid.splitChildRowIndex != -1) {\n                    this.fontSpilt = true;\n                    this.row.rowFontSplit = true;\n                }\n                if (height > 0 && height < font.height)\n                    layoutRectangle.height = height;\n                // else if (height + this.row.grid.style.cellPadding.bottom > 0 && height + this.row.grid.style.cellPadding.bottom < font.height)\n                //     layoutRectangle.height = height + this.row.grid.style.cellPadding.bottom;\n                // else if (bounds.height < font.height)\n                //     layoutRectangle.height = bounds.height;\n                // else if (bounds.height - this.row.grid.ParentCell.row.grid.style.cellPadding.bottom < font.height)\n                //     layoutRectangle.height = bounds.height - this.row.grid.ParentCell.row.grid.style.cellPadding.bottom;                        \n            }\n            if (this.gridRow.grid.style.cellSpacing != 0) {\n                layoutRectangle.width -= this.gridRow.grid.style.cellSpacing;\n                bounds.width -= this.gridRow.grid.style.cellSpacing;\n            }\n            if (this.isFinish) {\n                // if (this.row.grid.splitChildRowIndex != -1 && !this.row.grid.isChildGrid && typeof this.remaining === 'undefined'){\n                //     this.remaining = '';\n                //     graphics.drawString(this.remaining, font, textPen, textBrush, layoutRectangle.x, layoutRectangle.y, layoutRectangle.width, layoutRectangle.height, strFormat);\n                // } else {\n                temp = this.remaining === '' ? this.remaining : this.objectValue;\n                graphics.drawString(temp, font, textPen, textBrush, layoutRectangle.x, layoutRectangle.y, layoutRectangle.width, layoutRectangle.height, strFormat);\n                if (this.row.grid.splitChildRowIndex != -1 && !this.row.grid.isChildGrid && typeof this.remaining === 'undefined') {\n                    this.remaining = '';\n                    //graphics.drawString(this.remaining, font, textPen, textBrush, layoutRectangle.x, layoutRectangle.y, layoutRectangle.width, layoutRectangle.height, strFormat);\n                }\n            }\n            else {\n                if (typeof this.remaining == 'undefined' || this.remaining === null) {\n                    this.remaining = '';\n                }\n                if (this.row.repeatFlag) {\n                    graphics.drawString(this.remaining, font, textPen, textBrush, layoutRectangle.x, layoutRectangle.y, layoutRectangle.width, layoutRectangle.height, strFormat);\n                }\n                //  else {\n                //     if(this.row.grid.ParentCell.row.repeatFlag) {\n                //         graphics.drawString((this.remaining as string), font, textPen, textBrush, layoutRectangle.x, layoutRectangle.y, layoutRectangle.width, layoutRectangle.height, strFormat);                    \n                //     } else {\n                //         layoutRectangle.height = this.row.height;\n                //         graphics.drawString((this.objectValue as string), font, textPen, textBrush, layoutRectangle.x, layoutRectangle.y, layoutRectangle.width, layoutRectangle.height, strFormat);\n                //         bounds.height = this.row.height;\n                //     }\n                //  }\n                this.isFinish = true;\n                //graphics.drawString((this.remaining as string), font, textPen, textBrush, layoutRectangle.x, layoutRectangle.y, layoutRectangle.width, layoutRectangle.height, strFormat);\n            }\n            result = graphics.stringLayoutResult;\n            // if(this.row.grid.isChildGrid && this.row.rowBreakHeight > 0 && result !=null) {\n            //     bounds.height -= this.row.grid.ParentCell.row.grid.style.cellPadding.bottom;\n            // }\n        }\n        else if (this.objectValue instanceof PdfGrid) {\n            var childGrid = this.objectValue;\n            childGrid.isChildGrid = true;\n            childGrid.ParentCell = this;\n            var layoutRect = void 0;\n            layoutRect = innerLayoutArea;\n            if (this.gridRow.grid.style.cellSpacing != 0) {\n                bounds.width -= this.gridRow.grid.style.cellSpacing;\n            }\n            // layoutRect = bounds;\n            // if (this.style.cellPadding != null){\n            //     layoutRect = bounds;            \n            // } else if((this.row.grid.style.cellPadding != null) && (childGrid.style.cellPadding.bottom === 0.5) && (childGrid.style.cellPadding.top === 0.5)\n            //                               && (childGrid.style.cellPadding.left === 5.76) && (childGrid.style.cellPadding.right === 5.76)\n            //                               && (this.gridRow.grid.style.cellSpacing === 0) && (childGrid.style.cellSpacing === 0)) {\n            //     layoutRect = innerLayoutArea;\n            // }\n            // if(this.objectValue.style.cellPadding != null && typeof this.objectValue.style.cellPadding !== 'undefined'){\n            //     layoutRect = bounds;\n            // }           \n            var layouter = new PdfGridLayouter(childGrid);\n            var format = new PdfGridLayoutFormat();\n            if (this.row.grid.LayoutFormat != null)\n                format = this.row.grid.LayoutFormat;\n            else\n                format.layout = PdfLayoutType.Paginate;\n            var param = new PdfLayoutParams();\n            if (graphics.layer != null) {\n                // Define layout parameters.\n                param.page = graphics.page;\n                param.bounds = layoutRect;\n                param.format = format;\n                //Set the span \n                childGrid.setSpan();\n                childGrid.checkSpan();\n                // Draw the child grid.\n                var childGridResult = layouter.Layouter(param);\n                //let childGridResult : PdfLayoutResult = layouter.innerLayout(param);\n                this.value = childGrid;\n                if (this.row.grid.splitChildRowIndex !== -1) {\n                    this.height = this.row.rowBreakHeightValue;\n                }\n                if (param.page != childGridResult.page) //&& (isWidthGreaterthanParent != true))\n                 {\n                    childGridResult.bounds.height = this.row.rowBreakHeightValue;\n                    if (this.row.rowBreakHeight == 0)\n                        this.row.NestedGridLayoutResult = childGridResult;\n                    else\n                        this.row.rowBreakHeight = this.row.rowBreakHeightValue;\n                    //bounds.height = this.row.rowBreakHeight;\n                    //After drawing paginated nested grid, the bounds of the parent grid in start page should be corrected for borders.\n                    //bounds.height = graphics.clientSize.height - bounds.y;\n                }\n            }\n        }\n        else if (this.objectValue instanceof PdfImage || this.objectValue instanceof PdfBitmap) {\n            var imageBounds = void 0;\n            if (this.objectValue.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.objectValue.width, innerLayoutArea.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.objectValue, imageBounds.x, imageBounds.y, imageBounds.width, imageBounds.height);\n        }\n        else if (this.objectValue instanceof PdfTextWebLink) {\n            this.objectValue.draw(graphics.currentPage, innerLayoutArea);\n        }\n        else if (typeof this.objectValue === 'undefined') {\n            this.objectValue = \"\";\n            graphics.drawString(this.objectValue, font, textPen, textBrush, innerLayoutArea.x, innerLayoutArea.y, innerLayoutArea.width, innerLayoutArea.height, strFormat);\n            if (this.style.cellPadding != null && this.style.cellPadding.bottom == 0 && this.style.cellPadding.left == 0 && this.style.cellPadding.right == 0 && this.style.cellPadding.top == 0) {\n                bounds.width -= (this.style.borders.left.width + this.style.borders.right.width);\n            }\n            if (this.gridRow.grid.style.cellSpacing != 0) {\n                bounds.width -= this.gridRow.grid.style.cellSpacing;\n            }\n        }\n        if (this.style.borders != null) {\n            if (!this.fontSpilt)\n                this.drawCellBorders(graphics, bounds);\n            else {\n                if (this.row.grid.ParentCell.row.grid.splitChildRowIndex != -1) {\n                    this.row.rowFontSplit = false;\n                    this.drawCellBorders(graphics, bounds);\n                }\n            }\n        }\n        return result;\n    };\n    /* tslint:enable */\n    /**\n     * Draws the `cell border` constructed by drawing lines.\n     * @private\n     */\n    PdfGridCell.prototype.drawCellBorders = function (graphics, bounds) {\n        if (this.row.grid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n        var p2 = new PointF(bounds.x, bounds.y);\n        var pen = this.cellStyle.borders.left;\n        if (this.cellStyle.borders.left.dashStyle === PdfDashStyle.Solid) {\n            pen.lineCap = PdfLineCap.Square;\n        }\n        // SetTransparency(ref graphics, pen);\n        if (pen.width !== 0) {\n            graphics.drawLine(pen, p1, p2);\n        }\n        p1 = new PointF(bounds.x + bounds.width, bounds.y);\n        p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n        pen = this.cellStyle.borders.right;\n        if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n            p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n            p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n        }\n        if (this.cellStyle.borders.right.dashStyle === PdfDashStyle.Solid) {\n            pen.lineCap = PdfLineCap.Square;\n        }\n        if (pen.width !== 0) {\n            graphics.drawLine(pen, p1, p2);\n        }\n        p1 = new PointF(bounds.x, bounds.y);\n        p2 = new PointF(bounds.x + bounds.width, bounds.y);\n        pen = this.cellStyle.borders.top;\n        if (this.cellStyle.borders.top.dashStyle === PdfDashStyle.Solid) {\n            pen.lineCap = PdfLineCap.Square;\n        }\n        if (pen.width !== 0) {\n            graphics.drawLine(pen, p1, p2);\n        }\n        p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n        p2 = new PointF(bounds.x, bounds.y + bounds.height);\n        pen = this.cellStyle.borders.bottom;\n        if ((bounds.y + bounds.height) > (graphics.clientSize.height - (pen.width / 2))) {\n            p1 = new PointF((bounds.x + bounds.width), (graphics.clientSize.height - (pen.width / 2)));\n            p2 = new PointF(bounds.x, (graphics.clientSize.height - (pen.width / 2)));\n        }\n        if (this.cellStyle.borders.bottom.dashStyle === PdfDashStyle.Solid) {\n            pen.lineCap = PdfLineCap.Square;\n        }\n        if (pen.width !== 0) {\n            graphics.drawLine(pen, p1, p2);\n        }\n    };\n    // private setTransparency(graphics : PdfGraphics, pen : PdfPen) : void {\n    //     let alpha : number = (pen.color.a / 255) as number;\n    //     graphics.save();\n    //     graphics.setTransparency(alpha);\n    // }\n    /**\n     * `Adjusts the outer layout area`.\n     * @private\n     */\n    /* tslint:disable */\n    PdfGridCell.prototype.adjustOuterLayoutArea = function (bounds, g) {\n        var isHeader = false;\n        var cellSpacing = this.row.grid.style.cellSpacing;\n        if (cellSpacing > 0) {\n            bounds = new RectangleF(bounds.x + cellSpacing, bounds.y + cellSpacing, bounds.width - cellSpacing, bounds.height - cellSpacing);\n        }\n        var currentColIndex = this.row.cells.indexOf(this);\n        if (this.columnSpan > 1 || (this.row.rowOverflowIndex > 0 && (currentColIndex == this.row.rowOverflowIndex + 1) && this.isCellMergeContinue)) {\n            var span = this.columnSpan;\n            if (span == 1 && this.isCellMergeContinue) {\n                for (var j = currentColIndex + 1; j < this.row.grid.columns.count; j++) {\n                    if (this.row.cells.getCell(j).isCellMergeContinue)\n                        span++;\n                    else\n                        break;\n                }\n            }\n            var totalWidth = 0;\n            for (var i = currentColIndex; i < currentColIndex + span; i++) {\n                if (this.row.grid.style.allowHorizontalOverflow) {\n                    var width = void 0;\n                    var compWidth = this.row.grid.size.width < g.clientSize.width ? this.row.grid.size.width : g.clientSize.width;\n                    if (this.row.grid.size.width > g.clientSize.width) {\n                        width = bounds.x + totalWidth + this.row.grid.columns.getColumn(i).width;\n                    }\n                    else {\n                        width = totalWidth + this.row.grid.columns.getColumn(i).width;\n                    }\n                    if (width > compWidth) {\n                        break;\n                    }\n                }\n                totalWidth += this.row.grid.columns.getColumn(i).width;\n            }\n            totalWidth -= this.row.grid.style.cellSpacing;\n            bounds.width = totalWidth;\n        }\n        if (this.rowSpan > 1 || this.row.rowSpanExists) {\n            var span = this.rowSpan;\n            var currentRowIndex = this.row.grid.rows.rowCollection.indexOf(this.row);\n            if (currentRowIndex == -1) {\n                currentRowIndex = this.row.grid.headers.indexOf(this.row);\n                if (currentRowIndex != -1) {\n                    isHeader = true;\n                }\n            }\n            // if (span == 1 && this.isCellMergeContinue) {\n            //         for (let j : number = currentRowIndex + 1; j < this.row.grid.rows.count; j++)\n            //         {\n            //             let flag : boolean = (isHeader ? this.row.grid.headers.getHeader(j).cells.getCell(currentColIndex).isCellMergeContinue : this.row.grid.rows.getRow(j).cells.getCell(currentColIndex).isCellMergeContinue);\n            //             if (flag)\n            //                 span++;\n            //             else\n            //                 break;\n            //         }\n            // }\n            var totalHeight = 0;\n            var max = 0;\n            for (var i = currentRowIndex; i < currentRowIndex + span; i++) {\n                totalHeight += (isHeader ? this.row.grid.headers.getHeader(i).height : this.row.grid.rows.getRow(i).height);\n                var row = this.row.grid.rows.getRow(i);\n                var rowIndex = this.row.grid.rows.rowCollection.indexOf(row);\n                /*if (this.rowSpan > 1)\n                    {\n                        for (let k : number = 0; k < this.row.cells.count; k++) {\n                            let cell : PdfGridCell = this.row.cells.getCell(k);\n                            if(cell.rowSpan>1)\n                            {\n                                let tempHeight : number =0;\n                                \n                                for (let j :number = i; j < i +cell.rowSpan; j++)\n                                {\n                                    if (!this.row.grid.rows.getRow(j).isRowSpanRowHeightSet)\n                                        this.row.grid.rows.getRow(j).isRowHeightSet = false;\n                                    tempHeight += this.row.grid.rows.getRow(j).height;\n                                    if (!this.row.grid.rows.getRow(j).isRowSpanRowHeightSet)\n                                        this.row.grid.rows.getRow(j).isRowHeightSet = true;\n                                }\n                                //To check the Row spanned cell height is greater than the total spanned row height.\n                                if(cell.height>tempHeight)\n                                {\n                                    if (max < (cell.height - tempHeight))\n                                    {\n                                        max = cell.height - tempHeight;\n                                        if (this.rowSpanRemainingHeight != 0 && max > this.rowSpanRemainingHeight)\n                                        {\n                                            max += this.rowSpanRemainingHeight;\n                                        }\n                                        let index :number = row.cells.indexOf(cell);\n                                        //set the m_rowspanRemainingHeight to last rowspanned row.\n                                        this.row.grid.rows.getRow((rowIndex +cell.rowSpan) - 1).cells.getCell(index).rowSpanRemainingHeight = max;\n                                        this.rowSpanRemainingHeight = this.row.grid.rows.getRow((rowIndex + cell.rowSpan) - 1).cells.getCell(index).rowSpanRemainingHeight;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (!this.row.grid.rows.getRow(i).isRowSpanRowHeightSet)\n                    this.row.grid.rows.getRow(i).isRowHeightSet = true;*/\n            }\n            var cellIndex = this.row.cells.indexOf(this);\n            totalHeight -= this.row.grid.style.cellSpacing;\n            // if (this.row.cells.getCell(cellIndex).height > totalHeight && (!this.row.grid.rows.getRow((currentRowIndex + span) - 1).isRowHeightSet)) {\n            //      this.row.grid.rows.getRow((currentRowIndex + span) - 1).cells.getCell(cellIndex).rowSpanRemainingHeight = this.row.cells.getCell(cellIndex).height - totalHeight;\n            //      totalHeight = this.row.cells.getCell(cellIndex).height;\n            //      bounds.height = totalHeight;\n            // } else {\n            bounds.height = totalHeight;\n            //  }\n            if (!this.row.rowMergeComplete) {\n                bounds.height = totalHeight;\n            }\n        }\n        return bounds;\n    };\n    /* tslint:enable */\n    /**\n     * Gets the `text font`.\n     * @private\n     */\n    PdfGridCell.prototype.getTextFont = function () {\n        if (typeof this.style.font !== 'undefined' && this.style.font != null) {\n            return this.style.font;\n        }\n        else if (typeof this.row.style.font !== 'undefined' && this.row.style.font != null) {\n            return this.row.style.font;\n        }\n        else if (typeof this.row.grid.style.font !== 'undefined' && this.row.grid.style.font != null) {\n            return this.row.grid.style.font;\n        }\n        else {\n            return PdfDocument.defaultFont;\n        }\n    };\n    /**\n     * Gets the `text brush`.\n     * @private\n     */\n    PdfGridCell.prototype.getTextBrush = function () {\n        if (typeof this.style.textBrush !== 'undefined' && this.style.textBrush != null) {\n            return this.style.textBrush;\n        }\n        else if (typeof this.row.style.textBrush !== 'undefined' && this.row.style.textBrush != null) {\n            return this.row.style.textBrush;\n        }\n        else {\n            return this.row.grid.style.textBrush;\n        }\n    };\n    /**\n     * Gets the `text pen`.\n     * @private\n     */\n    PdfGridCell.prototype.getTextPen = function () {\n        if (typeof this.style.textPen !== 'undefined' && this.style.textPen != null) {\n            return this.style.textPen;\n        }\n        else if (typeof this.row.style.textPen !== 'undefined' && this.row.style.textPen != null) {\n            return this.row.style.textPen;\n        }\n        else {\n            return this.row.grid.style.textPen;\n        }\n    };\n    /**\n     * Gets the `background brush`.\n     * @private\n     */\n    PdfGridCell.prototype.getBackgroundBrush = function () {\n        if (typeof this.style.backgroundBrush !== 'undefined' && this.style.backgroundBrush != null) {\n            return this.style.backgroundBrush;\n        }\n        else if (typeof this.row.style.backgroundBrush !== 'undefined' && this.row.style.backgroundBrush != null) {\n            return this.row.style.backgroundBrush;\n        }\n        else {\n            return this.row.grid.style.backgroundBrush;\n        }\n    };\n    /**\n     * Gets the `background image`.\n     * @private\n     */\n    PdfGridCell.prototype.getBackgroundImage = function () {\n        if (typeof this.style.backgroundImage !== 'undefined' && this.style.backgroundImage != null) {\n            return this.style.backgroundImage;\n        }\n        else if (typeof this.row.style.backgroundImage !== 'undefined' && this.row.style.backgroundImage != null) {\n            return this.row.style.backgroundImage;\n        }\n        else {\n            return this.row.grid.style.backgroundImage;\n        }\n    };\n    /**\n     * Gets the current `StringFormat`.\n     * @private\n     */\n    PdfGridCell.prototype.getStringFormat = function () {\n        if (typeof this.style.stringFormat !== 'undefined' && this.style.stringFormat != null) {\n            return this.style.stringFormat;\n        }\n        else {\n            return this.stringFormat;\n        }\n    };\n    /**\n     * Calculates the `height`.\n     * @private\n     */\n    PdfGridCell.prototype.measureHeight = function () {\n        // .. Calculate the cell text height.\n        // .....Add border widths, cell spacings and paddings to the height.\n        var width = this.calculateWidth();\n        // //check whether the Current PdfGridCell has padding\n        if (this.style.cellPadding == null || typeof this.style.cellPadding === 'undefined') {\n            width -= (this.gridRow.grid.style.cellPadding.right + this.gridRow.grid.style.cellPadding.left);\n            //width -= (this.style.borders.left.width + this.style.borders.right.width);\n        }\n        else {\n            width -= (this.style.cellPadding.right + this.style.cellPadding.left);\n            width -= (this.style.borders.left.width + this.style.borders.right.width);\n        }\n        var height = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.objectValue === 'string' || typeof this.remaining === 'string') {\n            var currentValue = this.objectValue;\n            /* tslint:disable */\n            if (!this.isFinish)\n                currentValue = !(this.remaining === null || this.remaining === '' ||\n                    typeof this.remaining === 'undefined') ? this.remaining : this.objectValue;\n            var slr = null;\n            var cellIndex = this.row.cells.indexOf(this);\n            if (this.gridRow.grid.style.cellSpacing != 0) {\n                width -= this.gridRow.grid.style.cellSpacing * 2;\n            }\n            if (!this.row.cells.getCell(cellIndex).hasColSpan && !this.row.cells.getCell(cellIndex).hasRowSpan) {\n                if (this.gridRow.grid.isChildGrid) {\n                    if (width < 0) {\n                        this.tempval = width;\n                        if (this.style.cellPadding == null || typeof this.style.cellPadding === 'undefined') {\n                            this.tempval += (this.gridRow.grid.style.cellPadding.right + this.gridRow.grid.style.cellPadding.left);\n                        }\n                        else {\n                            this.tempval += (this.style.cellPadding.right + this.style.cellPadding.left);\n                            this.tempval += (this.style.borders.left.width + this.style.borders.right.width);\n                        }\n                    }\n                    else {\n                        this.tempval = width;\n                    }\n                    slr = layouter.layout(currentValue, this.getTextFont(), this.stringFormat, new SizeF(this.tempval, 0), false, new SizeF(0, 0));\n                    height += slr.actualSize.height;\n                }\n                else {\n                    slr = layouter.layout(currentValue, this.getTextFont(), this.stringFormat, new SizeF(width, 0), false, new SizeF(0, 0));\n                    height += slr.actualSize.height;\n                }\n            }\n            /* tslint:enable */\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        else if (this.objectValue instanceof PdfGrid) {\n            var cellIndex = this.row.cells.indexOf(this);\n            var internalWidth = 0;\n            if ((this.style.cellPadding != null || typeof this.style.cellPadding !== 'undefined')) {\n                internalWidth = this.calculateWidth();\n                if (typeof this.style.cellPadding.left !== 'undefined' && this.style.cellPadding.hasLeftPad) {\n                    internalWidth -= this.style.cellPadding.left;\n                }\n                if (typeof this.style.cellPadding.right !== 'undefined' && this.style.cellPadding.hasRightPad) {\n                    internalWidth -= this.style.cellPadding.right;\n                }\n            }\n            else if ((this.row.grid.style.cellPadding != null || typeof this.row.grid.style.cellPadding !== 'undefined')) {\n                internalWidth = this.calculateWidth();\n                if (typeof this.row.grid.style.cellPadding.left !== 'undefined' && this.row.grid.style.cellPadding.hasLeftPad) {\n                    internalWidth -= this.row.grid.style.cellPadding.left;\n                }\n                if (typeof this.row.grid.style.cellPadding.right !== 'undefined' && this.row.grid.style.cellPadding.hasRightPad) {\n                    internalWidth -= this.row.grid.style.cellPadding.right;\n                }\n            }\n            else {\n                internalWidth = this.calculateWidth();\n            }\n            this.objectValue.tempWidth = internalWidth;\n            if (!this.row.cells.getCell(cellIndex).hasColSpan && !this.row.cells.getCell(cellIndex).hasRowSpan) {\n                height = this.objectValue.size.height;\n            }\n            else {\n                height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n            }\n            if (this.gridRow.grid.style.cellSpacing !== 0) {\n                width -= this.gridRow.grid.style.cellSpacing * 2;\n                //height += (this.row.grid.style.cellPadding.top + this.row.grid.style.cellPadding.bottom);\n            }\n            if (this.style.cellPadding != null || typeof this.style.cellPadding !== 'undefined') {\n                if (typeof this.row.grid.style.cellPadding.top !== 'undefined' && this.row.grid.style.cellPadding.hasTopPad) {\n                    height += this.row.grid.style.cellPadding.top;\n                }\n                if (this.row.grid.style.cellPadding.hasBottomPad && typeof this.row.grid.style.cellPadding.bottom !== 'undefined') {\n                    height += this.row.grid.style.cellPadding.bottom;\n                }\n            }\n            height += this.objectValue.style.cellSpacing;\n        }\n        else if (this.objectValue instanceof PdfImage || this.objectValue instanceof PdfBitmap) {\n            height += this.objectValue.height;\n        }\n        else if (this.objectValue instanceof PdfTextWebLink) {\n            var webLink = this.objectValue;\n            /* tslint:disable */\n            var slr = layouter.layout(webLink.text, webLink.font, webLink.stringFormat, new SizeF(width, 0), false, new SizeF(0, 0));\n            /* tslint:enable */\n            height += slr.actualSize.height;\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        else if (typeof this.objectValue === 'undefined') {\n            if (this.style.cellPadding == null || typeof this.style.cellPadding === 'undefined') {\n                width -= (this.gridRow.grid.style.cellPadding.right + this.gridRow.grid.style.cellPadding.left);\n            }\n            else {\n                width -= (this.style.cellPadding.right + this.style.cellPadding.left);\n                width -= (this.style.borders.left.width + this.style.borders.right.width);\n            }\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        //Add padding top and bottom value to height\n        if (!(this.objectValue instanceof PdfGrid)) {\n            if (this.style.cellPadding == null || typeof this.style.cellPadding === 'undefined') {\n                height += (this.row.grid.style.cellPadding.top + this.row.grid.style.cellPadding.bottom);\n            }\n            else {\n                height += (this.style.cellPadding.top + this.style.cellPadding.bottom);\n            }\n        }\n        else {\n            if (this.style.cellPadding == null || typeof this.style.cellPadding === 'undefined') {\n                if (typeof this.row.grid.style.cellPadding.top !== 'undefined' && this.row.grid.style.cellPadding.hasTopPad) {\n                    height += this.row.grid.style.cellPadding.top;\n                }\n                if (typeof this.row.grid.style.cellPadding.bottom !== 'undefined' && this.row.grid.style.cellPadding.hasBottomPad) {\n                    height += this.row.grid.style.cellPadding.bottom;\n                }\n            }\n            else {\n                if (typeof this.style.cellPadding.top !== 'undefined' && this.style.cellPadding.hasTopPad) {\n                    height += this.style.cellPadding.top;\n                }\n                if (typeof this.style.cellPadding.bottom !== 'undefined' && this.style.cellPadding.hasBottomPad) {\n                    height += this.style.cellPadding.bottom;\n                }\n            }\n        }\n        height += this.row.grid.style.cellSpacing;\n        return height;\n    };\n    /**\n     * return the calculated `width` of the cell.\n     * @private\n     */\n    PdfGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var rowindex = this.row.grid.rows.rowCollection.indexOf(this.row);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        if (columnSpan === 1) {\n            for (var i = 0; i < columnSpan; i++) {\n                width += this.row.grid.columns.getColumn(cellIndex + i).width;\n            }\n        }\n        else if (columnSpan > 1) {\n            for (var i = 0; i < columnSpan; i++) {\n                width += this.row.grid.columns.getColumn(cellIndex + i).width;\n                if ((i + 1) < columnSpan) {\n                    this.row.cells.getCell(cellIndex + i + 1).hasColSpan = true;\n                }\n            }\n        }\n        if (this.parent != null && this.parent.row.width > 0) {\n            if ((this.row.grid.isChildGrid) && this.parent != null && (this.row.width > this.parent.row.width)) {\n                width = 0;\n                for (var j = 0; j < this.parent.columnSpan; j++) {\n                    width += this.parent.row.grid.columns.getColumn(j).width;\n                }\n                width = width / this.row.cells.count;\n            }\n        }\n        return width;\n    };\n    return PdfGridCell;\n}());\nexport { PdfGridCell };\n/**\n * `PdfGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfGridCell' objects.\n * @private\n */\nvar PdfGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     * @private\n     */\n    function PdfGridCellCollection(row) {\n        /**\n         * @hidden\n         * @private\n         */\n        this.cells = [];\n        this.gridRow = row;\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     * @private\n     */\n    PdfGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.gridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     * @private\n     */\n    PdfGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfGridCellCollection;\n}());\nexport { PdfGridCellCollection };\n","import { PdfGridCell } from './pdf-grid-cell';\nimport { PdfStringFormat } from './../../graphics/fonts/pdf-string-format';\n/**\n * `PdfGridColumn` class represents the schema of a column in a 'PdfGrid'.\n */\nvar PdfGridColumn = /** @class */ (function () {\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfGridColumn` class with the parent grid.\n     * @private\n     */\n    function PdfGridColumn(grid) {\n        /**\n         * The `width` of the column.\n         * @default 0\n         * @private\n         */\n        this.columnWidth = 0;\n        this.grid = grid;\n    }\n    Object.defineProperty(PdfGridColumn.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the 'PdfGridColumn'.\n         * @private\n         */\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.isCustomWidth = true;\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         * @private\n         */\n        get: function () {\n            if (this.stringFormat == null) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfGridColumn;\n}());\nexport { PdfGridColumn };\n/**\n * `PdfGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfGridColumn' objects.\n * @private\n */\nvar PdfGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfGridColumnCollection` class with the parent grid.\n     * @private\n     */\n    function PdfGridColumnCollection(grid) {\n        /**\n         * @hidden\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.columnWidth = 0;\n        this.grid = grid;\n        this.internalColumns = [];\n    }\n    //Iplementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     * @private\n     */\n    PdfGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfGridColumn(this.grid));\n            for (var index = 0; index < this.grid.rows.count; index++) {\n                var row = this.grid.rows.getRow(index);\n                var cell = new PdfGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            if (this.grid.initialWidth !== 0 && this.columnWidth !== this.grid.initialWidth && !this.grid.style.allowHorizontalOverflow) {\n                this.columnWidth = this.grid.initialWidth;\n                this.grid.isPageWidth = true;\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfGridColumn` from the specified index.[Read-Only]\n     * @private\n     */\n    PdfGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     * @private\n     */\n    PdfGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.grid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     * @private\n     */\n    PdfGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var summ = 0.0;\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            if (this.grid.isPageWidth && totalWidth >= 0 && !this.internalColumns[i].isCustomWidth) {\n                this.internalColumns[i].width = 0;\n            }\n            else {\n                widths[i] = this.internalColumns[i].width;\n                if (this.internalColumns[i].width > 0 && this.internalColumns[i].isCustomWidth) {\n                    totalWidth -= this.internalColumns[i].width;\n                    subFactor--;\n                }\n                else {\n                    widths[i] = 0;\n                }\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfGridColumnCollection;\n}());\nexport { PdfGridColumnCollection };\n","import { PdfGridCell, PdfGridCellCollection } from './pdf-grid-cell';\nimport { PdfGridRowStyle } from './styles/style';\n/**\n * `PdfGridRow` class provides customization of the settings for the particular row.\n */\nvar PdfGridRow = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridRow` class with the parent grid.\n     * @private\n     */\n    function PdfGridRow(grid) {\n        /**\n         * Stores the index of the overflowing row.\n         * @private\n         */\n        this.gridRowOverflowIndex = 0;\n        /**\n         * The `height` of the row.\n         * @private\n         */\n        this.rowHeight = 0;\n        /**\n         * The `width` of the row.\n         * @private\n         */\n        this.rowWidth = 0;\n        /**\n         * The `isFinish` of the row.\n         * @private\n         */\n        this.isrowFinish = false;\n        /**\n         * Check whether the Row span row height `is set explicitly`.\n         * @default false\n         * @public\n         */\n        this.isRowSpanRowHeightSet = false;\n        /**\n         * The `page count` of the row.\n         * @public\n         */\n        this.noOfPageCount = 0;\n        /**\n         * Check whether the row height `is set explicitly`.\n         * @default false\n         * @private\n         */\n        this.isRowHeightSet = false;\n        this.isPageBreakRowSpanApplied = false;\n        /**\n         * Check weather the row merge `is completed` or not.\n         * @default true\n         * @private\n         */\n        this.isRowMergeComplete = true;\n        this.repeatFlag = false;\n        this.rowFontSplit = false;\n        this.isHeaderRow = false;\n        this.pdfGrid = grid;\n    }\n    Object.defineProperty(PdfGridRow.prototype, \"rowSpanExists\", {\n        //Properties\n        /**\n         * Gets or sets a value indicating [`row span exists`].\n         * @private\n         */\n        get: function () {\n            return this.bRowSpanExists;\n        },\n        set: function (value) {\n            this.bRowSpanExists = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"cells\", {\n        /**\n         * Gets the `cells` from the selected row.[Read-Only].\n         * @private\n         */\n        get: function () {\n            if (this.gridCells == null) {\n                this.gridCells = new PdfGridCellCollection(this);\n            }\n            return this.gridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"grid\", {\n        /**\n         * Gets or sets the parent `grid`.\n         * @private\n         */\n        get: function () {\n            return this.pdfGrid;\n        },\n        set: function (value) {\n            this.pdfGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"style\", {\n        /**\n         * Gets or sets the row `style`.\n         * @private\n         */\n        get: function () {\n            if (typeof this.rowStyle === 'undefined') {\n                this.rowStyle = new PdfGridRowStyle();\n                this.rowStyle.setParent(this);\n            }\n            return this.rowStyle;\n        },\n        set: function (value) {\n            this.rowStyle = value;\n            for (var i = 0; i < this.cells.count; i++) {\n                this.cells.getCell(i).style.borders = value.border;\n                if (typeof value.font !== 'undefined') {\n                    this.cells.getCell(i).style.font = value.font;\n                }\n                if (typeof value.backgroundBrush !== 'undefined') {\n                    this.cells.getCell(i).style.backgroundBrush = value.backgroundBrush;\n                }\n                if (typeof value.backgroundImage !== 'undefined') {\n                    this.cells.getCell(i).style.backgroundImage = value.backgroundImage;\n                }\n                if (typeof value.textBrush !== 'undefined') {\n                    this.cells.getCell(i).style.textBrush = value.textBrush;\n                }\n                if (typeof value.textPen !== 'undefined') {\n                    this.cells.getCell(i).style.textPen = value.textPen;\n                }\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         * @private\n         */\n        get: function () {\n            if (typeof this.gridRowBreakHeight === 'undefined') {\n                this.gridRowBreakHeight = 0;\n            }\n            return this.gridRowBreakHeight;\n        },\n        set: function (value) {\n            this.gridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         * @private\n         */\n        get: function () {\n            return this.gridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.gridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         * @private\n         */\n        get: function () {\n            if (!this.isRowHeightSet) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n            this.isRowHeightSet = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0 || typeof this.rowWidth === 'undefined') {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"NestedGridLayoutResult\", {\n        /**\n         * Gets or sets the row `Nested grid Layout Result`.\n         * @private\n         */\n        get: function () {\n            return this.gridResult;\n        },\n        set: function (value) {\n            this.gridResult = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"columnSpanExists\", {\n        /**\n         * Gets or sets a value indicating [`column span exists`].\n         * @private\n         */\n        get: function () {\n            return this.bColumnSpanExists;\n        },\n        set: function (value) {\n            this.bColumnSpanExists = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"rowMergeComplete\", {\n        /**\n         * Check whether the Row `has row span or row merge continue`.\n         * @private\n         */\n        get: function () {\n            return this.isRowMergeComplete;\n        },\n        set: function (value) {\n            this.isRowMergeComplete = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRow.prototype, \"rowIndex\", {\n        /**\n         * Returns `index` of the row.\n         * @private\n         */\n        get: function () {\n            return this.grid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Calculates the height`.\n     * @private\n     */\n    PdfGridRow.prototype.measureHeight = function () {\n        var rowSpanRemainingHeight = 0;\n        var rowHeight;\n        var maxHeight = 0;\n        if (this.cells.getCell(0).rowSpan > 1) {\n            rowHeight = 0;\n        }\n        else {\n            rowHeight = this.cells.getCell(0).height;\n        }\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            //get the maximum rowspan remaining height.\n            if (cell.rowSpanRemainingHeight > rowSpanRemainingHeight) {\n                rowSpanRemainingHeight = cell.rowSpanRemainingHeight;\n            }\n            //skip the cell if row spanned.\n            // if (cell.isRowMergeContinue) {\n            //     continue;\n            // }\n            // if (!cell.isRowMergeContinue) {\n            //     this.rowMergeComplete = false;\n            // }\n            this.rowMergeComplete = false;\n            if (cell.rowSpan > 1) {\n                var cellIn = i;\n                var rowin = this.isHeaderRow ? this.grid.headers.indexOf(this) : this.grid.rows.rowCollection.indexOf(this);\n                for (var j = 0; j < cell.rowSpan; j++) {\n                    if ((j + 1) < cell.rowSpan) {\n                        (this.isHeaderRow ? this.grid.headers.getHeader(rowin + j + 1) : this.grid.rows.getRow(rowin + j + 1)).cells.getCell(cellIn).hasRowSpan = true;\n                    }\n                }\n                if (maxHeight < cell.height) {\n                    maxHeight = cell.height;\n                }\n                continue;\n            }\n            rowHeight = Math.max(rowHeight, cell.height);\n        }\n        if (maxHeight > rowHeight) {\n            rowHeight = maxHeight;\n        }\n        if (rowHeight === 0) {\n            rowHeight = maxHeight;\n        }\n        else if (rowSpanRemainingHeight > 0) {\n            rowHeight += rowSpanRemainingHeight;\n        }\n        return rowHeight;\n    };\n    PdfGridRow.prototype.measureWidth = function () {\n        var rowWid = 0;\n        for (var i = 0; i < this.grid.columns.count; i++) {\n            var column = this.grid.columns.getColumn(i);\n            rowWid += column.width;\n        }\n        return rowWid;\n    };\n    return PdfGridRow;\n}());\nexport { PdfGridRow };\n/**\n * `PdfGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfGridRow' objects.\n * @private\n */\nvar PdfGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfGridRowCollection` class with the parent grid.\n     * @private\n     */\n    function PdfGridRowCollection(grid) {\n        this.rows = [];\n        this.grid = grid;\n    }\n    Object.defineProperty(PdfGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfGrid`.[Read-Only].\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `grid`.\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridRowCollection.prototype.addRow = function (arg) {\n        if (typeof arg === 'undefined') {\n            var temprow = new PdfGridRow(this.grid);\n            this.addRow(temprow);\n            return temprow;\n        }\n        else {\n            arg.style.setBackgroundBrush(this.grid.style.backgroundBrush);\n            arg.style.setFont(this.grid.style.font);\n            arg.style.setTextBrush(this.grid.style.textBrush);\n            arg.style.setTextPen(this.grid.style.textPen);\n            if (arg.cells.count === 0) {\n                for (var i = 0; i < this.grid.columns.count; i++) {\n                    arg.cells.add(new PdfGridCell());\n                }\n            }\n            this.rows.push(arg);\n        }\n    };\n    /**\n     * Return the row by index.\n     * @private\n     */\n    PdfGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfGridRowCollection;\n}());\nexport { PdfGridRowCollection };\n/**\n * `PdfGridHeaderCollection` class provides customization of the settings for the header.\n * @private\n */\nvar PdfGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfGridHeaderCollection` class with the parent grid.\n     * @private\n     */\n    function PdfGridHeaderCollection(grid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         * @private\n         */\n        this.rows = [];\n        this.grid = grid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     * @private\n     */\n    PdfGridHeaderCollection.prototype.getHeader = function (index) {\n        // if (index < 0 || index >= Count) {\n        //     throw new IndexOutOfRangeException();\n        // }\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGridHeaderCollection.prototype.add = function (arg) {\n        if (typeof arg === 'number') {\n            var row = void 0;\n            for (var i = 0; i < arg; i++) {\n                row = new PdfGridRow(this.grid);\n                row.isHeaderRow = true;\n                for (var j = 0; j < this.grid.columns.count; j++) {\n                    row.cells.add(new PdfGridCell());\n                }\n                this.rows.push(row);\n            }\n            return this.rows;\n        }\n        else {\n            this.rows.push(arg);\n        }\n    };\n    PdfGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfGridHeaderCollection;\n}());\nexport { PdfGridHeaderCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfGrid.ts class for EJ2-PDF\n */\nimport { PdfGridColumnCollection } from './pdf-grid-column';\nimport { PdfGridRowCollection, PdfGridHeaderCollection } from './pdf-grid-row';\nimport { RectangleF, SizeF, PointF } from './../../drawing/pdf-drawing';\nimport { PdfLayoutElement } from './../../graphics/figures/layout-element';\nimport { PdfLayoutFormat } from './../../graphics/figures/base/element-layouter';\nimport { PdfGridStyle } from './styles/style';\nimport { PdfBorders } from './styles/pdf-borders';\nimport { PdfGridLayouter } from './../../structured-elements/grid/layout/grid-layouter';\nvar PdfGrid = /** @class */ (function (_super) {\n    __extends(PdfGrid, _super);\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGrid` class.\n     * @private\n     */\n    function PdfGrid() {\n        var _this = _super.call(this) || this;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.gridSize = new SizeF(0, 0);\n        /**\n         * Check the child grid is ' split or not'\n         */\n        _this.isGridSplit = false;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.isRearranged = false;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.pageBounds = new RectangleF();\n        /**\n         * @hidden\n         * @private\n         */\n        _this.listOfNavigatePages = [];\n        /**\n         * @hidden\n         * @private\n         */\n        _this.parentCellIndex = 0;\n        _this.tempWidth = 0;\n        /**\n         * @hidden\n         * @private\n         */\n        _this.breakRow = true;\n        _this.splitChildRowIndex = -1;\n        /**\n         * The event raised on `begin cell lay outing`.\n         * @event\n         * @private\n         */\n        //public beginPageLayout : Function;\n        /**\n         * The event raised on `end cell lay outing`.\n         * @event\n         * @private\n         */\n        //public endPageLayout : Function;\n        _this.hasRowSpanSpan = false;\n        _this.hasColumnSpan = false;\n        _this.isSingleGrid = true;\n        return _this;\n    }\n    Object.defineProperty(PdfGrid.prototype, \"raiseBeginCellDraw\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         * @private\n         */\n        get: function () {\n            return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"raiseEndCellDraw\", {\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         * @private\n         */\n        get: function () {\n            return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"repeatHeader\", {\n        /**\n         * Gets or sets a value indicating whether to `repeat header`.\n         * @private\n         */\n        get: function () {\n            if (this.bRepeatHeader == null || typeof this.bRepeatHeader === 'undefined') {\n                this.bRepeatHeader = false;\n            }\n            return this.bRepeatHeader;\n        },\n        set: function (value) {\n            this.bRepeatHeader = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"allowRowBreakAcrossPages\", {\n        /**\n         * Gets or sets a value indicating whether to split or cut rows that `overflow a page`.\n         * @private\n         */\n        get: function () {\n            return this.breakRow;\n        },\n        set: function (value) {\n            this.breakRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"columns\", {\n        /**\n         * Gets the `column` collection of the PdfGrid.[Read-Only]\n         * @private\n         */\n        get: function () {\n            if (this.gridColumns == null || typeof this.gridColumns === 'undefined') {\n                this.gridColumns = new PdfGridColumnCollection(this);\n            }\n            return this.gridColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"rows\", {\n        /**\n         * Gets the `row` collection from the PdfGrid.[Read-Only]\n         * @private\n         */\n        get: function () {\n            if (this.gridRows == null) {\n                this.gridRows = new PdfGridRowCollection(this);\n            }\n            return this.gridRows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"headers\", {\n        /**\n         * Gets the `headers` collection from the PdfGrid.[Read-Only]\n         * @private\n         */\n        get: function () {\n            if (this.gridHeaders == null || typeof this.gridHeaders === 'undefined') {\n                this.gridHeaders = new PdfGridHeaderCollection(this);\n            }\n            return this.gridHeaders;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"initialWidth\", {\n        /**\n         * Indicating `initial width` of the page.\n         * @private\n         */\n        get: function () {\n            return this.gridInitialWidth;\n        },\n        set: function (value) {\n            this.gridInitialWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"style\", {\n        /**\n         * Gets or sets the `grid style`.\n         * @private\n         */\n        get: function () {\n            if (this.gridStyle == null) {\n                this.gridStyle = new PdfGridStyle();\n            }\n            return this.gridStyle;\n        },\n        set: function (value) {\n            if (this.gridStyle == null) {\n                this.gridStyle = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"isPageWidth\", {\n        /**\n         * Gets a value indicating whether the grid column width is considered to be `page width`.\n         * @private\n         */\n        get: function () {\n            return this.ispageWidth;\n        },\n        set: function (value) {\n            this.ispageWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"isChildGrid\", {\n        /**\n         * Gets or set if grid `is nested grid`.\n         * @private\n         */\n        get: function () {\n            return this.ischildGrid;\n        },\n        set: function (value) {\n            this.ischildGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"size\", {\n        /**\n         * Gets or set if grid ' is split or not'\n         * @public\n         */\n        // public get isGridSplit() : boolean {\n        //     return this.isgridSplit;\n        // }\n        // public set isGridSplit(value : boolean) {\n        //     this.isgridSplit = value;\n        // }public get isGridSplit() : boolean {\n        //     return this.isgridSplit;\n        // }\n        // public set isGridSplit(value : boolean) {\n        //     this.isgridSplit = value;\n        // }\n        /**\n         * Gets the `size`.\n         * @private\n         */\n        get: function () {\n            if ((this.gridSize.width === 0 || typeof this.gridSize.width === 'undefined') && this.gridSize.height === 0) {\n                this.gridSize = this.measure();\n            }\n            return this.gridSize;\n            // } else {\n            //     return this.gridSize;\n            // }\n        },\n        set: function (value) {\n            this.gridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"ParentCell\", {\n        get: function () {\n            return this.parentCell;\n        },\n        set: function (value) {\n            this.parentCell = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfGrid.prototype, \"LayoutFormat\", {\n        get: function () {\n            return this.layoutFormat;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 == null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    /**\n     * `measures` this instance.\n     * @private\n     */\n    PdfGrid.prototype.measure = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfGrid.prototype.onBeginCellDraw = function (args) {\n        if (this.raiseBeginCellDraw) {\n            this.beginCellDraw(this, args);\n        }\n    };\n    PdfGrid.prototype.onEndCellDraw = function (args) {\n        if (this.raiseEndCellDraw) {\n            this.endCellDraw(this, args);\n        }\n    };\n    /**\n     * `Layouts` the specified graphics.\n     * @private\n     */\n    PdfGrid.prototype.layout = function (param) {\n        var width = param.bounds.width;\n        var height = param.bounds.height;\n        var hasChanged = false;\n        if (typeof param.bounds.width === 'undefined' || param.bounds.width === 0) {\n            width = param.page.getClientSize().width - param.bounds.x;\n            hasChanged = true;\n        }\n        if (typeof param.bounds.height === 'undefined' || param.bounds.height === 0) {\n            height = param.page.getClientSize().height - param.bounds.y;\n            hasChanged = true;\n        }\n        if (hasChanged) {\n            param.bounds = new RectangleF(param.bounds.x, param.bounds.y, width, height);\n        }\n        if (this.rows.count !== 0) {\n            var currentRow = this.rows.getRow(0).cells.getCell(0).style;\n            if (currentRow.borders != null && ((currentRow.borders.left != null && currentRow.borders.left.width !== 1) ||\n                (currentRow.borders.top != null && currentRow.borders.top.width !== 1))) {\n                var x = currentRow.borders.left.width / 2;\n                var y = currentRow.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 && param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(x, y, this.gridSize.width, this.gridSize.height);\n                    param.bounds = newBound;\n                }\n            }\n        }\n        this.setSpan();\n        this.checkSpan();\n        this.layoutFormat = param.format;\n        this.gridLocation = param.bounds;\n        var layouter = new PdfGridLayouter(this);\n        var result = (layouter.Layouter(param));\n        return result;\n    };\n    PdfGrid.prototype.setSpan = function () {\n        var colSpan = 1;\n        var rowSpan = 1;\n        var currentCellIndex = 0;\n        var currentRowIndex = 0;\n        var maxSpan = 0;\n        var rowCount = this.headers.count;\n        for (var i = 0; i < rowCount; i++) {\n            var row = this.headers.getHeader(i);\n            maxSpan = 0;\n            var colCount = row.cells.count;\n            for (var j = 0; j < colCount; j++) {\n                var cell = row.cells.getCell(j);\n                maxSpan = Math.max(maxSpan, cell.rowSpan);\n                //Skip setting span map for already coverted rows/columns.\n                if (!cell.isCellMergeContinue && !cell.isRowMergeContinue && (cell.columnSpan > 1 || cell.rowSpan > 1)) {\n                    if (cell.columnSpan + j > row.cells.count) {\n                        throw new Error('Invalid span specified at row ' + j.toString() + ' column ' + i.toString());\n                    }\n                    if (cell.rowSpan + i > this.headers.count) {\n                        throw new Error('Invalid span specified at Header ' + j.toString() + ' column ' + i.toString());\n                    }\n                    // if (this.rows.count !== 0 && cell.rowSpan + i > this.rows.count) {\n                    //     throw new Error('Invalid span specified at row ' + j.toString() + ' column ' + i.toString());\n                    // }\n                    if (cell.columnSpan > 1 && cell.rowSpan > 1) {\n                        colSpan = cell.columnSpan;\n                        rowSpan = cell.rowSpan;\n                        currentCellIndex = j;\n                        currentRowIndex = i;\n                        cell.isCellMergeStart = true;\n                        cell.isRowMergeStart = true;\n                        //Set Column merges for first row\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            row.cells.getCell(currentCellIndex).rowSpan = rowSpan;\n                            colSpan--;\n                        }\n                        currentCellIndex = j;\n                        colSpan = cell.columnSpan;\n                        //Set Row Merges and column merges foreach subsequent rows.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                            rowSpan--;\n                            while (colSpan > 1) {\n                                currentCellIndex++;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                this.headers.getHeader(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                                colSpan--;\n                            }\n                            colSpan = cell.columnSpan;\n                            currentCellIndex = j;\n                        }\n                    }\n                    else if (cell.columnSpan > 1 && cell.rowSpan === 1) {\n                        colSpan = cell.columnSpan;\n                        currentCellIndex = j;\n                        cell.isCellMergeStart = true;\n                        //Set Column merges.\n                        while (colSpan > 1) {\n                            currentCellIndex++;\n                            row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                            colSpan--;\n                        }\n                    }\n                    else if (cell.columnSpan === 1 && cell.rowSpan > 1) {\n                        rowSpan = cell.rowSpan;\n                        currentRowIndex = i;\n                        //Set row Merges.\n                        while (rowSpan > 1) {\n                            currentRowIndex++;\n                            this.headers.getHeader(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                            rowSpan--;\n                        }\n                    }\n                }\n            }\n            row.maximumRowSpan = maxSpan;\n        }\n    };\n    PdfGrid.prototype.checkSpan = function () {\n        var cellcolSpan;\n        var cellrowSpan = 1;\n        var cellmaxSpan = 0;\n        var currentCellIndex;\n        var currentRowIndex = 0;\n        cellcolSpan = cellrowSpan = 1;\n        currentCellIndex = currentRowIndex = 0;\n        if (this.hasRowSpanSpan || this.hasColumnSpan) {\n            var rowCount = this.rows.count;\n            for (var i = 0; i < rowCount; i++) {\n                var row = this.rows.getRow(i);\n                cellmaxSpan = 0;\n                var colCount = row.cells.count;\n                for (var j = 0; j < colCount; j++) {\n                    var cell = row.cells.getCell(j);\n                    cellmaxSpan = Math.max(cellmaxSpan, cell.rowSpan);\n                    //Skip setting span map for already coverted rows/columns.\n                    if (!cell.isCellMergeContinue && !cell.isRowMergeContinue\n                        && (cell.columnSpan > 1 || cell.rowSpan > 1)) {\n                        if (cell.columnSpan + j > row.cells.count) {\n                            throw new Error('Invalid span specified at row  ' + j.toString() + ' column ' + i.toString());\n                        }\n                        if (cell.rowSpan + i > this.rows.count) {\n                            throw new Error('Invalid span specified at row  ' + j.toString() + ' column ' + i.toString());\n                        }\n                        if (cell.columnSpan > 1 && cell.rowSpan > 1) {\n                            cellcolSpan = cell.columnSpan;\n                            cellrowSpan = cell.rowSpan;\n                            currentCellIndex = j;\n                            currentRowIndex = i;\n                            cell.isCellMergeStart = true;\n                            cell.isRowMergeStart = true;\n                            //Set Column merges for first row\n                            while (cellcolSpan > 1) {\n                                currentCellIndex++;\n                                row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                row.cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                                cellcolSpan--;\n                            }\n                            currentCellIndex = j;\n                            cellcolSpan = cell.columnSpan;\n                            //Set Row Merges and column merges foreach subsequent rows.\n                            while (cellrowSpan > 1) {\n                                currentRowIndex++;\n                                this.rows.getRow(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                                this.rows.getRow(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                                cellrowSpan--;\n                                while (cellcolSpan > 1) {\n                                    currentCellIndex++;\n                                    this.rows.getRow(currentRowIndex).cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                    this.rows.getRow(currentRowIndex).cells.getCell(currentCellIndex).isRowMergeContinue = true;\n                                    cellcolSpan--;\n                                }\n                                cellcolSpan = cell.columnSpan;\n                                currentCellIndex = j;\n                            }\n                        }\n                        else if (cell.columnSpan > 1 && cell.rowSpan === 1) {\n                            cellcolSpan = cell.columnSpan;\n                            currentCellIndex = j;\n                            cell.isCellMergeStart = true;\n                            //Set Column merges.\n                            while (cellcolSpan > 1) {\n                                currentCellIndex++;\n                                row.cells.getCell(currentCellIndex).isCellMergeContinue = true;\n                                cellcolSpan--;\n                            }\n                        }\n                        else if (cell.columnSpan === 1 && cell.rowSpan > 1) {\n                            cellrowSpan = cell.rowSpan;\n                            currentRowIndex = i;\n                            //Set row Merges.\n                            while (cellrowSpan > 1) {\n                                currentRowIndex++;\n                                this.rows.getRow(currentRowIndex).cells.getCell(j).isRowMergeContinue = true;\n                                cellrowSpan--;\n                            }\n                        }\n                    }\n                }\n                row.maximumRowSpan = cellmaxSpan;\n            }\n        }\n    };\n    PdfGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            this.isPageWidth = false;\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            //let tempWidth : number = this.columns.getColumn(0).width;\n            for (var i = 0, count = this.columns.count; i < count; i++) {\n                // if (this.columns.getColumn(i).width < 0)\n                //     this.columns.getColumn(i).columnWidth = widths[i];\n                // else if (this.columns.getColumn(i).width > 0 && !this.columns.getColumn(i).isCustomWidth && widths[i]>0 && this.isComplete)\n                this.columns.getColumn(i).columnWidth = widths[i];\n                this.tempWidth = widths[i];\n            }\n            if (this.ParentCell != null && this.style.allowHorizontalOverflow == false && this.ParentCell.row.grid.style.allowHorizontalOverflow == false) {\n                var padding = 0;\n                var columnWidth = 0;\n                var columnCount = this.columns.count;\n                var childGridColumnWidth = 0;\n                if (this.ParentCell.style.cellPadding != null || typeof this.ParentCell.style.cellPadding !== 'undefined') {\n                    if (typeof this.ParentCell.style.cellPadding.left != 'undefined' && this.ParentCell.style.cellPadding.hasLeftPad) {\n                        padding += this.ParentCell.style.cellPadding.left;\n                    }\n                    if (typeof this.ParentCell.style.cellPadding.right != 'undefined' && this.ParentCell.style.cellPadding.hasRightPad) {\n                        padding += this.ParentCell.style.cellPadding.right;\n                    }\n                }\n                for (var i = 0; i < this.ParentCell.columnSpan; i++) {\n                    columnWidth += this.ParentCell.row.grid.columns.getColumn(this.parentCellIndex + i).width;\n                }\n                for (var j = 0; j < this.columns.count; j++) {\n                    if (this.gridColumns.getColumn(j).width > 0 && this.gridColumns.getColumn(j).isCustomWidth) {\n                        columnWidth -= this.gridColumns.getColumn(j).width;\n                        columnCount--;\n                    }\n                }\n                if ((this.ParentCell.row.grid.style.cellPadding != null || typeof this.ParentCell.row.grid.style.cellPadding != 'undefined')) {\n                    if (typeof this.ParentCell.row.grid.style.cellPadding.top != 'undefined' && this.ParentCell.row.grid.style.cellPadding.hasTopPad) {\n                        padding += this.ParentCell.row.grid.style.cellPadding.top;\n                    }\n                    if (typeof this.ParentCell.row.grid.style.cellPadding.bottom != 'undefined' && this.ParentCell.row.grid.style.cellPadding.hasBottomPad) {\n                        padding += this.ParentCell.row.grid.style.cellPadding.bottom;\n                    }\n                }\n                if (this.ParentCell.row.grid.style.cellSpacing != 0) {\n                    columnWidth -= this.ParentCell.row.grid.style.cellSpacing * 2;\n                }\n                if (columnWidth > padding) {\n                    childGridColumnWidth = (columnWidth - padding) / columnCount;\n                    this.tempWidth = childGridColumnWidth;\n                    if (this.ParentCell != null) {\n                        for (var j = 0; j < this.columns.count; j++) {\n                            if (!this.columns.getColumn(j).isCustomWidth)\n                                this.columns.getColumn(j).columnWidth = childGridColumnWidth;\n                        }\n                    }\n                }\n            }\n            // if (this.ParentCell != null && this.ParentCell.row.width > 0)\n            // {\n            //     if (this.isChildGrid && this.gridSize.width > this.ParentCell.row.width)\n            //     {\n            //         widths = this.columns.getDefaultWidths(bounds.width);\n            //         for (let i : number = 0; i < this.columns.count; i++)\n            //         {\n            //             this.columns.getColumn(i).width = widths[i];\n            //         }\n            //     }\n            // }\n        }\n        else {\n            var widths = [this.columns.count];\n            for (var n = 0; n < this.columns.count; n++) {\n                widths[n] = 0;\n            }\n            var cellWidth = 0;\n            var cellWidths = 0;\n            if ((typeof this.isChildGrid === 'undefined' && typeof this.gridLocation !== 'undefined') || (this.isChildGrid === null && typeof this.gridLocation !== 'undefined')) {\n                this.initialWidth = this.gridLocation.width;\n            }\n            if (this.headers.count > 0) {\n                var colCount_1 = this.headers.getHeader(0).cells.count;\n                var rowCount = this.headers.count;\n                for (var i = 0; i < colCount_1; i++) {\n                    cellWidth = 0;\n                    for (var j = 0; j < rowCount; j++) {\n                        var rowWidth = Math.min(this.initialWidth, this.headers.getHeader(j).cells.getCell(i).width);\n                        cellWidth = Math.max(cellWidth, rowWidth);\n                    }\n                    widths[i] = cellWidth;\n                }\n            }\n            // else {\n            //     let colCount : number = this.rows.getRow(0).cells.count;\n            //     let rowCount : number = this.rows.count;\n            //     for (let i : number = 0; i < colCount; i++) {\n            //         cellWidth = 0;\n            //         for (let j : number = 0; j < rowCount; j++) {\n            //             let rowWidth : number = Math.min(this.initialWidth, this.rows.getRow(j).cells.getCell(i).width);\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths[i] = cellWidth;\n            //     }\n            // }\n            cellWidth = 0;\n            for (var i = 0, colCount_2 = this.columns.count; i < colCount_2; i++) {\n                for (var j = 0, rowCount = this.rows.count; j < rowCount; j++) {\n                    if ((this.rows.getRow(j).cells.getCell(i).columnSpan == 1 && !this.rows.getRow(j).cells.getCell(i).isCellMergeContinue) || this.rows.getRow(j).cells.getCell(i).value != null) {\n                        if (this.rows.getRow(j).cells.getCell(i).value != null && !this.rows.getRow(j).grid.style.allowHorizontalOverflow) {\n                            var value = this.rows.getRow(j).grid.style.cellPadding.right +\n                                this.rows.getRow(j).grid.style.cellPadding.left\n                                + this.rows.getRow(j).cells.getCell(i).style.borders.left.width / 2;\n                            //  if (this.initialWidth != 0 )\n                            //         (this.rows.getRow(j).cells.getCell(i).value as PdfGrid).initialWidth = this.initialWidth - value;\n                        }\n                        var rowWidth = 0;\n                        rowWidth = this.initialWidth > 0.0 ? Math.min(this.initialWidth, this.rows.getRow(j).cells.getCell(i).width) : this.rows.getRow(j).cells.getCell(i).width;\n                        // let internalWidth : number = this.rows.getRow(j).cells.getCell(i).width;\n                        // internalWidth += this.rows.getRow(j).cells.getCell(i).style.borders.left.width;\n                        // internalWidth += this.rows.getRow(j).cells.getCell(i).style.borders.right.width;\n                        // let internalHeight : number = this.rows.getRow(j).cells.getCell(i).height;\n                        // internalHeight += (this.rows.getRow(j).cells.getCell(i).style.borders.top.width);\n                        // internalHeight += (this.rows.getRow(j).cells.getCell(i).style.borders.bottom.width);\n                        // let isCorrectWidth : boolean = (internalWidth + this.gridLocation.x) > this.currentGraphics.clientSize.width;\n                        // let isCorrectHeight : boolean = (internalHeight + this.gridLocation.y) > this.currentGraphics.clientSize.height;\n                        // if (isCorrectWidth || isCorrectHeight) {\n                        //     throw Error('Image size exceeds client size of the page. Can not insert this image');\n                        // }\n                        // rowWidth = Math.min(this.initialWidth, this.rows.getRow(j).cells.getCell(i).width);\n                        cellWidth = Math.max(widths[i], Math.max(cellWidth, rowWidth));\n                        cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    }\n                }\n                if (this.rows.count != 0)\n                    widths[i] = cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0, RowCount = this.rows.count; i < RowCount; i++) {\n                for (var j = 0, ColCount = this.columns.count; j < ColCount; j++) {\n                    if (this.rows.getRow(i).cells.getCell(j).columnSpan > 1) {\n                        var total = widths[j];\n                        for (var k = 1; k < this.rows.getRow(i).cells.getCell(j).columnSpan; k++) {\n                            total += widths[j + k];\n                        }\n                        // if (this.rows.getRow(i).cells.getCell(j).width > total)\n                        // {\n                        //     let extendedWidth : number = this.rows.getRow(i).cells.getCell(j).width - total;\n                        //     extendedWidth = extendedWidth / this.rows.getRow(i).cells.getCell(j).columnSpan;\n                        //     for (let k : number = j; k < j + this.rows.getRow(i).cells.getCell(j).columnSpan; k++)\n                        //         widths[k] += extendedWidth;\n                        // }\n                    }\n                }\n            }\n            // if (this.isChildGrid && this.initialWidth != 0)\n            // {\n            //     widths = this.columns.getDefaultWidths(this.initialWidth);\n            // }\n            for (var i = 0, count = this.columns.count; i < count; i++) {\n                if (this.columns.getColumn(i).width <= 0)\n                    this.columns.getColumn(i).columnWidth = widths[i];\n                else if (this.columns.getColumn(i).width > 0 && !this.columns.getColumn(i).isCustomWidth)\n                    this.columns.getColumn(i).columnWidth = widths[i];\n            }\n            var padding = 0;\n            var colWidth = 0;\n            var colCount = this.columns.count;\n            var childGridColWidth = 0;\n            colWidth = this.tempWidth;\n            for (var j = 0; j < this.columns.count; j++) {\n                if (this.gridColumns.getColumn(j).width > 0 && this.gridColumns.getColumn(j).isCustomWidth) {\n                    colWidth -= this.gridColumns.getColumn(j).width;\n                    colCount--;\n                }\n            }\n            // if (this.style.cellSpacing != 0){\n            //     colWidth -= this.style.cellSpacing * 2;\n            // }\n            if (colWidth > 0) {\n                if (this.ParentCell.row.grid.style.cellSpacing != 0) {\n                    colWidth -= this.ParentCell.row.grid.style.cellSpacing * 2;\n                }\n            }\n            if (colWidth > padding) {\n                childGridColWidth = (colWidth) / colCount;\n                if (this.ParentCell != null) {\n                    for (var j = 0; j < this.columns.count; j++) {\n                        if (!this.columns.getColumn(j).isCustomWidth)\n                            this.columns.getColumn(j).columnWidth = childGridColWidth;\n                    }\n                }\n            }\n        }\n    };\n    return PdfGrid;\n}(PdfLayoutElement));\nexport { PdfGrid };\n","/**\n * PdfNumbersConvertor.ts class for EJ2-PDF\n * @private\n */\nimport { PdfNumberStyle } from './../../pages/enum';\n/**\n * `PdfNumbersConvertor` for convert page number into numbers, roman letters, etc.,\n * @private\n */\nvar PdfNumbersConvertor = /** @class */ (function () {\n    function PdfNumbersConvertor() {\n    }\n    // Static methods\n    /**\n     * Convert string value from page number with correct format.\n     * @private\n     */\n    PdfNumbersConvertor.convert = function (intArabic, numberStyle) {\n        var result = '';\n        switch (numberStyle) {\n            case PdfNumberStyle.None:\n                result = '';\n                break;\n            case PdfNumberStyle.Numeric:\n                result = intArabic.toString();\n                break;\n            case PdfNumberStyle.LowerLatin:\n                result = this.arabicToLetter(intArabic).toLowerCase();\n                break;\n            case PdfNumberStyle.LowerRoman:\n                result = this.arabicToRoman(intArabic).toLowerCase();\n                break;\n            case PdfNumberStyle.UpperLatin:\n                result = this.arabicToLetter(intArabic);\n                break;\n            case PdfNumberStyle.UpperRoman:\n                result = this.arabicToRoman(intArabic);\n                break;\n        }\n        return result;\n    };\n    /**\n     * Converts `arabic to roman` letters.\n     * @private\n     */\n    PdfNumbersConvertor.arabicToRoman = function (intArabic) {\n        var retval = '';\n        var retvalM = this.generateNumber(intArabic, 1000, 'M');\n        retval += retvalM.returnValue;\n        intArabic = retvalM.intArabic;\n        var retvalCM = this.generateNumber(intArabic, 900, 'CM');\n        retval += retvalCM.returnValue;\n        intArabic = retvalCM.intArabic;\n        var retvalD = this.generateNumber(intArabic, 500, 'D');\n        retval += retvalD.returnValue;\n        intArabic = retvalD.intArabic;\n        var retvalCD = this.generateNumber(intArabic, 400, 'CD');\n        retval += retvalCD.returnValue;\n        intArabic = retvalCD.intArabic;\n        var retvalC = this.generateNumber(intArabic, 100, 'C');\n        retval += retvalC.returnValue;\n        intArabic = retvalC.intArabic;\n        var retvalXC = this.generateNumber(intArabic, 90, 'XC');\n        retval += retvalXC.returnValue;\n        intArabic = retvalXC.intArabic;\n        var retvalL = this.generateNumber(intArabic, 50, 'L');\n        retval += retvalL.returnValue;\n        intArabic = retvalL.intArabic;\n        var retvalXL = this.generateNumber(intArabic, 40, 'XL');\n        retval += retvalXL.returnValue;\n        intArabic = retvalXL.intArabic;\n        var retvalX = this.generateNumber(intArabic, 10, 'X');\n        retval += retvalX.returnValue;\n        intArabic = retvalX.intArabic;\n        var retvalIX = this.generateNumber(intArabic, 9, 'IX');\n        retval += retvalIX.returnValue;\n        intArabic = retvalIX.intArabic;\n        var retvalV = this.generateNumber(intArabic, 5, 'V');\n        retval += retvalV.returnValue;\n        intArabic = retvalV.intArabic;\n        var retvalIV = this.generateNumber(intArabic, 4, 'IV');\n        retval += retvalIV.returnValue;\n        intArabic = retvalIV.intArabic;\n        var retvalI = this.generateNumber(intArabic, 1, 'I');\n        retval += retvalI.returnValue;\n        intArabic = retvalI.intArabic;\n        return retval.toString();\n    };\n    /**\n     * Converts `arabic to normal letters`.\n     * @private\n     */\n    PdfNumbersConvertor.arabicToLetter = function (arabic) {\n        var stack = this.convertToLetter(arabic);\n        var result = '';\n        while (stack.length > 0) {\n            var num = stack.pop();\n            result = this.appendChar(result, num);\n        }\n        return result.toString();\n    };\n    /**\n     * Generate a string value of an input number.\n     * @private\n     */\n    PdfNumbersConvertor.generateNumber = function (value, magnitude, letter) {\n        var numberstring = '';\n        while (value >= magnitude) {\n            value -= magnitude;\n            numberstring += letter;\n        }\n        return { returnValue: numberstring.toString(), intArabic: value };\n    };\n    /**\n     * Convert a input number into letters.\n     * @private\n     */\n    PdfNumbersConvertor.convertToLetter = function (arabic) {\n        if (arabic <= 0) {\n            throw Error('ArgumentOutOfRangeException-arabic, Value can not be less 0');\n        }\n        var stack = [];\n        while (arabic > this.letterLimit) {\n            var remainder = arabic % this.letterLimit;\n            if (remainder === 0.0) {\n                arabic = arabic / this.letterLimit - 1;\n                remainder = this.letterLimit;\n            }\n            else {\n                arabic /= this.letterLimit;\n            }\n            stack.push(remainder);\n        }\n        stack.push(arabic);\n        return stack;\n    };\n    /**\n     * Convert number to actual string value.\n     * @private\n     */\n    PdfNumbersConvertor.appendChar = function (builder, value) {\n        var letter = String.fromCharCode(PdfNumbersConvertor.acsiiStartIndex + value);\n        builder += letter;\n        return builder;\n    };\n    // Fields\n    /**\n     * numbers of letters in english [readonly].\n     * @default = 26.0\n     * @private\n     */\n    PdfNumbersConvertor.letterLimit = 26.0;\n    /**\n     * Resturns `acsii start index` value.\n     * @default 64\n     * @private\n     */\n    PdfNumbersConvertor.acsiiStartIndex = (65 - 1);\n    return PdfNumbersConvertor;\n}());\nexport { PdfNumbersConvertor };\n","/**\n * Represent class to store information about `template and value pairs`.\n * @private\n */\nvar PdfTemplateValuePair = /** @class */ (function () {\n    function PdfTemplateValuePair(template, value) {\n        // Fields\n        /**\n         * Internal variable to store template.\n         * @default null\n         * @private\n         */\n        this.pdfTemplate = null;\n        /**\n         * Intenal variable to store value.\n         * @private\n         */\n        this.content = '';\n        if (typeof template === 'undefined') {\n            //\n        }\n        else {\n            this.template = template;\n            this.value = value;\n        }\n    }\n    Object.defineProperty(PdfTemplateValuePair.prototype, \"template\", {\n        // Properties\n        /**\n         * Gets or sets the template.\n         * @private\n         */\n        get: function () {\n            return this.pdfTemplate;\n        },\n        set: function (value) {\n            this.pdfTemplate = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTemplateValuePair.prototype, \"value\", {\n        /**\n         * Gets or sets the value.\n         * @private\n         */\n        get: function () {\n            return this.content;\n        },\n        set: function (value) {\n            this.content = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTemplateValuePair;\n}());\nexport { PdfTemplateValuePair };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfAutomaticField.ts class for EJ2-PDF\n */\nimport { PdfAutomaticField } from './automatic-field';\nimport { TemporaryDictionary } from './../../collections/object-object-pair/dictionary';\nimport { PdfTemplateValuePair } from './pdf-template-value-pair';\nimport { SizeF, PointF } from './../../drawing/pdf-drawing';\nimport { PdfTemplate } from './../../graphics/figures/pdf-template';\n/**\n * Represents automatic field which has the same value within the `PdfGraphics`.\n */\nvar PdfMultipleValueField = /** @class */ (function (_super) {\n    __extends(PdfMultipleValueField, _super);\n    function PdfMultipleValueField() {\n        var _this = _super.call(this) || this;\n        //  Fields\n        /**\n         * Stores the instance of dictionary values of `graphics and template value pair`.\n         * @private\n         */\n        _this.list = new TemporaryDictionary();\n        return _this;\n    }\n    // Implementation\n    /* tslint:disable */\n    PdfMultipleValueField.prototype.performDraw = function (graphics, location, scalingX, scalingY) {\n        _super.prototype.performDrawHelper.call(this, graphics, location, scalingX, scalingY);\n        var value = this.getValue(graphics);\n        var template = new PdfTemplate(this.getSize());\n        this.list.setValue(graphics, new PdfTemplateValuePair(template, value));\n        var g = template.graphics;\n        var size = this.getSize();\n        template.graphics.drawString(value, this.getFont(), this.pen, this.getBrush(), 0, 0, size.width, size.height, this.stringFormat);\n        var drawLocation = new PointF(location.x + this.location.x, location.y + this.location.y);\n        graphics.drawPdfTemplate(template, drawLocation, new SizeF(template.width * scalingX, template.height * scalingY));\n    };\n    return PdfMultipleValueField;\n}(PdfAutomaticField));\nexport { PdfMultipleValueField };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PdfBrush } from './../../graphics/brushes/pdf-brush';\nimport { PdfNumberStyle } from './../../pages/enum';\nimport { PdfNumbersConvertor } from './pdf-numbers-convertor';\nimport { PdfMultipleValueField } from './multiple-value-field';\n/**\n * Represents PDF document `page number field`.\n * @public\n */\nvar PdfPageNumberField = /** @class */ (function (_super) {\n    __extends(PdfPageNumberField, _super);\n    function PdfPageNumberField(font, arg2) {\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * Stores the number style of the page number field.\n         * @private\n         */\n        _this.internalNumberStyle = PdfNumberStyle.Numeric;\n        if (typeof arg2 === 'undefined') {\n            _this.font = font;\n        }\n        else if (arg2 instanceof PdfBrush) {\n            _this.font = font;\n            _this.brush = arg2;\n        }\n        else {\n            _this.font = font;\n            _this.bounds = arg2;\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfPageNumberField.prototype, \"numberStyle\", {\n        // Properties\n        /**\n         * Gets and sets the number style of the page number field.\n         * @private\n         */\n        get: function () {\n            return this.internalNumberStyle;\n        },\n        set: function (value) {\n            this.internalNumberStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Return the `string` value of page number field.\n     * @public\n     */\n    PdfPageNumberField.prototype.getValue = function (graphics) {\n        var result = null;\n        var page = this.getPageFromGraphics(graphics);\n        result = this.internalGetValue(page);\n        return result;\n    };\n    /**\n     * Internal method to `get actual value of page number`.\n     * @private\n     */\n    PdfPageNumberField.prototype.internalGetValue = function (page) {\n        var document = page.document;\n        var pageIndex = document.pages.indexOf(page) + 1;\n        return PdfNumbersConvertor.convert(pageIndex, this.numberStyle);\n    };\n    return PdfPageNumberField;\n}(PdfMultipleValueField));\nexport { PdfPageNumberField };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfCompositeField.ts class for EJ2-PDF\n */\nimport { PdfMultipleValueField } from './multiple-value-field';\n/**\n * Represents class which can concatenate multiple automatic fields into single string.\n */\nvar PdfCompositeField = /** @class */ (function (_super) {\n    __extends(PdfCompositeField, _super);\n    // Constructor\n    /**\n     * Initialize a new instance of `PdfCompositeField` class.\n     * @param font Font of the field.\n     * @param brush Color of the field.\n     * @param text Content of the field.\n     * @param list List of the automatic fields in specific order based on the text content.\n     */\n    function PdfCompositeField(font, brush, text) {\n        var list = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            list[_i - 3] = arguments[_i];\n        }\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * Stores the array of automatic fields.\n         * @private\n         */\n        _this.internalAutomaticFields = null;\n        /**\n         * Stores the text value of the field.\n         * @private\n         */\n        _this.internalText = '';\n        _this.font = font;\n        _this.brush = brush;\n        _this.text = text;\n        _this.automaticFields = list;\n        return _this;\n    }\n    Object.defineProperty(PdfCompositeField.prototype, \"text\", {\n        // Properties\n        /**\n         * Gets and sets the content of the field.\n         * @public\n         */\n        get: function () {\n            return this.internalText;\n        },\n        set: function (value) {\n            this.internalText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfCompositeField.prototype, \"automaticFields\", {\n        /**\n         * Gets and sets the list of the field to drawn.\n         * @public\n         */\n        get: function () {\n            return this.internalAutomaticFields;\n        },\n        set: function (value) {\n            this.internalAutomaticFields = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * Return the actual value generated from the list of automatic fields.\n     * @public\n     */\n    PdfCompositeField.prototype.getValue = function (graphics) {\n        var values = [];\n        var text = this.text.toString();\n        if (typeof this.automaticFields !== 'undefined' && this.automaticFields != null && this.automaticFields.length > 0) {\n            for (var i = 0; i < this.automaticFields.length; i++) {\n                var automaticField = this.automaticFields[i];\n                text = text.replace('{' + i + '}', automaticField.getValue(graphics));\n            }\n        }\n        return text;\n    };\n    return PdfCompositeField;\n}(PdfMultipleValueField));\nexport { PdfCompositeField };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfSingleValueField.ts class for EJ2-PDF\n */\nimport { PdfAutomaticField } from './automatic-field';\nimport { TemporaryDictionary } from './../../collections/object-object-pair/dictionary';\nimport { PdfTemplateValuePair } from './pdf-template-value-pair';\nimport { PointF, SizeF } from './../../drawing/pdf-drawing';\nimport { PdfTemplate } from './../../graphics/figures/pdf-template';\n/**\n * Represents automatic field which has the same value in the whole document.\n */\nvar PdfSingleValueField = /** @class */ (function (_super) {\n    __extends(PdfSingleValueField, _super);\n    // Constructors\n    function PdfSingleValueField() {\n        var _this = _super.call(this) || this;\n        // Fields\n        /* tslint:disable */\n        _this.list = new TemporaryDictionary();\n        /* tslint:enable */\n        _this.painterGraphics = [];\n        return _this;\n    }\n    PdfSingleValueField.prototype.performDraw = function (graphics, location, scalingX, scalingY) {\n        _super.prototype.performDrawHelper.call(this, graphics, location, scalingX, scalingY);\n        var page = this.getPageFromGraphics(graphics);\n        var document = page.document;\n        var textValue = this.getValue(graphics);\n        /* tslint:disable */\n        if (this.list.containsKey(document)) {\n            var pair = this.list.getValue(document);\n            var drawLocation = new PointF(location.x + this.location.x, location.y + this.location.y);\n            graphics.drawPdfTemplate(pair.template, drawLocation, new SizeF(pair.template.width * scalingX, pair.template.height * scalingY));\n            this.painterGraphics.push(graphics);\n        }\n        else {\n            var size = this.getSize();\n            var template = new PdfTemplate(size);\n            this.list.setValue(document, new PdfTemplateValuePair(template, textValue));\n            template.graphics.drawString(textValue, this.getFont(), this.pen, this.getBrush(), 0, 0, size.width, size.height, this.stringFormat);\n            var drawLocation = new PointF(location.x + this.location.x, location.y + this.location.y);\n            graphics.drawPdfTemplate(template, drawLocation, new SizeF(template.width * scalingX, template.height * scalingY));\n            this.painterGraphics.push(graphics);\n        }\n        /* tslint:enable */\n    };\n    return PdfSingleValueField;\n}(PdfAutomaticField));\nexport { PdfSingleValueField };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfPageCountField.ts class for EJ2-PDF\n */\nimport { PdfSingleValueField } from './single-value-field';\nimport { PdfNumberStyle } from './../../pages/enum';\nimport { PdfBrush } from './../../graphics/brushes/pdf-brush';\nimport { PdfNumbersConvertor } from './pdf-numbers-convertor';\n/**\n * Represents total PDF document page count automatic field.\n */\nvar PdfPageCountField = /** @class */ (function (_super) {\n    __extends(PdfPageCountField, _super);\n    function PdfPageCountField(font, arg2) {\n        var _this = _super.call(this) || this;\n        // Fields\n        /**\n         * Stores the number style of the field.\n         * @private\n         */\n        _this.internalNumberStyle = PdfNumberStyle.Numeric;\n        if (typeof arg2 === 'undefined') {\n            _this.font = font;\n        }\n        else if (arg2 instanceof PdfBrush) {\n            _this.font = font;\n            _this.brush = arg2;\n        }\n        else {\n            _this.font = font;\n            _this.bounds = arg2;\n        }\n        return _this;\n    }\n    Object.defineProperty(PdfPageCountField.prototype, \"numberStyle\", {\n        // Properties\n        /**\n         * Gets and sets the number style of the field.\n         * @public\n         */\n        get: function () {\n            return this.internalNumberStyle;\n        },\n        set: function (value) {\n            this.internalNumberStyle = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Implementation\n    /**\n     * Return the actual value of the content to drawn.\n     * @public\n     */\n    PdfPageCountField.prototype.getValue = function (graphics) {\n        var result = null;\n        var page = this.getPageFromGraphics(graphics);\n        var document = page.section.parent.document;\n        var count = document.pages.count;\n        result = PdfNumbersConvertor.convert(count, this.numberStyle);\n        return result;\n    };\n    return PdfPageCountField;\n}(PdfSingleValueField));\nexport { PdfPageCountField };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * PdfTrueTypeFont.ts class for EJ2-PDF\n */\nimport { UnicodeTrueTypeFont } from './unicode-true-type-font';\nimport { PdfFont } from './pdf-font';\nimport { PdfFontStyle } from './enum';\nimport { PdfDocument } from './../../document/pdf-document';\nimport { PdfTextDirection } from './../enum';\nimport { RtlRenderer } from './rtl-renderer';\n//https://www.giftofspeed.com/base64-encoder/\nvar PdfTrueTypeFont = /** @class */ (function (_super) {\n    __extends(PdfTrueTypeFont, _super);\n    function PdfTrueTypeFont(base64String, size, style) {\n        var _this = _super.call(this, size) || this;\n        /**\n         * Indicates whether the font is embedded or not.\n         * @private\n         */\n        _this.isEmbedFont = false;\n        /**\n         * Indicates whether the font is unicoded or not.\n         * @private\n         */\n        _this.isUnicode = true;\n        if (style !== undefined) {\n            _this.createFontInternal(base64String, style);\n        }\n        else {\n            _this.createFontInternal(base64String, PdfFontStyle.Regular);\n        }\n        return _this;\n    }\n    PdfTrueTypeFont.prototype.equalsToFont = function (font) {\n        var result = false;\n        //let result : boolean = this.fontInternal.equalsToFont(font);\n        return result;\n    };\n    PdfTrueTypeFont.prototype.getLineWidth = function (line, format) {\n        var width = 0;\n        if (format !== null && typeof format !== 'undefined' && format.textDirection !== PdfTextDirection.None) {\n            var returnValue = this.getUnicodeLineWidth(line, /*out*/ width, format);\n            width = returnValue.width;\n        }\n        else {\n            width = this.fontInternal.getLineWidth(line);\n        }\n        var size = this.metrics.getSize(format);\n        width *= (PdfFont.charSizeMultiplier * size);\n        width = this.applyFormatSettings(line, format, width);\n        return width;\n    };\n    /**\n     * Returns width of the char.\n     */\n    PdfTrueTypeFont.prototype.getCharWidth = function (charCode, format) {\n        var codeWidth = this.fontInternal.getCharWidth(charCode);\n        var size = this.metrics.getSize(format);\n        codeWidth *= (0.001 * size);\n        return codeWidth;\n    };\n    //Implementation\n    PdfTrueTypeFont.prototype.createFontInternal = function (base64String, style) {\n        this.fontInternal = new UnicodeTrueTypeFont(base64String, this.size);\n        this.calculateStyle(style);\n        this.initializeInternals();\n    };\n    PdfTrueTypeFont.prototype.calculateStyle = function (style) {\n        var iStyle = this.fontInternal.ttfMetrics.macStyle;\n        if ((style & PdfFontStyle.Underline) !== 0) {\n            iStyle |= PdfFontStyle.Underline;\n        }\n        if ((style & PdfFontStyle.Strikeout) !== 0) {\n            iStyle |= PdfFontStyle.Strikeout;\n        }\n        this.setStyle(iStyle);\n    };\n    PdfTrueTypeFont.prototype.initializeInternals = function () {\n        var equalFont = null;\n        if (PdfDocument.enableCache) {\n            // Search for the similar fonts.\n            equalFont = PdfDocument.cache.search(this);\n        }\n        var internals = null;\n        // There is not equal font in the cache.\n        if (equalFont !== null && equalFont !== undefined) {\n            // Get the settings from the cached font.\n            internals = equalFont.getInternals();\n            var metrics = equalFont.metrics;\n            metrics = metrics.clone();\n            metrics.size = this.size;\n            this.metrics = metrics;\n            this.fontInternal = equalFont.fontInternal;\n        }\n        else {\n            if (equalFont == null) {\n                if (this.fontInternal instanceof UnicodeTrueTypeFont) {\n                    this.fontInternal.isEmbed = this.isEmbedFont;\n                }\n                this.fontInternal.createInternals();\n                internals = this.fontInternal.getInternals();\n                this.metrics = this.fontInternal.metrics;\n            }\n        }\n        this.metrics.isUnicodeFont = true;\n        this.setInternals(internals);\n        //this.ttfReader = (this.fontInternal as UnicodeTrueTypeFont).ttfReader;\n    };\n    /**\n     * Stores used symbols.\n     */\n    PdfTrueTypeFont.prototype.setSymbols = function (text) {\n        var internalFont = this.fontInternal;\n        if (internalFont != null) {\n            internalFont.setSymbols(text);\n        }\n    };\n    Object.defineProperty(PdfTrueTypeFont.prototype, \"Unicode\", {\n        /**\n         * Property\n         *\n         */\n        get: function () {\n            return this.isUnicode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // public get Font() : UnicodeTrueTypeFont {\n    //     return this.fontInternal as UnicodeTrueTypeFont;\n    // }\n    PdfTrueTypeFont.prototype.getUnicodeLineWidth = function (line, /*out*/ width, format) {\n        // if (line == null) {\n        //     throw new Error('ArgumentNullException : line');\n        // }\n        width = 0;\n        var glyphIndices = null;\n        var rtlRender = new RtlRenderer();\n        /* tslint:disable-next-line:max-line-length */\n        var result = rtlRender.getGlyphIndex(line, this, (format.textDirection === PdfTextDirection.RightToLeft) ? true : false, /*out*/ glyphIndices, true);\n        var resultGlyph = result.success;\n        glyphIndices = result.glyphs;\n        if (resultGlyph && glyphIndices !== null) {\n            var ttfReader = this.fontInternal.ttfReader;\n            for (var i = 0, len = glyphIndices.length; i < len; i++) {\n                var glyphIndex = glyphIndices[i];\n                var glyph = ttfReader.getGlyph(glyphIndex);\n                if (glyph !== null && typeof glyph !== 'undefined') {\n                    width += glyph.width;\n                }\n            }\n        }\n        return { success: resultGlyph, width: width };\n    };\n    return PdfTrueTypeFont;\n}(PdfFont));\nexport { PdfTrueTypeFont };\n","import * as events from '../base/constant';\nimport { PdfDocument, PdfGrid, PdfBorders, PdfPen, PdfPaddings } from '@syncfusion/ej2-pdf-export';\nimport { PdfStandardFont, PdfFontFamily, PdfFontStyle, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfTextAlignment, PdfColor, PdfSolidBrush, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, RectangleF, PdfPageTemplateElement } from '@syncfusion/ej2-pdf-export';\nimport { PointF, PdfPageNumberField, PdfCompositeField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageCountField, SizeF, PdfPageSettings, PdfPageOrientation } from '@syncfusion/ej2-pdf-export';\nimport { PdfTrueTypeFont } from '@syncfusion/ej2-pdf-export';\nimport { ExportHelper, ExportValueFormatter } from './export-helper';\nimport { Data } from '../actions/data';\nimport { SummaryModelGenerator, GroupSummaryModelGenerator, CaptionSummaryModelGenerator } from '../services/summary-model-generator';\nimport { compile, getEnumValue, isNullOrUndefined, detach } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { getValue } from '@syncfusion/ej2-base';\nimport { getUid, getPrintGridModel, measureColumnDepth, isExportColumns, updateColumnTypeForExportColumns, prepareColumns } from '../base/util';\n/**\n * `PDF Export` module is used to handle the exportToPDF action.\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * Constructor for the Grid PDF Export module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.hideColumnInclude = false;\n        this.currentViewData = false;\n        this.customDataSource = false;\n        this.isGrouping = false;\n        this.headerOnPages = [];\n        this.drawPosition = { xPosition: 0, yPosition: 0 };\n        this.parent = parent;\n        this.helper = new ExportHelper(parent);\n        this.gridPool = {};\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'PdfExport';\n    };\n    PdfExport.prototype.init = function (parent) {\n        this.exportValueFormatter = new ExportValueFormatter(parent.locale);\n        this.pdfDocument = undefined;\n        this.hideColumnInclude = false;\n        this.currentViewData = false;\n        this.parent = parent;\n        this.isGrouping = false;\n        this.isExporting = true;\n        parent.id = getUid('main-grid');\n        this.gridPool[parent.id] = false;\n        this.pdfPageSettings = new PdfPageSettings();\n    };\n    PdfExport.prototype.exportWithData = function (parent, pdfDoc, resolve, returnType, pdfExportProperties, isMultipleExport, reject) {\n        var _this = this;\n        this.init(parent);\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(parent, returnType, pdfExportProperties, isMultipleExport).then(function () {\n            _this.isExporting = false;\n            parent.trigger(events.pdfExportComplete, _this.isBlob ? { promise: _this.blobPromise } : {});\n            _this.parent.log('exporting_complete', _this.getModuleName());\n            resolve(_this.pdfDocument);\n        }).catch(function (e) {\n            reject(_this.pdfDocument);\n            _this.parent.trigger(events.actionFailure, e);\n        });\n    };\n    /**\n     * Used to map the input data\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {PdfExportProperties} pdfExportProperties - specifies the PdfExportProperties\n     * @param {boolean} isMultipleExport - specifies the isMultipleExport\n     * @param {Object} pdfDoc - specifies the pdfDoc\n     * @param {boolean} isBlob - speciies whether it is Blob or not\n     * @returns {void}\n     */\n    PdfExport.prototype.Map = function (parent, pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        var _this = this;\n        this.data = new Data(this.parent);\n        this.isBlob = isBlob;\n        this.gridPool = {};\n        var query = new Query();\n        if (parent.childGrid && !(!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.hierarchyExportMode === 'None')) {\n            parent.expandedRows = getPrintGridModel(parent).expandedRows;\n        }\n        var args = {\n            requestType: 'beforePdfExport', cancel: false,\n            headerPageNumbers: [], gridDrawPosition: { xPosition: 0, yPosition: 0 }, generateQuery: false\n        };\n        var gridObject = 'gridObject';\n        args[gridObject] = parent;\n        var can = 'cancel';\n        var generateQuery = 'generateQuery';\n        var header = 'headerPageNumbers';\n        var drawPos = 'gridDrawPosition';\n        parent.trigger(events.beforePdfExport, args);\n        if (args[can] === true) {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        if (isExportColumns(pdfExportProperties)) {\n            updateColumnTypeForExportColumns(pdfExportProperties, parent);\n        }\n        if (args[generateQuery]) {\n            query = ExportHelper.getQuery(parent, this.data);\n        }\n        this.headerOnPages = args[header];\n        this.drawPosition = args[drawPos];\n        this.parent.log('exporting_begin', this.getModuleName());\n        if (!isNullOrUndefined(pdfExportProperties) && !isNullOrUndefined(pdfExportProperties.dataSource)\n            && pdfExportProperties.dataSource instanceof DataManager) {\n            return new Promise(function (resolve, reject) {\n                pdfExportProperties.dataSource.executeQuery(query).then(function (returnType) {\n                    _this.exportWithData(parent, pdfDoc, resolve, returnType, pdfExportProperties, isMultipleExport, reject);\n                });\n            });\n        }\n        else if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.exportType === 'CurrentPage') {\n            return new Promise(function (resolve, reject) {\n                _this.exportWithData(parent, pdfDoc, resolve, _this.parent.getCurrentViewRecords(), pdfExportProperties, isMultipleExport, reject);\n            });\n        }\n        else {\n            var allPromise_1 = [];\n            allPromise_1.push(this.data.getData({}, ExportHelper.getQuery(parent, this.data)));\n            allPromise_1.push(this.helper.getColumnData(parent));\n            return new Promise(function (resolve, reject) {\n                Promise.all(allPromise_1).then(function (e) {\n                    _this.init(parent);\n                    if (!isNullOrUndefined(pdfDoc)) {\n                        _this.pdfDocument = pdfDoc;\n                    }\n                    else {\n                        _this.pdfDocument = new PdfDocument();\n                    }\n                    _this.processExport(parent, e[0], pdfExportProperties, isMultipleExport).then(function () {\n                        _this.isExporting = false;\n                        parent.trigger(events.pdfExportComplete, _this.isBlob ? { promise: _this.blobPromise } : {});\n                        _this.parent.log('exporting_complete', _this.getModuleName());\n                        resolve(_this.pdfDocument);\n                    }).catch(function (e) {\n                        reject(_this.pdfDocument);\n                        _this.parent.trigger(events.actionFailure, e);\n                    });\n                });\n            });\n        }\n    };\n    PdfExport.prototype.processExport = function (gObj, returnType, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        var pdfGrid;\n        this.processSectionExportProperties(section, pdfExportProperties);\n        var pdfPage = section.pages.add();\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        return new Promise(function (resolve, reject) {\n            pdfGrid = _this.processGridExport(gObj, returnType, pdfExportProperties);\n            _this.globalResolve = resolve;\n            _this.gridPool[gObj.id] = true;\n            _this.helper.checkAndExport(_this.gridPool, _this.globalResolve);\n        }).then(function () {\n            // draw the grid\n            var xPosition = 'xPosition';\n            var yPosition = 'yPosition';\n            pdfGrid.draw(pdfPage, _this.drawPosition[xPosition], _this.drawPosition[yPosition]);\n            _this.drawHeader(pdfExportProperties);\n            if (!isMultipleExport) {\n                // save the PDF\n                if (!_this.isBlob) {\n                    if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                        _this.pdfDocument.save(pdfExportProperties.fileName);\n                    }\n                    else {\n                        _this.pdfDocument.save('Export.pdf');\n                    }\n                }\n                else {\n                    _this.blobPromise = _this.pdfDocument.save();\n                }\n                _this.pdfDocument.destroy();\n                delete gObj.expandedRows;\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        if (!isNullOrUndefined(pdfExportProperties) && (!isNullOrUndefined(pdfExportProperties.pageOrientation)\n            || !isNullOrUndefined(pdfExportProperties.pageSize))) {\n            this.pdfPageSettings.orientation = (pdfExportProperties.pageOrientation === 'Landscape') ?\n                PdfPageOrientation.Landscape : PdfPageOrientation.Portrait;\n            this.pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            section.setPageSettings(this.pdfPageSettings);\n        }\n        return section;\n    };\n    PdfExport.prototype.processGridExport = function (gObj, returnType, pdfExportProperties) {\n        var allowHorizontalOverflow = true;\n        var isFrozen = this.parent.isFrozenGrid() && !this.parent.getFrozenColumns();\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            this.gridTheme = pdfExportProperties.theme;\n            allowHorizontalOverflow = isNullOrUndefined(pdfExportProperties.allowHorizontalOverflow) ?\n                true : pdfExportProperties.allowHorizontalOverflow;\n        }\n        var helper = new ExportHelper(gObj, this.helper.getForeignKeyData());\n        var dataSource = this.processExportProperties(pdfExportProperties, returnType.result);\n        var columns = isExportColumns(pdfExportProperties) ?\n            prepareColumns(pdfExportProperties.columns, gObj.enableColumnVirtualization) :\n            helper.getGridExportColumns(isFrozen ? gObj.getColumns() : gObj.columns);\n        columns = columns.filter(function (columns) { return isNullOrUndefined(columns.commands); });\n        var isGrouping = false;\n        if (gObj.groupSettings.columns.length) {\n            isGrouping = true;\n        }\n        if (gObj.childGrid && !isNullOrUndefined(pdfExportProperties)) {\n            gObj.hierarchyPrintMode = pdfExportProperties.hierarchyExportMode || 'Expanded';\n        }\n        // create a grid\n        var pdfGrid = new PdfGrid();\n        // get header theme style\n        var headerThemeStyle = this.getHeaderThemeStyle();\n        var border = headerThemeStyle.border;\n        var headerFont = headerThemeStyle.font;\n        var headerBrush = headerThemeStyle.brush;\n        var returnValue = helper.getHeaders(columns, this.hideColumnInclude);\n        // Column collection with respect to the records in the grid\n        var gridColumns = returnValue.columns;\n        // process grid header content\n        pdfGrid = this.processGridHeaders(gObj.groupSettings.columns.length, pdfGrid, returnValue.rows, gridColumns, border, headerFont, headerBrush, gObj, allowHorizontalOverflow, columns);\n        // set alignment, width and type of the values of the column\n        this.setColumnProperties(gridColumns, pdfGrid, helper, gObj, allowHorizontalOverflow);\n        var captionThemeStyle = this.getSummaryCaptionThemeStyle();\n        if (!isNullOrUndefined(dataSource) && dataSource.length) {\n            if (isGrouping) {\n                if (!isNullOrUndefined(captionThemeStyle.border)) {\n                    border = captionThemeStyle.border;\n                }\n                this.processGroupedRecords(pdfGrid, dataSource, gridColumns, gObj, border, 0, captionThemeStyle.font, captionThemeStyle.\n                    brush, captionThemeStyle.backgroundBrush, returnType, pdfExportProperties, helper, 0);\n            }\n            else {\n                this.processRecord(border, gridColumns, gObj, dataSource, pdfGrid, 0, pdfExportProperties, helper, 0);\n            }\n            if (!isNullOrUndefined(returnType.aggregates)) {\n                var summaryModel = new SummaryModelGenerator(gObj);\n                var sRows = void 0;\n                var column = summaryModel.getColumns();\n                column = column.filter(function (col) { return isNullOrUndefined(col.commands) && col.type !== 'checkbox'; });\n                if (gObj.aggregates.length && this.parent !== gObj) {\n                    gObj.aggregateModule.prepareSummaryInfo();\n                }\n                if (this.customDataSource) {\n                    sRows = summaryModel.generateRows(dataSource, returnType.aggregates);\n                }\n                else if (this.currentViewData) {\n                    sRows = summaryModel.generateRows(this.parent.getCurrentViewRecords(), returnType.aggregates);\n                }\n                else if (isGrouping) {\n                    sRows = summaryModel.generateRows(dataSource.records, returnType.aggregates);\n                }\n                else {\n                    sRows = summaryModel.generateRows(returnType.result, returnType.aggregates, null, null, column);\n                }\n                this.processAggregates(sRows, pdfGrid, border, captionThemeStyle.font, captionThemeStyle.brush, captionThemeStyle.backgroundBrush, false, null, null, null, isGrouping ? false : true);\n            }\n        }\n        else {\n            var row = pdfGrid.rows.addRow();\n            row.style.setBorder(border);\n        }\n        return pdfGrid;\n    };\n    PdfExport.prototype.getSummaryCaptionThemeStyle = function () {\n        if (!isNullOrUndefined(this.gridTheme) && !isNullOrUndefined(this.gridTheme.caption)) {\n            var fontSize = !isNullOrUndefined(this.gridTheme.caption.fontSize) ? this.gridTheme.caption.fontSize : 9.75;\n            var fontFamily = !isNullOrUndefined(this.gridTheme.caption.fontName) ?\n                this.getFontFamily(this.gridTheme.caption.fontName) : PdfFontFamily.Helvetica;\n            var fontStyle = this.getFontStyle(this.gridTheme.caption);\n            var pdfColor = new PdfColor(0, 0, 0);\n            if (!isNullOrUndefined(this.gridTheme.caption.fontColor)) {\n                var penBrushColor = this.hexToRgb(this.gridTheme.caption.fontColor);\n                pdfColor = new PdfColor(penBrushColor.r, penBrushColor.g, penBrushColor.b);\n            }\n            var borderCaption = this.gridTheme.caption.border ? this.getBorderStyle(this.gridTheme.caption.border) : null;\n            var font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n            if (!isNullOrUndefined(this.gridTheme.caption.font)) {\n                font = this.gridTheme.caption.font;\n            }\n            return { font: font, brush: new PdfSolidBrush(pdfColor), backgroundBrush: new PdfSolidBrush(new PdfColor(246, 246, 246)),\n                border: borderCaption };\n        }\n        else {\n            //Material theme\n            return { font: new PdfStandardFont(PdfFontFamily.Helvetica, 9.75), brush: new PdfSolidBrush(new PdfColor(0, 0, 0)),\n                backgroundBrush: new PdfSolidBrush(new PdfColor(246, 246, 246)) };\n        }\n    };\n    PdfExport.prototype.getGridPdfFont = function (args) {\n        var fontFamily = 'fontFamily';\n        var fontSize = 'fontSize';\n        var fontStyle = 'fontStyle';\n        var isTrueType = 'isTrueType';\n        var style = 0;\n        if (args.header && args.header.font) {\n            var headerFont = args.header.font[fontFamily];\n            var headerSize = args.header.font[fontSize];\n            var headerStyle = args.header.font[fontStyle];\n            style = (isNullOrUndefined(PdfFontStyle[headerStyle]) ? 0 : PdfFontStyle[headerStyle]);\n            if (args.header.font[isTrueType]) {\n                args.header.font = new PdfTrueTypeFont(headerFont, headerSize, style);\n            }\n            else {\n                var fontFamily_1 = !isNullOrUndefined(headerFont) ?\n                    this.getFontFamily(headerFont) : PdfFontFamily.Helvetica;\n                args.header.font = new PdfStandardFont(fontFamily_1, headerSize, style);\n            }\n        }\n        if (args.caption && args.caption.font) {\n            var captionFont = args.caption.font[fontFamily];\n            var captionSize = args.caption.font[fontSize];\n            var captionStyle = args.caption.font[fontStyle];\n            style = (isNullOrUndefined(PdfFontStyle[captionStyle]) ? 0 : PdfFontStyle[captionStyle]);\n            if (args.caption.font[isTrueType]) {\n                args.caption.font = new PdfTrueTypeFont(captionFont, captionSize, style);\n            }\n            else {\n                var fontFamily_2 = !isNullOrUndefined(captionFont) ?\n                    this.getFontFamily(captionFont) : PdfFontFamily.Helvetica;\n                args.caption.font = new PdfStandardFont(fontFamily_2, captionSize, style);\n            }\n        }\n        if (args.record && args.record.font) {\n            var recordFont = args.record.font[fontFamily];\n            var recordSize = args.record.font[fontSize];\n            var recordStyle = args.record.font[fontStyle];\n            style = (isNullOrUndefined(PdfFontStyle[recordStyle]) ? 0 : PdfFontStyle[recordStyle]);\n            if (args.record.font[isTrueType]) {\n                args.record.font = new PdfTrueTypeFont(recordFont, recordSize, style);\n            }\n            else {\n                var fontFamily_3 = !isNullOrUndefined(recordFont) ?\n                    this.getFontFamily(recordFont) : PdfFontFamily.Helvetica;\n                args.record.font = new PdfStandardFont(fontFamily_3, recordSize, style);\n            }\n        }\n    };\n    PdfExport.prototype.getHeaderThemeStyle = function () {\n        var border = new PdfBorders();\n        if (!isNullOrUndefined(this.gridTheme) && !isNullOrUndefined(this.gridTheme.header)) {\n            var fontFamily = !isNullOrUndefined(this.gridTheme.header.fontName) ?\n                this.getFontFamily(this.gridTheme.header.fontName) : PdfFontFamily.Helvetica;\n            var fontStyle = this.getFontStyle(this.gridTheme.header);\n            var fontSize = !isNullOrUndefined(this.gridTheme.header.fontSize) ? this.gridTheme.header.fontSize : 10.5;\n            var pdfColor = new PdfColor();\n            if (!isNullOrUndefined(this.gridTheme.header.fontColor)) {\n                var penBrushColor = this.hexToRgb(this.gridTheme.header.fontColor);\n                pdfColor = new PdfColor(penBrushColor.r, penBrushColor.g, penBrushColor.b);\n            }\n            var font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n            if (!isNullOrUndefined(this.gridTheme.header.font)) {\n                font = this.gridTheme.header.font;\n            }\n            return { border: this.getBorderStyle(this.gridTheme.header.border), font: font, brush: new PdfSolidBrush(pdfColor) };\n        }\n        else {\n            //Material theme\n            border.all = new PdfPen(new PdfColor(234, 234, 234));\n            return { border: border, font: new PdfStandardFont(PdfFontFamily.Helvetica, 10.5),\n                brush: new PdfSolidBrush(new PdfColor(102, 102, 102)) };\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    PdfExport.prototype.processGroupedRecords = function (pdfGrid, dataSource, gridColumns, gObj, border, level, font, brush, backgroundBrush, returnType, pdfExportProperties, helper, index) {\n        var _this = this;\n        var groupIndex = level;\n        var _loop_1 = function (dataSourceItems) {\n            var row = pdfGrid.rows.addRow();\n            var col = gObj.getColumnByField(dataSourceItems.field);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var args = {\n                value: dataSourceItems.key,\n                column: col,\n                style: undefined,\n                isForeignKey: col.isForeignColumn()\n            };\n            var value = this_1.parent.getColumnByField(dataSourceItems.field).headerText + ': ' + (!col.enableGroupByFormat ? this_1.exportValueFormatter.formatCellValue(args) : dataSourceItems.key) + ' - ' + dataSourceItems.count + (dataSource.count > 1 ? ' items' : ' item');\n            var cArgs = { captionText: value, type: 'PDF', data: dataSourceItems };\n            this_1.parent.trigger(events.exportGroupCaption, cArgs, function (cArgs) {\n                row.cells.getCell(groupIndex).value = cArgs.captionText;\n                row.cells.getCell(groupIndex).style.stringFormat = new PdfStringFormat(PdfTextAlignment.Left);\n                row.style.setBorder(border);\n                row.style.setFont(font);\n                row.style.setTextBrush(brush);\n                row.style.setBackgroundBrush(backgroundBrush);\n                var sRows;\n                var captionSummaryModel = new CaptionSummaryModelGenerator(gObj);\n                if (!isNullOrUndefined(dataSourceItems.items.records)) {\n                    sRows = captionSummaryModel.generateRows(dataSourceItems.items.records, dataSourceItems);\n                }\n                else {\n                    sRows = captionSummaryModel.generateRows(dataSourceItems.items, dataSourceItems);\n                }\n                if (!isNullOrUndefined(sRows) && sRows.length === 0) {\n                    row.cells.getCell(groupIndex + 1).columnSpan = pdfGrid.columns.count - (groupIndex + 1);\n                }\n                if (!isNullOrUndefined(dataSource.childLevels) && dataSource.childLevels > 0) {\n                    _this.processAggregates(sRows, pdfGrid, border, font, brush, backgroundBrush, true, row, groupIndex);\n                    _this.processGroupedRecords(pdfGrid, dataSourceItems.items, gridColumns, gObj, border, (groupIndex + 1), font, brush, backgroundBrush, returnType, pdfExportProperties, helper, index);\n                    var groupSummaryModel = new GroupSummaryModelGenerator(gObj);\n                    sRows = groupSummaryModel.generateRows(dataSourceItems.items.records, dataSourceItems);\n                    _this.processAggregates(sRows, pdfGrid, border, font, brush, backgroundBrush, false);\n                }\n                else {\n                    _this.processAggregates(sRows, pdfGrid, border, font, brush, backgroundBrush, true, row, groupIndex);\n                    index = _this.processRecord(border, gridColumns, gObj, dataSourceItems.items, pdfGrid, (groupIndex + 1), pdfExportProperties, helper, index);\n                    var groupSummaryModel = new GroupSummaryModelGenerator(gObj);\n                    sRows = groupSummaryModel.generateRows(dataSourceItems.items, dataSourceItems);\n                    var isGroupedFooter = true;\n                    _this.processAggregates(sRows, pdfGrid, border, font, brush, backgroundBrush, false, null, null, isGroupedFooter);\n                }\n            });\n        };\n        var this_1 = this;\n        for (var _i = 0, dataSource_1 = dataSource; _i < dataSource_1.length; _i++) {\n            var dataSourceItems = dataSource_1[_i];\n            _loop_1(dataSourceItems);\n        }\n    };\n    PdfExport.prototype.processGridHeaders = function (childLevels, pdfGrid, rows, gridColumn, border, headerFont, headerBrush, grid, allowHorizontalOverflow, eCols) {\n        var _this = this;\n        var columnCount = gridColumn.length + childLevels;\n        var depth = measureColumnDepth(eCols);\n        var cols = eCols;\n        var index = 0;\n        var rowNumber = [];\n        for (var i = 0; i < rows.length; i++) {\n            rowNumber[i] = 0;\n        }\n        if (this.parent.groupSettings.columns.length) {\n            index = this.parent.groupSettings.columns.length - 1;\n            columnCount = columnCount - 1;\n        }\n        pdfGrid.columns.add(columnCount);\n        pdfGrid.headers.add(rows.length);\n        var applyTextAndSpan = function (rowIdx, colIdx, col, rowSpan, colSpan) {\n            var gridHeader = pdfGrid.headers.getHeader(rowIdx);\n            var pdfCell = gridHeader.cells.getCell(colIdx);\n            var cell = rows[rowIdx].cells[rowNumber[rowIdx]];\n            rowNumber[rowIdx] = rowNumber[rowIdx] + 1;\n            if (!isNullOrUndefined(col.headerTextAlign)) {\n                pdfCell.style.stringFormat = _this.getHorizontalAlignment(col.headerTextAlign);\n            }\n            if (rowSpan > 0) {\n                pdfCell.rowSpan = rowSpan;\n                pdfCell.style.stringFormat = _this.getVerticalAlignment('Bottom', pdfCell.style.stringFormat, col.textAlign);\n            }\n            if (colSpan > 0) {\n                pdfCell.columnSpan = colSpan;\n            }\n            gridHeader.style.setBorder(border);\n            gridHeader.style.setFont(headerFont);\n            gridHeader.style.setTextBrush(headerBrush);\n            pdfCell.value = col.headerText;\n            if (!isNullOrUndefined(cell) && (cell.cellType === CellType.HeaderIndent || cell.cellType === CellType.DetailHeader)) {\n                pdfCell.value = '';\n                pdfCell.width = 20;\n            }\n            var args = {\n                cell: pdfCell,\n                gridCell: cell,\n                style: pdfCell.style\n            };\n            _this.parent.trigger(events.pdfHeaderQueryCellInfo, args);\n            var evtArgs = args;\n            if (!isNullOrUndefined(evtArgs.image)) {\n                pdfCell.value = new PdfBitmap(evtArgs.image.base64);\n            }\n            if (!isNullOrUndefined(evtArgs.hyperLink)) {\n                pdfCell.value = _this.setHyperLink(evtArgs);\n            }\n        };\n        var recuHeader = function (cols, depth, spanCnt, colIndex, rowIndex, isRoot) {\n            var cidx = 0;\n            for (var i = 0; i < cols.length; i++) {\n                if (isRoot) {\n                    cidx = cidx + spanCnt + (i === 0 ? 0 : -1);\n                    colIndex = cidx;\n                    spanCnt = 0;\n                }\n                if (!isRoot && !cols[i].visible) {\n                    colIndex = colIndex - 1;\n                }\n                if (cols[i].columns && cols[i].columns.length) {\n                    var newSpanCnt = recuHeader(cols[i].columns, depth - 1, 0, i + colIndex, rowIndex + 1, false);\n                    applyTextAndSpan(rowIndex, i + colIndex + index, cols[i], 0, newSpanCnt);\n                    spanCnt = spanCnt + newSpanCnt;\n                    colIndex = colIndex + newSpanCnt - 1;\n                }\n                else if (cols[i].visible || _this.hideColumnInclude) {\n                    spanCnt++;\n                    applyTextAndSpan(rowIndex, i + colIndex + index, cols[i], depth, 0);\n                }\n            }\n            return spanCnt;\n        };\n        recuHeader(cols, depth, 0, 0, 0, true);\n        if (pdfGrid.columns.count >= 6 && allowHorizontalOverflow) {\n            pdfGrid.style.allowHorizontalOverflow = true;\n        }\n        return pdfGrid;\n    };\n    PdfExport.prototype.processExportProperties = function (pdfExportProperties, dataSource) {\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            if (!isNullOrUndefined(pdfExportProperties.theme)) {\n                this.gridTheme = pdfExportProperties.theme;\n            }\n            var clientSize = this.pdfPageSettings.size;\n            this.drawHeader(pdfExportProperties);\n            if (!isNullOrUndefined(pdfExportProperties.footer)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var footer = pdfExportProperties.footer;\n                var position = new PointF(0, ((clientSize.width - 80) - (footer.fromBottom * 0.75)));\n                var size = new SizeF((clientSize.width - 80), (footer.height * 0.75));\n                var bounds = new RectangleF(position, size);\n                this.pdfDocument.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n            }\n            if (!isNullOrUndefined(pdfExportProperties.includeHiddenColumn) && !this.isGrouping) {\n                this.hideColumnInclude = pdfExportProperties.includeHiddenColumn;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.dataSource)) {\n                if (!(pdfExportProperties.dataSource instanceof DataManager)) {\n                    dataSource = pdfExportProperties.dataSource;\n                }\n                this.customDataSource = true;\n                this.currentViewData = false;\n            }\n            else if (!isNullOrUndefined(pdfExportProperties.exportType)) {\n                if (pdfExportProperties.exportType === 'CurrentPage') {\n                    dataSource = this.parent.currentViewData;\n                    this.currentViewData = true;\n                    this.customDataSource = false;\n                }\n                else {\n                    this.currentViewData = false;\n                    this.customDataSource = false;\n                }\n            }\n            else {\n                this.currentViewData = false;\n                this.customDataSource = false;\n            }\n        }\n        else {\n            this.currentViewData = false;\n            this.customDataSource = false;\n        }\n        return dataSource;\n    };\n    PdfExport.prototype.drawHeader = function (pdfExportProperties) {\n        var _this = this;\n        var clientSize = this.pdfPageSettings.size;\n        if (!isNullOrUndefined(pdfExportProperties) && !isNullOrUndefined(pdfExportProperties.header)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var header = pdfExportProperties.header;\n            var position = new PointF(0, header.fromTop);\n            var size = new SizeF((clientSize.width - 80), (header.height * 0.75));\n            var bounds = new RectangleF(position, size);\n            if (!this.headerOnPages.length) {\n                this.pdfDocument.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), header);\n            }\n            else {\n                var headerTemplate_1 = this.drawPageTemplate(new PdfPageTemplateElement(bounds), header);\n                this.headerOnPages.filter(function (index) {\n                    if (index - 1 >= 0 && index - 1 < _this.pdfDocument.pages.count - 1) {\n                        _this.pdfDocument.pages.getPageByIndex(index - 1).graphics\n                            .drawPdfTemplate(headerTemplate_1.template, new PointF(0, 0));\n                    }\n                });\n            }\n        }\n    };\n    PdfExport.prototype.drawPageTemplate = function (template, element) {\n        for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n            var content = _a[_i];\n            this.processContentValidation(content);\n            switch (content.type) {\n                case 'Text':\n                    if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n                        throw new Error('please enter the valid input value in text content...');\n                    }\n                    this.drawText(template, content);\n                    break;\n                case 'PageNumber':\n                    this.drawPageNumber(template, content);\n                    break;\n                case 'Image':\n                    if (content.src === undefined || content.src === null || content.src === '') {\n                        throw new Error('please enter the valid base64 string in image content...');\n                    }\n                    this.drawImage(template, content);\n                    break;\n                case 'Line':\n                    this.drawLine(template, content);\n                    break;\n                default:\n                    throw new Error('Please set valid content type...');\n            }\n        }\n        return template;\n    };\n    PdfExport.prototype.processContentValidation = function (content) {\n        if (content.type === undefined || content.type === null) {\n            throw new Error('please set valid content type...');\n        }\n        else {\n            if (content.type === 'Line') {\n                if (content.points === undefined || content.points === null) {\n                    throw new Error('please enter valid points in ' + content.type + ' content...');\n                }\n                else {\n                    if (content.points.x1 === undefined || content.points.x1 === null || typeof content.points.x1 !== 'number') {\n                        throw new Error('please enter valid x1 co-ordinate in ' + content.type + ' points...');\n                    }\n                    if (content.points.y1 === undefined || content.points.y1 === null || typeof content.points.y1 !== 'number') {\n                        throw new Error('please enter valid y1 co-ordinate in ' + content.type + ' points...');\n                    }\n                    if (content.points.x2 === undefined || content.points.x2 === null || typeof content.points.x2 !== 'number') {\n                        throw new Error('please enter valid x2 co-ordinate in ' + content.type + ' points...');\n                    }\n                    if (content.points.y2 === undefined || content.points.y2 === null || typeof content.points.y2 !== 'number') {\n                        throw new Error('please enter valid y2 co-ordinate in ' + content.type + ' points...');\n                    }\n                }\n            }\n            else {\n                if (content.position === undefined || content.position === null) {\n                    throw new Error('please enter valid position in ' + content.type + ' content...');\n                }\n                else {\n                    if (content.position.x === undefined || content.position.x === null || typeof content.position.x !== 'number') {\n                        throw new Error('please enter valid x co-ordinate in ' + content.type + ' position...');\n                    }\n                    if (content.position.y === undefined || content.position.y === null || typeof content.position.y !== 'number') {\n                        throw new Error('please enter valid y co-ordinate in ' + content.type + ' position...');\n                    }\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    PdfExport.prototype.drawText = function (pageTemplate, content) {\n        var font = this.getFont(content);\n        var brush = this.getBrushFromContent(content);\n        var pen = null;\n        if (!isNullOrUndefined(content.style.textPenColor)) {\n            var penColor = this.hexToRgb(content.style.textPenColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        if (brush == null && pen == null) {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var value = content.value.toString();\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var format = new PdfStringFormat();\n        var result = this.setContentFormat(content, format);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n        }\n        else {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    PdfExport.prototype.drawPageNumber = function (documentHeader, content) {\n        var font = this.getFont(content);\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        else {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var pageNumber = new PdfPageNumberField(font, brush);\n        pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        var compositeField;\n        var format;\n        if (!isNullOrUndefined(content.format)) {\n            var total = '$total';\n            var current = '$current';\n            if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n                var pageCount = new PdfPageCountField(font);\n                pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n                if (content.format.indexOf(total) > content.format.indexOf(current)) {\n                    format = content.format.replace(current, '0');\n                    format = format.replace(total, '1');\n                }\n                else {\n                    format = content.format.replace(current, '1');\n                    format = format.replace(total, '0');\n                }\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n            }\n            else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n                format = content.format.replace(current, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n            }\n            else {\n                var pageCount = new PdfPageCountField(font);\n                format = content.format.replace(total, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageCount);\n            }\n        }\n        else {\n            format = '{0}';\n            compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n        }\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var result = this.setContentFormat(content, compositeField.stringFormat);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            compositeField.stringFormat = result.format;\n            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n        }\n        compositeField.draw(documentHeader.graphics, x, y);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    PdfExport.prototype.drawImage = function (documentHeader, content) {\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var width = (!isNullOrUndefined(content.size)) ? (content.size.width * 0.75) : undefined;\n        var height = (!isNullOrUndefined(content.size)) ? (content.size.height * 0.75) : undefined;\n        var image = new PdfBitmap(content.src);\n        if (!isNullOrUndefined(width)) {\n            documentHeader.graphics.drawImage(image, x, y, width, height);\n        }\n        else {\n            documentHeader.graphics.drawImage(image, x, y);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    PdfExport.prototype.drawLine = function (documentHeader, content) {\n        var x1 = content.points.x1 * 0.75;\n        var y1 = content.points.y1 * 0.75;\n        var x2 = content.points.x2 * 0.75;\n        var y2 = content.points.y2 * 0.75;\n        var pen = this.getPenFromContent(content);\n        if (!isNullOrUndefined(content.style) && content.style !== null) {\n            if (!isNullOrUndefined(content.style.penSize) && content.style.penSize !== null && typeof content.style.penSize === 'number') {\n                pen.width = content.style.penSize * 0.75;\n            }\n            pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n        }\n        documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n    };\n    PdfExport.prototype.processAggregates = function (sRows, pdfGrid, border, font, brush, backgroundBrush, isCaption, captionRow, groupIndex, isGroupedFooter, isAggregate) {\n        for (var _i = 0, sRows_1 = sRows; _i < sRows_1.length; _i++) {\n            var row = sRows_1[_i];\n            var leastCaptionSummaryIndex = -1;\n            var index = 0;\n            var isEmpty = true;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var value = [];\n            var aggIdx = isAggregate ? 0 : 1;\n            for (var i = 0; i < pdfGrid.columns.count + aggIdx; i++) {\n                var cell = row.cells[index];\n                if (cell.cellType === CellType.DetailFooterIntent) {\n                    i--;\n                    index++;\n                    continue;\n                }\n                if (!this.hideColumnInclude) {\n                    while (cell.visible === undefined) {\n                        if (cell.cellType === CellType.DetailFooterIntent) {\n                            continue;\n                        }\n                        if (!isNullOrUndefined(captionRow)) {\n                            if (!isNullOrUndefined(captionRow.cells.getCell(i).value)) {\n                                var args = { row: row, type: 'GroupCaption', style: captionRow.cells };\n                                this.parent.trigger(events.pdfAggregateQueryCellInfo, args);\n                                value.push(captionRow.cells.getCell(i).value);\n                                isEmpty = false;\n                                if (!isCaption) {\n                                    i += 1;\n                                }\n                            }\n                            else {\n                                value.push('');\n                            }\n                        }\n                        else {\n                            value.push('');\n                        }\n                        i += 1;\n                        index = index + 1;\n                        cell = row.cells[index];\n                    }\n                    while (!isNullOrUndefined(cell.visible) && !cell.visible) {\n                        index = index + 1;\n                        cell = row.cells[index];\n                    }\n                }\n                if (cell.isDataCell) {\n                    var templateFn = {};\n                    if (!isNullOrUndefined(cell.column.footerTemplate) || !isNullOrUndefined(cell.column.groupCaptionTemplate)\n                        || !isNullOrUndefined(cell.column.groupFooterTemplate)) {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var result = this.getTemplateFunction(templateFn, i, leastCaptionSummaryIndex, cell);\n                        templateFn = result.templateFunction;\n                        leastCaptionSummaryIndex = result.leastCaptionSummaryIndex;\n                        var txt = void 0;\n                        var data = row.data[cell.column.field ? cell.column.field : cell.column.columnName];\n                        if (this.parent.isReact || this.parent.isVue) {\n                            txt = (templateFn[getEnumValue(CellType, cell.cellType)](data, this.parent));\n                            if (this.parent.isReact) {\n                                this.parent.renderTemplates();\n                            }\n                        }\n                        else {\n                            txt = (templateFn[getEnumValue(CellType, cell.cellType)](data));\n                        }\n                        value.push(txt[0].textContent);\n                        isEmpty = false;\n                    }\n                    else {\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        var result = this.getSummaryWithoutTemplate(row.data[cell.column.field]);\n                        if (!isNullOrUndefined(result)) {\n                            value.push(result);\n                        }\n                    }\n                }\n                else {\n                    value.push('');\n                }\n                if (isEmpty && value[i] !== '' && !isNullOrUndefined(value[i]) && value[i] !== null) {\n                    isEmpty = false;\n                }\n                index += 1;\n            }\n            if (!isAggregate) {\n                if (!isCaption) {\n                    value.splice(0, 1);\n                }\n                else {\n                    for (var i = this.parent.groupSettings.columns.length; i < value.length - 1; i++) {\n                        value[i] = value[i + 1];\n                        value[i + 1] = value[i + 2] ? value[i + 2] : '';\n                    }\n                }\n            }\n            if (!isEmpty) {\n                if (!isCaption) {\n                    var gridRow = pdfGrid.rows.addRow();\n                    gridRow.style.setBorder(border);\n                    gridRow.style.setFont(font);\n                    gridRow.style.setTextBrush(brush);\n                    gridRow.style.setBackgroundBrush(backgroundBrush);\n                    var args = {\n                        row: row, type: isGroupedFooter ? 'GroupFooter' : 'Footer', style: gridRow.cells\n                    };\n                    this.parent.trigger(events.pdfAggregateQueryCellInfo, args);\n                    for (var i = 0; i < pdfGrid.columns.count; i++) {\n                        gridRow.cells.getCell(i).value = value[i].toString();\n                    }\n                }\n                else {\n                    for (var i = 0; i < pdfGrid.columns.count; i++) {\n                        captionRow.cells.getCell(i).value = value[i].toString();\n                        if (i === groupIndex && leastCaptionSummaryIndex !== -1 && leastCaptionSummaryIndex !== 1) {\n                            captionRow.cells.getCell(i).columnSpan = (leastCaptionSummaryIndex - 1) - groupIndex;\n                        }\n                        else if (i === groupIndex && leastCaptionSummaryIndex === -1) {\n                            captionRow.cells.getCell(i).columnSpan = pdfGrid.columns.count - groupIndex;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    PdfExport.prototype.getTemplateFunction = function (templateFn, index, leastCaptionSummaryIndex, cell) {\n        if (!isNullOrUndefined(cell.column.footerTemplate) && cell.cellType === CellType.Summary) {\n            templateFn[getEnumValue(CellType, CellType.Summary)] = compile(cell.column.footerTemplate);\n        }\n        else if (!isNullOrUndefined(cell.column.groupCaptionTemplate)) {\n            if (leastCaptionSummaryIndex === -1) {\n                leastCaptionSummaryIndex = index;\n            }\n            templateFn[getEnumValue(CellType, CellType.CaptionSummary)] = compile(cell.column.groupCaptionTemplate);\n        }\n        else {\n            templateFn[getEnumValue(CellType, CellType.GroupSummary)] = compile(cell.column.groupFooterTemplate);\n        }\n        return { templateFunction: templateFn, leastCaptionSummaryIndex: leastCaptionSummaryIndex };\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    PdfExport.prototype.getSummaryWithoutTemplate = function (data) {\n        if (!isNullOrUndefined(data.Sum)) {\n            return data.Sum;\n        }\n        else if (!isNullOrUndefined(data.Average)) {\n            return data.Average;\n        }\n        else if (!isNullOrUndefined(data.Max)) {\n            return data.Max;\n        }\n        else if (!isNullOrUndefined(data.Min)) {\n            return data.Min;\n        }\n        else if (!isNullOrUndefined(data.Count)) {\n            return data.Count;\n        }\n        else if (!isNullOrUndefined(data.TrueCount)) {\n            return data.TrueCount;\n        }\n        else if (!isNullOrUndefined(data.FalseCount)) {\n            return data.FalseCount;\n        }\n        else if (!isNullOrUndefined(data.Custom)) {\n            return data.Custom;\n        }\n    };\n    /**\n     * Set alignment, width and type of the values of the column\n     *\n     * @param {Column[]} gridColumns - specifies the grid column\n     * @param {PdfGrid} pdfGrid - specifies the pdfGrid\n     * @param {ExportHelper} helper - specifies the helper\n     * @param {IGrid} gObj - specifies the IGrid\n     * @param {boolean} allowHorizontalOverflow - specifies the allowHorizontalOverflow\n     * @returns {void}\n     */\n    PdfExport.prototype.setColumnProperties = function (gridColumns, pdfGrid, helper, gObj, allowHorizontalOverflow) {\n        var startIndex = gObj.groupSettings.columns.length ? gObj.groupSettings.columns.length - 1 : 0;\n        for (var i = 0; i < startIndex; i++) {\n            pdfGrid.columns.getColumn(i).width = 20;\n        }\n        for (var i = 0; i < gridColumns.length; i++) {\n            if (!isNullOrUndefined(gridColumns[i].textAlign)) {\n                pdfGrid.columns.getColumn(i + startIndex).format = this.getHorizontalAlignment(gridColumns[i].textAlign);\n            }\n            // Need to add width consideration with % value\n            if (pdfGrid.style.allowHorizontalOverflow && !isNullOrUndefined(gridColumns[i].width) && allowHorizontalOverflow) {\n                pdfGrid.columns.getColumn(i + startIndex).width = typeof gridColumns[i].width === 'number' ?\n                    gridColumns[i].width * 0.75 : helper.getConvertedWidth(gridColumns[i].width) * 0.75;\n            }\n        }\n    };\n    /**\n     * set default style properties of each rows in exporting grid\n     *\n     * @param {PdfGridRow} row - specifies the PdfGridRow\n     * @param {PdfBorders} border - specifies the PdfBorders\n     * @returns {PdfGrid} returns the pdfgrid\n     * @private\n     */\n    PdfExport.prototype.setRecordThemeStyle = function (row, border) {\n        if (!isNullOrUndefined(this.gridTheme) && !isNullOrUndefined(this.gridTheme.record)) {\n            var fontFamily = !isNullOrUndefined(this.gridTheme.record.fontName) ?\n                this.getFontFamily(this.gridTheme.record.fontName) : PdfFontFamily.Helvetica;\n            var fontSize = !isNullOrUndefined(this.gridTheme.record.fontSize) ? this.gridTheme.record.fontSize : 9.75;\n            var fontStyle = this.getFontStyle(this.gridTheme.record);\n            var font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n            if (!isNullOrUndefined(this.gridTheme.record.font)) {\n                font = this.gridTheme.record.font;\n            }\n            row.style.setFont(font);\n            var pdfColor = new PdfColor();\n            if (!isNullOrUndefined(this.gridTheme.record.fontColor)) {\n                var penBrushColor = this.hexToRgb(this.gridTheme.record.fontColor);\n                pdfColor = new PdfColor(penBrushColor.r, penBrushColor.g, penBrushColor.b);\n            }\n            row.style.setTextBrush(new PdfSolidBrush(pdfColor));\n        }\n        else {\n            row.style.setTextBrush(new PdfSolidBrush(new PdfColor(0, 0, 0)));\n        }\n        var borderRecord = this.gridTheme && this.gridTheme.record &&\n            this.gridTheme.record.border ? this.getBorderStyle(this.gridTheme.record.border) : border;\n        row.style.setBorder(borderRecord);\n        return row;\n    };\n    /**\n     * generate the formatted cell values\n     *\n     * @param {PdfBorders} border - specifies the border\n     * @param {Column[]} columns - specifies the columns\n     * @param {IGrid} gObj - specifies the IGrid\n     * @param {Object[]} dataSource - specifies the datasource\n     * @param {PdfGrid} pdfGrid - specifies the pdfGrid\n     * @param {number} startIndex - specifies the startindex\n     * @param {PdfExportProperties} pdfExportProperties - specifies the pdfExportProperties\n     * @param {ExportHelper} helper - specifies the helper\n     * @param {number} rowIndex - specifies the rowIndex\n     * @returns {number} returns the number of records\n     * @private\n     */\n    PdfExport.prototype.processRecord = function (border, columns, gObj, dataSource, pdfGrid, startIndex, pdfExportProperties, helper, rowIndex) {\n        var rows = helper.getGridRowModel(columns, dataSource, gObj, rowIndex);\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            rowIndex++;\n            // create a new row and set default style properties\n            var gridRow = this.setRecordThemeStyle(pdfGrid.rows.addRow(), border);\n            var cellLength = row.cells.length;\n            for (var j = 0; j < cellLength; j++) {\n                var gridCell = row.cells[j];\n                if (gridCell.cellType !== CellType.Data) {\n                    continue;\n                }\n                var column = gridCell.column;\n                var field = column.field;\n                var cellValue = !isNullOrUndefined(field) ? column.valueAccessor(field, row.data, column) : '';\n                var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n                var foreignKeyData = void 0;\n                if (column.isForeignColumn && column.isForeignColumn()) {\n                    foreignKeyData = helper.getFData(value, column);\n                    value = getValue(column.foreignKeyValue, foreignKeyData);\n                }\n                var data = row.data;\n                var cell = gridRow.cells.getCell(j);\n                var args = {\n                    data: data,\n                    value: value,\n                    column: column,\n                    style: undefined,\n                    colSpan: 1,\n                    cell: cell\n                };\n                args.value = args.column.type === 'boolean' && typeof args.value === 'string' ? args.value :\n                    this.exportValueFormatter.formatCellValue(args);\n                this.parent.trigger(events.pdfQueryCellInfo, args);\n                if (!isNullOrUndefined(args.image)) {\n                    args.value = new PdfBitmap(args.image.base64);\n                    args.value.height = args.image.height || args.value.height;\n                    args.value.width = args.image.width || args.value.width;\n                }\n                cell.value = args.value;\n                if (!isNullOrUndefined(args.hyperLink)) {\n                    cell.value = this.setHyperLink(args);\n                }\n                if (!isNullOrUndefined(args.style)) {\n                    this.processCellStyle(cell, args);\n                }\n                if (args.colSpan > 1) {\n                    if ((j + 1 + args.colSpan) > gridRow.cells.count) {\n                        args.colSpan = gridRow.cells.count - (j + 1);\n                    }\n                    cell.columnSpan = args.colSpan;\n                    for (var i = 1; i < cell.columnSpan; i++) {\n                        var spanCell = gridRow.cells.getCell(j + i);\n                        spanCell.value = '';\n                    }\n                    j += (args.colSpan - 1);\n                }\n            }\n            if (row.isExpand) {\n                var gridRow_1 = this.setRecordThemeStyle(pdfGrid.rows.addRow(), border);\n                var cell = gridRow_1.cells.getCell(startIndex);\n                cell.columnSpan = gridRow_1.cells.count - (startIndex);\n                cell.style.cellPadding = new PdfPaddings(10, 10, 10, 10);\n                gObj.isPrinting = true;\n                var exportType = (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.exportType) ?\n                    pdfExportProperties.exportType : 'AllPages';\n                var returnValue = this.helper.createChildGrid(gObj, row, exportType, this.gridPool);\n                var childGridObj = returnValue.childGrid;\n                var element = returnValue.element;\n                childGridObj.actionFailure =\n                    helper.failureHandler(this.gridPool, childGridObj, this.globalResolve);\n                var args = { childGrid: childGridObj, row: row, cell: cell, exportProperties: pdfExportProperties };\n                this.parent.trigger(events.exportDetailDataBound, args);\n                childGridObj.beforeDataBound = this.childGridCell(cell, childGridObj, pdfExportProperties);\n                childGridObj.appendTo(element);\n            }\n            this.parent.notify(events.exportRowDataBound, { type: 'pdf', rowObj: row });\n        }\n        return rowIndex;\n    };\n    PdfExport.prototype.setHyperLink = function (args) {\n        // create the Text Web Link\n        var textLink = new PdfTextWebLink();\n        // set the hyperlink\n        textLink.url = args.hyperLink.target;\n        // set the link text\n        textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n        // set the font\n        textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n        // set the brush and pen for the text color\n        textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n        return textLink;\n    };\n    PdfExport.prototype.childGridCell = function (cell, childGridObj, pdfExportProperties) {\n        var _this = this;\n        return function (result) {\n            childGridObj.beforeDataBound = null;\n            result.cancel = true;\n            cell.value = _this.processGridExport(childGridObj, result, pdfExportProperties);\n            childGridObj.destroy();\n            detach(childGridObj.element);\n            _this.gridPool[childGridObj.id] = true;\n            _this.helper.checkAndExport(_this.gridPool, _this.globalResolve);\n            return cell;\n        };\n    };\n    PdfExport.prototype.processCellStyle = function (cell, args) {\n        if (!isNullOrUndefined(args.style.backgroundColor)) {\n            var backColor = this.hexToRgb(args.style.backgroundColor);\n            cell.style.backgroundBrush = new PdfSolidBrush(new PdfColor(backColor.r, backColor.g, backColor.b));\n        }\n        if (!isNullOrUndefined(args.style.textAlignment)) {\n            cell.style.stringFormat = this.getHorizontalAlignment(args.style.textAlignment);\n        }\n        if (!isNullOrUndefined(args.style.cellPadding)) {\n            cell.style.cellPadding = args.style.cellPadding;\n        }\n        if (!isNullOrUndefined(args.style.verticalAlignment)) {\n            cell.style.stringFormat = this.getVerticalAlignment(args.style.verticalAlignment, cell.style.stringFormat);\n        }\n        if (!isNullOrUndefined(args.style.textBrushColor)) {\n            var textBrushColor = this.hexToRgb(args.style.textBrushColor);\n            cell.style.textBrush = new PdfSolidBrush(new PdfColor(textBrushColor.r, textBrushColor.g, textBrushColor.b));\n        }\n        if (!isNullOrUndefined(args.style.textPenColor)) {\n            var textPenColor = this.hexToRgb(args.style.textPenColor);\n            cell.style.textPen = new PdfPen(new PdfColor(textPenColor.r, textPenColor.g, textPenColor.b));\n        }\n        if (!isNullOrUndefined(args.style.fontFamily) || !isNullOrUndefined(args.style.fontSize) || !isNullOrUndefined(args.style.bold) ||\n            !isNullOrUndefined(args.style.italic) || !isNullOrUndefined(args.style.underline) || !isNullOrUndefined(args.style.strikeout)) {\n            cell.style.font = this.getFont(args);\n        }\n        if (!isNullOrUndefined(args.style.border)) {\n            var border = new PdfBorders();\n            var borderWidth = args.style.border.width;\n            // set border width\n            var width = (!isNullOrUndefined(borderWidth) && typeof borderWidth === 'number') ? (borderWidth * 0.75) : (undefined);\n            // set border color\n            var color = new PdfColor(196, 196, 196);\n            if (!isNullOrUndefined(args.style.border.color)) {\n                var borderColor = this.hexToRgb(args.style.border.color);\n                color = new PdfColor(borderColor.r, borderColor.g, borderColor.b);\n            }\n            var pen = new PdfPen(color, width);\n            // set border dashStyle 'Solid <default>, Dash, Dot, DashDot, DashDotDot'\n            if (!isNullOrUndefined(args.style.border.dashStyle)) {\n                pen.dashStyle = this.getDashStyle(args.style.border.dashStyle);\n            }\n            border.all = pen;\n            cell.style.borders = border;\n        }\n        if (!isNullOrUndefined(args.style.paragraphIndent)) {\n            cell.style.stringFormat = new PdfStringFormat();\n            cell.style.stringFormat.paragraphIndent = args.style.paragraphIndent;\n        }\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign - specifies the textAlign\n     * @param {PdfStringFormat} format - specifies the PdfStringFormat\n     * @returns {PdfStringFormat} returns the PdfStringFormat\n     * @private\n     */\n    PdfExport.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign - specifies the verticalAlign\n     * @param {PdfStringFormat} format - specifies the PdfStringFormat\n     * @param {string} textAlign - specifies the text align\n     * @returns {PdfStringFormat} returns the PdfStringFormat\n     * @private\n     */\n    PdfExport.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    PdfExport.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    PdfExport.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : PdfFontFamily.TimesRoman;\n        var fontStyle = PdfFontStyle.Regular;\n        if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n            fontStyle |= PdfFontStyle.Bold;\n        }\n        if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n            fontStyle |= PdfFontStyle.Italic;\n        }\n        if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n            fontStyle |= PdfFontStyle.Underline;\n        }\n        if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n            fontStyle |= PdfFontStyle.Strikeout;\n        }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    PdfExport.prototype.getPageNumberStyle = function (pageNumberType) {\n        switch (pageNumberType) {\n            case 'LowerLatin':\n                return 2;\n            case 'LowerRoman':\n                return 3;\n            case 'UpperLatin':\n                return 4;\n            case 'UpperRoman':\n                return 5;\n            default:\n                return 1;\n        }\n    };\n    PdfExport.prototype.setContentFormat = function (content, format) {\n        if (!isNullOrUndefined(content.size)) {\n            var width = content.size.width * 0.75;\n            var height = content.size.height * 0.75;\n            format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n            if (!isNullOrUndefined(content.style.hAlign)) {\n                switch (content.style.hAlign) {\n                    case 'Right':\n                        format.alignment = PdfTextAlignment.Right;\n                        break;\n                    case 'Center':\n                        format.alignment = PdfTextAlignment.Center;\n                        break;\n                    case 'Justify':\n                        format.alignment = PdfTextAlignment.Justify;\n                        break;\n                    default:\n                        format.alignment = PdfTextAlignment.Left;\n                }\n            }\n            if (!isNullOrUndefined(content.style.vAlign)) {\n                format = this.getVerticalAlignment(content.style.vAlign, format);\n            }\n            return { format: format, size: new SizeF(width, height) };\n        }\n        return null;\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            // return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    PdfExport.prototype.getDashStyle = function (dashStyle) {\n        switch (dashStyle) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    PdfExport.prototype.getPenFromContent = function (content) {\n        var pen = new PdfPen(new PdfColor(0, 0, 0));\n        if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n            var penColor = this.hexToRgb(content.style.penColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        return pen;\n    };\n    PdfExport.prototype.getBrushFromContent = function (content) {\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            /* tslint:disable-next-line:max-line-length */\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        return brush;\n    };\n    PdfExport.prototype.hexToRgb = function (hex) {\n        if (hex === null || hex === '' || hex.length !== 7) {\n            throw new Error('please set valid hex value for color...');\n        }\n        hex = hex.substring(1);\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    PdfExport.prototype.getFontStyle = function (theme) {\n        var fontStyle = PdfFontStyle.Regular;\n        if (!isNullOrUndefined(theme) && theme.bold) {\n            fontStyle |= PdfFontStyle.Bold;\n        }\n        if (!isNullOrUndefined(theme) && theme.italic) {\n            fontStyle |= PdfFontStyle.Italic;\n        }\n        if (!isNullOrUndefined(theme) && theme.underline) {\n            fontStyle |= PdfFontStyle.Underline;\n        }\n        if (!isNullOrUndefined(theme) && theme.strikeout) {\n            fontStyle |= PdfFontStyle.Strikeout;\n        }\n        return fontStyle;\n    };\n    PdfExport.prototype.getBorderStyle = function (border) {\n        var borders = new PdfBorders();\n        if (!isNullOrUndefined(border)) {\n            var borderWidth = border.width;\n            // set border width\n            var width = (!isNullOrUndefined(borderWidth) && typeof borderWidth === 'number') ? borderWidth * 0.75 : undefined;\n            // set border color\n            var color = new PdfColor(196, 196, 196);\n            if (!isNullOrUndefined(border.color)) {\n                var borderColor = this.hexToRgb(border.color);\n                color = new PdfColor(borderColor.r, borderColor.g, borderColor.b);\n            }\n            var pen = new PdfPen(color, width);\n            // set border dashStyle 'Solid <default>, Dash, Dot, DashDot, DashDotDot'\n            if (!isNullOrUndefined(border.dashStyle)) {\n                pen.dashStyle = this.getDashStyle(border.dashStyle);\n            }\n            borders.all = pen;\n        }\n        else {\n            borders.all = new PdfPen(new PdfColor(234, 234, 234));\n        }\n        return borders;\n    };\n    PdfExport.prototype.destroy = function () {\n        //destroy for exporting\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import { EventHandler, detach, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Column } from '../models/column';\nimport { ColumnWidthService } from '../services/width-controller';\nimport * as events from '../base/constant';\nimport { getScrollBarWidth, parentsUntil, gridActionHandler, Global } from '../base/util';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as literals from '../base/string-literals';\nexport var resizeClassList = {\n    root: 'e-rhandler',\n    suppress: 'e-rsuppress',\n    icon: 'e-ricon',\n    helper: 'e-rhelper',\n    header: 'th.e-headercell',\n    cursor: 'e-rcursor'\n};\n/**\n * `Resize` module is used to handle Resize to fit for columns.\n *\n * @hidden\n * @private\n */\nvar Resize = /** @class */ (function () {\n    /**\n     * Constructor for the Grid resize module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Resize(parent) {\n        this.tapped = false;\n        this.isDblClk = true;\n        this.parent = parent;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.widthService = new ColumnWidthService(parent);\n        this.addEventListener();\n    }\n    /**\n     * Resize by field names.\n     *\n     * @param  {string|string[]} fName - Defines the field name.\n     * @returns {void}\n     */\n    Resize.prototype.autoFitColumns = function (fName) {\n        var columnName = (fName === undefined || fName === null || fName.length <= 0) ?\n            this.parent.getColumns().map(function (x) { return x.field; }) : (typeof fName === 'string') ? [fName] : fName;\n        this.parent.isAutoFitColumns = true;\n        this.findColumn(columnName);\n    };\n    Resize.prototype.autoFit = function () {\n        var newarray = this.parent.getColumns().filter(function (c) { return c.autoFit === true; })\n            .map(function (c) { return c.field || c.headerText; });\n        if (newarray.length > 0) {\n            this.autoFitColumns(newarray);\n        }\n        if (this.parent.resizeSettings.mode === 'Auto') {\n            this.widthService.setWidthToTable();\n        }\n    };\n    Resize.prototype.resizeColumn = function (fName, index, id) {\n        var gObj = this.parent;\n        var tWidth = 0;\n        var headerTable;\n        var contentTable;\n        var footerTable;\n        var headerDivTag = 'e-gridheader';\n        var contentDivTag = literals.gridContent;\n        var footerDivTag = literals.gridFooter;\n        var indentWidth = 0;\n        var uid = id ? id : this.parent.getUidByColumnField(fName);\n        var columnIndex = this.parent.getNormalizedColumnIndex(uid);\n        var headerTextClone;\n        var contentTextClone;\n        var footerTextClone;\n        var columnIndexByField = this.parent.getColumnIndexByField(fName);\n        var left = gObj.getFrozenColumns() || gObj.getFrozenLeftColumnsCount();\n        var movable = gObj.getMovableColumnsCount();\n        if (!isNullOrUndefined(gObj.getFooterContent())) {\n            footerTable = gObj.getFooterContentTable();\n        }\n        if (gObj.isFrozenGrid()) {\n            var col = gObj.getColumnByField(fName);\n            if (col.getFreezeTableName() === literals.frozenLeft) {\n                headerTable = gObj.getHeaderTable();\n                contentTable = gObj.getContentTable();\n                headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n                contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \")\");\n                if (footerTable) {\n                    footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \")\");\n                }\n            }\n            else if (col.getFreezeTableName() === 'movable') {\n                headerTable = gObj.getHeaderContent().querySelector('.' + literals.movableHeader).children[0];\n                contentTable = gObj.getContent().querySelector('.' + literals.movableContent).children[0];\n                headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n                contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + ((columnIndex - left) + 1) + \")\");\n                if (footerTable) {\n                    footerTable = gObj.getFooterContent().querySelector('.e-movablefootercontent').children[0];\n                    footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + ((columnIndex - left) + 1) + \")\");\n                }\n            }\n            else if (col.getFreezeTableName() === literals.frozenRight) {\n                headerTable = gObj.getHeaderContent().querySelector('.e-frozen-right-header').children[0];\n                contentTable = gObj.getContent().querySelector('.e-frozen-right-content').children[0];\n                headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n                contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + ((columnIndex - (left + movable)) + 1) + \")\");\n                if (footerTable) {\n                    footerTable = gObj.getFooterContent().querySelector('.e-movablefootercontent').children[0];\n                    footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + ((columnIndex - (left + movable)) + 1) + \")\");\n                }\n            }\n        }\n        else {\n            headerTable = gObj.getHeaderTable();\n            contentTable = gObj.getContentTable();\n            headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n            contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \"):not(.e-groupcaption)\");\n            if (footerTable) {\n                footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \"):not(.e-groupcaption)\");\n            }\n        }\n        var indentWidthClone = [].slice.call(headerTable.querySelector('tr').getElementsByClassName('e-grouptopleftcell'));\n        if (indentWidthClone.length > 0) {\n            for (var i = 0; i < indentWidthClone.length; i++) {\n                indentWidth += indentWidthClone[i].offsetWidth;\n            }\n        }\n        var detailsElement = contentTable.querySelector('.e-detailrowcollapse') ||\n            contentTable.querySelector('.e-detailrowexpand');\n        if ((this.parent.detailTemplate || this.parent.childGrid) && detailsElement) {\n            indentWidth += detailsElement.offsetWidth;\n        }\n        var headerText = [headerTextClone];\n        var contentText = [];\n        var footerText = [];\n        if (footerTable) {\n            for (var i = 0; i < footerTextClone.length; i++) {\n                footerText[i] = footerTextClone[i].cloneNode(true);\n            }\n        }\n        for (var i = 0; i < contentTextClone.length; i++) {\n            contentText[i] = contentTextClone[i].cloneNode(true);\n        }\n        var wHeader = this.createTable(headerTable, headerText, headerDivTag);\n        var wFooter = null;\n        var wContent = null;\n        if (gObj.getCurrentViewRecords().length) {\n            wContent = this.createTable(contentTable, contentText, contentDivTag);\n        }\n        if (footerText.length) {\n            wFooter = this.createTable(footerTable, footerText, footerDivTag);\n        }\n        var columnbyindex = gObj.getColumns()[columnIndexByField];\n        var width = columnbyindex.width = formatUnit(Math.max(wHeader, wContent, wFooter));\n        var colMaxWidth = columnbyindex.maxWidth && parseFloat(columnbyindex.maxWidth.toString());\n        if (parseInt(width, 10) > colMaxWidth) {\n            columnbyindex.width = colMaxWidth;\n        }\n        this.widthService.setColumnWidth(gObj.getColumns()[columnIndexByField]);\n        var result = gObj.getColumns().some(function (x) { return x.width === null\n            || x.width === undefined || x.width.length <= 0; });\n        if (result === false) {\n            var element = gObj.getColumns();\n            for (var i = 0; i < element.length; i++) {\n                if (element[i].visible) {\n                    tWidth = tWidth + parseFloat(element[i].width);\n                }\n            }\n        }\n        var calcTableWidth = tWidth + indentWidth;\n        if (tWidth > 0 && !gObj.isFrozenGrid()) {\n            if (this.parent.detailTemplate || this.parent.childGrid) {\n                this.widthService.setColumnWidth(new Column({ width: '30px' }));\n            }\n            if (this.parent.resizeSettings.mode === 'Auto') {\n                calcTableWidth = '100%';\n            }\n            headerTable.style.width = formatUnit(calcTableWidth);\n            contentTable.style.width = formatUnit(calcTableWidth);\n            if (!isNullOrUndefined(footerTable)) {\n                footerTable.style.width = formatUnit(calcTableWidth);\n            }\n        }\n        if (gObj.isFrozenGrid()) {\n            this.widthService.refreshFrozenScrollbar();\n        }\n        var tableWidth = headerTable.offsetWidth;\n        var contentwidth = (gObj.getContent().scrollWidth);\n        if (contentwidth > tableWidth) {\n            headerTable.classList.add('e-tableborder');\n            contentTable.classList.add('e-tableborder');\n        }\n        else {\n            headerTable.classList.remove('e-tableborder');\n            contentTable.classList.remove('e-tableborder');\n        }\n        if (!isNullOrUndefined(footerTable)) {\n            footerTable.classList.add('e-tableborder');\n        }\n    };\n    /**\n     * To destroy the resize\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Resize.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.widthService = null;\n        this.unwireEvents();\n        this.removeEventListener();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    Resize.prototype.findColumn = function (fName) {\n        for (var i = 0; i < fName.length; i++) {\n            var fieldName = fName[i];\n            var columnIndex = this.parent.getColumnIndexByField(fieldName);\n            var column = this.parent.getColumns()[columnIndex];\n            if (columnIndex > -1 && !isNullOrUndefined(column) && column.visible === true) {\n                this.resizeColumn(fieldName, columnIndex);\n            }\n        }\n    };\n    /**\n     * To create table for autofit\n     *\n     * @param {Element} table - specifies the table\n     * @param {Element[]} text - specifies the text\n     * @param {string} tag - specifies the tag name\n     * @returns {number} returns the number\n     * @hidden\n     */\n    Resize.prototype.createTable = function (table, text, tag) {\n        var myTableDiv = this.parent.createElement('div');\n        myTableDiv.className = this.parent.element.className;\n        myTableDiv.style.cssText = 'display: inline-block;visibility:hidden;position:absolute';\n        var mySubDiv = this.parent.createElement('div');\n        mySubDiv.className = tag;\n        var myTable = this.parent.createElement('table');\n        myTable.className = table.className;\n        myTable.classList.add('e-resizetable');\n        myTable.style.cssText = 'table-layout: auto;width: auto';\n        var myTr = this.parent.createElement('tr');\n        for (var i = 0; i < text.length; i++) {\n            var tr = myTr.cloneNode();\n            tr.className = table.querySelector('tr').className;\n            tr.appendChild(text[i]);\n            myTable.appendChild(tr);\n        }\n        mySubDiv.appendChild(myTable);\n        myTableDiv.appendChild(mySubDiv);\n        document.body.appendChild(myTableDiv);\n        var offsetWidthValue = myTable.getBoundingClientRect().width;\n        document.body.removeChild(myTableDiv);\n        return Math.ceil(offsetWidthValue);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Resize.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.headerRefreshed, this.refreshHeight, this);\n        this.parent.on(events.initialEnd, this.wireEvents, this);\n        this.parent.on(events.contentReady, this.autoFit, this);\n        this.parent.on(events.refreshHandlers, this.refreshHeight, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Resize.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.headerRefreshed, this.refreshHeight);\n        this.parent.off(events.initialEnd, this.wireEvents);\n        this.parent.off(events.refreshHandlers, this.refreshHeight);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Resize.prototype.render = function () {\n        this.unwireEvents();\n        this.wireEvents();\n        this.setHandlerHeight();\n    };\n    Resize.prototype.refreshHeight = function () {\n        if (this.parent.getHeaderTable()) {\n            var element = this.getResizeHandlers();\n            for (var i = 0; i < element.length; i++) {\n                if (element[i].parentElement.offsetHeight > 0) {\n                    element[i].style.height = element[i].parentElement.offsetHeight + 'px';\n                }\n            }\n            this.setHandlerHeight();\n        }\n    };\n    Resize.prototype.wireEvents = function () {\n        EventHandler.add(this.parent.getHeaderContent(), Browser.touchStartEvent, this.touchResizeStart, this);\n        EventHandler.add(this.parent.getHeaderContent(), events.dblclick, this.callAutoFit, this);\n    };\n    Resize.prototype.unwireEvents = function () {\n        EventHandler.remove(this.parent.getHeaderContent(), Browser.touchStartEvent, this.touchResizeStart);\n        EventHandler.remove(this.parent.getHeaderContent(), events.dblclick, this.callAutoFit);\n    };\n    Resize.prototype.getResizeHandlers = function () {\n        return this.parent.isFrozenGrid() ?\n            [].slice.call(this.parent.getHeaderContent().getElementsByClassName(resizeClassList.root))\n            : [].slice.call(this.parent.getHeaderTable().getElementsByClassName(resizeClassList.root));\n    };\n    Resize.prototype.setHandlerHeight = function () {\n        var element = [].slice.call(this.parent.getHeaderTable().getElementsByClassName(resizeClassList.suppress));\n        for (var i = 0; i < element.length; i++) {\n            element[i].style.height = element[i].parentElement.offsetHeight + 'px';\n        }\n    };\n    Resize.prototype.callAutoFit = function (e) {\n        if (e.target.classList.contains('e-rhandler')) {\n            var col = this.getTargetColumn(e);\n            if (col.columns) {\n                return;\n            }\n            this.resizeColumn(col.field, this.parent.getNormalizedColumnIndex(col.uid), col.uid);\n            var header = closest(e.target, resizeClassList.header);\n            header.classList.add('e-resized');\n        }\n    };\n    Resize.prototype.touchResizeStart = function (e) {\n        if (!Global.timer) {\n            Global.timer = setTimeout(function () {\n                Global.timer = null;\n            }, 300);\n            return this.resizeStart(e);\n        }\n        else {\n            clearTimeout(Global.timer);\n            Global.timer = null;\n            this.callAutoFit(e);\n        }\n    };\n    Resize.prototype.resizeStart = function (e) {\n        var _this = this;\n        if (e.target.classList.contains('e-rhandler')) {\n            if (!this.helper) {\n                if (this.getScrollBarWidth() === 0) {\n                    if (this.parent.allowGrouping) {\n                        for (var i = 0; i < this.parent.groupSettings.columns.length; i++) {\n                            this.widthService.setColumnWidth(new Column({ width: '30px' }), i);\n                        }\n                    }\n                    for (var _i = 0, _a = this.refreshColumnWidth(); _i < _a.length; _i++) {\n                        var col = _a[_i];\n                        this.widthService.setColumnWidth(col);\n                    }\n                    this.widthService.setWidthToTable();\n                }\n                this.refreshStackedColumnWidth();\n                this.element = e.target;\n                if (this.parent.getVisibleFrozenColumns()) {\n                    var mtbody = this.parent.getMovableContentTbody();\n                    var ftbody = this.parent.getFrozenLeftContentTbody();\n                    var frtbody = this.parent.getFrozenRightContentTbody();\n                    var mtr = [].slice.call(mtbody.querySelectorAll('tr'));\n                    var ftr = [].slice.call(ftbody.querySelectorAll('tr'));\n                    var frTr = [];\n                    if (this.parent.getFrozenMode() === literals.leftRight && frtbody) {\n                        frTr = [].slice.call(frtbody.querySelectorAll('tr'));\n                    }\n                    var _loop_1 = function (i) {\n                        gridActionHandler(this_1.parent, function (tableName, row) {\n                            if (_this.parent.rowHeight) {\n                                row[i].style.height = _this.parent.rowHeight + 'px';\n                            }\n                            else {\n                                row[i].style.removeProperty('height');\n                            }\n                        }, [ftr, mtr, frTr]);\n                    };\n                    var this_1 = this;\n                    for (var i = 0; i < mtr.length; i++) {\n                        _loop_1(i);\n                    }\n                }\n                this.parentElementWidth = this.parent.element.getBoundingClientRect().width;\n                this.appendHelper();\n                this.column = this.getTargetColumn(e);\n                this.pageX = this.getPointX(e);\n                if (this.column.getFreezeTableName() === literals.frozenRight) {\n                    if (this.parent.enableRtl) {\n                        this.minMove = (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0)\n                            - parseFloat(isNullOrUndefined(this.column.width) ? '' : this.column.width.toString());\n                    }\n                    else {\n                        this.minMove = parseFloat(isNullOrUndefined(this.column.width) ? '' : this.column.width.toString())\n                            - (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0);\n                    }\n                }\n                else if (this.parent.enableRtl) {\n                    this.minMove = parseFloat(this.column.width.toString())\n                        - (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0);\n                }\n                else {\n                    this.minMove = (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0)\n                        - parseFloat(isNullOrUndefined(this.column.width) ? '' : this.column.width.toString());\n                }\n                this.minMove += this.pageX;\n            }\n            if (Browser.isDevice && !this.helper.classList.contains(resizeClassList.icon)) {\n                this.helper.classList.add(resizeClassList.icon);\n                EventHandler.add(document, Browser.touchStartEvent, this.removeHelper, this);\n                EventHandler.add(this.helper, Browser.touchStartEvent, this.resizeStart, this);\n            }\n            else {\n                var args = { e: e, column: this.column };\n                this.parent.trigger(events.resizeStart, args, function (args) {\n                    if (args.cancel || _this.parent.isEdit) {\n                        _this.cancelResizeAction();\n                        return;\n                    }\n                    EventHandler.add(document, Browser.touchEndEvent, _this.resizeEnd, _this);\n                    EventHandler.add(_this.parent.element, Browser.touchMoveEvent, _this.resizing, _this);\n                    _this.updateCursor('add');\n                });\n            }\n        }\n    };\n    Resize.prototype.cancelResizeAction = function (removeEvents) {\n        if (removeEvents) {\n            EventHandler.remove(this.parent.element, Browser.touchMoveEvent, this.resizing);\n            EventHandler.remove(document, Browser.touchEndEvent, this.resizeEnd);\n            this.updateCursor('remove');\n        }\n        if (Browser.isDevice) {\n            EventHandler.remove(document, Browser.touchStartEvent, this.removeHelper);\n            EventHandler.remove(this.helper, Browser.touchStartEvent, this.resizeStart);\n        }\n        detach(this.helper);\n        this.refresh();\n    };\n    Resize.prototype.getWidth = function (width, minWidth, maxWidth) {\n        if (minWidth && width < minWidth) {\n            return minWidth;\n        }\n        else if ((maxWidth && width > maxWidth)) {\n            return maxWidth;\n        }\n        else {\n            return width;\n        }\n    };\n    Resize.prototype.updateResizeEleHeight = function () {\n        var elements = [].slice.call(this.parent.getHeaderContent().getElementsByClassName('e-rhandler'));\n        for (var i = 0; i < elements.length; i++) {\n            elements[i].style.height = this.element.parentElement.offsetHeight + 'px';\n        }\n    };\n    Resize.prototype.getColData = function (column, mousemove) {\n        return {\n            width: parseFloat(isNullOrUndefined(this.widthService.getWidth(column)) || this.widthService.getWidth(column) === 'auto' ? '0'\n                : this.widthService.getWidth(column).toString()) + mousemove,\n            minWidth: column.minWidth ? parseFloat(column.minWidth.toString()) : null,\n            maxWidth: column.maxWidth ? parseFloat(column.maxWidth.toString()) : null\n        };\n    };\n    Resize.prototype.resizing = function (e) {\n        if (isNullOrUndefined(this.column)) {\n            return;\n        }\n        var offsetWidth = 0;\n        if (isNullOrUndefined(this.column)) {\n            offsetWidth = parentsUntil(this.element, 'th').offsetWidth;\n        }\n        if (this.parent.allowTextWrap) {\n            this.updateResizeEleHeight();\n            this.setHelperHeight();\n        }\n        var pageX = this.getPointX(e);\n        var mousemove = this.parent.enableRtl ? -(pageX - this.pageX) : (pageX - this.pageX);\n        if (this.column.getFreezeTableName() === literals.frozenRight) {\n            mousemove = this.parent.enableRtl ? (pageX - this.pageX) : (this.pageX - pageX);\n        }\n        var colData = this.getColData(this.column, mousemove);\n        if (!colData.width) {\n            colData.width = closest(this.element, 'th').offsetWidth;\n        }\n        var width = this.getWidth(colData.width, colData.minWidth, colData.maxWidth);\n        this.parent.log('resize_min_max', { column: this.column, width: width });\n        if (this.column.getFreezeTableName() === literals.frozenRight) {\n            if ((this.parent.enableRtl && this.minMove >= pageX) || (!this.parent.enableRtl && this.minMove <= pageX)) {\n                width = this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 10;\n                this.pageX = pageX = this.minMove;\n            }\n        }\n        if ((this.column.getFreezeTableName() !== literals.frozenRight\n            && ((!this.parent.enableRtl && this.minMove >= pageX) || (this.parent.enableRtl && this.minMove <= pageX)))\n            || (this.column.getFreezeTableName() === literals.frozenRight && ((this.parent.enableRtl && this.minMove >= pageX)\n                || (!this.parent.enableRtl && this.minMove <= pageX)))) {\n            width = this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 10;\n            this.pageX = pageX = this.minMove;\n        }\n        if (width !== parseFloat(isNullOrUndefined(this.column.width) || this.column.width === 'auto' ?\n            offsetWidth.toString() : this.column.width.toString())) {\n            this.pageX = pageX;\n            this.column.width = formatUnit(width);\n            var args = {\n                e: e,\n                column: this.column\n            };\n            this.parent.trigger(events.onResize, args);\n            if (args.cancel) {\n                this.cancelResizeAction(true);\n                return;\n            }\n            var columns = [this.column];\n            var finalColumns = [this.column];\n            if (this.column.columns) {\n                columns = this.getSubColumns(this.column, []);\n                columns = this.calulateColumnsWidth(columns, false, mousemove);\n                finalColumns = this.calulateColumnsWidth(columns, true, mousemove);\n            }\n            for (var _i = 0, finalColumns_1 = finalColumns; _i < finalColumns_1.length; _i++) {\n                var col = finalColumns_1[_i];\n                this.widthService.setColumnWidth(col, null, 'resize');\n            }\n            this.updateHelper();\n        }\n        this.isDblClk = false;\n    };\n    Resize.prototype.calulateColumnsWidth = function (columns, isUpdate, mousemove) {\n        var finalColumns = [];\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var col = columns_1[_i];\n            var totalWidth = 0;\n            for (var i = 0; i < columns.length; i++) {\n                totalWidth += parseFloat(columns[i].width.toString());\n            }\n            var colData = this.getColData(col, (parseFloat(col.width)) * mousemove / totalWidth);\n            var colWidth = this.getWidth(colData.width, colData.minWidth, colData.maxWidth);\n            if ((colWidth !== parseFloat(col.width.toString()))) {\n                if (isUpdate) {\n                    col.width = formatUnit(colWidth < 1 ? 1 : colWidth);\n                }\n                finalColumns.push(col);\n            }\n        }\n        return finalColumns;\n    };\n    Resize.prototype.getSubColumns = function (column, subColumns) {\n        for (var _i = 0, _a = column.columns; _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (col.visible !== false && col.allowResizing) {\n                if (col.columns) {\n                    this.getSubColumns(col, subColumns);\n                }\n                else {\n                    subColumns.push(col);\n                }\n            }\n        }\n        return subColumns;\n    };\n    Resize.prototype.resizeEnd = function (e) {\n        if (!this.helper || this.parent.isDestroyed) {\n            return;\n        }\n        EventHandler.remove(this.parent.element, Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(document, Browser.touchEndEvent, this.resizeEnd);\n        this.updateCursor('remove');\n        detach(this.helper);\n        var args = { e: e, column: this.column };\n        var content = this.parent.getContent().querySelector('.' + literals.content);\n        var cTable = content.querySelector('.' + literals.movableContent) ? content.querySelector('.' + literals.movableContent) : content;\n        if (cTable.scrollHeight > cTable.clientHeight) {\n            this.parent.scrollModule.setPadding();\n            cTable.style.overflowY = 'scroll';\n        }\n        this.parent.trigger(events.resizeStop, args);\n        closest(this.element, '.e-headercell').classList.add('e-resized');\n        if (parentsUntil(this.element, 'e-frozenheader')) {\n            this.isFrozenColResized = true;\n        }\n        else {\n            this.isFrozenColResized = false;\n        }\n        if (this.parent.isFrozenGrid()) {\n            this.parent.notify(events.freezeRender, { case: 'textwrap' });\n        }\n        if (this.parent.allowTextWrap) {\n            this.updateResizeEleHeight();\n            this.parent.notify(events.textWrapRefresh, { case: 'textwrap' });\n        }\n        this.refresh();\n        this.doubleTapEvent(e);\n        this.isDblClk = true;\n    };\n    Resize.prototype.getPointX = function (e) {\n        if (e.touches && e.touches.length) {\n            return e.touches[0].pageX;\n        }\n        else {\n            return e.pageX;\n        }\n    };\n    Resize.prototype.refreshColumnWidth = function () {\n        var columns = this.parent.getColumns();\n        for (var _i = 0, _a = [].slice.apply(this.parent.getHeaderContent().querySelectorAll('th.e-headercell')); _i < _a.length; _i++) {\n            var ele = _a[_i];\n            for (var _b = 0, columns_2 = columns; _b < columns_2.length; _b++) {\n                var column = columns_2[_b];\n                if (ele.querySelector('[e-mappinguid]') &&\n                    ele.querySelector('[e-mappinguid]').getAttribute('e-mappinguid') === column.uid && column.visible) {\n                    column.width = ele.getBoundingClientRect().width;\n                    break;\n                }\n            }\n        }\n        return columns;\n    };\n    Resize.prototype.refreshStackedColumnWidth = function () {\n        for (var _i = 0, _a = this.parent.getStackedColumns(this.parent.columns); _i < _a.length; _i++) {\n            var stackedColumn = _a[_i];\n            stackedColumn.width = this.getStackedWidth(stackedColumn, 0);\n        }\n    };\n    Resize.prototype.getStackedWidth = function (column, width) {\n        for (var _i = 0, _a = column.columns; _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (col.visible !== false) {\n                if (col.columns) {\n                    this.getStackedWidth(col, width);\n                }\n                else {\n                    width += col.width;\n                }\n            }\n        }\n        return width;\n    };\n    Resize.prototype.getTargetColumn = function (e) {\n        var cell = closest(e.target, resizeClassList.header);\n        cell = cell.querySelector('.e-headercelldiv') || cell.querySelector('.e-stackedheadercelldiv');\n        var uid = cell.getAttribute('e-mappinguid');\n        return this.parent.getColumnByUid(uid);\n    };\n    Resize.prototype.updateCursor = function (action) {\n        var headerRows = [].slice.call(this.parent.getHeaderContent().querySelectorAll('th'));\n        headerRows.push(this.parent.element);\n        for (var _i = 0, headerRows_1 = headerRows; _i < headerRows_1.length; _i++) {\n            var row = headerRows_1[_i];\n            row.classList[action](resizeClassList.cursor);\n        }\n    };\n    Resize.prototype.refresh = function () {\n        this.column = null;\n        this.pageX = null;\n        this.element = null;\n        this.helper = null;\n    };\n    Resize.prototype.appendHelper = function () {\n        this.helper = this.parent.createElement('div', {\n            className: resizeClassList.helper\n        });\n        this.parent.element.appendChild(this.helper);\n        this.setHelperHeight();\n    };\n    Resize.prototype.setHelperHeight = function () {\n        var isFrozen = this.parent.isFrozenGrid();\n        var height = isFrozen ? this.parent.getContent().querySelector('.' + literals.content).offsetHeight\n            : this.parent.getContent().offsetHeight - this.getScrollBarWidth();\n        var rect = closest(this.element, resizeClassList.header);\n        var tr = [].slice.call(this.parent.getHeaderContent().querySelectorAll('tr'));\n        var right = this.parent.getFrozenRightColumnsCount();\n        if (isFrozen) {\n            if (parentsUntil(rect, literals.movableHeader)) {\n                tr = [].slice.call(this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelectorAll('tr'));\n            }\n            else if (right && parentsUntil(rect, 'e-frozen-right-header')) {\n                tr = [].slice.call(this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelectorAll('tr'));\n            }\n            else {\n                tr = [].slice.call(this.parent.getHeaderContent().querySelector('.e-frozen-left-header').querySelectorAll('tr'));\n            }\n        }\n        for (var i = tr.indexOf(rect.parentElement); i < tr.length && i > -1; i++) {\n            height += tr[i].offsetHeight;\n        }\n        var pos = this.calcPos(rect);\n        if (parentsUntil(rect, 'e-frozen-right-header')) {\n            pos.left += (this.parent.enableRtl ? rect.offsetWidth - 2 : 0 - 1);\n        }\n        else {\n            pos.left += (this.parent.enableRtl ? 0 - 1 : rect.offsetWidth - 2);\n        }\n        this.helper.style.cssText = 'height: ' + height + 'px; top: ' + pos.top + 'px; left:' + Math.floor(pos.left) + 'px;';\n        if (this.parent.enableVirtualization) {\n            this.helper.classList.add('e-virtual-rhandler');\n        }\n    };\n    Resize.prototype.getScrollBarWidth = function (height) {\n        var ele = this.parent.getContent().firstChild;\n        return (ele.scrollHeight > ele.clientHeight && height) ||\n            ele.scrollWidth > ele.clientWidth ? getScrollBarWidth() : 0;\n    };\n    Resize.prototype.removeHelper = function (e) {\n        var cls = e.target.classList;\n        if (!(cls.contains(resizeClassList.root) || cls.contains(resizeClassList.icon)) && this.helper) {\n            EventHandler.remove(document, Browser.touchStartEvent, this.removeHelper);\n            EventHandler.remove(this.helper, Browser.touchStartEvent, this.resizeStart);\n            detach(this.helper);\n            this.refresh();\n        }\n    };\n    Resize.prototype.updateHelper = function () {\n        var rect = closest(this.element, resizeClassList.header);\n        var left;\n        if (parentsUntil(rect, 'e-frozen-right-header')) {\n            left = Math.floor(this.calcPos(rect).left + (this.parent.enableRtl ? rect.offsetWidth - 2 : 0 - 1));\n        }\n        else {\n            left = Math.floor(this.calcPos(rect).left + (this.parent.enableRtl ? 0 - 1 : rect.offsetWidth - 2));\n        }\n        var borderWidth = 2; // to maintain the helper inside of grid element.\n        if (left > this.parentElementWidth) {\n            left = this.parentElementWidth - borderWidth;\n        }\n        if (this.parent.isFrozenGrid()) {\n            var table = closest(rect, '.' + literals.table);\n            var fLeft = table.offsetLeft;\n            if (left < fLeft) {\n                left = fLeft;\n            }\n        }\n        this.helper.style.left = left + 'px';\n    };\n    Resize.prototype.calcPos = function (elem) {\n        var parentOffset = {\n            top: 0,\n            left: 0\n        };\n        var offset = elem.getBoundingClientRect();\n        var doc = elem.ownerDocument;\n        var offsetParent = parentsUntil(elem, 'e-grid') || doc.documentElement;\n        while (offsetParent &&\n            (offsetParent === doc.body || offsetParent === doc.documentElement) &&\n            offsetParent.style.position === 'static') {\n            offsetParent = offsetParent.parentNode;\n        }\n        if (offsetParent && offsetParent !== elem && offsetParent.nodeType === 1) {\n            parentOffset = offsetParent.getBoundingClientRect();\n        }\n        return {\n            top: offset.top - parentOffset.top,\n            left: offset.left - parentOffset.left\n        };\n    };\n    Resize.prototype.doubleTapEvent = function (e) {\n        var _this = this;\n        if (this.getUserAgent() && this.isDblClk) {\n            if (!this.tapped) {\n                this.tapped = setTimeout(function () {\n                    _this.tapped = null;\n                }, 300);\n            }\n            else {\n                clearTimeout(this.tapped);\n                this.callAutoFit(e);\n                this.tapped = null;\n            }\n        }\n    };\n    Resize.prototype.getUserAgent = function () {\n        var userAgent = Browser.userAgent.toLowerCase();\n        return /iphone|ipod|ipad/.test(userAgent);\n    };\n    Resize.prototype.timeoutHandler = function () {\n        this.tapped = null;\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { Browser } from '@syncfusion/ej2-base';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { closest, classList } from '@syncfusion/ej2-base';\nimport { ResponsiveDialogAction } from '../base/enum';\nimport { setCssInGridPopUp, getActualPropFromColl, isActionPrevent, iterateExtend, parentsUntil } from '../base/util';\nimport { addRemoveEventListener } from '../base/util';\nimport * as events from '../base/constant';\nimport { AriaService } from '../services/aria-service';\nimport * as literals from '../base/string-literals';\n/**\n *\n * The `Sort` module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    /**\n     * Constructor for Grid sorting module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {SortSettings} sortSettings - specifies the SortSettings\n     * @param {string[]} sortedColumns - specifies the string\n     * @param {ServiceLocator} locator - specifies the ServiceLocator\n     * @hidden\n     */\n    function Sort(parent, sortSettings, sortedColumns, locator) {\n        this.contentRefresh = true;\n        this.isModelChanged = true;\n        this.aria = new AriaService();\n        this.currentTarget = null;\n        this.parent = parent;\n        this.sortSettings = sortSettings;\n        this.sortedColumns = sortedColumns;\n        this.serviceLocator = locator;\n        this.focus = locator.getService('focus');\n        this.addEventListener();\n        this.setFullScreenDialog();\n    }\n    /**\n     * The function used to update sortSettings\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        var sortedColumn = { field: this.columnName, direction: this.direction };\n        var index;\n        var gCols = this.parent.groupSettings.columns;\n        var flag = false;\n        if (!this.isMultiSort) {\n            if (!gCols.length) {\n                this.sortSettings.columns = [sortedColumn];\n            }\n            else {\n                var sortedCols = [];\n                for (var i = 0, len = gCols.length; i < len; i++) {\n                    index = this.getSortedColsIndexByField(gCols[i], sortedCols);\n                    if (this.columnName === gCols[i]) {\n                        flag = true;\n                        sortedCols.push(sortedColumn);\n                    }\n                    else {\n                        var sCol = this.getSortColumnFromField(gCols[i]);\n                        sortedCols.push({ field: sCol.field, direction: sCol.direction, isFromGroup: sCol.isFromGroup });\n                    }\n                }\n                if (!flag) {\n                    sortedCols.push(sortedColumn);\n                }\n                this.sortSettings.columns = sortedCols;\n            }\n        }\n        else {\n            index = this.getSortedColsIndexByField(this.columnName);\n            if (index > -1) {\n                this.sortSettings.columns.splice(index, 1);\n            }\n            this.sortSettings.columns.push(sortedColumn);\n            // eslint-disable-next-line no-self-assign\n            this.sortSettings.columns = this.sortSettings.columns;\n        }\n        this.parent.dataBind();\n        this.lastSortedCol = this.columnName;\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.onActionComplete = function (e) {\n        var args = !this.isRemove ? {\n            columnName: this.columnName, direction: this.direction, requestType: 'sorting', type: events.actionComplete\n        } : { requestType: 'sorting', type: events.actionComplete };\n        this.isRemove = false;\n        this.parent.trigger(events.actionComplete, extend(e, args));\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previously sorted columns are to be maintained.\n     * @returns {void}\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        var gObj = this.parent;\n        if (this.parent.getColumnByField(columnName).allowSorting === false || this.parent.isContextMenuOpen()) {\n            this.parent.log('action_disabled_column', { moduleName: this.getModuleName(), columnName: columnName });\n            return;\n        }\n        if (!gObj.allowMultiSorting) {\n            isMultiSort = gObj.allowMultiSorting;\n        }\n        if (this.isActionPrevent()) {\n            gObj.notify(events.preventBatch, {\n                instance: this, handler: this.sortColumn,\n                arg1: columnName, arg2: direction, arg3: isMultiSort\n            });\n            return;\n        }\n        this.backupSettings();\n        this.columnName = columnName;\n        this.direction = direction;\n        this.isMultiSort = isMultiSort;\n        this.removeSortIcons();\n        this.updateSortedCols(columnName, isMultiSort);\n        this.updateModel();\n    };\n    Sort.prototype.setFullScreenDialog = function () {\n        if (this.serviceLocator) {\n            this.serviceLocator.registerAdaptiveService(this, this.parent.enableAdaptiveUI, ResponsiveDialogAction.isSort);\n        }\n    };\n    Sort.prototype.backupSettings = function () {\n        this.lastSortedCols = iterateExtend(this.sortSettings.columns);\n        this.lastCols = this.sortedColumns;\n    };\n    Sort.prototype.restoreSettings = function () {\n        this.isModelChanged = false;\n        this.isMultiSort = true;\n        this.parent.setProperties({ sortSettings: { columns: this.lastSortedCols } }, true);\n        //this.parent.sortSettings.columns =  this.lastSortedCols;\n        this.sortedColumns = this.lastCols;\n        this.isModelChanged = true;\n    };\n    Sort.prototype.updateSortedCols = function (columnName, isMultiSort) {\n        if (!isMultiSort) {\n            if (this.parent.allowGrouping) {\n                for (var i = 0, len = this.sortedColumns.length; i < len; i++) {\n                    if (this.parent.groupSettings.columns.indexOf(this.sortedColumns[i]) < 0) {\n                        this.sortedColumns.splice(i, 1);\n                        len--;\n                        i--;\n                    }\n                }\n            }\n            else {\n                this.sortedColumns.splice(0, this.sortedColumns.length);\n            }\n        }\n        if (this.sortedColumns.indexOf(columnName) < 0) {\n            this.sortedColumns.push(columnName);\n        }\n    };\n    /**\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        if (this.contentRefresh) {\n            var args = this.sortSettings.columns.length ? {\n                columnName: this.columnName, direction: this.direction, requestType: 'sorting',\n                type: events.actionBegin, target: this.currentTarget, cancel: false\n            } : {\n                requestType: 'sorting', type: events.actionBegin, cancel: false,\n                target: this.currentTarget\n            };\n            this.parent.notify(events.modelChanged, args);\n        }\n        this.refreshSortSettings();\n        this.removeSortIcons();\n        this.addSortIcons();\n    };\n    Sort.prototype.refreshSortSettings = function () {\n        this.sortedColumns.length = 0;\n        var sortColumns = this.sortSettings.columns;\n        for (var i = 0; i < sortColumns.length; i++) {\n            if (!sortColumns[i].isFromGroup) {\n                this.sortedColumns.push(sortColumns[i].field);\n            }\n        }\n    };\n    /**\n     * Clears all the sorted columns of the Grid.\n     *\n     * @returns {void}\n     */\n    Sort.prototype.clearSorting = function () {\n        var cols = getActualPropFromColl(this.sortSettings.columns);\n        if (this.isActionPrevent()) {\n            this.parent.notify(events.preventBatch, { instance: this, handler: this.clearSorting });\n            return;\n        }\n        for (var i = 0, len = cols.length; i < len; i++) {\n            this.removeSortColumn(cols[i].field);\n        }\n    };\n    Sort.prototype.isActionPrevent = function () {\n        return isActionPrevent(this.parent);\n    };\n    /**\n     * Remove sorted column by field name.\n     *\n     * @param {string} field - Defines the column field name to remove sort.\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.removeSortColumn = function (field) {\n        var gObj = this.parent;\n        var cols = this.sortSettings.columns;\n        if (cols.length === 0 && this.sortedColumns.indexOf(field) < 0) {\n            return;\n        }\n        if (this.isActionPrevent()) {\n            this.parent.notify(events.preventBatch, { instance: this, handler: this.removeSortColumn, arg1: field });\n            return;\n        }\n        this.backupSettings();\n        this.removeSortIcons();\n        var args = { requestType: 'sorting', type: events.actionBegin, target: this.currentTarget };\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (cols[i].field === field) {\n                if (gObj.allowGrouping && gObj.groupSettings.columns.indexOf(cols[i].field) > -1) {\n                    continue;\n                }\n                this.sortedColumns.splice(this.sortedColumns.indexOf(cols[i].field), 1);\n                cols.splice(i, 1);\n                this.isRemove = true;\n                if (this.isModelChanged) {\n                    this.parent.notify(events.modelChanged, args);\n                }\n                break;\n            }\n        }\n        if (!args.cancel) {\n            this.addSortIcons();\n        }\n    };\n    Sort.prototype.getSortedColsIndexByField = function (field, sortedColumns) {\n        var cols = sortedColumns ? sortedColumns : this.sortSettings.columns;\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (cols[i].field === field) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    Sort.prototype.initialEnd = function () {\n        this.parent.off(events.contentReady, this.initialEnd);\n        if (this.parent.getColumns().length && this.sortSettings.columns.length) {\n            var gObj = this.parent;\n            this.contentRefresh = false;\n            this.isMultiSort = this.sortSettings.columns.length > 1;\n            for (var _i = 0, _a = gObj.sortSettings.columns.slice(); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (this.sortedColumns.indexOf(col.field) > -1) {\n                    this.sortColumn(col.field, col.direction, true);\n                }\n            }\n            this.isMultiSort = false;\n            this.contentRefresh = true;\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.setFullScreenDialog, handler: this.setFullScreenDialog },\n            { event: events.contentReady, handler: this.initialEnd },\n            { event: events.sortComplete, handler: this.onActionComplete },\n            { event: events.inBoundModelChanged, handler: this.onPropertyChanged },\n            { event: events.click, handler: this.clickHandler },\n            { event: events.headerRefreshed, handler: this.refreshSortIcons },\n            { event: events.keyPressed, handler: this.keyPressed },\n            { event: events.cancelBegin, handler: this.cancelBeginEvent },\n            { event: events.destroy, handler: this.destroy }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n    };\n    /**\n     * To destroy the sorting\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.destroy = function () {\n        this.isModelChanged = false;\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        if (this.parent.element.querySelector('.e-gridpopup').getElementsByClassName('e-sortdirect').length) {\n            this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (!this.parent.refreshing && (this.parent.isDestroyed || !this.parent.allowSorting)) {\n            this.clearSorting();\n        }\n        this.isModelChanged = true;\n        this.removeEventListener();\n    };\n    Sort.prototype.cancelBeginEvent = function (e) {\n        if (e.requestType === 'sorting') {\n            this.restoreSettings();\n            this.refreshSortIcons();\n            this.isMultiSort = true;\n        }\n    };\n    Sort.prototype.clickHandler = function (e) {\n        var gObj = this.parent;\n        this.currentTarget = null;\n        this.popUpClickHandler(e);\n        var target = closest(e.target, '.e-headercell');\n        if (target && !e.target.classList.contains('e-grptogglebtn') &&\n            !(target.classList.contains('e-resized')) &&\n            !e.target.classList.contains('e-rhandler') &&\n            !e.target.classList.contains('e-columnmenu') &&\n            !e.target.classList.contains('e-filtermenudiv') &&\n            !parentsUntil(e.target, 'e-stackedheadercell') &&\n            !(gObj.allowSelection && gObj.selectionSettings.allowColumnSelection &&\n                e.target.classList.contains('e-headercell'))) {\n            var gObj_1 = this.parent;\n            var colObj = gObj_1.getColumnByUid(target.querySelector('.e-headercelldiv').getAttribute('e-mappinguid'));\n            if (colObj.type !== 'checkbox') {\n                this.initiateSort(target, e, colObj);\n                if (Browser.isDevice) {\n                    this.showPopUp(e);\n                }\n            }\n        }\n        if (target) {\n            target.classList.remove('e-resized');\n        }\n        if (parentsUntil(e.target, 'e-excel-ascending') ||\n            parentsUntil(e.target, 'e-excel-descending')) {\n            var colUid = closest(e.target, '.e-filter-popup').getAttribute('uid');\n            var direction = isNullOrUndefined(parentsUntil(e.target, 'e-excel-descending')) ?\n                'Ascending' : 'Descending';\n            this.sortColumn(gObj.getColumnByUid(colUid).field, direction, false);\n        }\n    };\n    Sort.prototype.keyPressed = function (e) {\n        var ele = e.target;\n        if (!this.parent.isEdit && (e.action === 'enter' || e.action === 'ctrlEnter' || e.action === 'shiftEnter')\n            && closest(ele, '.e-headercell')) {\n            var target = this.focus.getFocusedElement();\n            if (isNullOrUndefined(target) || !target.classList.contains('e-headercell')\n                || !target.querySelector('.e-headercelldiv')) {\n                return;\n            }\n            var col = this.parent.getColumnByUid(target.querySelector('.e-headercelldiv').getAttribute('e-mappinguid'));\n            this.initiateSort(target, e, col);\n        }\n    };\n    Sort.prototype.initiateSort = function (target, e, column) {\n        var gObj = this.parent;\n        var field = column.field;\n        this.currentTarget = e.target;\n        var direction = !target.getElementsByClassName('e-ascending').length ? 'Ascending' :\n            'Descending';\n        this.isMultiSort = e.ctrlKey || this.enableSortMultiTouch ||\n            (navigator.userAgent.indexOf('Mac OS') !== -1 && e.metaKey);\n        if (e.shiftKey || (this.sortSettings.allowUnsort && target.getElementsByClassName('e-descending').length)\n            && !(gObj.groupSettings.columns.indexOf(field) > -1)) {\n            this.removeSortColumn(field);\n        }\n        else {\n            this.sortColumn(field, direction, this.isMultiSort);\n        }\n    };\n    Sort.prototype.showPopUp = function (e) {\n        var target = closest(e.target, '.e-headercell');\n        if (this.parent.allowMultiSorting && (!isNullOrUndefined(target) || this.parent.isContextMenuOpen())) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-gridpopup'), e, 'e-sortdirect e-icons e-icon-sortdirect' + (this.sortedColumns.length > 1 ? ' e-spanclicked' : ''));\n        }\n    };\n    Sort.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.e-headercell') || e.target.classList.contains(literals.rowCell) ||\n            closest(target, '.e-gridpopup')) {\n            if (target.classList.contains('e-sortdirect')) {\n                if (!target.classList.contains('e-spanclicked')) {\n                    target.classList.add('e-spanclicked');\n                    this.enableSortMultiTouch = true;\n                }\n                else {\n                    target.classList.remove('e-spanclicked');\n                    this.enableSortMultiTouch = false;\n                    this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n                }\n            }\n        }\n        else {\n            this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        }\n    };\n    Sort.prototype.addSortIcons = function () {\n        var gObj = this.parent;\n        var header;\n        var filterElement;\n        var cols = this.sortSettings.columns;\n        var fieldNames = this.parent.getColumns().map(function (c) { return c.field; });\n        for (var i = 0, len = cols.length; i < len; i++) {\n            header = gObj.getColumnHeaderByField(cols[i].field);\n            if (fieldNames.indexOf(cols[i].field) === -1 || isNullOrUndefined(header)) {\n                continue;\n            }\n            this.aria.setSort(header, (cols[i].direction).toLowerCase());\n            if (cols.length > 1) {\n                header.querySelector('.e-headercelldiv').insertBefore(this.parent.createElement('span', { className: 'e-sortnumber', innerHTML: (i + 1).toString() }), header.querySelector('.e-headertext'));\n            }\n            filterElement = header.querySelector('.e-sortfilterdiv');\n            if (cols[i].direction === 'Ascending') {\n                classList(filterElement, ['e-ascending', 'e-icon-ascending'], []);\n            }\n            else {\n                classList(filterElement, ['e-descending', 'e-icon-descending'], []);\n            }\n        }\n    };\n    Sort.prototype.removeSortIcons = function (position) {\n        var gObj = this.parent;\n        var header;\n        var cols = this.sortSettings.columns;\n        var fieldNames = this.parent.getColumns().map(function (c) { return c.field; });\n        for (var i = position ? position : 0, len = !isNullOrUndefined(position) ? position + 1 : cols.length; i < len; i++) {\n            header = gObj.getColumnHeaderByField(cols[i].field);\n            if (isNullOrUndefined(header) || (gObj.allowGrouping && gObj.groupSettings.columns.indexOf(cols[i].field) > -1 &&\n                !header.querySelector('.e-sortfilterdiv'))) {\n                continue;\n            }\n            if (fieldNames.indexOf(cols[i].field) === -1) {\n                continue;\n            }\n            this.aria.setSort(header, 'none');\n            classList(header.querySelector('.e-sortfilterdiv'), [], ['e-descending', 'e-icon-descending', 'e-ascending', 'e-icon-ascending']);\n            if (header.querySelector('.e-sortnumber')) {\n                header.querySelector('.e-headercelldiv').removeChild(header.querySelector('.e-sortnumber'));\n            }\n        }\n    };\n    Sort.prototype.getSortColumnFromField = function (field) {\n        for (var i = 0, len = this.sortSettings.columns.length; i < len; i++) {\n            if (this.sortSettings.columns[i].field === field) {\n                return this.sortSettings.columns[i];\n            }\n        }\n        return false;\n    };\n    Sort.prototype.updateAriaAttr = function () {\n        var fieldNames = this.parent.getColumns().map(function (c) { return c.field; });\n        for (var _i = 0, _a = this.sortedColumns; _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (fieldNames.indexOf(col) === -1) {\n                continue;\n            }\n            var header = this.parent.getColumnHeaderByField(col);\n            this.aria.setSort(header, this.getSortColumnFromField(col).direction);\n        }\n    };\n    Sort.prototype.refreshSortIcons = function (params) {\n        if (params === void 0) { params = { args: { isFrozen: false } }; }\n        if (!params.args.isFrozen) {\n            this.removeSortIcons();\n            this.isMultiSort = true;\n            this.removeSortIcons();\n            this.addSortIcons();\n            this.isMultiSort = false;\n            this.updateAriaAttr();\n        }\n    };\n    /**\n     * To show the responsive custom sort dialog\n     *\n     * @param {boolean} enable - specifes dialog open\n     * @returns {void}\n     * @hidden\n     */\n    Sort.prototype.showCustomSort = function (enable) {\n        this.responsiveDialogRenderer.isCustomDialog = enable;\n        this.responsiveDialogRenderer.showResponsiveDialog();\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { select, detach } from '@syncfusion/ej2-base';\nimport { VScroll } from './v-scroll';\nimport { HScroll } from './h-scroll';\n/**\n * Used to add scroll in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\nexport function addScrolling(createElement, container, content, scrollType, enableRtl, offset) {\n    var containerOffset;\n    var contentOffset;\n    var parentElem = container.parentElement;\n    if (scrollType === 'vscroll') {\n        containerOffset = offset || container.getBoundingClientRect().height;\n        contentOffset = content.getBoundingClientRect().height;\n    }\n    else {\n        containerOffset = container.getBoundingClientRect().width;\n        contentOffset = content.getBoundingClientRect().width;\n    }\n    if (containerOffset < contentOffset) {\n        return createScrollbar(createElement, container, content, scrollType, enableRtl, offset);\n    }\n    else if (parentElem) {\n        var width = parentElem.getBoundingClientRect().width;\n        if (width < containerOffset && scrollType === 'hscroll') {\n            contentOffset = width;\n            container.style.maxWidth = width + 'px';\n            return createScrollbar(createElement, container, content, scrollType, enableRtl, offset);\n        }\n        return content;\n    }\n    else {\n        return content;\n    }\n}\n/**\n * Used to create scroll bar in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\nfunction createScrollbar(createElement, container, content, scrollType, enableRtl, offset) {\n    var scrollEle = createElement('div', { className: 'e-menu-' + scrollType });\n    container.appendChild(scrollEle);\n    scrollEle.appendChild(content);\n    if (offset) {\n        scrollEle.style.overflow = 'hidden';\n        scrollEle.style.height = offset + 'px';\n    }\n    else {\n        scrollEle.style.maxHeight = container.style.maxHeight;\n        container.style.overflow = 'hidden';\n    }\n    var scrollObj;\n    if (scrollType === 'vscroll') {\n        scrollObj = new VScroll({ enableRtl: enableRtl }, scrollEle);\n        scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetHeight / 2;\n    }\n    else {\n        scrollObj = new HScroll({ enableRtl: enableRtl }, scrollEle);\n        scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetWidth;\n    }\n    return scrollEle;\n}\n/**\n * Used to destroy the scroll option.\n *\n * @param {VScroll | HScroll} scrollObj - Specifies the scroller object\n * @param {Element} element - Specifies the element\n * @param {HTMLElement} skipEle - Specifies the skip  element\n * @returns {void}\n * @hidden\n */\nexport function destroyScroll(scrollObj, element, skipEle) {\n    if (scrollObj) {\n        var menu = select('.e-menu-parent', element);\n        if (menu) {\n            if (!skipEle || skipEle === menu) {\n                scrollObj.destroy();\n                element.parentElement.appendChild(menu);\n                detach(element);\n            }\n        }\n        else {\n            scrollObj.destroy();\n            detach(element);\n        }\n    }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, NotifyPropertyChanges, isBlazor } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents, Touch } from '@syncfusion/ej2-base';\nimport { Animation } from '@syncfusion/ej2-base';\nimport { Browser, Collection, setValue, getValue, getUniqueID, getInstance, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { select, selectAll, closest, detach, append, rippleEffect, isVisible, Complex, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { getZindexPartial, calculatePosition, isCollide, fit, Popup } from '@syncfusion/ej2-popups';\nimport { SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { getScrollableParent } from '@syncfusion/ej2-popups';\nimport { HScroll } from '../common/h-scroll';\nimport { VScroll } from '../common/v-scroll';\nimport { addScrolling, destroyScroll } from '../common/menu-scroll';\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar DOWNARROW = 'downarrow';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar HOME = 'home';\nvar END = 'end';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\nvar RTL = 'e-rtl';\nvar POPUP = 'e-menu-popup';\nvar TEMPLATE_PROPERTY = 'Template';\n/**\n * Configures the field options of the Menu.\n */\nvar FieldSettings = /** @class */ (function (_super) {\n    __extends(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('id')\n    ], FieldSettings.prototype, \"itemId\", void 0);\n    __decorate([\n        Property('parentId')\n    ], FieldSettings.prototype, \"parentId\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('url')\n    ], FieldSettings.prototype, \"url\", void 0);\n    __decorate([\n        Property('separator')\n    ], FieldSettings.prototype, \"separator\", void 0);\n    __decorate([\n        Property('items')\n    ], FieldSettings.prototype, \"children\", void 0);\n    return FieldSettings;\n}(ChildProperty));\nexport { FieldSettings };\n/**\n * Specifies menu items.\n */\nvar MenuItem = /** @class */ (function (_super) {\n    __extends(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\nexport { MenuItem };\n/**\n * Animation configuration settings.\n */\nvar MenuAnimationSettings = /** @class */ (function (_super) {\n    __extends(MenuAnimationSettings, _super);\n    function MenuAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], MenuAnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], MenuAnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('ease')\n    ], MenuAnimationSettings.prototype, \"easing\", void 0);\n    return MenuAnimationSettings;\n}(ChildProperty));\nexport { MenuAnimationSettings };\n/**\n * Base class for Menu and ContextMenu components.\n *\n *  @private\n */\nvar MenuBase = /** @class */ (function (_super) {\n    __extends(MenuBase, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {MenuBaseModel} options - Specifies the menu base model\n     * @param {string | HTMLUListElement} element - Specifies the element\n     */\n    function MenuBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.navIdx = [];\n        _this.animation = new Animation({});\n        _this.isTapHold = false;\n        _this.tempItem = [];\n        _this.showSubMenuOn = 'Auto';\n        return _this;\n    }\n    /**\n     * Initialized third party configuration settings.\n     *\n     * @private\n     * @returns {void}\n     */\n    MenuBase.prototype.preRender = function () {\n        if (!this.isMenu) {\n            var ul = void 0;\n            if (this.element.tagName === 'EJS-CONTEXTMENU') {\n                ul = this.createElement('ul', {\n                    id: getUniqueID(this.getModuleName()), className: 'e-control e-lib e-' + this.getModuleName()\n                });\n                var ejInst = getValue('ej2_instances', this.element);\n                removeClass([this.element], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n                this.clonedElement = this.element;\n                this.element = ul;\n                setValue('ej2_instances', ejInst, this.element);\n            }\n            else {\n                ul = this.createElement('ul', { id: getUniqueID(this.getModuleName()) });\n                append([].slice.call(this.element.cloneNode(true).children), ul);\n                var refEle = this.element.nextElementSibling;\n                if (refEle) {\n                    this.element.parentElement.insertBefore(ul, refEle);\n                }\n                else {\n                    this.element.parentElement.appendChild(ul);\n                }\n                this.clonedElement = ul;\n            }\n            this.clonedElement.style.display = 'none';\n        }\n        if (this.element.tagName === 'EJS-MENU') {\n            var ele = this.element;\n            var ejInstance = getValue('ej2_instances', ele);\n            var ul = this.createElement('ul');\n            var wrapper = this.createElement('EJS-MENU', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                ul.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = ul;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.clonedElement = wrapper;\n            this.element = ele;\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    MenuBase.prototype.render = function () {\n        var _this = this;\n        this.initialize();\n        this.renderItems();\n        this.wireEvents();\n        this.renderComplete();\n        var wrapper = this.getWrapper();\n        if (this.template && this.enableScrolling && (this.isReact || this.isAngular)) {\n            requestAnimationFrame(function () {\n                addScrolling(_this.createElement, wrapper, _this.element, 'hscroll', _this.enableRtl);\n            });\n        }\n    };\n    MenuBase.prototype.initialize = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            if (this.isMenu) {\n                this.element.parentElement.insertBefore(wrapper, this.element);\n            }\n            else {\n                document.body.appendChild(wrapper);\n            }\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        wrapper.appendChild(this.element);\n        if (this.isMenu && this.hamburgerMode) {\n            if (!this.target) {\n                this.createHeaderContainer(wrapper);\n            }\n        }\n        this.defaultOption = this.showItemOnClick;\n    };\n    MenuBase.prototype.renderItems = function () {\n        if (!this.items.length) {\n            var items = ListBase.createJsonFromElement(this.element, { fields: { child: 'items' } });\n            this.setProperties({ items: items }, true);\n            if (isBlazor() && !this.isMenu) {\n                this.element = this.removeChildElement(this.element);\n            }\n            else {\n                this.element.innerHTML = '';\n            }\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n        if (this.isMenu) {\n            if (!this.hamburgerMode && this.element.classList.contains('e-vertical')) {\n                this.setBlankIconStyle(this.element);\n            }\n            if (this.enableScrolling) {\n                var wrapper = this.getWrapper();\n                if (this.element.classList.contains('e-vertical')) {\n                    addScrolling(this.createElement, wrapper, this.element, 'vscroll', this.enableRtl);\n                }\n                else {\n                    addScrolling(this.createElement, wrapper, this.element, 'hscroll', this.enableRtl);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (this.isMenu) {\n                    EventHandler.add(target, 'click', this.menuHeaderClickHandler, this);\n                }\n                else {\n                    if (Browser.isIos) {\n                        new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                    }\n                    else {\n                        EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                    }\n                }\n            }\n            this.targetElement = target;\n            if (!this.isMenu) {\n                EventHandler.add(this.targetElement, 'scroll', this.scrollHandler, this);\n                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                    var parent_1 = _a[_i];\n                    EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            this.delegateMoverHandler = this.moverHandler.bind(this);\n            this.delegateMouseDownHandler = this.mouseDownHandler.bind(this);\n            EventHandler.add(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler, this);\n            EventHandler.add(document, 'mousedown', this.delegateMouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        this.wireKeyboardEvent(wrapper);\n        this.rippleFn = rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    MenuBase.prototype.wireKeyboardEvent = function (element) {\n        var keyConfigs = {\n            downarrow: DOWNARROW,\n            uparrow: UPARROW,\n            enter: ENTER,\n            leftarrow: LEFTARROW,\n            rightarrow: RIGHTARROW,\n            escape: ESCAPE\n        };\n        if (this.isMenu) {\n            keyConfigs.home = HOME;\n            keyConfigs.end = END;\n        }\n        new KeyboardEvents(element, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: keyConfigs\n        });\n    };\n    MenuBase.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.e-' + this.getModuleName() + '-wrapper') !== this.getWrapper()\n            && (!closest(e.target, '.e-' + this.getModuleName() + '-popup'))) {\n            this.closeMenu(this.isMenu ? null : this.navIdx.length, e);\n        }\n    };\n    MenuBase.prototype.keyBoardHandler = function (e) {\n        var actionName = '';\n        var trgt = e.target;\n        var actionNeeded = this.isMenu && !this.hamburgerMode && !this.element.classList.contains('e-vertical')\n            && this.navIdx.length < 1;\n        e.preventDefault();\n        if (this.enableScrolling && e.keyCode === 13 && trgt.classList.contains('e-scroll-nav')) {\n            this.removeLIStateByClass([FOCUSED, SELECTED], [closest(trgt, '.e-' + this.getModuleName() + '-wrapper')]);\n        }\n        if (actionNeeded) {\n            switch (e.action) {\n                case RIGHTARROW:\n                    actionName = RIGHTARROW;\n                    e.action = DOWNARROW;\n                    break;\n                case LEFTARROW:\n                    actionName = LEFTARROW;\n                    e.action = UPARROW;\n                    break;\n                case DOWNARROW:\n                    actionName = DOWNARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case UPARROW:\n                    actionName = UPARROW;\n                    e.action = '';\n                    break;\n            }\n        }\n        else if (this.enableRtl) {\n            switch (e.action) {\n                case LEFTARROW:\n                    actionNeeded = true;\n                    actionName = LEFTARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case RIGHTARROW:\n                    actionNeeded = true;\n                    actionName = RIGHTARROW;\n                    e.action = LEFTARROW;\n                    break;\n            }\n        }\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n            case END:\n            case HOME:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                if (this.hamburgerMode && trgt.tagName === 'SPAN' && trgt.classList.contains('e-menu-icon')) {\n                    this.menuHeaderClickHandler(e);\n                }\n                else {\n                    this.rightEnterKeyHandler(e);\n                }\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n        if (actionNeeded) {\n            e.action = actionName;\n        }\n    };\n    MenuBase.prototype.upDownKeyHandler = function (e) {\n        var cul = this.getUlByNavIdx();\n        var defaultIdx = (e.action === DOWNARROW || e.action === HOME) ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            if (e.action !== END && e.action !== HOME) {\n                fliIdx = this.getIdx(cul, fli);\n            }\n            fli.classList.remove(FOCUSED);\n            if (e.action !== END && e.action !== HOME) {\n                if (e.action === DOWNARROW) {\n                    fliIdx++;\n                }\n                else {\n                    fliIdx--;\n                }\n                if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                    fliIdx = defaultIdx;\n                }\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    MenuBase.prototype.isValidLI = function (cli, index, action) {\n        var cul = this.getUlByNavIdx();\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            if ((action === DOWNARROW) || (action === RIGHTARROW)) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    MenuBase.prototype.getUlByNavIdx = function (navIdxLen) {\n        if (navIdxLen === void 0) { navIdxLen = this.navIdx.length; }\n        if (this.isMenu) {\n            var popup = [this.getWrapper()].concat([].slice.call(selectAll('.' + POPUP)))[navIdxLen];\n            return isNullOrUndefined(popup) ? null : select('.e-menu-parent', popup);\n        }\n        else {\n            return this.getWrapper().children[navIdxLen];\n        }\n    };\n    MenuBase.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var cul = this.getUlByNavIdx();\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.keyType = 'right';\n                this.action = e.action;\n                this.openMenu(fli, item, -1, -1, e);\n            }\n            else {\n                if (e.action === ENTER) {\n                    if (this.isMenu && this.navIdx.length === 0) {\n                        this.removeLIStateByClass([SELECTED], [this.getWrapper()]);\n                    }\n                    else {\n                        fli.classList.remove(FOCUSED);\n                    }\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item, event: e };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            this.keyType = 'left';\n            this.closeMenu(this.navIdx.length, e);\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    MenuBase.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    MenuBase.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    MenuBase.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.isCMenu = true;\n        this.pageX = e.changedTouches ? e.changedTouches[0].pageX + 1 : e.pageX + 1;\n        this.pageY = e.changedTouches ? e.changedTouches[0].pageY + 1 : e.pageY + 1;\n        this.closeMenu(null, e);\n        if (this.isCMenu) {\n            if (this.canOpen(e.target)) {\n                this.openMenu(null, null, this.pageY, this.pageX, e);\n            }\n            this.isCMenu = false;\n        }\n    };\n    // eslint:disable-next-line:max-func-body-length\n    MenuBase.prototype.closeMenu = function (ulIndex, e, isIterated) {\n        var _this = this;\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var sli = void 0;\n            var item_1;\n            var wrapper = this.getWrapper();\n            var beforeCloseArgs = void 0;\n            var items_1;\n            var popups = this.getPopups();\n            var isClose = false;\n            var cnt = this.isMenu ? popups.length + 1 : wrapper.childElementCount;\n            var ul_1 = this.isMenu && cnt !== 1 ? select('.e-ul', popups[cnt - 2])\n                : selectAll('.e-menu-parent', wrapper)[cnt - 1];\n            if (this.isMenu && ul_1.classList.contains('e-menu')) {\n                sli = this.getLIByClass(ul_1, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                isClose = true;\n            }\n            if (!isClose) {\n                var liElem_1 = e && e.target && this.getLI(e.target);\n                item_1 = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items_1 = item_1 ? item_1.items : this.items;\n                beforeCloseArgs = { element: ul_1, parentItem: item_1, items: items_1, event: e, cancel: false, isFocused: true };\n                this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n                    var popupEle;\n                    var closeArgs;\n                    var popupId = '';\n                    var popupObj;\n                    var isOpen = !observedCloseArgs.cancel;\n                    if (isOpen || _this.isCMenu) {\n                        if (_this.isMenu) {\n                            popupEle = closest(ul_1, '.' + POPUP);\n                            if (_this.hamburgerMode) {\n                                popupEle.parentElement.style.minHeight = '';\n                                closest(ul_1, '.e-menu-item').setAttribute('aria-expanded', 'false');\n                            }\n                            _this.unWireKeyboardEvent(popupEle);\n                            destroyScroll(getInstance(popupEle.children[0], VScroll), popupEle.children[0]);\n                            popupObj = getInstance(popupEle, Popup);\n                            popupObj.hide();\n                            popupId = popupEle.id;\n                            popupObj.destroy();\n                            detach(popupEle);\n                        }\n                        else {\n                            _this.toggleAnimation(ul_1, false);\n                        }\n                        closeArgs = { element: ul_1, parentItem: item_1, items: items_1 };\n                        _this.trigger('onClose', closeArgs);\n                        _this.navIdx.pop();\n                    }\n                    _this.updateReactTemplate();\n                    var trgtliId;\n                    var closedLi;\n                    var trgtLi;\n                    var trgtpopUp = _this.getWrapper() && _this.getUlByNavIdx();\n                    if (_this.isCMenu) {\n                        if (_this.canOpen(e.target)) {\n                            _this.openMenu(null, null, _this.pageY, _this.pageX, e);\n                        }\n                        _this.isCMenu = false;\n                    }\n                    if (_this.isMenu && trgtpopUp && popupId.length) {\n                        trgtliId = new RegExp('(.*)-ej2menu-' + _this.element.id + '-popup').exec(popupId)[1];\n                        closedLi = trgtpopUp.querySelector('[id=\"' + trgtliId + '\"]');\n                        trgtLi = (liElem_1 && trgtpopUp.querySelector('[id=\"' + liElem_1.id + '\"]'));\n                    }\n                    var submenus = liElem_1 && liElem_1.querySelectorAll('.e-menu-item');\n                    if (isOpen && _this.hamburgerMode && ulIndex && !(submenus.length)) {\n                        _this.afterCloseMenu(e);\n                    }\n                    else if (isOpen && !_this.hamburgerMode && _this.navIdx.length && closedLi && !trgtLi && _this.keyType !== \"left\") {\n                        var ele = (e && e.target.classList.contains('e-vscroll'))\n                            ? closest(e.target, '.e-menu-wrapper') : null;\n                        if (ele) {\n                            ele = ele.querySelector('.e-menu-item');\n                            if (_this.showItemOnClick || (ele && _this.getIndex(ele.id, true).length <= _this.navIdx.length)) {\n                                _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e, true);\n                            }\n                        }\n                        else {\n                            _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e);\n                        }\n                    }\n                    else if (isOpen && !isIterated && !ulIndex && ((_this.hamburgerMode && _this.navIdx.length) ||\n                        _this.navIdx.length === 1)) {\n                        _this.closeMenu(null, e);\n                    }\n                    else if (isOpen && isNullOrUndefined(ulIndex) && _this.navIdx.length) {\n                        _this.closeMenu(null, e);\n                    }\n                    else if (isOpen && !_this.isMenu && !ulIndex && _this.navIdx.length === 0 && !_this.isMenusClosed) {\n                        _this.isMenusClosed = true;\n                        _this.closeMenu(0, e);\n                    }\n                    else if (isOpen && _this.isMenu && e && e.target &&\n                        _this.navIdx.length !== 0 && closest(e.target, '.e-menu-parent.e-control')) {\n                        _this.closeMenu(0, e);\n                    }\n                    else {\n                        if (isOpen && (_this.keyType === 'right' || _this.keyType === 'click')) {\n                            _this.afterCloseMenu(e);\n                        }\n                        else {\n                            var cul = _this.getUlByNavIdx();\n                            var sli_1 = _this.getLIByClass(cul, SELECTED);\n                            if (sli_1) {\n                                sli_1.setAttribute('aria-expanded', 'false');\n                                sli_1.classList.remove(SELECTED);\n                                if (observedCloseArgs.isFocused && liElem_1 || _this.keyType === \"left\") {\n                                    sli_1.classList.add(FOCUSED);\n                                    sli_1.focus();\n                                }\n                            }\n                            if (!isOpen && _this.hamburgerMode && liElem_1 && liElem_1.getAttribute('aria-expanded') === 'false' &&\n                                liElem_1.getAttribute('aria-haspopup') === 'true') {\n                                if (closest(liElem_1, '.e-menu-parent.e-control')) {\n                                    _this.navIdx = [];\n                                }\n                                else {\n                                    _this.navIdx.pop();\n                                }\n                                _this.navIdx.push(_this.cliIdx);\n                                var item_2 = _this.getItem(_this.navIdx);\n                                liElem_1.setAttribute('aria-expanded', 'true');\n                                _this.openMenu(liElem_1, item_2, -1, -1, e);\n                            }\n                        }\n                        if (_this.navIdx.length < 1) {\n                            if (_this.showSubMenuOn === 'Hover' || _this.showSubMenuOn === 'Click') {\n                                _this.showItemOnClick = _this.defaultOption;\n                                _this.showSubMenuOn = 'Auto';\n                            }\n                        }\n                    }\n                    _this.removeStateWrapper();\n                });\n            }\n        }\n    };\n    MenuBase.prototype.updateReactTemplate = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact && this.template && this.navIdx.length === 0) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var portals = this.portals.splice(0, this.items.length);\n            this.clearTemplate(['template']);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.portals = portals;\n            this.renderReactTemplates();\n        }\n    };\n    MenuBase.prototype.getMenuItemModel = function (item, level) {\n        if (isNullOrUndefined(item)) {\n            return null;\n        }\n        if (isNullOrUndefined(level)) {\n            level = 0;\n        }\n        var fields = this.getFields(level);\n        return { text: item[fields.text], id: item[fields.id], items: item[fields.child], separator: item[fields.separator],\n            iconCss: item[fields.iconCss], url: item[fields.url] };\n    };\n    MenuBase.prototype.getPopups = function () {\n        var _this = this;\n        var popups = [];\n        [].slice.call(document.querySelectorAll('.' + POPUP)).forEach(function (elem) {\n            if (!isNullOrUndefined(elem.querySelector('.' + ITEM)) && _this.getIndex(elem.querySelector('.' + ITEM).id, true).length) {\n                popups.push(elem);\n            }\n        });\n        return popups;\n    };\n    MenuBase.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    MenuBase.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = filter.length; i < len; i++) {\n                if (closest(target, '.' + filter[i])) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    MenuBase.prototype.openMenu = function (li, item, top, left, e, target) {\n        var _this = this;\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        if (target === void 0) { target = this.targetElement; }\n        var wrapper = this.getWrapper();\n        this.lItem = li;\n        var elemId = this.element.id !== '' ? this.element.id : 'menu';\n        this.isMenusClosed = false;\n        if (isNullOrUndefined(top)) {\n            top = -1;\n        }\n        if (isNullOrUndefined(left)) {\n            left = -1;\n        }\n        if (li) {\n            this.uList = this.createItems(item[this.getField('children', this.navIdx.length - 1)]);\n            if (!this.isMenu && Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = {\n                    text: item[this.getField('text')].toString(), iconCss: ICONS + ' e-previous'\n                };\n                var hdata = new MenuItem(this.items[0], 'items', data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                this.uList.insertBefore(hli, this.uList.children[0]);\n            }\n            if (this.isMenu) {\n                this.popupWrapper = this.createElement('div', {\n                    className: 'e-' + this.getModuleName() + '-wrapper ' + POPUP, id: li.id + '-ej2menu-' + elemId + '-popup'\n                });\n                if (this.hamburgerMode) {\n                    top = li.offsetHeight;\n                    li.appendChild(this.popupWrapper);\n                }\n                else {\n                    document.body.appendChild(this.popupWrapper);\n                }\n                this.isNestedOrVertical = this.element.classList.contains('e-vertical') || this.navIdx.length !== 1;\n                this.popupObj = this.generatePopup(this.popupWrapper, this.uList, li, this.isNestedOrVertical);\n                if (this.template) {\n                    this.renderReactTemplates();\n                }\n                if (this.hamburgerMode) {\n                    this.calculateIndentSize(this.uList, li);\n                }\n                else {\n                    if (this.cssClass) {\n                        addClass([this.popupWrapper], this.cssClass.split(' '));\n                    }\n                    this.popupObj.hide();\n                }\n                if (!this.hamburgerMode && !this.showItemOnClick && this.hoverDelay) {\n                    window.clearInterval(this.timer);\n                    this.timer = window.setTimeout(function () { _this.triggerBeforeOpen(li, _this.uList, item, e, 0, 0, 'menu'); }, this.hoverDelay);\n                }\n                else {\n                    this.triggerBeforeOpen(li, this.uList, item, e, 0, 0, 'menu');\n                }\n            }\n            else {\n                this.uList.style.zIndex = this.element.style.zIndex;\n                wrapper.appendChild(this.uList);\n                if (!this.showItemOnClick && this.hoverDelay) {\n                    window.clearInterval(this.timer);\n                    this.timer = window.setTimeout(function () { _this.triggerBeforeOpen(li, _this.uList, item, e, top, left, 'none'); }, this.hoverDelay);\n                }\n                else {\n                    this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n                }\n            }\n        }\n        else {\n            this.uList = this.element;\n            this.uList.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n            this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n        }\n    };\n    MenuBase.prototype.calculateIndentSize = function (ul, li) {\n        var liStyle = getComputedStyle(li);\n        var liIndent = parseInt(liStyle.textIndent, 10);\n        if (this.navIdx.length < 2 && !li.classList.contains('e-blankicon')) {\n            liIndent *= 2;\n        }\n        else {\n            liIndent += (liIndent / 4);\n        }\n        ul.style.textIndent = liIndent + 'px';\n        var blankIconElem = ul.querySelectorAll('.e-blankicon');\n        if (blankIconElem && blankIconElem.length) {\n            var menuIconElem = ul.querySelector('.e-menu-icon');\n            var menuIconElemStyle = getComputedStyle(menuIconElem);\n            var blankIconIndent = (parseInt(menuIconElemStyle.marginRight, 10) + menuIconElem.offsetWidth + liIndent);\n            for (var i = 0; i < blankIconElem.length; i++) {\n                blankIconElem[i].style.textIndent = blankIconIndent + 'px';\n            }\n        }\n    };\n    MenuBase.prototype.generatePopup = function (popupWrapper, ul, li, isNestedOrVertical) {\n        var _this = this;\n        var popupObj = new Popup(popupWrapper, {\n            actionOnScroll: this.hamburgerMode ? 'none' : 'reposition',\n            relateTo: li,\n            collision: this.hamburgerMode ? { X: 'none', Y: 'none' } : { X: isNestedOrVertical ||\n                    this.enableRtl ? 'none' : 'flip', Y: 'fit' },\n            position: (isNestedOrVertical && !this.hamburgerMode) ? { X: 'right', Y: 'top' } : { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            enableRtl: this.enableRtl,\n            content: ul,\n            open: function () {\n                var scrollEle = select('.e-menu-vscroll', popupObj.element);\n                if (scrollEle) {\n                    scrollEle.style.height = 'inherit';\n                    scrollEle.style.maxHeight = '';\n                }\n                var ul = select('.e-ul', popupObj.element);\n                popupObj.element.style.maxHeight = '';\n                ul.focus();\n                _this.triggerOpen(ul);\n            }\n        });\n        return popupObj;\n    };\n    MenuBase.prototype.createHeaderContainer = function (wrapper) {\n        wrapper = wrapper || this.getWrapper();\n        var spanElem = this.createElement('span', { className: 'e-' + this.getModuleName() + '-header' });\n        var tempTitle = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(this.title) : this.title;\n        var spanTitle = this.createElement('span', {\n            className: 'e-' + this.getModuleName() + '-title', innerHTML: tempTitle\n        });\n        var spanIcon = this.createElement('span', {\n            className: 'e-icons e-' + this.getModuleName() + '-icon', attrs: { 'tabindex': '0' }\n        });\n        spanElem.appendChild(spanTitle);\n        spanElem.appendChild(spanIcon);\n        wrapper.insertBefore(spanElem, this.element);\n    };\n    MenuBase.prototype.openHamburgerMenu = function (e) {\n        if (this.hamburgerMode) {\n            this.triggerBeforeOpen(null, this.element, null, e, 0, 0, 'hamburger');\n        }\n    };\n    MenuBase.prototype.closeHamburgerMenu = function (e) {\n        var _this = this;\n        var beforeCloseArgs = { element: this.element, parentItem: null, event: e,\n            items: this.items, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs, function (observedHamburgerCloseArgs) {\n            if (!observedHamburgerCloseArgs.cancel) {\n                _this.closeMenu(null, e);\n                _this.element.classList.add('e-hide-menu');\n                _this.trigger('onClose', { element: _this.element, parentItem: null, items: _this.items });\n            }\n        });\n    };\n    MenuBase.prototype.callFit = function (element, x, y, top, left) {\n        return fit(element, null, { X: x, Y: y }, { top: top, left: left });\n    };\n    MenuBase.prototype.triggerBeforeOpen = function (li, ul, item, e, top, left, type) {\n        var _this = this;\n        var items = li ? item[this.getField('children', this.navIdx.length - 1)] : this.items;\n        var eventArgs = {\n            element: ul, items: items, parentItem: item, event: e, cancel: false, top: top, left: left, showSubMenuOn: 'Auto'\n        };\n        var menuType = type;\n        this.trigger('beforeOpen', eventArgs, function (observedOpenArgs) {\n            switch (menuType) {\n                case 'menu':\n                    if (!_this.hamburgerMode) {\n                        if (observedOpenArgs.showSubMenuOn !== 'Auto') {\n                            _this.showItemOnClick = !_this.defaultOption;\n                            _this.showSubMenuOn = observedOpenArgs.showSubMenuOn;\n                        }\n                        _this.top = observedOpenArgs.top;\n                        _this.left = observedOpenArgs.left;\n                    }\n                    _this.popupWrapper.style.display = 'block';\n                    if (!_this.hamburgerMode) {\n                        _this.popupWrapper.style.maxHeight = _this.popupWrapper.getBoundingClientRect().height + 'px';\n                        if (_this.enableScrolling) {\n                            addScrolling(_this.createElement, _this.popupWrapper, _this.uList, 'vscroll', _this.enableRtl);\n                        }\n                        _this.checkScrollOffset(e);\n                    }\n                    if (!_this.hamburgerMode && !_this.left && !_this.top) {\n                        _this.popupObj.refreshPosition(_this.lItem, true);\n                        _this.left = parseInt(_this.popupWrapper.style.left, 10);\n                        _this.top = parseInt(_this.popupWrapper.style.top, 10);\n                        if (_this.enableRtl) {\n                            _this.left =\n                                _this.isNestedOrVertical ? _this.left - _this.popupWrapper.offsetWidth - _this.lItem.parentElement.offsetWidth + 2\n                                    : _this.left - _this.popupWrapper.offsetWidth + _this.lItem.offsetWidth;\n                        }\n                        if (_this.template && (_this.isReact || _this.isAngular)) {\n                            requestAnimationFrame(function () {\n                                _this.collision();\n                                _this.popupWrapper.style.display = '';\n                            });\n                        }\n                        else {\n                            _this.collision();\n                            _this.popupWrapper.style.display = '';\n                        }\n                    }\n                    else {\n                        _this.popupObj.collision = { X: 'none', Y: 'none' };\n                        _this.popupWrapper.style.display = '';\n                    }\n                    break;\n                case 'none':\n                    _this.top = observedOpenArgs.top;\n                    _this.left = observedOpenArgs.left;\n                    break;\n                case 'hamburger':\n                    if (!observedOpenArgs.cancel) {\n                        _this.element.classList.remove('e-hide-menu');\n                        _this.triggerOpen(_this.element);\n                    }\n                    break;\n            }\n            if (menuType !== 'hamburger') {\n                if (observedOpenArgs.cancel) {\n                    if (_this.isMenu) {\n                        _this.popupObj.destroy();\n                        detach(_this.popupWrapper);\n                    }\n                    else if (ul.className.indexOf('e-ul') > -1) {\n                        detach(ul);\n                    }\n                    _this.navIdx.pop();\n                }\n                else {\n                    if (_this.isMenu) {\n                        if (_this.hamburgerMode) {\n                            _this.popupWrapper.style.top = _this.top + 'px';\n                            _this.popupWrapper.style.left = 0 + 'px';\n                            _this.toggleAnimation(_this.popupWrapper);\n                        }\n                        else {\n                            _this.setBlankIconStyle(_this.popupWrapper);\n                            _this.wireKeyboardEvent(_this.popupWrapper);\n                            rippleEffect(_this.popupWrapper, { selector: '.' + ITEM });\n                            if (_this.popupWrapper.style.position === 'fixed' && _this.top > 0) {\n                                _this.popupWrapper.style.left = _this.left + 'px';\n                                _this.popupWrapper.style.top = _this.top + scrollY + 'px';\n                            }\n                            else {\n                                _this.popupWrapper.style.left = _this.left + 'px';\n                                _this.popupWrapper.style.top = _this.top + 'px';\n                            }\n                            var animationOptions = _this.animationSettings.effect !== 'None' ? {\n                                name: _this.animationSettings.effect, duration: _this.animationSettings.duration,\n                                timingFunction: _this.animationSettings.easing\n                            } : null;\n                            _this.popupObj.show(animationOptions, _this.lItem);\n                        }\n                    }\n                    else {\n                        _this.setBlankIconStyle(_this.uList);\n                        _this.setPosition(_this.lItem, _this.uList, _this.top, _this.left);\n                        _this.toggleAnimation(_this.uList);\n                    }\n                }\n            }\n            if (_this.keyType === 'right') {\n                var cul = _this.getUlByNavIdx();\n                li.classList.remove(FOCUSED);\n                if (_this.isMenu && _this.navIdx.length === 1) {\n                    _this.removeLIStateByClass([SELECTED], [_this.getWrapper()]);\n                }\n                li.classList.add(SELECTED);\n                if (_this.action === ENTER) {\n                    var eventArgs_1 = { element: li, item: item, event: e };\n                    _this.trigger('select', eventArgs_1);\n                }\n                li.focus();\n                cul = _this.getUlByNavIdx();\n                var index = _this.isValidLI(cul.children[0], 0, _this.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n        });\n    };\n    MenuBase.prototype.collision = function () {\n        var collide;\n        collide = isCollide(this.popupWrapper, null, this.left, this.top);\n        if ((this.isNestedOrVertical || this.enableRtl) && (collide.indexOf('right') > -1\n            || collide.indexOf('left') > -1)) {\n            this.popupObj.collision.X = 'none';\n            var offWidth = closest(this.lItem, '.e-' + this.getModuleName() + '-wrapper').offsetWidth;\n            this.left =\n                this.enableRtl ? calculatePosition(this.lItem, this.isNestedOrVertical ? 'right' : 'left', 'top').left\n                    : this.left - this.popupWrapper.offsetWidth - offWidth + 2;\n        }\n        collide = isCollide(this.popupWrapper, null, this.left, this.top);\n        if (collide.indexOf('left') > -1 || collide.indexOf('right') > -1) {\n            this.left = this.callFit(this.popupWrapper, true, false, this.top, this.left).left;\n        }\n        this.popupWrapper.style.left = this.left + 'px';\n    };\n    MenuBase.prototype.setBlankIconStyle = function (menu) {\n        var blankIconList = [].slice.call(menu.getElementsByClassName('e-blankicon'));\n        if (!blankIconList.length) {\n            return;\n        }\n        var iconLi = menu.querySelector('.e-menu-item:not(.e-blankicon):not(.e-separator)');\n        var icon = iconLi.querySelector('.e-menu-icon');\n        if (!icon) {\n            return;\n        }\n        var cssProp = this.enableRtl ? { padding: 'paddingRight', margin: 'marginLeft' } :\n            { padding: 'paddingLeft', margin: 'marginRight' };\n        var iconCssProps = getComputedStyle(icon);\n        var iconSize = parseInt(iconCssProps.fontSize, 10);\n        if (!!parseInt(iconCssProps.width, 10) && parseInt(iconCssProps.width, 10) > iconSize) {\n            iconSize = parseInt(iconCssProps.width, 10);\n        }\n        // eslint:disable\n        var size = iconSize + parseInt(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        iconCssProps[cssProp.margin], 10) + parseInt(getComputedStyle(iconLi)[cssProp.padding], 10) + \"px\";\n        blankIconList.forEach(function (li) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            li.style[cssProp.padding] = size;\n        });\n        // eslint:enable\n    };\n    MenuBase.prototype.checkScrollOffset = function (e) {\n        var wrapper = this.getWrapper();\n        if (wrapper.children[0].classList.contains('e-menu-hscroll') && this.navIdx.length === 1) {\n            var trgt = isNullOrUndefined(e) ? this.element : closest(e.target, '.' + ITEM);\n            var offsetEle = select('.e-hscroll-bar', wrapper);\n            if (offsetEle.scrollLeft > trgt.offsetLeft) {\n                offsetEle.scrollLeft -= (offsetEle.scrollLeft - trgt.offsetLeft);\n            }\n            var offsetLeft = offsetEle.scrollLeft + offsetEle.offsetWidth;\n            var offsetRight = trgt.offsetLeft + trgt.offsetWidth;\n            if (offsetLeft < offsetRight) {\n                offsetEle.scrollLeft += (offsetRight - offsetLeft);\n            }\n        }\n    };\n    MenuBase.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element || (left > -1 && top > -1)) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = this.callFit(ul, false, true, top, left);\n                top = offset.top - 20;\n                if (top < 0) {\n                    var newTop = (pageYOffset + document.documentElement.clientHeight) - ul.getBoundingClientRect().height;\n                    if (newTop > -1) {\n                        top = newTop;\n                    }\n                }\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = this.callFit(ul, true, false, top, left);\n                left = offset.left;\n            }\n        }\n        else {\n            if (Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = this.enableRtl ? 'left' : 'right';\n                var offset = calculatePosition(li, x, 'top');\n                top = offset.top;\n                left = offset.left;\n                var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n                var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n                if (xCollision) {\n                    offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                    left = offset.left;\n                }\n                if (this.enableRtl || xCollision) {\n                    left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                }\n                if (collide.indexOf('bottom') > -1) {\n                    offset = this.callFit(ul, false, true, top, left);\n                    top = offset.top;\n                }\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    MenuBase.prototype.toggleVisiblity = function (ul, isVisible) {\n        if (isVisible === void 0) { isVisible = true; }\n        ul.style.visibility = isVisible ? 'hidden' : '';\n        ul.style.display = isVisible ? 'block' : 'none';\n    };\n    MenuBase.prototype.createItems = function (items) {\n        var _this = this;\n        var level = this.navIdx ? this.navIdx.length : 0;\n        var fields = this.getFields(level);\n        var showIcon = this.hasField(items, this.getField('iconCss', level));\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            fields: fields,\n            template: this.template,\n            itemNavigable: true,\n            itemCreating: function (args) {\n                if (!args.curData[args.fields[fields.id]]) {\n                    args.curData[args.fields[fields.id]] = getUniqueID('menuitem');\n                }\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n                if (_this.isMenu && !args.curData[_this.getField('separator', level)]) {\n                    args.curData.htmlAttributes['aria-label'] = args.curData[args.fields.text];\n                }\n                if (args.curData[args.fields[fields.iconCss]] === '') {\n                    args.curData[args.fields[fields.iconCss]] = null;\n                }\n            },\n            itemCreated: function (args) {\n                if (args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData[args.fields.iconCss]\n                    && !args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData[args.fields.child]\n                    && args.curData[args.fields.child].length) {\n                    var span = _this.createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    if (!_this.isMenu) {\n                        args.item.removeAttribute('role');\n                    }\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                if (_this.isMenu && _this.template) {\n                    args.item.setAttribute('id', args.curData[args.fields.id].toString());\n                    args.item.removeAttribute('data-uid');\n                    if (args.item.classList.contains('e-level-1')) {\n                        args.item.classList.remove('e-level-1');\n                    }\n                    if (args.item.classList.contains('e-has-child')) {\n                        args.item.classList.remove('e-has-child');\n                    }\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        this.setProperties({ 'items': this.items }, true);\n        if (this.isMenu) {\n            listBaseOptions.templateID = this.element.id + TEMPLATE_PROPERTY;\n        }\n        var ul = ListBase.createList(this.createElement, items, listBaseOptions, !this.template, this);\n        ul.setAttribute('tabindex', '0');\n        if (this.isMenu) {\n            ul.setAttribute('role', 'menu');\n        }\n        return ul;\n    };\n    MenuBase.prototype.moverHandler = function (e) {\n        var trgt = e.target;\n        this.liTrgt = trgt;\n        var cli = this.getLI(trgt);\n        var wrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : this.getWrapper();\n        var hdrWrapper = this.getWrapper();\n        var regex = new RegExp('-ej2menu-(.*)-popup');\n        var ulId;\n        var isDifferentElem = false;\n        if (!wrapper) {\n            return;\n        }\n        if (wrapper.id !== '') {\n            ulId = regex.exec(wrapper.id)[1];\n        }\n        else {\n            ulId = wrapper.querySelector('ul').id;\n        }\n        if (ulId !== this.element.id) {\n            this.removeLIStateByClass([FOCUSED, SELECTED], [this.getWrapper()]);\n            if (this.navIdx.length) {\n                isDifferentElem = true;\n            }\n            else {\n                return;\n            }\n        }\n        if (cli && closest(cli, '.e-' + this.getModuleName() + '-wrapper') && !isDifferentElem) {\n            this.removeLIStateByClass([FOCUSED], this.isMenu ? [wrapper].concat(this.getPopups()) : [wrapper]);\n            this.removeLIStateByClass([FOCUSED], this.isMenu ? [hdrWrapper].concat(this.getPopups()) : [hdrWrapper]);\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n        else if (this.isMenu && this.showItemOnClick && !isDifferentElem) {\n            this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n        }\n        if (this.isMenu) {\n            if (!this.showItemOnClick && (trgt.parentElement !== wrapper && !closest(trgt, '.e-' + this.getModuleName() + '-popup'))\n                && (!cli || (cli && !this.getIndex(cli.id, true).length)) && this.showSubMenuOn !== 'Hover') {\n                this.removeLIStateByClass([FOCUSED], [wrapper]);\n                if (this.navIdx.length) {\n                    this.isClosed = true;\n                    this.closeMenu(null, e);\n                }\n            }\n            else if (isDifferentElem && !this.showItemOnClick) {\n                if (this.navIdx.length) {\n                    this.isClosed = true;\n                    this.closeMenu(null, e);\n                }\n            }\n            if (!this.isClosed) {\n                this.removeStateWrapper();\n            }\n            this.isClosed = false;\n        }\n    };\n    MenuBase.prototype.removeStateWrapper = function () {\n        if (this.liTrgt) {\n            var wrapper = closest(this.liTrgt, '.e-menu-vscroll');\n            if (this.liTrgt.tagName === 'DIV' && wrapper) {\n                this.removeLIStateByClass([FOCUSED, SELECTED], [wrapper]);\n            }\n        }\n    };\n    MenuBase.prototype.removeLIStateByClass = function (classList, element) {\n        var li;\n        var _loop_1 = function (i) {\n            classList.forEach(function (className) {\n                li = select('.' + className, element[i]);\n                if (li) {\n                    li.classList.remove(className);\n                }\n            });\n        };\n        for (var i = 0; i < element.length; i++) {\n            _loop_1(i);\n        }\n    };\n    MenuBase.prototype.getField = function (propName, level) {\n        if (level === void 0) { level = 0; }\n        var fieldName = this.fields[propName];\n        return typeof fieldName === 'string' ? fieldName :\n            (!fieldName[level] ? fieldName[fieldName.length - 1].toString()\n                : fieldName[level].toString());\n    };\n    MenuBase.prototype.getFields = function (level) {\n        if (level === void 0) { level = 0; }\n        return {\n            id: this.getField('itemId', level),\n            iconCss: this.getField('iconCss', level),\n            text: this.getField('text', level),\n            url: this.getField('url', level),\n            child: this.getField('children', level),\n            separator: this.getField('separator', level)\n        };\n    };\n    MenuBase.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    MenuBase.prototype.menuHeaderClickHandler = function (e) {\n        if (closest(e.target, '.e-menu-wrapper').querySelector('ul.e-menu-parent').id !== this.element.id) {\n            return;\n        }\n        if (this.element.classList.contains('e-hide-menu')) {\n            this.openHamburgerMenu(e);\n        }\n        else {\n            this.closeHamburgerMenu(e);\n        }\n    };\n    MenuBase.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.cli = this.getLI(trgt);\n            var regex = new RegExp('-ej2menu-(.*)-popup');\n            var cliWrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : null;\n            var isInstLI = cli && cliWrapper && (this.isMenu ? this.getIndex(cli.id, true).length > 0\n                : wrapper.firstElementChild.id === cliWrapper.firstElementChild.id);\n            if (Browser.isDevice && this.isMenu) {\n                this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n                this.mouseDownHandler(e);\n            }\n            if (cli && cliWrapper && this.isMenu) {\n                var cliWrapperId = cliWrapper.id ? regex.exec(cliWrapper.id)[1] : cliWrapper.querySelector('.e-menu-parent').id;\n                if (this.element.id !== cliWrapperId) {\n                    return;\n                }\n            }\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(cli.id, true);\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item, event: e };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        this.showSubMenu = true;\n                        var cul = cli.parentNode;\n                        this.cliIdx = this.getIdx(cul, cli);\n                        if (this.isMenu || !Browser.isDevice) {\n                            var culIdx = this.isMenu ? Array.prototype.indexOf.call([wrapper].concat(this.getPopups()), closest(cul, '.' + 'e-' + this.getModuleName() + '-wrapper'))\n                                : this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === this.cliIdx) {\n                                this.showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || this.showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.isClosed = true;\n                                this.keyType = 'click';\n                                if (this.showItemOnClick) {\n                                    this.setLISelected(cli);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                                if (this.showItemOnClick) {\n                                    this.setLISelected(cli);\n                                }\n                            }\n                        }\n                        if (!this.isClosed) {\n                            this.afterCloseMenu(e);\n                        }\n                        this.isClosed = false;\n                    }\n                }\n            }\n            else {\n                if (this.isMenu && trgt.tagName === 'DIV' && this.navIdx.length && closest(trgt, '.e-menu-vscroll')) {\n                    var popupEle = closest(trgt, '.' + POPUP);\n                    var cIdx = Array.prototype.indexOf.call(this.getPopups(), popupEle) + 1;\n                    if (cIdx < this.navIdx.length) {\n                        this.closeMenu(cIdx + 1, e);\n                        if (popupEle) {\n                            this.removeLIStateByClass([FOCUSED, SELECTED], [popupEle]);\n                        }\n                    }\n                }\n                else if (this.isMenu && this.hamburgerMode && trgt.tagName === 'SPAN'\n                    && trgt.classList.contains('e-menu-icon')) {\n                    this.menuHeaderClickHandler(e);\n                }\n                else {\n                    if (trgt.tagName !== 'UL' || (this.isMenu ? trgt.parentElement.classList.contains('e-menu-wrapper') &&\n                        !this.getIndex(trgt.querySelector('.' + ITEM).id, true).length : trgt.parentElement !== wrapper)) {\n                        if (!cli) {\n                            this.removeLIStateByClass([SELECTED], [wrapper]);\n                        }\n                        if (!cli || !cli.querySelector('.' + CARET)) {\n                            this.closeMenu(null, e);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    MenuBase.prototype.afterCloseMenu = function (e) {\n        var isHeader;\n        if (this.showSubMenu) {\n            if (this.showItemOnClick && this.navIdx.length === 0) {\n                isHeader = closest(e.target, '.e-menu-parent.e-control');\n            }\n            else {\n                isHeader = closest(this.element, '.e-menu-parent.e-control');\n            }\n            var idx = this.navIdx.concat(this.cliIdx);\n            var item = this.getItem(idx);\n            if (item && item[this.getField('children', idx.length - 1)] &&\n                item[this.getField('children', idx.length - 1)].length) {\n                if (e.type === 'mouseover' || (Browser.isDevice && this.isMenu)) {\n                    this.setLISelected(this.cli);\n                }\n                if ((!this.hamburgerMode && isHeader) || (this.hamburgerMode && this.cli.getAttribute('aria-expanded') === 'false')) {\n                    this.cli.setAttribute('aria-expanded', 'true');\n                    this.navIdx.push(this.cliIdx);\n                    this.openMenu(this.cli, item, null, null, e);\n                }\n            }\n            else {\n                if (e.type !== 'mouseover') {\n                    this.closeMenu(null, e);\n                }\n            }\n            if (!isHeader) {\n                var cul = this.getUlByNavIdx();\n                var sli = this.getLIByClass(cul, SELECTED);\n                if (sli) {\n                    sli.setAttribute('aria-expanded', 'false');\n                    sli.classList.remove(SELECTED);\n                }\n            }\n        }\n        this.keyType = '';\n    };\n    MenuBase.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        if (!this.isMenu) {\n            li.classList.remove(FOCUSED);\n        }\n        li.classList.add(SELECTED);\n    };\n    MenuBase.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    /**\n     * This method is used to get the index of the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem | string} item - item be passed to get the index | id to be passed to get the item index.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.getItemIndex = function (item, isUniqueId) {\n        var idx;\n        if (typeof item === 'string') {\n            idx = item;\n        }\n        else {\n            idx = item.id;\n        }\n        var isText = (isUniqueId === false) ? false : true;\n        var navIdx = this.getIndex(idx, isText);\n        return navIdx;\n    };\n    /**\n     * This method is used to set the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem} item - item need to be updated.\n     * @param {string} id - id / text to be passed to update the item.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.setItem = function (item, id, isUniqueId) {\n        var idx;\n        if (isUniqueId) {\n            idx = id ? id : item.id;\n        }\n        else {\n            idx = id ? id : item.text;\n        }\n        var navIdx = this.getIndex(idx, isUniqueId);\n        var newItem = this.getItem(navIdx);\n        newItem.iconCss = item.iconCss || newItem.iconCss;\n        newItem.text = item.text || newItem.text;\n        newItem.url = item.url || newItem.url;\n        newItem.separator = item.separator || newItem.separator;\n    };\n    MenuBase.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    MenuBase.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]][this.getField('children', i)];\n        }\n        return items;\n    };\n    MenuBase.prototype.setItems = function (newItems, navIdx) {\n        var items = this.getItems(navIdx);\n        items.splice(0, items.length);\n        for (var i = 0; i < newItems.length; i++) {\n            items.splice(i, 0, newItems[i]);\n        }\n    };\n    MenuBase.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    MenuBase.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI' && elem.classList.contains('e-menu-item')) {\n            return elem;\n        }\n        return closest(elem, 'li.e-menu-item');\n    };\n    MenuBase.prototype.updateItemsByNavIdx = function () {\n        var items = this.items;\n        var count = 0;\n        for (var index = 0; index < this.navIdx.length; index++) {\n            items = items[index].items;\n            if (!items) {\n                break;\n            }\n            count++;\n            var ul = this.getUlByNavIdx(count);\n            if (!ul) {\n                break;\n            }\n            this.updateItem(ul, items);\n        }\n    };\n    MenuBase.prototype.removeChildElement = function (elem) {\n        while (elem.firstElementChild) {\n            elem.removeChild(elem.firstElementChild);\n        }\n        return elem;\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {MenuBaseModel} newProp - Specifies the new properties\n     * @param {MenuBaseModel} oldProp - Specifies the old properties\n     * @returns {void}\n     */\n    MenuBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        var _loop_2 = function (prop) {\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrapper], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrapper], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'showItemOnClick':\n                    this_1.unWireEvents();\n                    this_1.showItemOnClick = newProp.showItemOnClick;\n                    this_1.wireEvents();\n                    break;\n                case 'enableScrolling':\n                    if (newProp.enableScrolling) {\n                        var ul_2;\n                        if (this_1.element.classList.contains('e-vertical')) {\n                            addScrolling(this_1.createElement, wrapper, this_1.element, 'vscroll', this_1.enableRtl);\n                        }\n                        else {\n                            addScrolling(this_1.createElement, wrapper, this_1.element, 'hscroll', this_1.enableRtl);\n                        }\n                        this_1.getPopups().forEach(function (wrapper) {\n                            ul_2 = select('.e-ul', wrapper);\n                            addScrolling(_this.createElement, wrapper, ul_2, 'vscroll', _this.enableRtl);\n                        });\n                    }\n                    else {\n                        var ul_3 = wrapper.children[0];\n                        if (this_1.element.classList.contains('e-vertical')) {\n                            destroyScroll(getInstance(ul_3, VScroll), ul_3);\n                        }\n                        else {\n                            destroyScroll(getInstance(ul_3, HScroll), ul_3);\n                        }\n                        wrapper.style.overflow = '';\n                        wrapper.appendChild(this_1.element);\n                        this_1.getPopups().forEach(function (wrapper) {\n                            ul_3 = wrapper.children[0];\n                            destroyScroll(getInstance(ul_3, VScroll), ul_3);\n                            wrapper.style.overflow = '';\n                        });\n                    }\n                    break;\n                case 'items': {\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    if (!Object.keys(oldProp.items).length) {\n                        this_1.updateItem(this_1.element, this_1.items);\n                        if (!this_1.hamburgerMode) {\n                            for (var i = 1, count = wrapper.childElementCount; i < count; i++) {\n                                detach(wrapper.lastElementChild);\n                            }\n                        }\n                        this_1.navIdx = [];\n                    }\n                    else {\n                        var keys = Object.keys(newProp.items);\n                        for (var i = 0; i < keys.length; i++) {\n                            navIdx = this_1.getChangedItemIndex(newProp, [], Number(keys[i]));\n                            if (navIdx.length <= this_1.getWrapper().children.length) {\n                                idx = navIdx.pop();\n                                item = this_1.getItems(navIdx);\n                                this_1.insertAfter([item[idx]], item[idx].text);\n                                this_1.removeItem(item, navIdx, idx);\n                                this_1.setItems(item, navIdx);\n                            }\n                            navIdx.length = 0;\n                        }\n                    }\n                    break;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_2(prop);\n        }\n    };\n    MenuBase.prototype.updateItem = function (ul, items) {\n        if (isBlazor() && !this.isMenu) {\n            ul = this.removeChildElement(ul);\n        }\n        else {\n            ul.innerHTML = '';\n        }\n        var lis = [].slice.call(this.createItems(items).children);\n        lis.forEach(function (li) {\n            ul.appendChild(li);\n        });\n    };\n    MenuBase.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            var popStr = Object.keys(item.items).pop();\n            if (popStr) {\n                this.getChangedItemIndex(item, index, Number(popStr));\n            }\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    MenuBase.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     *\n     * @private\n     * @param {string} targetSelctor - Specifies the target selector\n     * @returns {void}\n     */\n    MenuBase.prototype.unWireEvents = function (targetSelctor) {\n        if (targetSelctor === void 0) { targetSelctor = this.target; }\n        var wrapper = this.getWrapper();\n        if (targetSelctor) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(targetSelctor);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (this.isMenu) {\n                    EventHandler.remove(target, 'click', this.menuHeaderClickHandler);\n                }\n                else {\n                    if (Browser.isIos) {\n                        touchModule = getInstance(target, Touch);\n                        if (touchModule) {\n                            touchModule.destroy();\n                        }\n                    }\n                    else {\n                        EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                    }\n                }\n            }\n            if (!this.isMenu) {\n                EventHandler.remove(this.targetElement, 'scroll', this.scrollHandler);\n                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                    var parent_2 = _a[_i];\n                    EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler);\n            EventHandler.remove(document, 'mousedown', this.delegateMouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        this.unWireKeyboardEvent(wrapper);\n        this.rippleFn();\n    };\n    MenuBase.prototype.unWireKeyboardEvent = function (element) {\n        var keyboardModule = getInstance(element, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n    };\n    MenuBase.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        var pUlHeight;\n        var pElement;\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    if (_this.hamburgerMode) {\n                        pElement = options.element.parentElement;\n                        options.element.style.position = 'absolute';\n                        pUlHeight = pElement.offsetHeight;\n                        options.element.style.maxHeight = options.element.offsetHeight + 'px';\n                        pElement.style.maxHeight = '';\n                    }\n                    else {\n                        options.element.style.display = 'block';\n                        options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                    }\n                },\n                progress: function (options) {\n                    if (_this.hamburgerMode) {\n                        pElement.style.minHeight = (pUlHeight + options.element.offsetHeight) + 'px';\n                    }\n                },\n                end: function (options) {\n                    if (_this.hamburgerMode) {\n                        options.element.style.position = '';\n                        options.element.style.maxHeight = '';\n                        pElement.style.minHeight = '';\n                        options.element.style.top = 0 + 'px';\n                        options.element.children[0].focus();\n                        _this.triggerOpen(options.element.children[0]);\n                    }\n                    else {\n                        _this.end(options.element, isMenuOpen);\n                    }\n                }\n            });\n        }\n    };\n    MenuBase.prototype.triggerOpen = function (ul) {\n        var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n        var eventArgs = {\n            element: ul, parentItem: item, items: item ? item.items : this.items\n        };\n        this.trigger('onOpen', eventArgs);\n    };\n    MenuBase.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            this.triggerOpen(ul);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                var ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (ele) {\n                    ele.querySelector('.' + SELECTED).focus();\n                }\n                else {\n                    this.element.focus();\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    MenuBase.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get wrapper element.\n     *\n     * @returns {Element} - Wrapper element\n     * @private\n     */\n    MenuBase.prototype.getWrapper = function () {\n        return closest(this.element, '.e-' + this.getModuleName() + '-wrapper');\n    };\n    MenuBase.prototype.getIndex = function (data, isUniqueId, items, nIndex, isCallBack, level) {\n        if (items === void 0) { items = this.items; }\n        if (nIndex === void 0) { nIndex = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        if (level === void 0) { level = 0; }\n        var item;\n        level = isCallBack ? level + 1 : 0;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if ((isUniqueId ? item[this.getField('itemId', level)] : item[this.getField('text', level)]) === data) {\n                nIndex.push(i);\n                break;\n            }\n            else if (item[this.getField('children', level)]\n                && item[this.getField('children', level)].length) {\n                nIndex = this.getIndex(data, isUniqueId, item[this.getField('children', level)], nIndex, true, level);\n                if (nIndex[nIndex.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        nIndex.pop();\n                    }\n                }\n                else {\n                    nIndex.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    nIndex.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && nIndex[0] === -1) ? [] : nIndex;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the Menu based on the items and enable argument.\n     *\n     * @param {string[]} items - Text items that needs to be enabled/disabled.\n     * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.enableItems = function (items, enable, isUniqueId) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var skipItem;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            if (this.navIdx.length) {\n                if (navIdx.length !== 1) {\n                    skipItem = false;\n                    for (var i_1 = 0, len = navIdx.length - 1; i_1 < len; i_1++) {\n                        if (navIdx[i_1] !== this.navIdx[i_1]) {\n                            skipItem = true;\n                            break;\n                        }\n                    }\n                    if (skipItem) {\n                        continue;\n                    }\n                }\n            }\n            else {\n                if (navIdx.length !== 1) {\n                    continue;\n                }\n            }\n            idx = navIdx.pop();\n            ul = this.getUlByNavIdx(navIdx.length);\n            if (ul) {\n                if (enable) {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.remove(disabled);\n                        ul.children[idx].removeAttribute('aria-disabled');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.remove(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.remove(disabled);\n                        }\n                    }\n                }\n                else {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.add(disabled);\n                        ul.children[idx].setAttribute('aria-disabled', 'true');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.add(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.add(disabled);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be shown.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.showItems = function (items, isUniqueId) {\n        this.showHideItems(items, false, isUniqueId);\n    };\n    /**\n     * This method is used to hide the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be hidden.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.hideItems = function (items, isUniqueId) {\n        this.showHideItems(items, true, isUniqueId);\n    };\n    MenuBase.prototype.showHideItems = function (items, ishide, isUniqueId) {\n        var ul;\n        var index;\n        var navIdx;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            index = navIdx.pop();\n            ul = this.getUlByNavIdx(navIdx.length);\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the Menu based on the items text.\n     *\n     * @param {string[]} items Text items that needs to be removed.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.removeItems = function (items, isUniqueId) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            this.removeItem(iitems, navIdx, idx);\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item after that the element to be inserted.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.insertAfter = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item before that the element to be inserted.\n     * @param  {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.insertBefore = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId, false);\n    };\n    MenuBase.prototype.insertItems = function (items, text, isUniqueId, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text, isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.isMenu ? [this.getWrapper()].concat(this.getPopups()) : [].slice.call(this.getWrapper().children);\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                li = this.createItems(iitems).children[idx];\n                var ul = this.isMenu ? select('.e-menu-parent', uls[navIdx.length]) : uls[navIdx.length];\n                ul.insertBefore(li, ul.children[idx]);\n            }\n        }\n    };\n    MenuBase.prototype.removeAttributes = function () {\n        var _this = this;\n        ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n            _this.element.style.removeProperty(key);\n        });\n        ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n            if (key === 'class' && _this.element.classList.contains('e-menu-parent')) {\n                _this.element.classList.remove('e-menu-parent');\n            }\n            if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                _this.element.removeAttribute(key);\n            }\n            if (_this.isMenu && key === 'class' && _this.element.classList.contains('e-vertical')) {\n                _this.element.classList.remove('e-vertical');\n            }\n        });\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    MenuBase.prototype.destroy = function () {\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            this.unWireEvents();\n            if (!this.isMenu) {\n                this.clonedElement.style.display = '';\n                if (this.clonedElement.tagName === 'EJS-CONTEXTMENU') {\n                    addClass([this.clonedElement], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n                    this.element = this.clonedElement;\n                }\n                else {\n                    if (this.refreshing && this.clonedElement.childElementCount && this.clonedElement.children[0].tagName === 'LI') {\n                        this.setProperties({ 'items': [] }, true);\n                    }\n                    if (document.getElementById(this.clonedElement.id)) {\n                        var refEle = this.clonedElement.nextElementSibling;\n                        if (refEle && refEle !== wrapper) {\n                            this.clonedElement.parentElement.insertBefore(this.element, refEle);\n                        }\n                        else {\n                            this.clonedElement.parentElement.appendChild(this.element);\n                        }\n                        if (isBlazor() && !this.isMenu) {\n                            this.element = this.removeChildElement(this.element);\n                        }\n                        else {\n                            this.element.innerHTML = '';\n                        }\n                        append([].slice.call(this.clonedElement.children), this.element);\n                        detach(this.clonedElement);\n                        this.removeAttributes();\n                    }\n                }\n                this.clonedElement = null;\n            }\n            else {\n                this.closeMenu();\n                if (isBlazor() && !this.isMenu) {\n                    this.element = this.removeChildElement(this.element);\n                }\n                else {\n                    this.element.innerHTML = '';\n                }\n                this.removeAttributes();\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n                this.clonedElement = null;\n            }\n            if (this.isMenu && this.clonedElement) {\n                detach(this.element);\n                wrapper.style.display = '';\n                wrapper.classList.remove('e-' + this.getModuleName() + '-wrapper');\n                wrapper.removeAttribute('data-ripple');\n            }\n            else {\n                detach(wrapper);\n            }\n            _super.prototype.destroy.call(this);\n            if (this.template) {\n                this.clearTemplate(['template']);\n            }\n        }\n    };\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"onOpen\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"onClose\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"select\", void 0);\n    __decorate([\n        Event()\n    ], MenuBase.prototype, \"created\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(0)\n    ], MenuBase.prototype, \"hoverDelay\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuBase.prototype, \"showItemOnClick\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], MenuBase.prototype, \"filter\", void 0);\n    __decorate([\n        Property(null)\n    ], MenuBase.prototype, \"template\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuBase.prototype, \"enableScrolling\", void 0);\n    __decorate([\n        Property(false)\n    ], MenuBase.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Complex({ itemId: 'id', text: 'text', parentId: 'parentId', iconCss: 'iconCss', url: 'url', separator: 'separator', children: 'items' }, FieldSettings)\n    ], MenuBase.prototype, \"fields\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], MenuBase.prototype, \"items\", void 0);\n    __decorate([\n        Complex({ duration: 400, easing: 'ease', effect: 'SlideDown' }, MenuAnimationSettings)\n    ], MenuBase.prototype, \"animationSettings\", void 0);\n    MenuBase = __decorate([\n        NotifyPropertyChanges\n    ], MenuBase);\n    return MenuBase;\n}(Component));\nexport { MenuBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\nimport { attributes, getUniqueID, Collection, NotifyPropertyChanges, Property } from '@syncfusion/ej2-base';\nimport { getZindexPartial } from '@syncfusion/ej2-popups';\nimport { MenuBase, MenuItem } from '../common/menu-base';\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {ContextMenuModel} options - Specifies the context menu model\n     * @param {string} element - Specifies the element\n     */\n    function ContextMenu(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * For internal use only - prerender processing.\n     *\n     * @private\n     * @returns {void}\n     */\n    ContextMenu.prototype.preRender = function () {\n        this.isMenu = false;\n        this.element.id = this.element.id || getUniqueID('ej2-contextmenu');\n        _super.prototype.preRender.call(this);\n    };\n    ContextMenu.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        attributes(this.element, { 'role': 'menubar', 'tabindex': '0' });\n        this.element.style.zIndex = getZindexPartial(this.element).toString();\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     *\n     * @param {number} top - To specify ContextMenu vertical positioning.\n     * @param {number} left - To specify ContextMenu horizontal positioning.\n     * @param {HTMLElement} target - To calculate z-index for ContextMenu based upon the specified target.\n     * @function open\n     * @returns {void}\n     */\n    ContextMenu.prototype.open = function (top, left, target) {\n        _super.prototype.openMenu.call(this, null, null, top, left, null, target);\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     *\n     * @function close\n     * @returns {void}\n     */\n    ContextMenu.prototype.close = function () {\n        _super.prototype.closeMenu.call(this);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {ContextMenuModel} newProp - Specifies new properties\n     * @param {ContextMenuModel} oldProp - Specifies old properties\n     * @returns {void}\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'filter':\n                    this.close();\n                    this.filter = newProp.filter;\n                    break;\n                case 'target':\n                    this.unWireEvents(oldProp.target);\n                    this.wireEvents();\n                    break;\n            }\n        }\n    };\n    /**\n     * Get module name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    ContextMenu = __decorate([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(MenuBase));\nexport { ContextMenu };\n"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","CHECK","DISABLED","FRAME","INDETERMINATE","LABEL","RIPPLE","RIPPLECHECK","RIPPLEINDETERMINATE","RTL","WRAPPER","containerAttr","CheckBox","_super","options","element","_this","call","isFocused","isMouseClick","clickTriggered","changeState","state","ariaState","rippleSpan","frameSpan","getWrapper","getElementsByClassName","isRippleEnabled","classList","remove","add","checked","removeClass","indeterminate","setAttribute","clickHandler","event","tagName","focusOutHandler","changeEventArgs","updateVueArrayModel","trigger","stopPropagation","destroy","wrapper","disabled","unWireEvents","parentNode","insertBefore","detach","forEach","removeAttribute","innerHTML","focusHandler","getModuleName","getPersistData","addOnPersist","parentElement","initialize","isNullOrUndefined","initialCheckedValue","name","value","isVue","setProperties","setDisabled","initWrapper","contains","createElement","className","attrs","label","for","id","enableRtl","cssClass","addClass","split","appendChild","setHiddenInput","labelPosition","rippleEffect","duration","isCenterRipple","setText","keyUpHandler","labelMouseDownHandler","e","rippleMouseHandler","labelMouseUpHandler","rippleElem","querySelectorAll","removeChild","childNodes","onPropertyChanged","newProp","oldProp","_i","_a","keys","wireEvents","labelWrap","getElementsByTagName","updateHtmlAttributeToWrapper","preRender","wrapperInitialize","getAttribute","getUniqueID","render","renderComplete","text","textContent","enableHtmlSanitizer","SanitizeHtmlHelper","changeHandler","formResetHandler","EventHandler","formElem","closest","init","index","indexOf","push","splice","htmlAttributes","click","focusIn","focus","Event","Property","NotifyPropertyChanges","Component","OTHERMONTH","OTHERDECADE","ROOT","DEVICE","YEAR","MONTH","DECADE","ICON","OVERLAY","WEEKNUMBER","SELECTED","FOCUSEDDATE","OTHERMONTHROW","TODAY","LINK","CELL","ZOOMIN","DAYHEADERLONG","dayMilliSeconds","Calendar","calendarMode","undefined","islamicModule","throwError","isMultiSelection","values","tempValues","copyValues","limit","checkDateValue","Date","checkValue","copyDate","previousValues","validateDate","minMaxUpdate","setEnable","enabled","setClass","form","bind","setTimeZone","serverTimezoneOffset","enable","newCssClass","oldCssClass","replace","trim","isDayLightSaving","secondOffset","getFullYear","getTimezoneOffset","firstOffset","Math","max","offsetValue","timeZoneDiff","getTime","min","currentDate","isNaN","changedArgs","generateTodayVal","tempValue","timezone","getDate","setHours","getHours","setMinutes","getMinutes","setSeconds","getSeconds","setMilliseconds","getMilliseconds","getMonth","todayButtonClick","showTodayButton","isTodayClicked","todayButtonEvent","checkPresentDate","keyActionHandle","triggerChange","checkView","createContent","previousDate","previousDateTime","minMaxDate","localDate","renderMonths","isCustomDate","renderDays","isMultiSelect","tempDays","validateValues","renderYears","islamicRenderYears","renderDecades","islamicRenderDecade","renderTemplate","elements","count","classNm","islamicRenderTemplate","eve","currentTarget","isPopupClicked","getIdValue","storeView","currentView","tableBodyElement","switchView","view","effect","rangeValidation","isDateSelected","update","tempDate","preventChange","isAngular","navigateTo","date","addDate","dates","tempDates","removeDate","setTodayDate","todayDate","setValueUpdate","selectDate","changeEvent","valueOf","isInteracted","Number","NaN","CalendarBase","calendarEleCopy","cloneNode","globalize","Internationalization","locale","firstDayOfWeek","getFirstDayOfWeek","todayDisabled","Browser","attributes","tabIndex","hasAttribute","calendarElement","createHeader","getDefaultKeyConfig","defaultKeyConfigs","controlUp","controlDown","moveDown","moveUp","moveLeft","moveRight","select","home","end","pageUp","pageDown","shiftPageUp","shiftPageDown","controlHome","controlEnd","altUpArrow","spacebar","altRightArrow","altLeftArrow","setOverlayIndex","popupWrapper","popupElement","modal","isDevice","parseInt","style","zIndex","toString","headerElement","iconContainer","previousIcon","type","selector","nextIcon","headerTitleElement","adjustLongHeaderSize","contentElement","table","createContentHeader","createContentBody","createContentFooter","getCultureValues","cldrObj","culShortNames","dayFormat","dayHeaderFormat","toLowerCase","getValue","getDefaultDateObject","getCultureObjects","cldrData","obj","toCapitalize","toUpperCase","slice","html","tableHeadElement","weekNumber","shortNames","shiftArray","days","start","updateFooter","todayElement","l10","getConstant","minimum","maximum","L10n","today","role","footer","ref","keyConfig","moduleName","navigateTitle","extend","keyConfigs","keyboardModule","KeyboardEvents","eventName","keyAction","dateWireEvents","serverModuleName","depth","getViewNumber","resetCalendar","renderDayCellArgs","multiSelection","selectedDate","focusedDate","querySelector","depthValue","levelRestrict","action","keyboardNavigate","preventDefault","contentClick","title","firstDay","lastDay","addMonths","addYears","number","isMonthYearRange","addDay","isMinMaxRange","navigatePreviousHandler","navigatePrevious","navigateNextHandler","navigateNext","navigateHandler","triggerNavigate","minDate","maxDate","tdEles","numCells","islamicRenderDays","isTodayDate","currentMonth","titleUpdate","getDay","setStartDate","day","weekEle","weekAnchor","numberOfDays","weekRule","finalDate","getWeek","dateFormatOptions","skeleton","parseDate","formatDate","tdEle","dayCell","dayLink","format","isDisabled","isOutOfRange","argument","renderDayCellEvent","argsDate","otherMnthBool","disabledCls","getDateVal","formatOptions","calendar","updateFocus","otherMonth","tableElement","removeTableHeadElement","valueUtil","curDate","mon","yr","curYrs","minYr","minMonth","maxYr","maxMonth","setMonth","setDate","month","localMonth","localYr","startYr","setFullYear","endYr","startFullYr","endFullYr","startHdrYr","endHdrYr","startYear","rowIterator","year","collection","lastDate","timeOffset","abs","findLastDay","trEle","row","children","otherMonthCell","iconHandler","islamicIconHandler","setAriaActiveDescendant","clickEventEmitter","islamicDate","getIslamicDate","toGregorian","requiredModules","modules","args","member","prop","setLocale","skipIndex","tempValueString","minFormatOption","minString","maxFormatOption","maxString","dayFormatOptions","monthFormatOptions","setActiveDescendant","focusedEle","selectedEle","previousIconHandler","compareMonth","nextIconHandler","compareYear","compareDecade","stringVal","previous","islamicPrevious","next","islamicNext","ld","gregorianFormat","islamicFormat","ceil","time","tzOffset","tzOffsetDiff","setTime","getMaxDays","dateString","node","setDateDecade","setDateYear","tempElement","selectedElement","previousValue","checkPrevious","navigatedEvent","navigatedArgs","compare","startDate","endDate","modifier","result","array","concat","column","findNextTD","rangeValue","filter","tmpDate","inValue","toUTCString","toLocaleString","timeZone","POPUPWRAPPER","INPUTFOCUS","ERROR","ACTIVE","OVERFLOW","NONEDIT","DatePicker","previousElementValue","isDateIconClicked","isAltKeyPressed","invalidValueString","checkPreviousValue","maskedDateValue","isIconClicked","isDynamicValueChanged","datepickerOptions","bindEvents","updateInput","setAllowEdit","allowEdit","readonly","inputElement","updateIconState","inputWrapper","container","checkInvalidValue","enableMask","notify","module","createInput","floatLabelType","placeholder","updateInputValue","inputValueCopy","ariaAttrs","l10nLocale","l10n","updatedCssClassValues","isBindClearAction","Input","bindClearAction","properties","showClearButton","buttons","INPUTWRAPPER","setWidth","width","isDynamic","isCalendar","disabledDates","strictMode","minMaxUpdates","dateValue","tempFormat","formatString","dateTimeFormat","errorClass","checkStringValue","val","returnDate","formatDateTime","culture","getDatePattern","valueDate","valueString","invalid","basicISOString","test","bindInputEvent","inputHandler","dateIconHandler","mouseUpHandler","inputFocusHandler","inputBlurHandler","keydownHandler","inputChangeHandler","clearButton","resetHandler","formElement","resetFormHandler","keyboardModules","inputKeyActionHandle","code","popupObj","unBindEvents","restoreValue","bindClearEvent","clear","clearedArgs","popupUpdate","preventEventBubbling","interopAdaptor","invokeMethodAsync","blur","hide","show","updatedClassValues","setStyle","charAt","updateHtmlAttributeToElement","updateCssClass","calendarKeyActionHandle","selectionStart","selectionEnd","focusArguments","model","openOnFocus","strictModeUpdate","changeTrigger","document","activeElement","blurArguments","calendarKeyboardModules","firstElementChild","documentHandler","focusOut","clickedView","length_1","defaultAction","targetdate","dateOptions","createCalendar","modelHeader","body","display","Popup","content","relateTo","position","X","Y","offsetY","targetType","collision","open","close","preventArgs","setAriaAttributes","targetExitViewport","setAriaDisabled","yearHeading","h2","daySpan","monthSpan","selectCalendar","formatUnit","match","prevent_1","outOfRange","mobilePopupWrapper","popup","cancel","appendTo","eventArgs","refreshPosition","openAnimation","Animation","prevent_2","closeEventCallback","prevent","outerHTML","triggerEvent","inputElementCopy","ensureInputAttribute","ngTag","insertAdjacentElement","validationAttribute","checkHtmlAttributes","altDownArrow","escape","enter","shiftTab","tab","nameAttribute","attribute","attr","checkFormat","skeletonString","dynamic","attributes_1","setValue","valueCopy","previousValCopy","inputVal","dateIdString","isDisabledDate","hour","minute","second","dayOfTheWeek","TimePickerBase","POPUPDIMENSION","DAY","HOVER","NAVIGATION","FOCUS","LISTCLASS","EDITABLE","wrapperAttributes","createListItems","createdEl","timeFormat","step","interval","listItems","timeCollections","list","ListBase","TimeMaskPlaceholder","apply","ChildProperty","TimePicker","liCollections","disableItemCollection","timeOptions","keyConfigure","down","up","left","right","cloneElement","angularTag","openPopupEventArgs","createInputElement","setTimeAllowEdit","validateInterval","validateDisable","getFormattedValue","checkErrorState","anchor","inputEleValue","getDateObject","clearIconState","setMinMax","initMin","initMax","popupCreation","valueIsDisable","resetState","initValue","input","defaultCulture","checkTimeFormat","checkInValue","scrollTo","checkAttributes","localeText","isNavigate","isPreventBlur","isTextSelected","activeIndex","valueWithMinutes","prevDate","updatedCssClassesValue","isNullOrEmpty","inputStyle","getCldrDateTimeFormat","dateFormat","cldrFormat","isInvalid","valueExp","valueExpression","setCurrentDate","getCultureTimeObject","ariaAttribute","enableElement","rippleFn","propertyList","generateList","append","listWrapper","addSelection","renderPopup","getPopupHeight","height","popupHeight","getBoundingClientRect","wireListEvents","rippleModel","containerStyle","setPopupWidth","visibility","unWireListEvents","listTag","maxHeight","createDateObj","updatedClassesValue","timeStyle","cssClassNew","cssClassOld","removeErrorClass","validateState","disableTimeIcon","disableElement","selectInputText","setSelectionRange","setCursorToEnd","getMeridianText","meridian","getCursorSelection","getActiveElement","parseFloat","setScrollPosition","setScrollTo","findScrollTop","listHeight","nextEle","nextElementSibling","offsetTop","liHeight","scrollTop","items","initialTime","scrollTime","round","getText","cldrTimeFormat","cldrDateFormat","getCultureDateObject","dateToNumeric","getExactDateTime","validateMinMax","compareFormatChange","updatePlaceHolder","popupHandler","isPopupOpen","closePopup","mouseDownHandler","curPos","cursorDetails","focusSelection","regex","RegExp","isSeparator","keyHandler","updateValue","objToString","createMask","previousState","onMouseClick","li","setSelection","delay","animModel","documentClickHandler","mobileTimePopupWrap","disposeServerPopup","top","checkValueChange","isNavigation","valueProcess","prevValue","onMouseOver","currentLi","setHover","isValidLI","removeHover","onMouseLeave","scrollHandler","minVal","maxVal","dateVal","strictOperation","maxValue","minValue","inputEventHandler","clearHandler","inputEvent","timeValue","raiseClearedEvent","setZIndex","dataBind","getTextFormat","strArray","removeSelection","validateValue","newval","value_1","findNextElement","textVal","timeVal","collections","selectNextItem","validLiElement","elementValue","backward","elementIndex","isCheck","nextItem","keyCode","isUpdate","hoveredItem","getHoverItem","setActiveClass","timeParse","listBaseOptions","itemCreated","item","setEnableRtl","getProperty","popupAlignment","timePopupElement","formatValues","offsetX","setStyleAttribute","HOUR","MINUTE","SECOND","MILLISECOND","DATETIMEPOPUPWRAPPER","POPUP","ICONANIMATION","DateTimePicker","scrollInvoked","dateTimeOptions","blurHandler","isTimePopupOpen","popupObject","dateTimeWrapper","keyboardHandler","unBindInputEvents","timekeyConfigure","cldrDateTimeFormat","bindInputEvents","validateMinMaxRange","isDateObject","disablePopupButton","checkValidState","isValidState","isDisable","timeIcon","renderTimeIcon","timeHandler","dateHandler","inputKeyAction","getCldrFormat","isDatePopupOpen","toggle","listCreation","dateObject","startTime","endTime","listDetails","wireTimeListEvents","addTimeSelection","setTimeScrollPosition","openPopup","timeModal","timeKeyActionHandle","unWireTimeListEvents","setDimension","setTimeHover","removeTimeHover","setInputValue","nextElement","lineHeight","getFullDateTime","tempVal","combineDateTime","minutes","seconds","setTimeActiveClass","setTimeActiveDescendant","removeTimeSelection","getTimeHoverItem","calculateStartEnd","range","method","hours","milliseconds","tempStartValue","tempMin","tempEndValue","tempMax","getUTCFullYear","dateTimeCloseEventCallback","maskedDateModule","getTimeActiveElement","status_1","millisecond","findNextTimeElement","dateTimeVal","listCount","timeElementValue","setTimeValue","timeKeyHandler","nextItemValue","Group","parent","groupSettings","sortedColumns","serviceLocator","sortRequired","isAppliedGroup","isAppliedUnGroup","reorderingColumns","visualElement","styles","helper","gObj","sender","parentsUntil","allowReordering","getColumnByField","offsetWidth","offsetHeight","uid","dragStart","drag","animateDropper","events","draggableType","literals","dragStop","preventDrop","rearrangeGroup","field","getColumnByUid","columns","ungroupColumn","dragField","dropTarget","grouped","map","cols","JSON","parse","stringify","dropField","dropIndex","dragIndex","flag","addColToGroupDrop","addLabel","removeColFromGroupDrop","drop","droppedElement","aria","setDropTarget","setGrabbed","getHeaderTable","allowGrouping","getColumnHeaderByUid","log","columnName","headerText","groupColumn","contentRefresh","AriaService","getService","addEventListener","groupGenerator","GroupModelGenerator","dragLabel","updateModel","columnDrag","columnDragStart","dropArea","columnDrop","isDestroyed","on","enableAfterRender","onActionComplete","refreshSortIcons","keyPressHandler","initialEnd","onGroupAggregates","updateExpand","removeEventListener","off","getColumns","col","selected","allowSelection","getSelectedRowIndexes","rows","getContentTable","grpRow","getDataRows","rowIndex","expandCollapseRows","expandAll","collapseAll","isEdit","getFocusedElement","elem","focusModule","currentInfo","applySortFromTarget","unGroupFromTarget","toogleGroupFromHeader","showToggleButton","gHeader","allowSorting","getColumnHeaderByField","sortColumn","trgt","rowNodes","isHide","dataManager","query","indent","captionRow","getRowObjectFromUID","expand","isExpand","isGroupAdaptive","updateVirtualRows","enableLazyLoading","contentModule","captionExpand","captionCollapse","setExpand","rowObjs","getRowsObject","startIdx","rowsState","isDetailRow","visible","parentUid","isDataRow","isCaptionRow","isAggregateRow","cells","some","cell","isDataCell","isCollapse","rObj","updatecloneRow","getDataModule","generateQuery","queries","aggregateQuery","getQuery","clone","requestType","rowObject","virtualInfo","prevInfo","getData","requiresCount","then","renderModule","dataManagerSuccess","expandCollapse","len","updateVisibleExpandCollapseRows","renderGroupDropArea","initDragAndDrop","refreshToggleBtn","groupElem","updateGroupDropArea","firstChild","showDropArea","initializeGHeaderDrop","initializeGHeaderDrag","Draggable","dragTarget","distance","Droppable","accept","isActionPrevent","instance","handler","arg1","showGroupedColumn","colName","enableColumnVirtualization","sortSettings","groupAddSortingQuery","direction","isFromGroup","animator","groupedColumn","childDiv","isComplexField","getComplexFieldID","headerCell","tabindex","showUngroupButton","createSeparator","isRemove","headers","showColumnMenu","getGHeaderCell","parent_1","j","oldProperties","updateGroupedColumn","updateButtonVisibility","refreshHeader","freezeRefresh","isVisible","gridElement","refreshing","clearGrouping","header","gCols","fieldNames","editedData","aggregates","iterateGroupAggregates","rowData","generateRows","summaryRows","updateSummaryRows","data","isReact","destroyTemplate","dataUid","updatedData","initData","getCurrentViewRecords","deletedCols","changeds","edit","changes","getPrimaryKeyFieldNames","mergeData","pKeyVal","DataUtil","cItem","eData","aggrds","aggregateRows","k","aggr","groupedCols","l","_loop_1","childRow","closestParent","x","isFrozen","menuClass","batchEdit","editIcon","pager","delete","save","copy","pdf","group","ungroup","csv","excel","fPage","nPage","lPage","pPage","ascending","descending","groupHeader","touchPop","ContextMenu","defaultItems","disableItems","hiddenItems","setLocaleKey","gridID","enableAfterRenderMenu","keyDownHandler","which","contextMenu","Menu","getMenuItems","enablePersistence","contextMenuItemClick","beforeOpen","contextMenuBeforeOpen","onOpen","contextMenuOpen","onClose","contextMenuOnClose","menuItems","exportItems","contextMenuItems","getDefaultItems","toLocaleLowerCase","buildDefaultItems","exportGroup","getLastPage","totalpage","floor","pageSettings","totalRecordsCount","pageSize","isOpen","getKeyFromId","autoFitColumns","targetColumn","editModule","editSettings","mode","editCell","endEdit","startEdit","getSelectedRecords","deleteRow","deleteRecord","closeEdit","pdfExport","excelExport","csvExport","goToPage","currentPage","rowInfo","targetRowdata","updateItemStatus","getLocaleText","showItems","enableItems","closestGrid","getColumn","getRowInfo","parentItem","selectRow","selectionSettings","hideSepItems","showSepItems","dItem","ensureDisabledStatus","ensureTarget","getBatchChanges","separator","hideItems","applyBiggerTheme","targetElement","ensureFrozenHeader","substr","isFrozenGrid","frozenRows","status","ensureModuleInjected","Resize","getSelectedRowCellIndexes","allowExcelExport","PdfExport","ExcelExport","allowPdfExport","Sort","sortColumns","allowPaging","Page","getContextMenu","generateID","menuItem","iconCss","isSelectable","InlineEditRender","addNew","tbody","mTbody","getMovableTbody","frTbody","getFrozenRightTbody","isVirtualFrozen","isScroll","newRowPosition","getMovableHeaderTbody","getMovableContentTbody","emptyRow","moveTbody","getContent","getFrozenMode","frTbody_1","getEditElement","checkLastRow","mEle","renderMovableform","getVisibleFrozenColumns","getVisibleColumns","frEle","renderFrozenRightForm","colSpan","getFrozenRightColumnsCount","ele","frozenRightForm","template","appendChildren","renderRightFrozen","getHeaderContent","movableForm","renderMovable","updateFreezeEdit","td","getFreezeRow","getFreezeRightRow","idx","fCont","getFrozenLeftContentTbody","fHdr","getFrozenHeaderTbody","frHdr","getFrozenRightHeaderTbody","frCont","getFrozenRightContentTbody","getFrozenRightRowByIndex","getRowByIndex","mCont","mHdr","getMovableRowByIndex","isCustomFormValidation","tdElement","refreshFreezeEdit","fCls","cont","mTd","frTd","refreshEditForm","fRows","frRows","updateFrozenCont","updateFrozenRightCont","alignFrozenEditForm","getCurrentVisibleColumns","getFreezeTableName","getMovableColumnsCount","isRowDragable","gLen","isDetail","detailTemplate","childGrid","colspan","getIndentCount","cellspacing","tr","m","columnModel","span","commands","commandsTemplate","td_1","textAlign","rowRenderingMode","setStyleAndAttributes","editType","dummyData","isAdd","editTemplateID","getEditTemplate","renderTemplates","BatchEditRender","columnObject","parentRow","newTd","DialogEditRender","setLocaleObj","createDialog","createDialogHeader","enableAdaptiveUI","responsiveDlgRenderer","ResponsiveDialogRenderer","ResponsiveDialogAction","renderResponsiveHeader","headerTemplate","getDialogEditTemplateElement","primaryKeyValue","dialog","dialogObj","Dialog","isModal","showCloseIcon","allowDragging","dialogClose","created","dialogCreated","closeOnEscape","animationSettings","footerTemplate","btnClick","buttonModel","isPrimary","params","renderResponsiveDialog","addBiggerDialog","adaptiveDlgTarget","innerText","dialogEditTemplates","templateName","updateBlazorTemplate","dialogTemp","tempDiv","templateID","getEditHeaderTemplate","getEditFooterTemplate","div","validationRules","formObj","rules","checkColumnIsGrouped","dataCell","EditRender","renderer","getEditElements","convertWidget","fForm","frForm","frzCols","cols_1","valueAccessor","temp","write","getObject","window","foreignKeyData","isForeignColumn","focusElement","cellArgs","allowTextWrap","mTdElement","fTdElement","chkBox","onClick","enableVirtualization","preventScroll","cellRendererFact","RowModelGenerator","cellRenderer","getCellRenderer","CellType","rowID","tArgs","editTemplate","tempID","tempData","extendObjWithFn","isInput","complexFieldName","isPrimaryKey","isIdentity","EditCellBase","createEditElement","read","ej2_instances","removeEventHandler","BooleanEditCell","activeClasses","classNames","selectChkBox","chkState","editRow","isSelected","addRemoveActiveClasses","isEditable","cbChange","checkBoxChange","DropDownEditCell","isInline","pred","Predicate","DropDownList","dataSource","DataManager","Query","where","fields","sortOrder","ddCreated","dropdownCreated","ddOpen","dropDownOpen","ddBeforeOpen","dropdownBeforeOpen","ddComplete","ddActionComplete","ddEditedData","json","dlgElement","dlgObj","NumericEditCell","keyEventHandler","evt","createEvent","initEvent","dispatchEvent","instances","NumericTextBox","DefaultEditCell","TextBox","NormalEdit","currentVirtualData","dblClickHandler","allowEditOnDblClick","editComplete","isCheckBoxSelection","isPersistSelection","editRowIndex","getEditArgs","rowObj","primaryKeys","primaryKeyValues","primaryKey","enableInfiniteScrolling","previousData","inlineEditHandler","prevData","argsCreator","begineditargs","editargs","clearSelection","selectionModule","preventFocus","applyFormValidation","case","updateRow","showSpinner","index_1","promise","refresh","catch","edFail","editFormValidate","isValid","validationArgs","editIdx","addIdx","addedRowIndex","selectedRow","selectedRowIndex","isDlg","dlgWrapper","dlgForm","virtualData","getCurrentEditedData","mhdrFrm","getMovableVirtualHeader","mCntFrm","getMovableVirtualContent","mvblEle","frHdrFrm","frCntFrm","getFrozenRightHeader","getFrozenRightContent","gridActionHandler","tableName","elements_1","eleLength","endEditArgs","destroyElements","destroyWidgets","destroyForm","editHandler","edSucc","editSuccess","editFailure","updateCurrentViewData","requestSuccess","stopEditStatus","refreshRow","isLastRow","blazorTemplate","checkboxOnly","hideSpinner","closeForm","cloneRow","originalRow","cloneFrozen","frozen","error","needRefresh","editedRow","infiniteScrollSettings","enableCache","RowRenderer","refreshForeignData","getForeignKeyColumns","rowUid","closeEditArgs","isLazyLoad","addRecord","defaultValue","inlineAddHandler","addArgs","fieldname","dataLen","tmpRecord","contained","currentViewData","record","getSelectedRows","commandDelIndex","addElements","editElements","evtHandlers","addRemoveEventListener","InlineEdit","BatchEdit","cellDetails","originalCell","cloneCell","editNext","preventSaveCell","onBeforeCellFocused","onCellFocused","editNextValCell","dataBoundFunction","dataBound","batchCancelFunction","batchCancel","restoreFocus","saveCell","setCellIdx","colIndex","isAddRow","validateFormObj","byClick","keyArgs","clickArgs","getFrozenLeftCount","frzRightCols","isContent","isHeader","byKey","indexes","cellIndex","isLastCellPrimaryKey","editCellFromIndex","rowIdx","cellIdx","batchChanges","isAdded","out_i_1","allRows","getGridRowObjects","isInsert","isDirty","this_1","removeBatchElementChanges","renderEmptyRow","Row","Cell","refreshRowIdx","rowRenderer","isInstertedRemoved","getRowElementByUID","removeHideAndSelection","tdElements","bulkDelete","bulkAddRow","batchSave","replaceWith","validate","checkAllBox","persistSelection","removeSelectedData","original","changedRecords","beforeBatchSaveArgs","addedRecords","deletedRecords","rows_1","removeRowObjectFromUID","addRowObject","isTop","rowClone","splitFrozenRowObjectCells","unshift","selectedRows","deleteRowUid","getRows","beforeBatchDeleteArgs","getMovableDataRows","uniqueid","out_j_1","getAllDataRows","dataRows","getGridRowElements","dataObjects","_loop_2","this_2","rowElements","rowObjects","getIndexFromData","inArray","allowAdding","defaultData","getDefaultData","beforeBatchAddArgs","mTr","frTr","modelData","cellType","removeFrozenTbody","renderFrozenAddRow","forgetPrevious","btmIdx","getBottomIndex","findNextEditableCell","args1","columnIndex","rightEle","movable","sliceElements","isValOnly","validation","endIndex","checkNPCell","allowEditing","dValues","checkEdit","editCellExtend","mRowData","getDataByIndex","getFrozenRightDataRows","isForeignKey","foreignKeyValue","getColIndex","getCellIdx","cellEditArgs","isColored","updateCell","getColumnIndexByField","getCellByColAndRowIndex","getMovableRowsObject","getFrozenRightRowsObject","refreshTD","newReactTd","setChanges","currentRowObj","rowEle","movableRowObject","frRowObject","keys_1","cIdx","getColumnIndexByUid","rowcell","CellRenderer","getFrozenColumns","getFrozenLeftColumnsCount","escapeCellEdit","generateCellArgs","successCallBack","cloneEditedData","isUndefined","isForceSave","cellSaveArgs","isEscapeCellEdit","visibleColumns","addCancelWhilePaging","DialogEdit","DatePickerEditCell","dateanddatetimerender","rtl","getCustomDateFormat","TemplateEditCell","Edit","updateEditObj","createAlertDlg","createConfirmDlg","updateColTypeObj","editCellType","allowDeleting","showDialog","alertDObj","refreshToolbar","scrollHeight","showConfirmDialog","showDeleteConfirmDialog","endEditing","form1","form2","mFormObj","form3","frFormObj","getCurrentEditCellData","getValueFromType","destroyToolTip","dlgWidget","dlgOk","dlgCancel","alertClick","btnOptions","clearIndicator","executeAction","destroyEditComponents","eventDetails","preventBatch","actionBeginFunction","onActionBegin","actionCompleteFunction","actionComplete","setComplexFieldID","inputElements","inputs","col_1","addRow","isRestrict","isDestroyVirtualForm","formObjects","virtualFormObj","hasGridChild","childElementCount","preventObj","arg2","arg3","arg4","arg5","arg6","arg7","arg8","mForm","mRules","frRules","setValidationRuels","createFormObj","FormValidator","validationComplete","customPlacement","valErrorPlacement","getElemTable","createTooltip","isFHdr","getColumnModelByFieldName","getFrozenVirtualHeader","getFrozenVirtualContent","resetElemPosition","tdRight","elemRight","offSet","offsetLeft","inputName","customForm","gcontent","validationForBottomRowPos","clientHeight","scrollWidth","clientWidth","isFHdrLastRow","isBatchModeLastRow","viewPortRowCount","getRowHeight","fHeraderRows","client","inputClient","bottom","scrollLeft","arrow","defaultView","getComputedStyle","getPropertyValue","maxWidth","pos","calculateRelativeBasedPosition","getScrollBarWidth","rowsHeight","AddEditors","editors","Worksheets","Worksheet","isSummaryRowBelow","showGridLines","HyperLink","Grouping","FreezePane","MergeCell","MergeCells","mergeCell","inserted","mCell","isIntersecting","intersectingCell","y","Width","Height","base","CellStyle","numFmtId","backColor","fontName","fontSize","fontColor","italic","bold","underline","strikeThrough","wrapText","hAlign","vAlign","rotation","numberFormat","borders","Borders","isGlobalStyle","Font","sz","u","color","strike","CellXfs","Alignment","CellStyleXfs","CellStyles","xfId","NumFmt","formatCode","Border","mLine","mColor","lineStyle","all","Column","Rows","Image","Cells","CRC32TABLE","ZipArchive","initCrc32Table","files","level","Save","navigator","msSaveBlob","get","set","enumerable","configurable","addItem","Error","file","ZipArchiveItem","addDirectory","directoryName","getItem","fileName","zipArchive","Promise","resolve","reject","saveInternal","saveAsBlob","blob","skipFileSave","zipData","dirLength","getCompressedData","constructZippedObject","isDirectory","writeZippedContent","reader_1","FileReader","onload","Uint8Array","crc32Value","compressedData","compressedSize","uncompressedDataSize","compressionType","compressData","calculateCrc32Value","readAsArrayBuffer","crc32Table","compressor","CompressedStreamWriter","currentIndex","nextIndex","subArray","subarray","zipParts","extFileAttr","writeHeader","localHeader","centralDir","writeCentralDirectory","zipHeader","getBytes","getModifiedTime","getModifiedDate","localDirLen","cenDirLen","buffer","getArrayBuffer","shift","writeFooter","Blob","offset","externalFileAttribute","centralLength","localLength","a","charCodeAt","bytes","String","fromCharCode","modTime","modiDate","itemName","ValueFormatter","cultureName","intl","getFormatFunction","isServerRendered","getDateFormat","getNumberFormat","toView","displayText","CsvHelper","csvStr","formatter","isMicrosoftBrowser","globalStyles","Map","worksheets","parseWorksheet","parseRows","parseRow","parseCell","parseCellValue","has","dataUrl_1","URL","createObjectURL","dwlLink","createElementNS","download","href","event_1","setTimeout","revokeObjectURL","BlobHelper","parts","part","getBlob","AutoFilters","Workbook","saveType","currencyString","sharedStringCount","unitsProportions","hyperlinkStyle","currency","mSaveType","mArchive","sharedString","mFonts","mBorders","mStyles","printTitles","cellStyles","mNumFmt","mFills","mCellXfs","mCellStyleXfs","drawingCount","imageCount","cellStyle","parserCellStyle","cellStylesIn","tFormat","parserWorksheets","builtInProperties","BuiltInProperties","parserBuiltInProperties","csvHelper","jsonBuiltInProperties","author","comments","category","company","manager","subject","createdDate","modifiedDate","tags","jsonSheet","sheet","mergeCells","mergedCellsStyle","mHyperLinks","parserColumns","parserRows","freeze","parserFreezePanes","printTitle","parserPrintTitle","pageSetup","images","parserImages","autoFilters","parseFilters","hyperLinks","mergeOptions","fromJson","toJson","applyProperties","sourceJson","destJson","getCellName","getColumnName","strColumnName","iCurrentDigit","titleRowName","titleColName","printTitleName","fromRow","toRow","fromColumn","toColumn","freezePanes","leftCell","columnsLength","rowsLength","rowId","parserRow","insertMergedCellsStyle","rowToInsert","createCell","insertIndex","styleIndex","cellToInsert","refName","grouping","parseGrouping","parseCells","outlineLevel","isCollapsed","isHidden","cellsLength","spanMin","spanMax","cellId","jsonCell","rowSpan","hyperlink","hyperLink","getCellValueType","rId","formula","parseCellType","processMergeCells","spans","GetColors","colors","processColor","colorVal","rgbColors","processCellValue","cellValue","processedVal","startindex","processString","substring","subString","subSplit","subSplit_1","applyGlobalStyle","defStyleIndex","parserBorder","leftBorder","rightBorder","topBorder","bottomBorder","processCellStyle","switchNumberFormat","numFmt","cellStyleXfs","_b","_c","cellXfs","returnFormat","getNumberPattern","useGrouping","border","processNumFormatId","compareResult","compareStyle","size","isNewFont","toCompareStyle","font","isNewBorder","bStyle","isAllBorder","toCompareBorder","allBorderStyle","baseStyle","toOADate","sstvalue","imagesLength","image","parserImage","lastRow","lastColumn","horizontalFlip","verticalFlip","blobSaveType","blobData","proxyUrl","xlsxMatch","csvMatch","saveWorkbook","saveWorksheets","saveSharedString","saveStyles","saveApp","saveCore","saveContentType","saveTopLevelRelation","saveWorkbookRelation","workbookTemp","sheets","sheetName","printTitle_1","addToArchive","saveWorksheet","sheetBlob","sheetString","saveSheetView","colString","pixelsToColumnWidth","rowString","pixelsToRowHeight","_d","_e","_f","_g","_h","_j","hLink","saveDrawings","saveSheetRelations","drawings","sheetDrawingString","imgId","pic","updatelastRowOffset","updatelastColumnOffSet","lastRowOffset","lastColOffset","imageData","convertBase64toImage","saveDrawingRelations","picture","iCurHeight","iCurRow","iCurOffset","iRowHeight","iSpaceInCell","convertToPixels","rowHiddenHeight","iCurWidth","iCurCol","iColWidth","ColumnWidthToPixels","colHiddenWidth","img","byteStr","atob","ArrayBuffer","drawingRelation","pixels","dDigitWidth","trunc","fileWidth","n","relStr","paneString","sstStart","si","updateCellXfsStyleXfs","styleTemp","saveNumberFormats","saveFonts","saveFills","saveBorders","saveCellStyleXfs","saveCellXfs","saveCellStyles","compareFontResult","fontId","fillId","borderId","applyAlignment","alignment","horizontal","vertical","numFmtStyle_1","fontStyle","fillsStyle","bordersStyle","cellStyleString","cellXfsStyle","cellStyleXf","saveAlignment","cellXf","alignString","appString","coreString","toISOString","wbRelation","contentTypeString","sheetsOverride","xmlString","archiveItem","startCell","endCell","updatedMergedCellStyles","sCell","eCell","dateToTicks","isLeapYear","timeToTicks","ticks","daysTo1899","locator","book","workSheet","rowLength","expType","includeHiddenColumn","isCsvExport","isElementIdChanged","gridPool","ExportHelper","isExporting","exportValueFormatter","ExportValueFormatter","getUid","grid","exportProperties","isMultipleExport","workbook","isCsv","isBlob","hierarchyExportMode","expandedRows","getPrintGridModel","gridObject","Data","isExportColumns","updateColumnTypeForExportColumns","processRecords","exportingSuccess","blobPromise","query_1","isCountRequired","executeQuery","processInnerRecords","exportType","allPromise_1","getColumnData","groupedColLength","blankRows","colDepth","measureColumnDepth","isExportPropertiesPresent","multipleExport","processExcelHeader","childGridLevel","processGridExport","globalResolve","checkAndExport","organisedRows","organiseRows","processExcelFooter","allowFiltering","enableFilter","headerRowLen","headerRows","currencyCode","initialIndex","childRows","excelRows","theme","hierarchyPrintMode","getForeignKeyData","gColumns","prepareColumns","getGridExportColumns","headerRow","getHeaders","groupIndent","processHeaderContent","processRecordContent","returnType","currentViewRecords","excelRow","processRecordRows","processGroupedRows","GroupGuid","records","processAggregates","startIndex","excelExportProperties","dataSource_1","enableGroupByFormat","formatCellValue","cArgs","captionText","getCaptionThemeStyle","groupCaptionSummaryRows","CaptionSummaryModelGenerator","fillAggregates","childLevels","lIndex","hIndex","tCell","getGridRowModel","templateRowHeight","gCell","fkData","getFData","excelCellArgs","base64","setImage","getColumnStyle","isPrinting","returnVal","createChildGrid","childGridObj","actionFailure","failureHandler","beforeDataBound","childGridCell","excelImage","excelExportProps","gRow","intent","rec","byGroup","summaryModel","SummaryModelGenerator","aggregateModule","prepareSummaryInfo","groupSummaryRows","GroupSummaryModelGenerator","sRows","customIndex","rows_2","isEmpty","groupFooterTemplate","groupCaptionTemplate","getAggreateValue","Sum","Average","Max","Min","Count","TrueCount","FalseCount","Custom","aggregateStyle","gridCellStyle","row_1","txt","templateFn","getEnumValue","compile","JSON1","JSON2","attrname","gridRows","gridColumns","spannedCells","parseStyles","getRecordThemeStyle","currentCellIndex","gridCell","getIndex","spannedCell","getHeaderThemeStyle","headerTextAlign","excelHeaderCellArgs","updateThemeStyle","themestyle","caption","noRows","updatedCellIndex","footerRows","spannedCells_1","getConvertedWidth","hideColumnInclude","parentDetails","isRemote","lazyLoad","take","getForeignData","generateCells","processColumns","generateCell","columns_1","gridObj","columnPromise","fColumns","colData","isHideColumnInclude","processHeaderCells","generateActualColumns","actualColumns","columns_2","getCellCount","appendGridCells","isIgnoreFirstCell","gridColumn","option","columnIndexes","getColumnIndexesInView","len_1","Grid","detailRowModule","getGridModel","parentID","parentPrimaryKeys","parentKeyField","queryString","parentKeyFieldValue","parentRowData","exportId","isExportGrid","actualGridColumns","valueFormatter","internationalization","returnFormattedValue","customFormat","cFormat","FilterCellRenderer","getGui","innerDIV","filterTemplate","fltrData","isReactCompiler","getFilterTemplate","filterBarTemplate","Element","class","appendHtml","filterSettings","showFilterBarOperator","operatorIconRender","templateWrite","innerHtml","fbicon","operators","operator","filterModule","dropOptr","popupWidth","change","internalEvent","customOperators","spanElmt","FlMenuOptrUI","customFltrOperators","customFilterOperators","destroyDropDownList","renderOperatorUI","dlgConetntEle","optr","optrData","customOptr","dropDatasource","selectedValue","dropSelectedVal","optrDiv","optrInput","renderResponsiveDropDownList","selValue","selectedField","executeLocal","optrLen","getFlOperator","SPINNER_CLASS","dropDownListClasses","inputObject","ComboBox","getLocaleName","wireEvent","preventBlur","onBlurHandler","dropDownClick","targetFocus","onInput","onFilterUp","onFilterDown","pasteHandler","bindCommonEvent","inputValue","listData","customValue","setOldText","setOldValue","allowCustom","valueMuteChange","setHiddenValue","dataItem","itemData","detachChangeEvent","updateValues","getElementByText","getElementByValue","getAriaAttributes","hiddenElement","searchLists","isTyped","isFiltering","ulElement","filterInput","setHoverList","preventAutoFill","incrementalSearch","getNgDirective","setSearchBox","isUpdated","isSelectCustom","inlineSearch","getFocusElement","getItemData","isDropDownClick","Search","filterType","removeFocus","getIndexByValue","fixedHead","groupBy","removeFillSelection","autofill","checkCustomValue","getDataByValue","spinnerElement","createSpinner","setAutoFill","isHover","currentValue","getTextByValue","currentFillValue","updateSelectedItem","isAndroidAutoFill","setAutoFillSelection","currentPoints","getSelectionPoints","prevEnd","prevSelectPoints","curEnd","prevStart","curStart","clearAll","property","isSelectFocusItem","isKeyNavigate","focusItem","isCustomFilter","showPopup","selection","getValueByText","ignoreAccent","unWireEvent","unBindCommonEvent","selectCurrentItem","onChangeEvent","hidePopup","onFocus","previousValue_1","initial","updateCustomValueCallback","changeData","checkData","setUpdateInitial","setReadOnly","renderList","comboProps","getPropObject","newProperty","oldProperty","itemTemplate","itemIndex","isEscape","isEscapeKey","typedString","searchItem","selectedLI","getItems","renderHightSearch","highlightSearch","ignoreCase","ignoreRegex","findTextNode","pattern","nodeType","nodeValue","revertHighlightSearch","createTextNode","replaceChild","AutoComplete","isFiltered","searchList","filterQuery","dataType","typeOfData","typeof","mapping","suggestionCount","queryElements","fn","isDataFetched","beforePopupOpen","resetList","preventDefaultAction","updateData","filterAction","minLength","renderReactTemplates","fixedHeaderElement","postBackAction","listOption","fieldsSettings","highlight","itemCreated_1","isEditTextBox","isPopupButton","showPopupButton","refreshPopup","button","atcProps","Complex","FieldSettings","StringFilterUI","serLocator","actObj","getAutoCompleteOptions","foreignColumnQuery","autoComplete","localizeText","acFocus","acComplete","acOpen","defObj","eventPromise","deffered","filteredValue","filterOptr","filterObj","actuiObj","filterValue","filterByColumn","enableCaseSensitivity","getZIndexCalcualtion","getOptrInstance","arr","mapObj","NumberFilterUI","numericTxtObj","numberuiObj","BooleanFilterUI","dropInstance","drpuiObj","DateFilterUI","dpOpen","fltrSettings","inputElem","datePickerObj","FilterMenuRenderer","fltrObj","isDialogOpen","isMenuCheck","colTypes","flMuiObj","menuFilterBase","CheckBoxFilterBase","clearCustomFilter","clearBtnClick","applyCustomFilter","filterBtnClick","openDialog","renderDlgContent","closeDialog","clearReactVueTemplates","getElementById","columnType","mainDiv","dlgDiv","getFilterMenuPostion","renderFilterUI","writeMethod","renderFlValueUI","menuOperator","valueDiv","fObj","instanceofFilterUI","compElement","cBox","getAllData","ui","dlgContentEle","flValue","targ","flOptrValue","fltrValue","eControl","closeResponsiveDialog","removeFilteredColsByField","iconClass","flIcon","getFilterUIInfo","renderCheckBoxMenu","getAndSetChkElem","getLocalizedLabel","dlg","sBox","CheckBoxFilter","isresetFocus","checkBoxBase","actionBegin","actionPrevent","clearFilter","fltrBtnHandler","ATTRIBUTES","RadioButton","RadioButton_1","updateChange","radioGrp","getRadioGroup","getInstance","angularValue","radioWrap","getLabel","getSelectedValue","updateHtmlAttribute","labelRippleHandler","ripple","wrap","formControlName","textLabel","rippleLabel","ExcelFilterBase","childRefs","eventHandlers","isExcel","getCMenuDS","string","datetime","unwireExEvents","menuObj","destroyCMenu","removeDialog","createMenu","isCheckIcon","eleOptions","menu","ul","icon","isResponsiveFilter","hdrele","colIsSort","isAsc","isDesc","ascName","descName","createMenuElem","ensureTextFilter","iconName","isSubMenu","wireExEvents","hoverHandler","clickExHandler","isCMenuOpen","cmenu","focused","submenu","selectedMenu","menuOptions","selectHandler","beforeClose","preventClose","contextRect","getContextBounds","innerHeight","innerWidth","pageYOffset","scrollY","getCMenuYPosition","predicates","existingPredicate","isFilterBack","MouseEvent","contextWidth","targetPosition","leftPos","targetBorder","filterLength","filteredColumns","renderDialogue","isComplex","overlayClick","createdDialog","rowResponsiveDlg","removeObjects","renderCustomFilter","dlgFields","fieldSet","displayName","checkBoxValue","colValue","fValue","fOperator","sValue","sOperator","predicate","fieldName","firstOperator","firstValue","matchCase","secondOperator","secondValue","mPredicate","fColl","arg","filterCollection","ejpredicate","actualPredicate","foreignKeyFilter","elementID","isFirst","fieldElement","xlfloptr","menuText","dropDownValueChange","registerEventHandlers","removeHandlersFromComponent","component","removeEventHandlers","includes","getSelectedText","colGroup","renderRadioButton","radioDiv","frstpredicate","secndpredicate","renderMatchCase","andRadio","orRadio","elementId","isFilteredCol","fltrPredicates","columnObj","getExcelFilterData","valueInput","renderAutoComplete","renderNumericTextBox","renderDate","renderDateTime","predIndex","indx","columnData","matchCaseDiv","matchCaseInput","checkbox","isRtl","datePicker","dateTimePicker","completeAction","distinctStringValues","numericTextBox","colObj","acActionComplete","mapObject","performComplexDataOperation","columnvalue","ExcelFilter","excelFilterBase","Filter","filterByMethod","cellText","nextFlMenuOpen","filterOperators","endsWith","equal","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","notEqual","startsWith","fltrDlgDetails","skipNumberInput","skipStringInput","setFullScreenDialog","getLocalizedCustomOperators","fltrElem","addCellRenderer","generateRow","rowdrag","detail","gCells","showCustomFilter","responsiveDialogRenderer","isCustomDialog","showResponsiveDialog","setFilterModel","updateFilterMsg","dropdownlist","filterBarElement","registerAdaptiveService","dummy","opt","filterObjIndex","getFilteredColsIndexByField","prevFilterObject","arrayVal","isArray","adaptor","isMenuNotEqual","currentFilterObject","actualFilterValue","actualOperator","currentFilteringColumn","keyUpHandlerImmediate","refreshFilterValue","refreshFilterValueFn","initialLoad","columnPositionChanged","filterMenuClose","docClickHandler","refreshClearIcon","columnMenuFilter","filterIconClickHandler","targetText","previousElementSibling","filterOperator","filterCell","grabColumnByFieldFromAllCols","getOperatorName","checkForSkipInput","filterStatusMsg","applyColumnFormat","predObj","fColumn","checkAlreadyColFiltered","getFlvalue","setFormatForFlColumn","skipUid","colLen","updateFilterIcon","refreshFilterSettings","updateFilter","updateExternalMessage","grabColumnByUidFromAllCols","filterElement","getFilterBarElement","fltrIconElement","refreshFilter","clearFiltering","getActualPropFromColl","colUid","f","filteredcols","fltrElement","isClose","filterDialogOpen","createOptions","formatFn","getFormatter","parserFn","getParser","getFilterItemTemplate","hideSearchbox","filterHandler","localizedStrings","getLocaleConstants","localeObj","allowCaseSensitive","isClearFilterBar","fCell","filteredColsUid","currentPred","currentFilterColumn","matches","closeHeaderEle","dropDownListInput","processFilter","openMenuByField","updateCrossIcon","getFormatFlValue","showFilterBarStatus","fromView","isSkip","stopTimer","startTimer","timer","setInterval","onTimerTick","immediateModeDelay","clearInterval","templateRead","validateFilterValue","skipInput","getOperator","singleOp","multipleOp","numOptr","stringOperator","numberOperator","dateOperator","datetimeOperator","booleanOperator","gClient","fClient","inputId","datepickerEle","hasDialog","popupEle","hasDialogClosed","filterIconElement","getColumnByForeignKeyValue","refreshFilterIcon","addFilteredClass","renderCheckboxOnFilterMenu","PdfBorderOverlapStyle","PdfBorders","defaultBorderPenLeft","PdfPen","PdfColor","dashStyle","PdfDashStyle","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","PdfPaddings","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfHorizontalOverflowType","PdfGridStyleBase","gridBackgroundBrush","gridTextBrush","gridTextPen","gridFont","gridBackgroundImage","PdfGridStyle","gridBorderOverlapStyle","Overlap","bAllowHorizontalOverflow","gridHorizontalOverflowType","LastPage","gridCellSpacing","gridCellPadding","PdfGridCellStyle","gridCellBorders","PdfGridRowStyle","gridRowBackgroundBrush","setBackgroundBrush","getCell","backgroundBrush","gridRowTextBrush","setTextBrush","textBrush","gridRowTextPen","setTextPen","textPen","gridRowFont","setFont","gridRowBorder","setBorder","setParent","gridRowBackgroundImage","setBackgroundImage","ElementLayouter","layoutElement","getElement","layout","param","layoutInternal","Layouter","getNextPage","section","getPaginateBounds","usePaginateBounds","paginateBounds","RectangleF","bounds","PdfLayoutFormat","baseFormat","break","boundsSet","layoutType","breakType","layoutPaginateBounds","PdfLayoutParams","pdfPage","layoutBounds","layoutFormat","PdfLayoutResult","page","PdfLayoutElement","beginPageLayout","endPageLayout","onBeginPageLayout","onEndPageLayout","drawHelper","PointF","graphics","clientSize","layoutRectangle","bEmbedFonts","temparg3","temparg4","newBound","TextLayouter","stringFormat","currentBounds","pageResult","TextPageLayoutResult","remainder","layoutOnPage","getLayoutResult","PdfTextLayoutResult","lastLineBounds","checkCorrectBounds","stringResult","PdfStringLayouter","getClientSize","SizeF","textFinished","PdfLayoutBreakType","empty","brush","getBrush","PdfTextWebLink","drawStringLayoutResult","pen","lines","lineCount","getLineBounds","getTextPageBounds","textSize","actualSize","checkCorrectLayoutRectangle","getTextVerticalAlignShift","remainderText","lastLineTextBounds","PdfTextElement","hasPointOverload","isPdfTextElement","PdfFont","pdfFont","pdfPen","PdfBrush","pdfBrush","PdfStandardFont","PdfSolidBrush","drawText","stringLayoutResult","layoutResult","layoutLines","previousPosition","lineWidth","measureString","calculateResultBounds","lineSize","maximumWidth","startPosition","PdfTextAlignment","PdfAnnotation","dictionaryProperties","DictionaryProperties","pdfColor","rectangle","textFont","PdfFontFamily","PdfStringFormat","pdfDictionary","PdfDictionary","internalColor","darkness","dictionary","contents","PdfString","annotationBeginSave","SaveAnnotationEventHandler","PdfName","annot","setPage","PdfReferenceHolder","beginSave","nativeRectangle","initialHeight","tempLoacation","pointToNativePdf","margins","rect","PdfArray","ca","PdfNumber","PdfLinkAnnotation","subtype","link","PdfActionLinkAnnotation","pdfAction","getSetAction","PdfAction","PdfUriAction","uri","uniformResourceIdentifier","s","PdfUriAnnotation","pdfUriAction","uriAction","uniformResourceLocator","uriAnnotation","recalculateBounds","defaultBorder","draw","PdfPage","previousFontStyle","PdfFontStyle","calculateBounds","url","annotations","drawMultipleLineWithPoint","returnValue","drawMultipleLineWithBounds","location","internalBounds","PdfGridLayouter","gridInitialWidth","gridSize","parentCellIndex","tempWidth","childheight","isChildGrid","hasRowSpanSpan","isRearranged","pageBounds","listOfNavigatePages","columnRanges","currentLocation","breakRow","slr","isPaginate","isOverloadWithPosition","getFormat","gridLayoutFormat","currentPageBounds","currentGraphics","getRow","startLocation","hType","horizontalOverflowType","allowHorizontalOverflow","measureColumnsWidth","determineColumnDrawRanges","isRowHeightSet","startColumn","endColumn","cellWidths","availableWidth","subWidths","layoutedPages","TemporaryDictionary","startPage","cellBounds","cellStartIndex","cellEndIndex","returnObject","raiseBeforePageLayout","currentRowIndex","drawHeader","i_1","getHeader","headerHeight","isCellMergeContinue","headerResult","drawRow","repeatRowIndex","isFinish","PdfLayoutType","getNextPageformat","repeatRow","originalHeight","rowResult","splitChildRowIndex","isrowFinish","ParentCell","isGridSplit","rowCollection","tempResult","raisePageLayouted","allowRowBreakAcrossPages","location_1","cellPadding","rowBreakHeight","isRowBreaksNextPage","rowBreakHeightValue","i_2","noOfPageCount","repeatHeader","j_1","headerRepeat","j_2","tempResult1","i_3","checkIsFisished","i_4","PdfGrid","i_5","containsKey","NestedGridLayoutResult","recalHeight","ReCalculateHeight","secion","pageGraphics","location_2","cellWidth","totalwidth","i_6","columnWidth","drawCellBorders","columnSpan","isPdfGrid","maximumCellBoundsWidth","largeNavigatePage","rowLayoutBoundsWidth","NextPage","reArrangePages","FinishedDrawingCell","nextPage","getPages","pageindex","CheckIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineAlignment","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","RaiseBeforeCellDraw","raiseBeginCellDraw","PdfGridBeginCellDrawEventArgs","onBeginCellDraw","raiseAfterCellDraw","cellstyle","raiseEndCellDraw","PdfGridEndCellDrawEventArgs","onEndCellDraw","pages","count_1","repeatFlag","origin","isChanged","PdfGridLayoutResult","newHeight","remainingString","measureHeight","currentRow","raiseBeginPageLayout","PdfGridBeginPageLayoutEventArgs","startRowIndex","PdfGridEndPageLayoutEventArgs","raiseEndPageLayout","result_1","RowLayoutResult","rowHeightWithSpan","rowSpanExists","maxSpan","currRowIndex","calculatedHeight","LayoutFormat","drawRowWithBreak","repeatRowNumber","isFit","rowMergeComplete","isFitToCell","location_4","cancelSpans","rowOverflowIndex","cellSpacing","currentHeight","gridRow","layouter","PdfDocument","isCustomWidth","calculateHeight","gridHeight","cellstyle1","rowBreakPageHeightCellIndex","PdfGridLayoutFormat","GridCellEventArgs","gridRowIndex","gridCellIndex","internalValue","gridBounds","pdfGraphics","bSkip","PdfCancelEventArgs","isCancel","BeginPageLayoutEventArgs","EndPageLayoutEventArgs","nextPdfPage","startRow","layoutedBounds","bIsFinished","PdfGridCell","cellHeight","tempval","fontSpilt","finsh","rowSpanRemainingHeight","hasRowSpan","hasColSpan","present","gridRowSpan","internalIsCellMergeContinue","internalIsRowMergeContinue","internalIsCellMergeStart","internalIsRowMergeStart","remaining","objectValue","isSingleGrid","rowCount","colCount","columnSpanExists","isComplete","measureWidth","getTextFont","MAX_VALUE","PdfImage","PdfBitmap","webLink","drawCellBackground","getBackgroundBrush","drawRectangle","restore","backgroundImage","getBackgroundImage","drawImage","adjustContentLayoutArea","returnBounds","cancelSubsequentSpans","adjustOuterLayoutArea","getTextPen","getTextBrush","strFormat","getStringFormat","innerLayoutArea","rowFontSplit","drawString","layoutRect","layer","setSpan","checkSpan","childGridResult","imageBounds","borderOverlapStyle","Inside","p1","p2","lineCap","PdfLineCap","drawLine","g","currentColIndex","totalWidth","compWidth","totalHeight","calculateWidth","internalWidth","PdfGridCellCollection","tempcell","PdfGridColumn","PdfGridColumnCollection","internalColumns","initialWidth","isPageWidth","getDefaultWidths","widths","subFactor","PdfGridRow","gridRowOverflowIndex","rowHeight","rowWidth","isRowSpanRowHeightSet","isPageBreakRowSpanApplied","isRowMergeComplete","isHeaderRow","pdfGrid","bRowSpanExists","gridCells","rowStyle","gridRowBreakHeight","gridResult","bColumnSpanExists","cellIn","rowin","rowWid","PdfGridRowCollection","temprow","PdfGridHeaderCollection","hasColumnSpan","beginCellDraw","endCellDraw","bRepeatHeader","gridHeaders","gridStyle","ispageWidth","ischildGrid","measure","parentCell","hasChanged","gridLocation","isRowMergeContinue","isCellMergeStart","isRowMergeStart","maximumRowSpan","cellcolSpan","cellrowSpan","cellmaxSpan","padding","columnCount","childGridColumnWidth","colCount_1","colCount_2","RowCount","ColCount","colWidth","childGridColWidth","PdfNumbersConvertor","convert","intArabic","numberStyle","PdfNumberStyle","arabicToLetter","arabicToRoman","retval","retvalM","generateNumber","retvalCM","retvalD","retvalCD","retvalC","retvalXC","retvalL","retvalXL","retvalX","retvalIX","retvalV","retvalIV","retvalI","arabic","stack","convertToLetter","num","pop","appendChar","magnitude","letter","numberstring","letterLimit","builder","acsiiStartIndex","PdfTemplateValuePair","pdfTemplate","PdfMultipleValueField","performDraw","scalingX","scalingY","performDrawHelper","PdfTemplate","getSize","getFont","drawLocation","drawPdfTemplate","PdfAutomaticField","PdfPageNumberField","internalNumberStyle","getPageFromGraphics","internalGetValue","pageIndex","PdfCompositeField","internalAutomaticFields","internalText","automaticFields","automaticField","PdfSingleValueField","painterGraphics","textValue","pair","PdfPageCountField","PdfTrueTypeFont","base64String","isEmbedFont","isUnicode","createFontInternal","equalsToFont","getLineWidth","line","textDirection","PdfTextDirection","getUnicodeLineWidth","fontInternal","metrics","applyFormatSettings","getCharWidth","charCode","codeWidth","UnicodeTrueTypeFont","calculateStyle","initializeInternals","iStyle","ttfMetrics","macStyle","equalFont","internals","getInternals","isEmbed","createInternals","isUnicodeFont","setInternals","setSymbols","internalFont","glyphIndices","RtlRenderer","getGlyphIndex","resultGlyph","success","glyphs","ttfReader","glyphIndex","glyph","getGlyph","customDataSource","isGrouping","headerOnPages","drawPosition","xPosition","yPosition","pdfDocument","pdfPageSettings","PdfPageSettings","exportWithData","pdfDoc","pdfExportProperties","processExport","headerPageNumbers","gridDrawPosition","sections","processSectionExportProperties","pageOrientation","orientation","PdfPageOrientation","getPageSize","setPageSettings","gridTheme","processExportProperties","headerThemeStyle","headerFont","headerBrush","processGridHeaders","setColumnProperties","captionThemeStyle","getSummaryCaptionThemeStyle","processGroupedRecords","processRecord","fontFamily","getFontFamily","getFontStyle","penBrushColor","hexToRgb","borderCaption","getBorderStyle","getGridPdfFont","headerSize","headerStyle","fontFamily_1","captionFont","captionSize","captionStyle","fontFamily_2","recordFont","recordSize","recordStyle","fontFamily_3","groupIndex","dataSourceItems","captionSummaryModel","eCols","rowNumber","applyTextAndSpan","colIdx","gridHeader","pdfCell","getHorizontalAlignment","getVerticalAlignment","evtArgs","setHyperLink","recuHeader","spanCnt","isRoot","cidx","newSpanCnt","fromBottom","drawPageTemplate","PdfPageTemplateElement","fromTop","headerTemplate_1","getPageByIndex","processContentValidation","drawPageNumber","src","points","x1","y1","x2","y2","pageTemplate","getBrushFromContent","textPenColor","penColor","setContentFormat","documentHeader","textBrushColor","brushColor","compositeField","pageNumber","getPageNumberStyle","pageNumberType","total","current","pageCount","getPenFromContent","penSize","getDashStyle","isCaption","isGroupedFooter","isAggregate","sRows_1","leastCaptionSummaryIndex","aggIdx","getSummaryWithoutTemplate","getTemplateFunction","templateFunction","setRecordThemeStyle","borderRecord","cellLength","gridRow_1","textLink","backgroundColor","textAlignment","verticalAlignment","strikeout","borderWidth","borderColor","verticalAlign","PdfVerticalAlignment","hex","bigint","resizeClassList","tapped","isDblClk","widthService","ColumnWidthService","fName","isAutoFitColumns","findColumn","autoFit","newarray","resizeSettings","setWidthToTable","resizeColumn","headerTable","contentTable","footerTable","headerTextClone","contentTextClone","footerTextClone","tWidth","contentDivTag","footerDivTag","indentWidth","getUidByColumnField","getNormalizedColumnIndex","columnIndexByField","getFooterContent","getFooterContentTable","indentWidthClone","detailsElement","contentText","footerText","wHeader","createTable","wFooter","wContent","columnbyindex","colMaxWidth","setColumnWidth","calcTableWidth","refreshFrozenScrollbar","tableWidth","unwireEvents","tag","myTableDiv","cssText","mySubDiv","myTable","myTr","offsetWidthValue","refreshHeight","setHandlerHeight","getResizeHandlers","touchResizeStart","callAutoFit","getTargetColumn","Global","resizeStart","clearTimeout","refreshColumnWidth","refreshStackedColumnWidth","mtbody","ftbody","frtbody","mtr","ftr","removeProperty","parentElementWidth","appendHelper","pageX","getPointX","minMove","minWidth","removeHelper","cancelResizeAction","resizeEnd","resizing","updateCursor","removeEvents","getWidth","updateResizeEleHeight","getColData","mousemove","setHelperHeight","finalColumns","getSubColumns","calulateColumnsWidth","finalColumns_1","updateHelper","subColumns","allowResizing","cTable","scrollModule","setPadding","overflowY","isFrozenColResized","doubleTapEvent","touches","getStackedColumns","stackedColumn","getStackedWidth","headerRows_1","calcPos","cls","fLeft","parentOffset","doc","ownerDocument","offsetParent","documentElement","getUserAgent","userAgent","timeoutHandler","isModelChanged","sortedColumn","isMultiSort","getSortedColsIndexByField","sortedCols","sCol","getSortColumnFromField","lastSortedCol","isContextMenuOpen","allowMultiSorting","backupSettings","removeSortIcons","updateSortedCols","lastSortedCols","iterateExtend","lastCols","restoreSettings","refreshSortSettings","addSortIcons","clearSorting","removeSortColumn","keyPressed","cancelBeginEvent","popUpClickHandler","allowColumnSelection","initiateSort","showPopUp","ctrlKey","enableSortMultiTouch","metaKey","shiftKey","allowUnsort","setCssInGridPopUp","setSort","updateAriaAttr","showCustomSort","addScrolling","scrollType","containerOffset","contentOffset","parentElem","createScrollbar","scrollEle","overflow","VScroll","scrollStep","HScroll","destroyScroll","scrollObj","skipEle","ENTER","ESCAPE","FOCUSED","HEADER","SEPARATOR","UPARROW","DOWNARROW","LEFTARROW","RIGHTARROW","HOME","END","CARET","ITEM","HIDE","ICONS","MenuItem","Collection","MenuAnimationSettings","MenuBase","navIdx","animation","isTapHold","tempItem","showSubMenuOn","isMenu","ejInst","clonedElement","refEle","ejInstance","nodeName","renderItems","enableScrolling","requestAnimationFrame","hamburgerMode","createHeaderContainer","defaultOption","showItemOnClick","child","isBlazor","removeChildElement","createItems","setBlankIconStyle","targetElems","selectAll","menuHeaderClickHandler","Touch","tapHold","touchHandler","cmenuHandler","getScrollableParent","delegateMoverHandler","moverHandler","delegateMouseDownHandler","delegateClickHandler","wireKeyboardEvent","downarrow","uparrow","leftarrow","rightarrow","keyBoardHandler","closeMenu","actionName","actionNeeded","removeLIStateByClass","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","getUlByNavIdx","defaultIdx","fliIdx","fli","getLIByClass","getIdx","cli","navIdxLen","keyType","openMenu","originalEvent","isCMenu","changedTouches","pageY","canOpen","ulIndex","isIterated","isMenuVisible","item_1","items_1","sli","beforeCloseArgs","popups","getPopups","cnt","ul_1","liElem_1","getLI","observedCloseArgs","closeArgs","trgtliId","closedLi","trgtLi","popupId","minHeight","unWireKeyboardEvent","toggleAnimation","updateReactTemplate","trgtpopUp","exec","submenus","afterCloseMenu","isMenusClosed","sli_1","cliIdx","item_2","removeStateWrapper","portals","clearTemplate","getMenuItemModel","getFields","lItem","elemId","uList","getField","lastChild","hdata","hli","isNestedOrVertical","generatePopup","calculateIndentSize","hoverDelay","triggerBeforeOpen","getZindexPartial","liStyle","liIndent","textIndent","blankIconElem","menuIconElem","menuIconElemStyle","blankIconIndent","marginRight","actionOnScroll","triggerOpen","spanElem","tempTitle","spanTitle","spanIcon","openHamburgerMenu","closeHamburgerMenu","observedHamburgerCloseArgs","callFit","fit","menuType","observedOpenArgs","checkScrollOffset","animationOptions","timingFunction","easing","setPosition","eventArgs_1","collide","isCollide","offWidth","calculatePosition","blankIconList","iconLi","cssProp","margin","iconCssProps","iconSize","offsetEle","offsetRight","px","toggleVisiblity","newTop","xCollision","showIcon","hasField","itemNavigable","itemCreating","curData","liTrgt","hdrWrapper","isDifferentElem","isClosed","propName","cliWrapper","isInstLI","cliWrapperId","setLISelected","showSubMenu","culIdx","classname","getItemIndex","isUniqueId","isText","setItem","newItem","setItems","newItems","skipHdr","updateItemsByNavIdx","updateItem","ul_2","ul_3","getChangedItemIndex","insertAfter","removeItem","lastElementChild","popStr","uls","targetSelctor","touchModule","parent_2","isMenuOpen","pUlHeight","pElement","animate","begin","progress","nIndex","isCallBack","skipItem","showHideItems","ishide","removeItems","iitems","insertItems","isAfter","menuitem","removeAttributes","itemId","parentId"],"sourceRoot":""}