{"version":3,"file":"static/js/25.6c9b2153.chunk.js","mappings":"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","sources":["../node_modules/@syncfusion/ej2-react-kanban/src/kanban/columns-directive.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/constant.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/data.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/swimlane-settings.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/card-settings.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/dialog-settings.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/columns.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/stacked-headers.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/models/sort-settings.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/css-constant.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/action.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/crud.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/drag.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/dialog.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/keyboard.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/tooltip.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/actions/touch.js","../node_modules/@syncfusion/ej2-navigations/src/treeview/treeview.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/mobile-layout.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/layout-render.js","../node_modules/@syncfusion/ej2-kanban/src/kanban/base/kanban.js","../node_modules/@syncfusion/ej2-react-kanban/src/kanban/kanban.component.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ComplexBase } from '@syncfusion/ej2-react-base';\n/**\n * `ColumnsDirective` represent a columns of the react Kanban board.\n * It must be contained in a Kanban component(`KanbanComponent`).\n * ```tsx\n * <KanbanComponent>\n *  <ColumnsDirective>\n *   <ColumnDirective keyField='Open' textField='To Do'></ColumnDirective>\n *   <ColumnDirective keyField='Close' textField='Completed'></ColumnDirective>\n *  <ColumnsDirective>\n * </KanbanComponent>\n * ```\n */\nvar ColumnDirective = /** @class */ (function (_super) {\n    __extends(ColumnDirective, _super);\n    function ColumnDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnDirective.moduleName = 'column';\n    return ColumnDirective;\n}(ComplexBase));\nexport { ColumnDirective };\nvar ColumnsDirective = /** @class */ (function (_super) {\n    __extends(ColumnsDirective, _super);\n    function ColumnsDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnsDirective.propertyName = 'columns';\n    ColumnsDirective.moduleName = 'columns';\n    return ColumnsDirective;\n}(ComplexBase));\nexport { ColumnsDirective };\n","/**\n * Kanban Constants\n */\n// Constants for public events\n/** @private */\nexport var actionBegin = 'actionBegin';\n/** @private */\nexport var actionComplete = 'actionComplete';\n/** @private */\nexport var actionFailure = 'actionFailure';\n/** @private */\nexport var cardClick = 'cardClick';\n/** @private */\nexport var cardDoubleClick = 'cardDoubleClick';\n/** @private */\nexport var cardRendered = 'cardRendered';\n/** @private */\nexport var queryCellInfo = 'queryCellInfo';\n/** @private */\nexport var dataBinding = 'dataBinding';\n/** @private */\nexport var dataBound = 'dataBound';\n/** @private */\nexport var dragStart = 'dragStart';\n/** @private */\nexport var drag = 'drag';\n/** @private */\nexport var dragStop = 'dragStop';\n/** @private */\nexport var documentClick = 'document-click';\n/** @private */\nexport var dialogOpen = 'dialogOpen';\n/** @private */\nexport var dialogClose = 'dialogClose';\n// Constants for internal events\n/** @private */\nexport var contentReady = 'content-ready';\n/** @private */\nexport var dataReady = 'data-ready';\n/** @private */\nexport var bottomSpace = 25;\n/** @private */\nexport var cardSpace = 16;\n/** @private */\nexport var toggleWidth = 50;\n/** @hidden */\nexport var dataSourceChanged = 'dataSourceChanged';\n/** @hidden */\nexport var dataStateChange = 'dataStateChange';\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { extend } from '@syncfusion/ej2-base';\nimport { DataManager, Query, Deferred, UrlAdaptor } from '@syncfusion/ej2-data';\nimport * as events from './constant';\n/**\n * Kanban data module\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for data module\n     *\n     * @param {Kanban} parent Accepts the instance of the Kanban\n     */\n    function Data(parent) {\n        this.dataState = { isPending: false, resolver: null, isDataChanged: false };\n        this.parent = parent;\n        this.keyField = this.parent.cardSettings.headerField;\n        this.dataState = { isDataChanged: false };\n        this.isObservable = false;\n        this.initDataManager(parent.dataSource, parent.query);\n        this.refreshDataManager();\n    }\n    /**\n     * The function used to initialize dataManager` and query\n     *\n     * @param {Object[] | DataManager} dataSource Accepts the dataSource as collection of objects or Datamanager instance.\n     * @param {Query} query Accepts the query to process the data from collections.\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.initDataManager = function (dataSource, query) {\n        this.dataManager = dataSource instanceof DataManager ? dataSource : new DataManager(dataSource);\n        this.query = query instanceof Query ? query : new Query();\n        this.kanbanData = new DataManager(this.parent.kanbanData);\n    };\n    /**\n     * The function used to generate updated Query from schedule model\n     *\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.getQuery = function () {\n        return this.query.clone();\n    };\n    /**\n     * The function used to get dataSource by executing given Query\n     *\n     * @param  {Query} query - A Query that specifies to generate dataSource\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.getData = function (query) {\n        if (this.parent.dataSource && 'result' in this.parent.dataSource) {\n            var def = this.eventPromise({ requestType: '' }, query);\n            this.isObservable = true;\n            return def.promise;\n        }\n        return this.dataManager.executeQuery(query);\n    };\n    Data.prototype.setState = function (state) {\n        return this.dataState = state;\n    };\n    Data.prototype.getStateEventArgument = function (query) {\n        var adaptr = new UrlAdaptor();\n        var dm = new DataManager({ url: '', adaptor: new UrlAdaptor });\n        var state = adaptr.processQuery(dm, query);\n        var data = JSON.parse(state.data);\n        return extend(data, state.pvtData);\n    };\n    Data.prototype.eventPromise = function (args, query, index) {\n        var _this = this;\n        var dataArgs = args;\n        var state = this.getStateEventArgument(query);\n        var def = new Deferred();\n        var deff = new Deferred();\n        if (args.requestType !== undefined && this.dataState.isDataChanged !== false) {\n            state.action = args;\n            if (args.requestType === 'cardChanged' || args.requestType === 'cardRemoved' || args.requestType === 'cardCreated') {\n                var editArgs_1 = args;\n                editArgs_1.promise = deff.promise;\n                editArgs_1.state = state;\n                editArgs_1.index = index;\n                this.setState({ isPending: true, resolver: deff.resolve });\n                dataArgs.endEdit = deff.resolve;\n                dataArgs.cancelEdit = deff.reject;\n                this.parent.trigger(events.dataSourceChanged, editArgs_1);\n                deff.promise.then(function () {\n                    _this.setState({ isPending: true, resolver: def.resolve });\n                    _this.parent.trigger(events.dataStateChange, state);\n                    editArgs_1.addedRecords.forEach(function (data) {\n                        _this.parent.kanbanData.push(data);\n                    });\n                    editArgs_1.changedRecords.forEach(function (changedRecord) {\n                        var cardObj = _this.parent.kanbanData.filter(function (data) {\n                            return data[_this.parent.cardSettings.headerField] === changedRecord[_this.parent.cardSettings.headerField];\n                        })[0];\n                        extend(cardObj, changedRecord);\n                    });\n                    editArgs_1.deletedRecords.forEach(function (deletedRecord) {\n                        var index = _this.parent.kanbanData.findIndex(function (data) {\n                            return data[_this.parent.cardSettings.headerField] === deletedRecord[_this.parent.cardSettings.headerField];\n                        });\n                        _this.parent.kanbanData.splice(index, 1);\n                    });\n                }).catch(function () { _this.parent.hideSpinner(); void 0; });\n            }\n            else {\n                this.setState({ isPending: true, resolver: def.resolve });\n                this.parent.trigger(events.dataStateChange, state);\n            }\n        }\n        else {\n            this.setState({});\n            def.resolve(this.parent.dataSource);\n        }\n        return def;\n    };\n    /**\n     * The function used to get the table name from the given Query\n     *\n     * @returns {string} Returns the table name.\n     * @private\n     */\n    Data.prototype.getTable = function () {\n        if (this.parent.query) {\n            var query = this.getQuery();\n            return query.fromTable;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * The function is used to send the request and get response from datamanager\n     *\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.refreshDataManager = function () {\n        var _this = this;\n        var dataManager = this.getData(this.getQuery());\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e); }).catch(function (e) { return _this.dataManagerFailure(e); });\n    };\n    /**\n     * The function is used to handle the success response from dataManager\n     *\n     * @param {ReturnType} e Accepts the dataManager success result\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.dataManagerSuccess = function (e, type, offlineArgs, index) {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (type) {\n            var resultData = extend([], e.result, null, true);\n            this.parent.kanbanData = resultData;\n            if (offlineArgs.requestType === 'cardCreated') {\n                if (!Array.isArray(e)) {\n                    offlineArgs.addedRecords[0] = extend(offlineArgs.addedRecords[0], e);\n                }\n                else {\n                    this.modifyArrayData(offlineArgs.addedRecords, e);\n                }\n            }\n            else if (offlineArgs.requestType === 'cardChanged') {\n                if (!Array.isArray(e)) {\n                    offlineArgs.changedRecords[0] = extend(offlineArgs.changedRecords[0], e);\n                }\n                else {\n                    this.modifyArrayData(offlineArgs.changedRecords, e);\n                }\n            }\n            else if (offlineArgs.requestType === 'cardRemoved') {\n                if (!Array.isArray(e)) {\n                    offlineArgs.deletedRecords[0] = extend(offlineArgs.deletedRecords[0], e);\n                }\n                else {\n                    this.modifyArrayData(offlineArgs.deletedRecords, e);\n                }\n            }\n            this.refreshUI(offlineArgs, index);\n        }\n        else {\n            this.parent.trigger(events.dataBinding, e, function (args) {\n                var resultData = extend([], args.result, null, true);\n                _this.parent.kanbanData = resultData;\n                _this.parent.notify(events.dataReady, { processedData: resultData });\n                _this.parent.trigger(events.dataBound, null, function () { return _this.parent.hideSpinner(); });\n            });\n        }\n    };\n    /**\n     * The function is used to handle the failure response from dataManager\n     *\n     * @param {ReturnType} e Accepts the dataManager failure result\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.dataManagerFailure = function (e) {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.trigger(events.actionFailure, { error: e }, function () { return _this.parent.hideSpinner(); });\n    };\n    /**\n     * The function is used to perform the insert, update, delete and batch actions in datamanager\n     *\n     * @param {string} updateType Accepts the update type action\n     * @param {SaveChanges} params Accepts the savechanges params\n     * @param {string} type Accepts the requestType as string\n     * @param {Object} data Accepts the data to perform crud action\n     * @param {number} index Accepts the index to refresh the data into UI\n     * @returns {void}\n     * @private\n     */\n    Data.prototype.updateDataManager = function (updateType, params, type, data, index) {\n        var _this = this;\n        this.parent.showSpinner();\n        var promise;\n        var actionArgs = {\n            requestType: type, cancel: false, addedRecords: params.addedRecords,\n            changedRecords: params.changedRecords, deletedRecords: params.deletedRecords\n        };\n        this.eventPromise(actionArgs, this.query, index);\n        this.parent.trigger(events.actionComplete, actionArgs, function (offlineArgs) {\n            if (!offlineArgs.cancel) {\n                switch (updateType) {\n                    case 'insert':\n                        promise = _this.dataManager.insert(data, _this.getTable(), _this.getQuery());\n                        break;\n                    case 'update':\n                        promise = _this.dataManager.update(_this.keyField, data, _this.getTable(), _this.getQuery());\n                        break;\n                    case 'delete':\n                        promise = _this.dataManager.remove(_this.keyField, data, _this.getTable(), _this.getQuery());\n                        break;\n                    case 'batch':\n                        promise = _this.dataManager.saveChanges(params, _this.keyField, _this.getTable(), _this.getQuery());\n                        break;\n                }\n                if (_this.dataManager.dataSource.offline) {\n                    if (!_this.isObservable) {\n                        _this.kanbanData = _this.dataManager;\n                        _this.parent.kanbanData = _this.dataManager.dataSource.json;\n                        _this.refreshUI(offlineArgs, index);\n                    }\n                }\n                else {\n                    promise.then(function () {\n                        if (_this.parent.isDestroyed) {\n                            return;\n                        }\n                        var dataManager = _this.getData(_this.getQuery());\n                        dataManager.then(function (e) { return _this.dataManagerSuccess(e, 'DataSourceChange', offlineArgs, index); }).catch(function (e) { return _this.dataManagerFailure(e); });\n                    }).catch(function (e) {\n                        _this.dataManagerFailure(e);\n                    });\n                }\n            }\n        });\n    };\n    Data.prototype.modifyArrayData = function (onLineData, e) {\n        if (onLineData.length === e.length) {\n            for (var i = 0; i < e.length; i++) {\n                onLineData[i] = extend(onLineData[i], e[i]);\n            }\n        }\n        return onLineData;\n    };\n    /**\n     * The function is used to refresh the UI once the data manager action is completed\n     *\n     * @param {ActionEventArgs} args Accepts the ActionEventArgs to refresh UI.\n     * @param {number} position Accepts the index to refresh UI.\n     * @returns {void}\n     */\n    Data.prototype.refreshUI = function (args, position) {\n        var _this = this;\n        this.parent.layoutModule.columnData = this.parent.layoutModule.getColumnCards();\n        if (this.parent.swimlaneSettings.keyField) {\n            this.parent.layoutModule.kanbanRows = this.parent.layoutModule.getRows();\n            this.parent.layoutModule.swimlaneData = this.parent.layoutModule.getSwimlaneCards();\n        }\n        args.addedRecords.forEach(function (data, index) {\n            if (_this.parent.swimlaneSettings.keyField && !data[_this.parent.swimlaneSettings.keyField]) {\n                data[_this.parent.swimlaneSettings.keyField] = '';\n            }\n            _this.parent.layoutModule.renderCardBasedOnIndex(data, position + index);\n        });\n        args.changedRecords.forEach(function (data) {\n            if (_this.parent.swimlaneSettings.keyField && !data[_this.parent.swimlaneSettings.keyField]) {\n                data[_this.parent.swimlaneSettings.keyField] = '';\n            }\n            _this.parent.layoutModule.removeCard(data);\n            _this.parent.layoutModule.renderCardBasedOnIndex(data, position);\n            if (_this.parent.layoutModule.isSelectedCard) {\n                _this.parent.actionModule.SingleCardSelection(data);\n            }\n            if (_this.parent.sortSettings.field && _this.parent.sortSettings.sortBy === 'Index'\n                && _this.parent.sortSettings.direction === 'Descending' && position > 0) {\n                --position;\n            }\n        });\n        args.deletedRecords.forEach(function (data) {\n            _this.parent.layoutModule.removeCard(data);\n        });\n        this.parent.layoutModule.refresh();\n        this.parent.renderTemplates();\n        this.parent.notify(events.contentReady, {});\n        this.parent.trigger(events.dataBound, args, function () { return _this.parent.hideSpinner(); });\n    };\n    return Data;\n}());\nexport { Data };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of swimlane settings in kanban board.\n */\nvar SwimlaneSettings = /** @class */ (function (_super) {\n    __extends(SwimlaneSettings, _super);\n    function SwimlaneSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SwimlaneSettings.prototype, \"keyField\", void 0);\n    __decorate([\n        Property()\n    ], SwimlaneSettings.prototype, \"textField\", void 0);\n    __decorate([\n        Property(false)\n    ], SwimlaneSettings.prototype, \"showEmptyRow\", void 0);\n    __decorate([\n        Property(true)\n    ], SwimlaneSettings.prototype, \"showItemCount\", void 0);\n    __decorate([\n        Property(false)\n    ], SwimlaneSettings.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property()\n    ], SwimlaneSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property('Ascending')\n    ], SwimlaneSettings.prototype, \"sortDirection\", void 0);\n    __decorate([\n        Property()\n    ], SwimlaneSettings.prototype, \"sortComparer\", void 0);\n    __decorate([\n        Property(true)\n    ], SwimlaneSettings.prototype, \"showUnassignedRow\", void 0);\n    __decorate([\n        Property(false)\n    ], SwimlaneSettings.prototype, \"enableFrozenRows\", void 0);\n    return SwimlaneSettings;\n}(ChildProperty));\nexport { SwimlaneSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of card settings in kanban board.\n */\nvar CardSettings = /** @class */ (function (_super) {\n    __extends(CardSettings, _super);\n    function CardSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], CardSettings.prototype, \"showHeader\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"headerField\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"contentField\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"tagsField\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"grabberField\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"footerCssField\", void 0);\n    __decorate([\n        Property()\n    ], CardSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property('Single')\n    ], CardSettings.prototype, \"selectionType\", void 0);\n    return CardSettings;\n}(ChildProperty));\nexport { CardSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of editor settings.\n */\nvar DialogSettings = /** @class */ (function (_super) {\n    __extends(DialogSettings, _super);\n    function DialogSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], DialogSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property([])\n    ], DialogSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DialogSettings.prototype, \"model\", void 0);\n    return DialogSettings;\n}(ChildProperty));\nexport { DialogSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of columns in kanban board.\n */\nvar Columns = /** @class */ (function (_super) {\n    __extends(Columns, _super);\n    function Columns() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], Columns.prototype, \"keyField\", void 0);\n    __decorate([\n        Property()\n    ], Columns.prototype, \"headerText\", void 0);\n    __decorate([\n        Property()\n    ], Columns.prototype, \"template\", void 0);\n    __decorate([\n        Property(false)\n    ], Columns.prototype, \"allowToggle\", void 0);\n    __decorate([\n        Property(true)\n    ], Columns.prototype, \"isExpanded\", void 0);\n    __decorate([\n        Property()\n    ], Columns.prototype, \"minCount\", void 0);\n    __decorate([\n        Property()\n    ], Columns.prototype, \"maxCount\", void 0);\n    __decorate([\n        Property(true)\n    ], Columns.prototype, \"showItemCount\", void 0);\n    __decorate([\n        Property(false)\n    ], Columns.prototype, \"showAddButton\", void 0);\n    __decorate([\n        Property(true)\n    ], Columns.prototype, \"allowDrag\", void 0);\n    __decorate([\n        Property(true)\n    ], Columns.prototype, \"allowDrop\", void 0);\n    __decorate([\n        Property([])\n    ], Columns.prototype, \"transitionColumns\", void 0);\n    return Columns;\n}(ChildProperty));\nexport { Columns };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of stacked header settings in kanban board.\n */\nvar StackedHeaders = /** @class */ (function (_super) {\n    __extends(StackedHeaders, _super);\n    function StackedHeaders() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], StackedHeaders.prototype, \"text\", void 0);\n    __decorate([\n        Property()\n    ], StackedHeaders.prototype, \"keyFields\", void 0);\n    return StackedHeaders;\n}(ChildProperty));\nexport { StackedHeaders };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Holds the configuration of sort settings in kanban board.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Index')\n    ], SortSettings.prototype, \"sortBy\", void 0);\n    __decorate([\n        Property()\n    ], SortSettings.prototype, \"field\", void 0);\n    __decorate([\n        Property('Ascending')\n    ], SortSettings.prototype, \"direction\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","/**\n * Kanban CSS Constants\n */\n/** @private */\nexport var ROOT_CLASS = 'e-kanban';\n/** @private */\nexport var RTL_CLASS = 'e-rtl';\n/** @private */\nexport var DEVICE_CLASS = 'e-device';\n/** @private */\nexport var ICON_CLASS = 'e-icons';\n/** @private */\nexport var TEMPLATE_CLASS = 'e-template';\n/** @private */\nexport var SWIMLANE_CLASS = 'e-swimlane';\n/** @private */\nexport var TABLE_CLASS = 'e-kanban-table';\n/** @private */\nexport var HEADER_CLASS = 'e-kanban-header';\n/** @private */\nexport var HEADER_TABLE_CLASS = 'e-header-table';\n/** @private */\nexport var HEADER_CELLS_CLASS = 'e-header-cells';\n/** @private */\nexport var HEADER_WRAP_CLASS = 'e-header-wrap';\n/** @private */\nexport var HEADER_TITLE_CLASS = 'e-header-title';\n/** @private */\nexport var HEADER_TEXT_CLASS = 'e-header-text';\n/** @private */\nexport var HEADER_ICON_CLASS = 'e-header-icon';\n/** @private */\nexport var STACKED_HEADER_ROW_CLASS = 'e-stacked-header-row';\n/** @private */\nexport var STACKED_HEADER_CELL_CLASS = 'e-stacked-header-cell';\n/** @private */\nexport var CONTENT_CELLS_CLASS = 'e-content-cells';\n/** @private */\nexport var CONTENT_CLASS = 'e-kanban-content';\n/** @private */\nexport var CONTENT_TABLE_CLASS = 'e-content-table';\n/** @private */\nexport var HEADER_ROW_TOGGLE_CLASS = 'e-toggle-header';\n/** @private */\nexport var HEADER_ROW_CLASS = 'e-header-row';\n/** @private */\nexport var CONTENT_ROW_CLASS = 'e-content-row';\n/** @private */\nexport var SWIMLANE_ROW_CLASS = 'e-swimlane-row';\n/** @private */\nexport var SWIMLANE_ROW_EXPAND_CLASS = 'e-swimlane-row-expand';\n/** @private */\nexport var SWIMLANE_ROW_COLLAPSE_CLASS = 'e-swimlane-row-collapse';\n/** @private */\nexport var SWIMLANE_ROW_TEXT_CLASS = 'e-swimlane-text';\n/** @private */\nexport var CARD_ITEM_COUNT_CLASS = 'e-item-count';\n/** @private */\nexport var CARD_WRAPPER_CLASS = 'e-card-wrapper';\n/** @private */\nexport var CARD_CLASS = 'e-card';\n/** @private */\nexport var DRAGGABLE_CLASS = 'e-draggable';\n/** @private */\nexport var DROPPABLE_CLASS = 'e-droppable';\n/** @private */\nexport var DRAG_CLASS = 'e-drag';\n/** @private */\nexport var DROP_CLASS = 'e-drop';\n/** @private */\nexport var DISABLED_CLASS = 'e-disabled';\n/** @private */\nexport var CARD_HEADER_CLASS = 'e-card-header';\n/** @private */\nexport var CARD_CONTENT_CLASS = 'e-card-content';\n/** @private */\nexport var CARD_HEADER_TEXT_CLASS = 'e-card-header-caption';\n/** @private */\nexport var CARD_HEADER_TITLE_CLASS = 'e-card-header-title';\n/** @private */\nexport var CARD_TAGS_CLASS = 'e-card-tags';\n/** @private */\nexport var CARD_TAG_CLASS = 'e-card-tag';\n/** @private */\nexport var CARD_COLOR_CLASS = 'e-card-color';\n/** @private */\nexport var CARD_LABEL_CLASS = 'e-card-label';\n/** @private */\nexport var CARD_FOOTER_CLASS = 'e-card-footer';\n/** @private */\nexport var EMPTY_CARD_CLASS = 'e-empty-card';\n/** @private */\nexport var CARD_FOOTER_CSS_CLASS = 'e-card-footer-css';\n/** @private */\nexport var COLUMN_EXPAND_CLASS = 'e-column-expand';\n/** @private */\nexport var COLUMN_COLLAPSE_CLASS = 'e-column-collapse';\n/** @private */\nexport var COLLAPSE_HEADER_TEXT_CLASS = 'e-collapse-header-text';\n/** @private */\nexport var COLLAPSED_CLASS = 'e-collapsed';\n/** @private */\nexport var DIALOG_CLASS = 'e-kanban-dialog';\n/** @private */\nexport var DIALOG_CONTENT_CONTAINER_CLASS = 'e-kanban-dialog-content';\n/** @private */\nexport var FORM_CLASS = 'e-kanban-form';\n/** @private */\nexport var FORM_WRAPPER_CLASS = 'e-kanban-form-wrapper';\n/** @private */\nexport var ERROR_VALIDATION_CLASS = 'e-kanban-error';\n/** @private */\nexport var FIELD_CLASS = 'e-field';\n/** @private */\nexport var DRAGGED_CLONE_CLASS = 'e-target-dragged-clone';\n/** @private */\nexport var CLONED_CARD_CLASS = 'e-cloned-card';\n/** @private */\nexport var DRAGGED_CARD_CLASS = 'e-kanban-dragged-card';\n/** @private */\nexport var DROPPED_CLONE_CLASS = 'e-target-dropped-clone';\n/** @private */\nexport var DROPPING_CLASS = 'e-dropping';\n/** @private */\nexport var TOGGLE_VISIBLE_CLASS = 'e-toggle-visible';\n/** @private */\nexport var MULTI_CLONE_CONTENT_CELL_CLASS = 'e-multi-content-cell';\n/** @private */\nexport var MULTI_CARD_WRAPPER_CLASS = 'e-multi-card-wrapper';\n/** @private */\nexport var MULTI_ACTIVE_CLASS = 'e-multi-active';\n/** @private */\nexport var TARGET_MULTI_CLONE_CLASS = 'e-target-multi-clone';\n/** @private */\nexport var MULTI_COLUMN_KEY_CLASS = 'e-column-key';\n/** @private */\nexport var CARD_SELECTION_CLASS = 'e-selection';\n/** @private */\nexport var TOOLTIP_CLASS = 'e-kanban-tooltip';\n/** @private */\nexport var TOOLTIP_TEXT_CLASS = 'e-tooltip-text';\n/** @private */\nexport var SCROLL_CONTAINER_CLASS = 'e-cell-scroll-container';\n/** @private */\nexport var SWIMLANE_HEADER_CLASS = 'e-swimlane-header';\n/** @private */\nexport var SWIMLANE_HEADER_TOOLBAR_CLASS = 'e-swimlane-header-toolbar';\n/** @private */\nexport var TOOLBAR_MENU_CLASS = 'e-toolbar-menu';\n/** @private */\nexport var TOOLBAR_MENU_ICON_CLASS = 'e-icon-menu';\n/** @private */\nexport var TOOLBAR_LEVEL_TITLE_CLASS = 'e-toolbar-level-title';\n/** @private */\nexport var TOOLBAR_SWIMLANE_NAME_CLASS = 'e-toolbar-swimlane-name';\n/** @private */\nexport var SWIMLANE_OVERLAY_CLASS = 'e-swimlane-overlay';\n/** @private */\nexport var SWIMLANE_CONTENT_CLASS = 'e-swimlane-content';\n/** @private */\nexport var SWIMLANE_RESOURCE_CLASS = 'e-swimlane-resource';\n/** @private */\nexport var SWIMLANE_TREE_CLASS = 'e-swimlane-tree';\n/** @private */\nexport var LIMITS_CLASS = 'e-limits';\n/** @private */\nexport var MAX_COUNT_CLASS = 'e-max-count';\n/** @private */\nexport var MIN_COUNT_CLASS = 'e-min-count';\n/** @private */\nexport var MAX_COLOR_CLASS = 'e-max-color';\n/** @private */\nexport var MIN_COLOR_CLASS = 'e-min-color';\n/** @private */\nexport var POPUP_EVENT_CLASS = 'e-event-popup';\n/** @private */\nexport var POPUP_HEADER_CLASS = 'e-popup-header';\n/** @private */\nexport var CLOSE_CLASS = 'e-close';\n/** @private */\nexport var POPUP_CONTENT_CLASS = 'e-popup-content';\n/** @private */\nexport var POPUP_WRAPPER_CLASS = 'e-mobile-popup-wrapper';\n/** @private */\nexport var CLOSE_ICON_CLASS = 'e-close-icon';\n/** @private */\nexport var POPUP_OPEN_CLASS = 'e-popup-open';\n/** @private */\nexport var DIALOG_CONTENT_CONTAINER = 'e-kanban-dialog-content';\n/** @private */\nexport var SHOW_ADD_BUTTON = 'e-show-add-button';\n/** @private */\nexport var SHOW_ADD_ICON = 'e-show-add-icon';\n/** @private */\nexport var SHOW_ADD_FOCUS = 'e-show-add-focus';\n/** @private */\nexport var FROZEN_SWIMLANE_ROW_CLASS = 'e-frozen-swimlane-row';\n/** @private */\nexport var FROZEN_ROW_CLASS = 'e-frozen-row';\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { closest, classList, createElement, remove, addClass, removeClass, isNullOrUndefined, formatUnit, createInstance, detach } from '@syncfusion/ej2-base';\nimport { Columns } from '../models/columns';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Action module is used to perform card actions.\n */\nvar Action = /** @class */ (function () {\n    /**\n     * Constructor for action module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     * @private\n     */\n    function Action(parent) {\n        this.parent = parent;\n        this.columnToggleArray = [];\n        this.selectionArray = [];\n        this.lastCardSelection = null;\n        this.lastSelectionRow = null;\n        this.lastCard = null;\n        this.selectedCardsElement = [];\n        this.selectedCardsData = [];\n        this.hideColumnKeys = [];\n    }\n    Action.prototype.clickHandler = function (e) {\n        var elementSelector = '.' + cls.CARD_CLASS + ',.' + cls.HEADER_ICON_CLASS + ',.' + cls.CONTENT_ROW_CLASS + '.' +\n            cls.SWIMLANE_ROW_CLASS + ',.' + cls.SHOW_ADD_BUTTON + ',.' + cls.FROZEN_SWIMLANE_ROW_CLASS + ',.' + cls.CONTENT_ROW_CLASS +\n            ':not(.' + cls.SWIMLANE_ROW_CLASS + ') .' + cls.CONTENT_CELLS_CLASS;\n        var target = closest(e.target, elementSelector);\n        if (!target) {\n            return;\n        }\n        if (target.classList.contains(cls.CARD_CLASS)) {\n            if (this.parent.allowKeyboard) {\n                this.parent.keyboardModule.cardTabIndexRemove();\n            }\n            this.cardClick(e);\n        }\n        else if (target.classList.contains(cls.HEADER_ICON_CLASS)) {\n            this.columnExpandCollapse(e);\n        }\n        else if (target.classList.contains(cls.CONTENT_ROW_CLASS) && target.classList.contains(cls.SWIMLANE_ROW_CLASS)) {\n            this.rowExpandCollapse(e);\n        }\n        else if (target.classList.contains(cls.SHOW_ADD_BUTTON)) {\n            this.addButtonClick(target);\n        }\n        else if (target.classList.contains(cls.FROZEN_SWIMLANE_ROW_CLASS)) {\n            var swimlaneRows = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SWIMLANE_ROW_CLASS));\n            var targetIcon = this.parent.layoutModule.frozenSwimlaneRow.querySelector('.' + cls.ICON_CLASS);\n            this.rowExpandCollapse(e, swimlaneRows[this.parent.layoutModule.frozenOrder]);\n            var isCollapsed = targetIcon.classList.contains(cls.SWIMLANE_ROW_COLLAPSE_CLASS) ? true : false;\n            if (isCollapsed) {\n                classList(targetIcon, [cls.SWIMLANE_ROW_EXPAND_CLASS], [cls.SWIMLANE_ROW_COLLAPSE_CLASS]);\n            }\n            else {\n                classList(targetIcon, [cls.SWIMLANE_ROW_COLLAPSE_CLASS], [cls.SWIMLANE_ROW_EXPAND_CLASS]);\n            }\n        }\n    };\n    Action.prototype.addButtonClick = function (target) {\n        var _this = this;\n        var newData = {};\n        if (this.parent.kanbanData.length === 0) {\n            newData[this.parent.cardSettings.headerField] = 1;\n        }\n        else if (typeof (this.parent.kanbanData[0])[this.parent.cardSettings.headerField] === 'number') {\n            var id = this.parent.kanbanData.map(function (obj) {\n                return parseInt(obj[_this.parent.cardSettings.headerField], 10);\n            });\n            newData[this.parent.cardSettings.headerField] = Math.max.apply(Math, id) + 1;\n        }\n        newData[this.parent.keyField] = closest(target, '.' + cls.CONTENT_CELLS_CLASS).getAttribute('data-key');\n        if (this.parent.sortSettings.sortBy === 'Index') {\n            newData[this.parent.sortSettings.field] = 1;\n            if (closest(target, '.' + cls.CONTENT_CELLS_CLASS).querySelector('.' + cls.CARD_CLASS)) {\n                var card = this.parent.sortSettings.direction === 'Ascending' ?\n                    target.nextElementSibling.lastElementChild : target.nextElementSibling.firstElementChild;\n                var data = this.parent.getCardDetails(card);\n                newData[this.parent.sortSettings.field] = data[this.parent.sortSettings.field] + 1;\n            }\n        }\n        if (this.parent.kanbanData.length !== 0 && this.parent.swimlaneSettings.keyField &&\n            closest(target, '.' + cls.CONTENT_ROW_CLASS).previousElementSibling) {\n            newData[this.parent.swimlaneSettings.keyField] =\n                closest(target, '.' + cls.CONTENT_ROW_CLASS).previousElementSibling.getAttribute('data-key');\n        }\n        this.parent.openDialog('Add', newData);\n    };\n    Action.prototype.doubleClickHandler = function (e) {\n        var target = closest(e.target, '.' + cls.CARD_CLASS);\n        if (target) {\n            this.cardDoubleClick(e);\n        }\n    };\n    Action.prototype.cardClick = function (e, selectedCard) {\n        var _this = this;\n        var target = closest((selectedCard) ? selectedCard : e.target, '.' + cls.CARD_CLASS);\n        var cardClickObj = this.parent.getCardDetails(target);\n        if (cardClickObj) {\n            this.parent.activeCardData = { data: cardClickObj, element: target };\n            var args = { data: cardClickObj, element: target, cancel: false, event: e };\n            this.parent.trigger(events.cardClick, args, function (clickArgs) {\n                if (!clickArgs.cancel) {\n                    if (target.classList.contains(cls.CARD_SELECTION_CLASS) && e.type === 'click') {\n                        removeClass([target], cls.CARD_SELECTION_CLASS);\n                        _this.parent.layoutModule.disableAttributeSelection(target);\n                    }\n                    else {\n                        var isCtrlKey = e.ctrlKey;\n                        if (_this.parent.isAdaptive && _this.parent.touchModule) {\n                            isCtrlKey = (_this.parent.touchModule.mobilePopup && _this.parent.touchModule.tabHold) || isCtrlKey;\n                        }\n                        _this.cardSelection(target, isCtrlKey, e.shiftKey);\n                    }\n                    if (_this.parent.isAdaptive && _this.parent.touchModule) {\n                        _this.parent.touchModule.updatePopupContent();\n                    }\n                    var cell = closest(target, '.' + cls.CONTENT_CELLS_CLASS);\n                    if (_this.parent.allowKeyboard) {\n                        var element = [].slice.call(cell.querySelectorAll('.' + cls.CARD_CLASS));\n                        element.forEach(function (e) { e.setAttribute('tabindex', '0'); });\n                        _this.parent.keyboardModule.addRemoveTabIndex('Remove');\n                    }\n                }\n            });\n        }\n    };\n    Action.prototype.cardDoubleClick = function (e) {\n        var _this = this;\n        var target = closest(e.target, '.' + cls.CARD_CLASS);\n        var cardDoubleClickObj = this.parent.getCardDetails(target);\n        this.parent.activeCardData = { data: cardDoubleClickObj, element: target };\n        this.cardSelection(target, false, false);\n        var args = { data: cardDoubleClickObj, element: target, cancel: false, event: e };\n        this.parent.trigger(events.cardDoubleClick, args, function (doubleClickArgs) {\n            if (!doubleClickArgs.cancel) {\n                _this.parent.dialogModule.openDialog('Edit', args.data);\n            }\n        });\n    };\n    Action.prototype.rowExpandCollapse = function (e, isFrozenElem) {\n        var _this = this;\n        var headerTarget = (e instanceof HTMLElement) ? e : e.target;\n        var currentSwimlaneHeader = !isNullOrUndefined(isFrozenElem) ? isFrozenElem : headerTarget;\n        var args = { cancel: false, target: headerTarget, requestType: 'rowExpandCollapse' };\n        this.parent.trigger(events.actionBegin, args, function (actionArgs) {\n            if (!actionArgs.cancel) {\n                var target = closest(currentSwimlaneHeader, '.' + cls.SWIMLANE_ROW_CLASS);\n                var key = target.getAttribute('data-key');\n                var tgtRow = _this.parent.element.querySelector('.' + cls.CONTENT_ROW_CLASS + (\":nth-child(\" + (target.rowIndex + 2) + \")\"));\n                var targetIcon = target.querySelector(\".\" + cls.SWIMLANE_ROW_EXPAND_CLASS + \",.\" + cls.SWIMLANE_ROW_COLLAPSE_CLASS);\n                var isCollapsed = target.classList.contains(cls.COLLAPSED_CLASS) ? true : false;\n                var tabIndex_1;\n                if (isCollapsed) {\n                    removeClass([tgtRow, target], cls.COLLAPSED_CLASS);\n                    classList(targetIcon, [cls.SWIMLANE_ROW_EXPAND_CLASS], [cls.SWIMLANE_ROW_COLLAPSE_CLASS]);\n                    _this.parent.swimlaneToggleArray.splice(_this.parent.swimlaneToggleArray.indexOf(key), 1);\n                    tabIndex_1 = '0';\n                }\n                else {\n                    addClass([tgtRow, target], cls.COLLAPSED_CLASS);\n                    classList(targetIcon, [cls.SWIMLANE_ROW_COLLAPSE_CLASS], [cls.SWIMLANE_ROW_EXPAND_CLASS]);\n                    _this.parent.swimlaneToggleArray.push(key);\n                    tabIndex_1 = '-1';\n                }\n                targetIcon.setAttribute('aria-label', isCollapsed ? key + ' Expand' : key + ' Collapse');\n                target.setAttribute('aria-expanded', isCollapsed.toString());\n                tgtRow.setAttribute('aria-expanded', isCollapsed.toString());\n                var rows = [].slice.call(tgtRow.querySelectorAll('.' + cls.CONTENT_CELLS_CLASS));\n                rows.forEach(function (cell) { cell.setAttribute('tabindex', tabIndex_1); });\n                _this.parent.notify(events.contentReady, {});\n                _this.parent.trigger(events.actionComplete, { target: headerTarget, requestType: 'rowExpandCollapse' });\n            }\n        });\n    };\n    Action.prototype.columnExpandCollapse = function (e) {\n        var _this = this;\n        var headerTarget = (e instanceof HTMLElement) ? e : e.target;\n        var args = { cancel: false, target: headerTarget, requestType: 'columnExpandCollapse' };\n        this.parent.trigger(events.actionBegin, args, function (actionArgs) {\n            if (!actionArgs.cancel) {\n                var target = closest(headerTarget, '.' + cls.HEADER_CELLS_CLASS);\n                var colIndex = target.cellIndex;\n                _this.columnToggle(target);\n                var collapsed = _this.parent.element.querySelectorAll(\".\" + cls.HEADER_CELLS_CLASS + \".\" + cls.COLLAPSED_CLASS).length;\n                if (collapsed === (_this.parent.columns.length - _this.hideColumnKeys.length)) {\n                    var index = (colIndex + 1 === collapsed) ? 1 : colIndex + 2;\n                    var headerSelector = \".\" + cls.HEADER_CELLS_CLASS + \":not(.\" + cls.STACKED_HEADER_CELL_CLASS + \"):nth-child(\" + index + \")\";\n                    var nextCol = _this.parent.element.querySelector(headerSelector);\n                    addClass([nextCol], cls.COLLAPSED_CLASS);\n                    _this.columnToggle(nextCol);\n                }\n                _this.parent.notify(events.contentReady, {});\n                _this.parent.trigger(events.actionComplete, { target: headerTarget, requestType: 'columnExpandCollapse' });\n            }\n        });\n    };\n    Action.prototype.columnToggle = function (target) {\n        var _this = this;\n        var colIndex = target.cellIndex;\n        var elementSelector = \".\" + cls.CONTENT_ROW_CLASS + \":not(.\" + cls.SWIMLANE_ROW_CLASS + \")\";\n        var targetRow = [].slice.call(this.parent.element.querySelectorAll(elementSelector));\n        var colSelector = \".\" + cls.TABLE_CLASS + \" col:nth-child(\" + (colIndex + 1) + \")\";\n        var targetIcon = target.querySelector(\".\" + cls.COLUMN_EXPAND_CLASS + \",.\" + cls.COLUMN_COLLAPSE_CLASS);\n        var colGroup = [].slice.call(this.parent.element.querySelectorAll(colSelector));\n        if (target.classList.contains(cls.COLLAPSED_CLASS)) {\n            removeClass(colGroup, cls.COLLAPSED_CLASS);\n            if (this.parent.isAdaptive) {\n                colGroup.forEach(function (col) { return col.style.width = formatUnit(_this.parent.layoutModule.getWidth()); });\n            }\n            classList(targetIcon, [cls.COLUMN_EXPAND_CLASS], [cls.COLUMN_COLLAPSE_CLASS]);\n            var _loop_1 = function (row) {\n                var targetCol = row.querySelector(\".\" + cls.CONTENT_CELLS_CLASS + \":nth-child(\" + (colIndex + 1) + \")\");\n                removeClass([targetCol, target], cls.COLLAPSED_CLASS);\n                remove(targetCol.querySelector('.' + cls.COLLAPSE_HEADER_TEXT_CLASS));\n                target.setAttribute('aria-expanded', 'true');\n                targetCol.setAttribute('aria-expanded', 'true');\n                var collapsedCell = [].slice.call(targetCol.parentElement.querySelectorAll('.' + cls.COLLAPSED_CLASS));\n                collapsedCell.forEach(function (cell) {\n                    var collapasedText = cell.querySelector('.' + cls.COLLAPSE_HEADER_TEXT_CLASS);\n                    collapasedText.style.height = 'auto';\n                    if (collapasedText && targetCol.getBoundingClientRect().height < (collapasedText.getBoundingClientRect().height + 10)) {\n                        collapasedText.style.height = (targetCol.getBoundingClientRect().height - 4) + 'px';\n                    }\n                });\n            };\n            for (var _i = 0, targetRow_1 = targetRow; _i < targetRow_1.length; _i++) {\n                var row = targetRow_1[_i];\n                _loop_1(row);\n            }\n            this.columnToggleArray.splice(this.columnToggleArray.indexOf(target.getAttribute('data-key')), 1);\n            this.parent.columns[colIndex].setProperties({ isExpanded: true }, true);\n            target.querySelector('.e-header-icon').setAttribute('aria-label', target.getAttribute('data-key') + ' Expand');\n        }\n        else {\n            addClass(colGroup, cls.COLLAPSED_CLASS);\n            if (this.parent.isAdaptive) {\n                colGroup.forEach(function (col) { return col.style.width = formatUnit(events.toggleWidth); });\n            }\n            classList(targetIcon, [cls.COLUMN_COLLAPSE_CLASS], [cls.COLUMN_EXPAND_CLASS]);\n            var key = target.getAttribute('data-key');\n            var _loop_2 = function (row) {\n                var targetCol = row.querySelector(\".\" + cls.CONTENT_CELLS_CLASS + \"[data-key=\\\"\" + key + \"\\\"]\");\n                var index = targetCol.cellIndex;\n                var text = (this_1.parent.columns[index].showItemCount ? '[' +\n                    targetCol.querySelectorAll('.' + cls.CARD_CLASS).length + '] ' : '') + this_1.parent.columns[index].headerText;\n                targetCol.appendChild(createElement('div', { className: cls.COLLAPSE_HEADER_TEXT_CLASS, innerHTML: text }));\n                addClass([targetCol, target], cls.COLLAPSED_CLASS);\n                target.setAttribute('aria-expanded', 'false');\n                targetCol.setAttribute('aria-expanded', 'false');\n                var collapsedCell = [].slice.call(targetCol.parentElement.querySelectorAll('.' + cls.COLLAPSED_CLASS));\n                collapsedCell.forEach(function (cell) {\n                    var collapasedText = cell.querySelector('.' + cls.COLLAPSE_HEADER_TEXT_CLASS);\n                    if (collapasedText && targetCol.getBoundingClientRect().height < (collapasedText.getBoundingClientRect().height + 10)) {\n                        collapasedText.style.height = (targetCol.getBoundingClientRect().height - 4) + 'px';\n                    }\n                });\n            };\n            var this_1 = this;\n            for (var _a = 0, targetRow_2 = targetRow; _a < targetRow_2.length; _a++) {\n                var row = targetRow_2[_a];\n                _loop_2(row);\n            }\n            this.columnToggleArray.push(target.getAttribute('data-key'));\n            this.parent.columns[colIndex].setProperties({ isExpanded: false }, true);\n            target.querySelector('.e-header-icon').setAttribute('aria-label', key + ' Collapse');\n        }\n    };\n    Action.prototype.cardSelection = function (target, isCtrl, isShift) {\n        var _this = this;\n        if (!target) {\n            return;\n        }\n        var cards = this.parent.getSelectedCards();\n        if (this.parent.cardSettings.selectionType !== 'None') {\n            var contentRow = closest(target, '.' + cls.CONTENT_ROW_CLASS);\n            var index = !isNullOrUndefined(this.lastSelectionRow) ? this.lastSelectionRow.rowIndex : contentRow.rowIndex;\n            if (index !== contentRow.rowIndex && (isCtrl || isShift) && this.parent.cardSettings.selectionType === 'Multiple') {\n                return;\n            }\n            if (cards.length !== 0 && (!isCtrl || this.parent.cardSettings.selectionType === 'Single')) {\n                removeClass(cards, cls.CARD_SELECTION_CLASS);\n                this.parent.layoutModule.disableAttributeSelection(cards);\n                cards.forEach(function (el) {\n                    _this.selectionArray.splice(_this.selectionArray.indexOf(el.getAttribute('data-id')), 1);\n                    _this.selectedCardsElement.splice(_this.selectedCardsElement.indexOf(el), 1);\n                    _this.selectedCardsData.splice(_this.selectedCardsData.indexOf(_this.parent.getCardDetails(el), 1));\n                });\n            }\n            if (cards.length > 0 && isShift && this.parent.cardSettings.selectionType === 'Multiple') {\n                var curCards_1 = [];\n                var start = void 0;\n                var end = void 0;\n                var i = void 0;\n                var allCards = [].slice.call(contentRow.querySelectorAll('.' + cls.CARD_CLASS));\n                allCards.forEach(function (el) { return curCards_1.push(el.getAttribute('data-id')); });\n                var curId = target.getAttribute('data-id');\n                var lastId = this.lastCard.getAttribute('data-id');\n                var curIndex = end = curCards_1.indexOf(curId);\n                var lastIndex = start = curCards_1.indexOf(lastId);\n                var select = curIndex > lastIndex ? 'next' : 'prev';\n                if (select === 'prev') {\n                    start = curIndex;\n                    end = lastIndex;\n                }\n                for (i = start; i <= end; i++) {\n                    var card = allCards[i];\n                    addClass([card], cls.CARD_SELECTION_CLASS);\n                    card.setAttribute('aria-selected', 'true');\n                    card.setAttribute('tabindex', '0');\n                    this.selectionArray.push(card.getAttribute('data-id'));\n                    this.selectedCardsElement.push(card);\n                    this.selectedCardsData.push(this.parent.getCardDetails(card));\n                    this.lastCardSelection = card;\n                    if (select === 'prev') {\n                        this.lastCardSelection = allCards[start];\n                    }\n                }\n            }\n            else {\n                addClass([target], cls.CARD_SELECTION_CLASS);\n                target.setAttribute('aria-selected', 'true');\n                target.setAttribute('tabindex', '0');\n                this.selectionArray.push(target.getAttribute('data-id'));\n                this.selectedCardsElement.push(target);\n                this.selectedCardsData.push(this.parent.getCardDetails(target));\n                this.lastCard = this.lastCardSelection = target;\n                this.lastSelectionRow = closest(target, '.' + cls.CONTENT_ROW_CLASS);\n                if (this.lastSelectionRow.previousElementSibling) {\n                    var elementSelector = \".\" + cls.SWIMLANE_ROW_EXPAND_CLASS + \",.\" + cls.SWIMLANE_ROW_COLLAPSE_CLASS;\n                    var parentEle = this.lastSelectionRow.previousElementSibling.querySelector(elementSelector);\n                    if (parentEle && parentEle.classList.contains(cls.SWIMLANE_ROW_COLLAPSE_CLASS)) {\n                        this.rowExpandCollapse(parentEle);\n                    }\n                }\n            }\n        }\n    };\n    Action.prototype.addColumn = function (columnOptions, index) {\n        var addColumn = createInstance(Columns, [this.parent, 'columns', columnOptions, true]);\n        this.parent.columns.splice(index, 0, addColumn);\n        this.parent.notify(events.dataReady, { processedData: this.parent.kanbanData });\n    };\n    Action.prototype.deleteColumn = function (index) {\n        var listKey = this.parent.element.querySelectorAll('.' + cls.HEADER_CELLS_CLASS).item(index);\n        if (listKey && listKey.classList.contains(cls.HEADER_ROW_TOGGLE_CLASS)) {\n            this.columnToggleArray.splice(this.columnToggleArray.indexOf(listKey.getAttribute('data-key'), 0));\n        }\n        this.parent.columns.splice(index, 1);\n        if (this.parent.columns.length === 0) {\n            detach(this.parent.element.querySelector('.' + cls.HEADER_CLASS));\n            detach(this.parent.element.querySelector('.' + cls.CONTENT_CLASS));\n        }\n        else {\n            this.parent.notify(events.dataReady, { processedData: this.parent.kanbanData });\n        }\n    };\n    Action.prototype.showColumn = function (key) {\n        var index = this.hideColumnKeys.indexOf(key.toString());\n        if (index !== -1) {\n            this.hideColumnKeys.splice(index, 1);\n            this.parent.notify(events.dataReady, { processedData: this.parent.kanbanData });\n        }\n    };\n    Action.prototype.hideColumn = function (key) {\n        this.hideColumnKeys.push(key.toString());\n        this.parent.notify(events.dataReady, { processedData: this.parent.kanbanData });\n    };\n    /**\n     * Maintain the single card selection\n     *\n     * @param {Record<string, any>} data - Specifies the selected card data.\n     * @returns {void}\n     * @private\n     * @hidden\n     */\n    Action.prototype.SingleCardSelection = function (data) {\n        if (this.parent.cardSettings.selectionType !== 'None' && data[this.parent.cardSettings.headerField]) {\n            var card = this.parent.element.querySelector('.e-card[data-id=\\\"' +\n                data[this.parent.cardSettings.headerField].toString() + '\"\\]');\n            if (card) {\n                addClass([card], cls.CARD_SELECTION_CLASS);\n                card.setAttribute('aria-selected', 'true');\n                card.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    return Action;\n}());\nexport { Action };\n","import { isNullOrUndefined, closest } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban CRUD module\n */\nvar Crud = /** @class */ (function () {\n    /**\n     * Constructor for CRUD module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     * @private\n     */\n    function Crud(parent) {\n        this.parent = parent;\n    }\n    Crud.prototype.addCard = function (cardData, index) {\n        var _this = this;\n        var args = {\n            cancel: false, requestType: 'cardCreate', addedRecords: (cardData instanceof Array) ? cardData : [cardData],\n            changedRecords: [], deletedRecords: []\n        };\n        this.parent.trigger(events.actionBegin, args, function (addArgs) {\n            if (!addArgs.cancel) {\n                var modifiedData_1 = [];\n                if (_this.parent.sortSettings.field && _this.parent.sortSettings.sortBy === 'Index') {\n                    if (cardData instanceof Array) {\n                        modifiedData_1 = cardData;\n                    }\n                    else {\n                        modifiedData_1.push(cardData);\n                    }\n                    modifiedData_1.forEach(function (data, index) {\n                        if (!data[_this.parent.sortSettings.field]) {\n                            var columnData = _this.parent.getColumnData(data[_this.parent.keyField]);\n                            if (_this.parent.sortSettings.direction === 'Ascending' && columnData.length > 0) {\n                                data[_this.parent.sortSettings.field] = (columnData[columnData.length - 1][_this.parent.sortSettings.field]) + index + 1;\n                            }\n                            else if (_this.parent.sortSettings.direction === 'Descending' && columnData.length > 0) {\n                                data[_this.parent.sortSettings.field] = columnData[0][_this.parent.sortSettings.field] + index + 1;\n                            }\n                            if (columnData.length === 0) {\n                                data[_this.parent.sortSettings.field] = 1;\n                            }\n                        }\n                    });\n                    if (!(cardData instanceof Array)) {\n                        if (!index && _this.parent.sortSettings.direction === 'Descending') {\n                            _this.parent.getColumnData(modifiedData_1[0][_this.parent.keyField]).filter(function (obj, count) {\n                                if (obj[_this.parent.sortSettings.field] === modifiedData_1[0][_this.parent.sortSettings.field]) {\n                                    index = count + 1;\n                                }\n                            });\n                        }\n                    }\n                    if (index !== 0 && !index && _this.parent.sortSettings.direction === 'Descending') {\n                        index = 0;\n                    }\n                    modifiedData_1 = _this.priorityOrder(modifiedData_1, index);\n                }\n                var addedRecords = (cardData instanceof Array) ? cardData : [cardData];\n                var changedRecords = (_this.parent.sortSettings.field && _this.parent.sortSettings.sortBy === 'Index') ? modifiedData_1 : [];\n                var editParms = { addedRecords: addedRecords, changedRecords: changedRecords, deletedRecords: [] };\n                var type = (cardData instanceof Array || modifiedData_1.length > 0) ? 'batch' : 'insert';\n                _this.parent.dataModule.updateDataManager(type, editParms, 'cardCreated', cardData, index);\n            }\n        });\n    };\n    Crud.prototype.getIndexFromData = function (data) {\n        var cardElement = this.parent.element.querySelector(\".\" + cls.CARD_CLASS + \"[data-id=\\\"\" + data[this.parent.cardSettings.headerField] + \"\\\"]\");\n        var element = closest(cardElement, '.' + cls.CONTENT_CELLS_CLASS);\n        var index = [].slice.call(element.querySelectorAll('.' + cls.CARD_CLASS)).indexOf(cardElement);\n        return index;\n    };\n    Crud.prototype.updateCard = function (cardData, index) {\n        var _this = this;\n        var args = {\n            requestType: 'cardChange', cancel: false, addedRecords: [],\n            changedRecords: (cardData instanceof Array) ? cardData : [cardData], deletedRecords: []\n        };\n        index = isNullOrUndefined(index) ? this.getIndexFromData(args.changedRecords[0]) : index;\n        this.parent.trigger(events.actionBegin, args, function (updateArgs) {\n            if (!updateArgs.cancel) {\n                if (_this.parent.sortSettings.field && _this.parent.sortSettings.sortBy === 'Index') {\n                    var modifiedData = [];\n                    if (cardData instanceof Array) {\n                        modifiedData = cardData;\n                    }\n                    else {\n                        modifiedData.push(cardData);\n                    }\n                    cardData = _this.priorityOrder(modifiedData, index);\n                }\n                var editParms = {\n                    addedRecords: [], changedRecords: (cardData instanceof Array) ? cardData : [cardData], deletedRecords: []\n                };\n                var type = (cardData instanceof Array) ? 'batch' : 'update';\n                _this.parent.dataModule.updateDataManager(type, editParms, 'cardChanged', cardData, index);\n            }\n        });\n    };\n    Crud.prototype.deleteCard = function (cardData) {\n        var _this = this;\n        var editParms = { addedRecords: [], changedRecords: [], deletedRecords: [] };\n        if (typeof cardData === 'string' || typeof cardData === 'number') {\n            editParms.deletedRecords = this.parent.kanbanData.filter(function (data) {\n                return data[_this.parent.cardSettings.headerField] === cardData;\n            });\n        }\n        else {\n            editParms.deletedRecords = (cardData instanceof Array) ? cardData : [cardData];\n        }\n        var args = {\n            requestType: 'cardRemove', cancel: false, addedRecords: [], changedRecords: [], deletedRecords: editParms.deletedRecords\n        };\n        this.parent.trigger(events.actionBegin, args, function (deleteArgs) {\n            if (!deleteArgs.cancel) {\n                var type = (editParms.deletedRecords.length > 1) ? 'batch' : 'delete';\n                var cardData_1 = editParms.deletedRecords;\n                _this.parent.dataModule.updateDataManager(type, editParms, 'cardRemoved', cardData_1[0]);\n            }\n        });\n    };\n    Crud.prototype.priorityOrder = function (cardData, cardIndex) {\n        var _this = this;\n        var cardsId = cardData.map(function (obj) { return obj[_this.parent.cardSettings.headerField]; });\n        var num = cardData[cardData.length - 1][this.parent.sortSettings.field];\n        var allModifiedKeys = cardData.map(function (obj) { return obj[_this.parent.keyField]; });\n        var modifiedKey = allModifiedKeys.filter(function (key, index) { return allModifiedKeys.indexOf(key) === index; }).sort();\n        var columnAllDatas;\n        var finalData = [];\n        var originalIndex = [];\n        var _loop_1 = function (columnKey) {\n            var keyData = cardData.filter(function (cardObj) {\n                return cardObj[_this.parent.keyField] === columnKey;\n            });\n            columnAllDatas = this_1.parent.layoutModule.getColumnData(columnKey);\n            for (var _i = 0, _a = keyData; _i < _a.length; _i++) {\n                var data = _a[_i];\n                if (this_1.parent.swimlaneSettings.keyField) {\n                    var swimlaneDatas = this_1.parent.getSwimlaneData(data[this_1.parent.swimlaneSettings.keyField]);\n                    columnAllDatas = this_1.parent.getColumnData(columnKey, swimlaneDatas);\n                }\n            }\n            keyData.forEach(function (key) { return finalData.push(key); });\n            if (!isNullOrUndefined(cardIndex)) {\n                var _loop_2 = function (j) {\n                    columnAllDatas.filter(function (data, index) {\n                        if (data[_this.parent.cardSettings.headerField] === cardsId[j] && index <= cardIndex) {\n                            originalIndex.push(index);\n                        }\n                    });\n                };\n                for (var j = 0; j < cardsId.length; j++) {\n                    _loop_2(j);\n                }\n                if (originalIndex.length > 0) {\n                    cardIndex = cardIndex + originalIndex.length;\n                }\n                if (this_1.parent.sortSettings.direction === 'Ascending') {\n                    for (var i = cardIndex; i < columnAllDatas.length; i++) {\n                        if (cardsId.indexOf(columnAllDatas[i][this_1.parent.cardSettings.headerField]) === -1) {\n                            columnAllDatas[i][this_1.parent.sortSettings.field] = ++num;\n                            finalData.push(columnAllDatas[i]);\n                        }\n                    }\n                }\n                else {\n                    for (var i = cardIndex - 1; i >= 0; i--) {\n                        if (cardsId.indexOf(columnAllDatas[i][this_1.parent.cardSettings.headerField]) === -1) {\n                            columnAllDatas[i][this_1.parent.sortSettings.field] = ++num;\n                            finalData.push(columnAllDatas[i]);\n                        }\n                    }\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, modifiedKey_1 = modifiedKey; _i < modifiedKey_1.length; _i++) {\n            var columnKey = modifiedKey_1[_i];\n            _loop_1(columnKey);\n        }\n        return finalData;\n    };\n    return Crud;\n}());\nexport { Crud };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Draggable, formatUnit, createElement, isNullOrUndefined, addClass, closest } from '@syncfusion/ej2-base';\nimport { removeClass, classList, remove, EventHandler, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\n/**\n * Drag and Drop module is used to perform card actions.\n */\nvar DragAndDrop = /** @class */ (function () {\n    /**\n     * Constructor for drag and drop module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     * @private\n     */\n    function DragAndDrop(parent) {\n        this.parent = parent;\n        this.dragObj = {\n            element: null, cloneElement: null, instance: null, targetClone: null, draggedClone: null, targetCloneMulti: null,\n            selectedCards: [], pageX: 0, pageY: 0, navigationInterval: null, cardDetails: [], modifiedData: []\n        };\n        this.dragEdges = { left: false, right: false, top: false, bottom: false };\n        this.isDragging = false;\n        this.isExternalDrop = false;\n    }\n    DragAndDrop.prototype.wireDragEvents = function (element) {\n        var dragContainment;\n        if (!this.parent.element != null && this.parent.externalDropId.length === 0) {\n            dragContainment = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        }\n        this.dragObj.instance = new Draggable(element, {\n            clone: true,\n            enableTapHold: this.parent.isAdaptive,\n            enableTailMode: true,\n            cursorAt: { top: -10, left: -10 },\n            dragArea: dragContainment,\n            dragStart: this.dragStart.bind(this),\n            drag: this.drag.bind(this),\n            dragStop: this.dragStop.bind(this),\n            enableAutoScroll: false,\n            helper: this.dragHelper.bind(this)\n        });\n    };\n    DragAndDrop.prototype.dragHelper = function (e) {\n        if (this.parent.isAdaptive && this.parent.touchModule.mobilePopup &&\n            this.parent.touchModule.mobilePopup.element.classList.contains(cls.POPUP_OPEN_CLASS)) {\n            this.parent.touchModule.mobilePopup.hide();\n        }\n        this.dragObj.element = closest(e.sender.target, '.' + cls.CARD_CLASS);\n        if (isNullOrUndefined(this.dragObj.element)) {\n            return null;\n        }\n        this.dragObj.element.style.width = formatUnit(this.dragObj.element.offsetWidth);\n        var cloneWrapper = createElement('div', { innerHTML: this.dragObj.element.outerHTML });\n        this.dragObj.cloneElement = cloneWrapper.children.item(0);\n        addClass([this.dragObj.cloneElement], cls.CLONED_CARD_CLASS);\n        this.dragObj.element.parentElement.appendChild(this.dragObj.cloneElement);\n        this.dragObj.targetCloneMulti = createElement('div', { className: cls.TARGET_MULTI_CLONE_CLASS });\n        this.dragObj.targetClone = createElement('div', {\n            className: cls.DROPPED_CLONE_CLASS,\n            styles: 'width:100%;height:' + formatUnit(this.dragObj.element.offsetHeight)\n        });\n        this.dragObj.modifiedData = [];\n        return this.dragObj.cloneElement;\n    };\n    DragAndDrop.prototype.dragStart = function (e) {\n        var _this = this;\n        this.dragObj.selectedCards = this.dragObj.element;\n        if (this.dragObj.element.classList.contains(cls.CARD_SELECTION_CLASS)) {\n            var className = '.' + cls.CARD_CLASS + '.' + cls.CARD_SELECTION_CLASS + ':not(.' + cls.CLONED_CARD_CLASS + ')';\n            var closestEle = closest(this.dragObj.element, '.' + cls.CONTENT_ROW_CLASS);\n            this.dragObj.selectedCards = [].slice.call(closestEle.querySelectorAll(className));\n            this.dragObj.selectedCards.forEach(function (element) {\n                _this.dragObj.cardDetails.push(_this.parent.getCardDetails(element));\n            });\n        }\n        else {\n            this.dragObj.cardDetails = [this.parent.getCardDetails(this.dragObj.element)];\n        }\n        var dragArgs = { cancel: false, data: this.dragObj.cardDetails, event: e, element: this.dragObj.selectedCards };\n        this.parent.trigger(events.dragStart, dragArgs, function (dragEventArgs) {\n            if (dragEventArgs.cancel) {\n                _this.removeElement(_this.dragObj.cloneElement);\n                _this.dragObj.instance.intDestroy(e);\n                _this.dragObj.element = null;\n                _this.dragObj.targetClone = null;\n                _this.dragObj.draggedClone = null;\n                _this.dragObj.cloneElement = null;\n                _this.dragObj.targetCloneMulti = null;\n                return;\n            }\n            if (_this.dragObj.element.classList.contains(cls.CARD_SELECTION_CLASS)) {\n                _this.dragObj.selectedCards.forEach(function (element) { _this.draggedClone(element); });\n                if (_this.dragObj.selectedCards.length > 1) {\n                    _this.dragObj.cloneElement.innerHTML = '';\n                    var drag = createElement('div', {\n                        className: 'e-multi-card-text',\n                        innerHTML: _this.dragObj.selectedCards.length + ' Cards'\n                    });\n                    _this.dragObj.cloneElement.appendChild(drag);\n                    classList(_this.dragObj.cloneElement, ['e-multi-card-clone'], [cls.CARD_SELECTION_CLASS]);\n                    _this.parent.layoutModule.disableAttributeSelection(_this.dragObj.cloneElement);\n                    _this.dragObj.cloneElement.style.width = '90px';\n                }\n            }\n            else {\n                _this.draggedClone(_this.dragObj.element);\n            }\n            EventHandler.add(document.body, 'keydown', _this.keydownHandler, _this);\n            _this.parent.notify(events.contentReady, {});\n        });\n    };\n    DragAndDrop.prototype.draggedClone = function (element) {\n        this.dragObj.draggedClone = createElement('div', {\n            className: cls.DRAGGED_CLONE_CLASS,\n            styles: 'width:' + formatUnit(element.offsetWidth - 1) + ';height:' + formatUnit(element.offsetHeight)\n        });\n        element.insertAdjacentElement('afterend', this.dragObj.draggedClone);\n        addClass([element], cls.DRAGGED_CARD_CLASS);\n    };\n    DragAndDrop.prototype.drag = function (e) {\n        var _this = this;\n        if (!e.target) {\n            return;\n        }\n        var cardElement = closest(e.target, '.' + cls.ROOT_CLASS + ' .' + cls.CARD_CLASS);\n        var target = cardElement || e.target;\n        var selector = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + ') .' + cls.CONTENT_CELLS_CLASS\n            + '.' + cls.DROPPABLE_CLASS;\n        var contentCell = closest(target, selector);\n        this.externalDrop(target);\n        this.kanbanObj = this.parent.isExternalKanbanDrop ? this.parent.externalDropObj : this.parent;\n        this.calculateArgs(e);\n        if (contentCell && document.body.style.cursor !== 'not-allowed') {\n            var targetKey = this.getColumnKey(contentCell);\n            var keys = targetKey.split(',');\n            this.multiCloneRemove();\n            var isDrag = (targetKey === this.getColumnKey(closest(this.dragObj.draggedClone, '.' + cls.CONTENT_CELLS_CLASS)))\n                ? true : false;\n            if (keys.length === 1 || isDrag) {\n                if (target.classList.contains(cls.DRAGGED_CLONE_CLASS)) {\n                    this.removeElement(this.dragObj.targetClone, this.kanbanObj);\n                }\n                if (target.classList.contains(cls.CARD_CLASS)) {\n                    var element = target.classList.contains(cls.DRAGGED_CLONE_CLASS) ?\n                        (target.previousElementSibling.classList.contains(cls.DRAGGED_CARD_CLASS) ? null : target.previousElementSibling)\n                        : target.previousElementSibling;\n                    var insertClone = 'afterend';\n                    if (isNullOrUndefined(element)) {\n                        var pageY = target.classList.contains(cls.DRAGGED_CLONE_CLASS) ? (this.dragObj.pageY / 2) :\n                            this.dragObj.pageY;\n                        var height = target.classList.contains(cls.DRAGGED_CLONE_CLASS) ? target.offsetHeight :\n                            (target.offsetHeight / 2);\n                        if ((pageY - (this.kanbanObj.element.getBoundingClientRect().top + target.offsetTop)) < height) {\n                            insertClone = 'beforebegin';\n                        }\n                    }\n                    target.insertAdjacentElement(insertClone, this.dragObj.targetClone);\n                }\n                else if (target.classList.contains(cls.CONTENT_CELLS_CLASS) && !closest(target, '.' + cls.SWIMLANE_ROW_CLASS)) {\n                    if (target.querySelectorAll('.' + cls.DRAGGED_CARD_CLASS).length !== 0 &&\n                        target.querySelectorAll('.' + cls.CARD_CLASS + ':not(.e-kanban-dragged-card):not(.e-cloned-card)').length === 0) {\n                        return;\n                    }\n                    else {\n                        target.querySelector('.' + cls.CARD_WRAPPER_CLASS).appendChild(this.dragObj.targetClone);\n                    }\n                }\n                else if (target.classList.contains(cls.CARD_WRAPPER_CLASS) && !closest(target, '.' + cls.SWIMLANE_ROW_CLASS)\n                    && contentCell.querySelectorAll('.' + cls.CARD_CLASS).length === 0) {\n                    target.appendChild(this.dragObj.targetClone);\n                }\n            }\n            else if (keys.length > 1 && contentCell.classList.contains(cls.DROPPING_CLASS)) {\n                this.multiCloneCreate(keys, contentCell);\n            }\n            this.kanbanObj.notify(events.contentReady, {});\n        }\n        if (this.kanbanObj.element.querySelectorAll('.' + cls.DROPPING_CLASS).length === 0) {\n            this.cellDropping();\n        }\n        var isCollapsed = false;\n        if (contentCell) {\n            isCollapsed = contentCell.classList.contains(cls.COLLAPSED_CLASS) && contentCell.classList.contains(cls.DROPPING_CLASS);\n        }\n        if (isCollapsed) {\n            this.toggleVisible(target);\n            addClass([contentCell], cls.TOGGLE_VISIBLE_CLASS);\n        }\n        var tColumn = [].slice.call(this.kanbanObj.element.querySelectorAll('.' + cls.TOGGLE_VISIBLE_CLASS));\n        if (tColumn.length > 0 && !target.classList.contains(cls.TOGGLE_VISIBLE_CLASS)\n            && !closest(target, '.' + cls.TOGGLE_VISIBLE_CLASS)) {\n            this.toggleVisible(target, tColumn.slice(-1)[0]);\n            removeClass(tColumn, cls.TOGGLE_VISIBLE_CLASS);\n        }\n        this.kanbanObj.notify(events.contentReady, {});\n        var multiKeyTarget = closest(target, '.' + cls.MULTI_COLUMN_KEY_CLASS);\n        if (multiKeyTarget) {\n            var columnKeys = [].slice.call(this.kanbanObj.element.querySelectorAll('.' + cls.MULTI_COLUMN_KEY_CLASS + ':not(.' +\n                cls.DISABLED_CLASS + ')')).filter(function (element) { return _this.getColumnKey(element) === _this.getColumnKey(multiKeyTarget); });\n            if (columnKeys.length > 0) {\n                addClass(columnKeys, cls.MULTI_ACTIVE_CLASS);\n                if (columnKeys[0].previousElementSibling) {\n                    addClass([columnKeys[0].previousElementSibling], 'e-multi-bottom-border');\n                }\n            }\n        }\n        document.body.style.cursor = (contentCell && contentCell.classList.contains(cls.DROPPING_CLASS)) ? '' : 'not-allowed';\n        if (cardElement && !(closest(cardElement, '.' + cls.CONTENT_CELLS_CLASS)).classList.contains(cls.DROPPING_CLASS)) {\n            cardElement.style.cursor = 'not-allowed';\n            document.body.style.cursor = 'not-allowed';\n        }\n        if (this.isExternalDrop && document.body.style.cursor === 'not-allowed') {\n            document.body.style.cursor = '';\n        }\n        if (document.body.style.cursor === 'not-allowed') {\n            this.removeElement(this.dragObj.targetClone, this.kanbanObj);\n            this.multiCloneRemove();\n        }\n        this.updateScrollPosition();\n        var dragArgs = { data: this.dragObj.cardDetails, event: e, element: this.dragObj.selectedCards };\n        this.kanbanObj.trigger(events.drag, dragArgs);\n        this.parent.isExternalKanbanDrop = false;\n        this.isExternalDrop = false;\n    };\n    DragAndDrop.prototype.removeElement = function (element, kanbanObj) {\n        kanbanObj = kanbanObj ? kanbanObj : this.parent;\n        if (kanbanObj.element.getElementsByClassName(element.className).length > 0) {\n            remove(element);\n        }\n    };\n    DragAndDrop.prototype.externalDrop = function (target) {\n        var _this = this;\n        this.parent.externalDropId.forEach(function (externalDropId) {\n            var targetRootElement = closest(target, externalDropId);\n            if (targetRootElement) {\n                if (targetRootElement.classList.contains('e-kanban')) {\n                    _this.parent.externalDropObj = document.querySelector(externalDropId).ej2_instances[0];\n                    _this.parent.isExternalKanbanDrop = true;\n                    var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS +\n                        '):not(.' + cls.COLLAPSED_CLASS + ') .' + cls.CONTENT_CELLS_CLASS;\n                    var cells = [].slice.call(_this.parent.externalDropObj.element.querySelectorAll(className));\n                    addClass(cells, cls.DROPPING_CLASS);\n                }\n                else {\n                    _this.isExternalDrop = true;\n                }\n            }\n        });\n    };\n    DragAndDrop.prototype.multiCloneCreate = function (keys, contentCell) {\n        var offsetHeight = contentCell.offsetHeight;\n        var limitEle = contentCell.querySelector('.' + cls.LIMITS_CLASS);\n        if (limitEle) {\n            offsetHeight -= limitEle.offsetHeight;\n        }\n        this.dragObj.targetCloneMulti.style.height = formatUnit(offsetHeight);\n        if (contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)) {\n            addClass([contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)], cls.MULTI_CARD_WRAPPER_CLASS);\n        }\n        addClass([contentCell.querySelector('.' + cls.CARD_WRAPPER_CLASS)], cls.MULTI_CARD_WRAPPER_CLASS);\n        contentCell.querySelector('.' + cls.CARD_WRAPPER_CLASS).style.height = 'auto';\n        contentCell.style.borderStyle = 'none';\n        this.removeElement(this.dragObj.targetClone);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            var dragCell = closest(this.dragObj.draggedClone, '.' + cls.CONTENT_CELLS_CLASS);\n            var transition = this.kanbanObj.columns[dragCell.cellIndex].transitionColumns;\n            var allowTransition = this.allowedTransition(this.dragObj.element.getAttribute('data-key'), key, transition);\n            var name_1 = allowTransition ? '' : ' ' + cls.DISABLED_CLASS;\n            var colKey = createElement('div', {\n                className: cls.MULTI_COLUMN_KEY_CLASS + name_1,\n                attrs: { 'data-key': key.trim() }\n            });\n            var text = createElement('div', { className: 'e-text', innerHTML: key.trim() });\n            contentCell.appendChild(this.dragObj.targetCloneMulti).appendChild(colKey).appendChild(text);\n            colKey.style.cursor = allowTransition ? '' : 'not-allowed';\n            colKey.style.lineHeight = colKey.style.height = formatUnit((offsetHeight / keys.length));\n            text.style.top = formatUnit((offsetHeight / 2) - (text.offsetHeight / 2));\n        }\n    };\n    DragAndDrop.prototype.allowedTransition = function (currentCardKey, targetCardKey, allowedKey) {\n        var allowTransition = true;\n        var targetKey = targetCardKey.split(',');\n        for (var i = 0; i < targetKey.length; i++) {\n            if (currentCardKey === targetKey[i].trim()) {\n                return true;\n            }\n            if (allowedKey) {\n                if (allowedKey.length === 1 && allowedKey[0].length === 0) {\n                    return true;\n                }\n                for (var j = 0; j < allowedKey.length; j++) {\n                    if (targetKey[i].trim() === allowedKey[j].trim()) {\n                        return true;\n                    }\n                    else {\n                        allowTransition = false;\n                    }\n                }\n            }\n        }\n        return allowTransition;\n    };\n    DragAndDrop.prototype.cellDropping = function () {\n        var _this = this;\n        var dragCell = closest(this.dragObj.draggedClone, '.' + cls.CONTENT_CELLS_CLASS);\n        var dragRow = closest(this.dragObj.draggedClone, '.' + cls.CONTENT_ROW_CLASS);\n        this.addDropping(dragRow, dragCell);\n        if (dragCell && dragCell.classList.contains(cls.DROP_CLASS)) {\n            addClass([dragCell], cls.DROPPING_CLASS);\n        }\n        if (this.kanbanObj.swimlaneSettings.keyField && this.kanbanObj.swimlaneSettings.allowDragAndDrop) {\n            var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + '):not(.' + cls.COLLAPSED_CLASS + ')';\n            var rows = [].slice.call(this.kanbanObj.element.querySelectorAll(className));\n            [].slice.call(rows).forEach(function (row) {\n                if (dragRow !== row) {\n                    _this.addDropping(row, dragCell);\n                }\n            });\n        }\n    };\n    DragAndDrop.prototype.addDropping = function (dragRow, dragCell) {\n        var _this = this;\n        if (dragCell && dragRow) {\n            [].slice.call(dragRow.children).forEach(function (cell) {\n                var transition = _this.kanbanObj.columns[dragCell.cellIndex].transitionColumns;\n                if (cell !== dragCell && cell.classList.contains(cls.DROP_CLASS) &&\n                    _this.allowedTransition(dragCell.getAttribute('data-key'), cell.getAttribute('data-key'), transition)) {\n                    addClass([cell], cls.DROPPING_CLASS);\n                }\n            });\n        }\n    };\n    DragAndDrop.prototype.keydownHandler = function (e) {\n        if (e.code === 'Escape' && this.dragObj.cloneElement) {\n            EventHandler.remove(this.dragObj.cloneElement, 'keydown', this.keydownHandler);\n            this.dragObj.element.removeAttribute('aria-grabbed');\n            this.dragStopClear();\n            this.dragStopPostClear();\n        }\n    };\n    DragAndDrop.prototype.dragStop = function (e) {\n        var _this = this;\n        var contentCell = closest(this.dragObj.targetClone, '.' + cls.CONTENT_CELLS_CLASS);\n        var columnKey;\n        var dropIndex;\n        EventHandler.remove(document.body, 'keydown', this.keydownHandler);\n        if (this.dragObj.targetClone.parentElement) {\n            var className = '.' + cls.CARD_CLASS + ':not(.' + cls.DRAGGED_CARD_CLASS + '),.' + cls.DROPPED_CLONE_CLASS;\n            var element = [].slice.call(this.dragObj.targetClone.parentElement.querySelectorAll(className));\n            dropIndex = element.indexOf(this.dragObj.targetClone);\n        }\n        if (!isNullOrUndefined(this.kanbanObj) && this.kanbanObj.element.querySelector('.' + cls.TARGET_MULTI_CLONE_CLASS)) {\n            columnKey = closest(e.target, '.' + cls.MULTI_COLUMN_KEY_CLASS + ':not(.' + cls.DISABLED_CLASS + ')');\n        }\n        if (contentCell || columnKey) {\n            var cardStatus_1;\n            if (contentCell) {\n                cardStatus_1 = this.getColumnKey(contentCell);\n            }\n            else {\n                cardStatus_1 = this.getColumnKey(columnKey);\n                contentCell = closest(columnKey, '.' + cls.CONTENT_CELLS_CLASS);\n            }\n            if (this.dragObj.selectedCards instanceof HTMLElement) {\n                this.updateDroppedData(this.dragObj.selectedCards, cardStatus_1, contentCell);\n            }\n            else {\n                this.dragObj.selectedCards.forEach(function (element) { _this.updateDroppedData(element, cardStatus_1, contentCell); });\n            }\n            if (this.parent.sortSettings.field && this.parent.sortSettings.sortBy === 'Index') {\n                this.changeOrder(this.dragObj.modifiedData);\n            }\n        }\n        if (this.dragObj.modifiedData.length === 0) {\n            this.dragObj.modifiedData = this.dragObj.cardDetails;\n        }\n        var dragArgs = {\n            cancel: false, data: this.dragObj.modifiedData, event: e, element: this.dragObj.selectedCards,\n            dropIndex: dropIndex\n        };\n        this.parent.trigger(events.dragStop, dragArgs, function (dragEventArgs) {\n            _this.dragStopClear();\n            if (!dragEventArgs.cancel) {\n                if (contentCell || columnKey) {\n                    var updateCard = dragEventArgs.data instanceof Array &&\n                        dragEventArgs.data.length > 1 ? dragEventArgs.data :\n                        dragEventArgs.data[0];\n                    _this.parent.crudModule.updateCard(updateCard, dragEventArgs.dropIndex);\n                }\n            }\n            _this.dragStopPostClear();\n        });\n    };\n    DragAndDrop.prototype.dragStopClear = function () {\n        this.removeElement(this.dragObj.draggedClone);\n        this.removeElement(this.dragObj.targetClone, this.kanbanObj);\n        this.removeElement(this.dragObj.cloneElement);\n        var dragMultiClone = [].slice.call(this.parent.element.querySelectorAll('.' + cls.DRAGGED_CLONE_CLASS));\n        dragMultiClone.forEach(function (clone) { remove(clone); });\n        this.dragObj.element.style.removeProperty('width');\n        this.multiCloneRemove();\n        if (this.dragObj.selectedCards instanceof HTMLElement) {\n            removeClass([this.dragObj.selectedCards], cls.DRAGGED_CARD_CLASS);\n        }\n        else {\n            removeClass(this.dragObj.selectedCards, cls.DRAGGED_CARD_CLASS);\n        }\n        clearInterval(this.dragObj.navigationInterval);\n        this.dragObj.navigationInterval = null;\n        if (document.body.style.cursor === 'not-allowed') {\n            document.body.style.cursor = '';\n        }\n        var styleCards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS + '[style]'));\n        styleCards.forEach(function (styleCard) { styleCard.style.cursor = ''; });\n        var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + ')';\n        var cells = [].slice.call(this.parent.element.querySelectorAll(className + ' .' + cls.CONTENT_CELLS_CLASS));\n        cells.forEach(function (cell) { return removeClass([cell], cls.DROPPING_CLASS); });\n        if (this.parent.externalDropObj) {\n            var externalCells = [].slice.call(this.parent.externalDropObj.element.querySelectorAll(className + ' .' +\n                cls.CONTENT_CELLS_CLASS));\n            externalCells.forEach(function (externalCell) { return removeClass([externalCell], cls.DROPPING_CLASS); });\n        }\n    };\n    DragAndDrop.prototype.dragStopPostClear = function () {\n        if (this.parent.isAdaptive) {\n            this.parent.touchModule.tabHold = false;\n        }\n        this.dragObj.cardDetails = this.dragObj.modifiedData = [];\n        this.isDragging = false;\n        this.parent.isExternalKanbanDrop = false;\n        this.parent.externalDropObj = null;\n    };\n    DragAndDrop.prototype.updateDroppedData = function (element, cardStatus, contentCell) {\n        var crudObj = this.parent.getCardDetails(element);\n        var crudData = extend({}, crudObj, null, true);\n        if (cardStatus.split(',').length === 1) {\n            crudData[this.parent.keyField] = cardStatus;\n        }\n        if (this.parent.swimlaneSettings.keyField && this.parent.swimlaneSettings.allowDragAndDrop) {\n            var prev = closest(contentCell, '.' + cls.CONTENT_ROW_CLASS).previousElementSibling;\n            if (this.parent.isAdaptive) {\n                var keyField = this.parent.layoutModule.kanbanRows[this.parent.layoutModule.swimlaneIndex].keyField;\n                crudData[this.parent.swimlaneSettings.keyField] = keyField;\n            }\n            else {\n                crudData[this.parent.swimlaneSettings.keyField] = this.getColumnKey(prev);\n            }\n        }\n        this.dragObj.modifiedData.push(crudData);\n    };\n    DragAndDrop.prototype.changeOrder = function (modifieddata) {\n        var _this = this;\n        var prevele = false;\n        var element = this.kanbanObj.sortSettings.direction === 'Ascending' ?\n            this.dragObj.targetClone.previousElementSibling : this.dragObj.targetClone.nextElementSibling;\n        if (element && !element.classList.contains(cls.DRAGGED_CARD_CLASS) && !element.classList.contains(cls.CLONED_CARD_CLASS)\n            && !element.classList.contains(cls.DRAGGED_CLONE_CLASS)) {\n            prevele = true;\n        }\n        else if (this.dragObj.targetClone.nextElementSibling && this.kanbanObj.sortSettings.direction === 'Ascending') {\n            element = this.dragObj.targetClone.nextElementSibling;\n        }\n        else if (this.dragObj.targetClone.previousElementSibling && this.kanbanObj.sortSettings.direction === 'Descending') {\n            element = this.dragObj.targetClone.previousElementSibling;\n        }\n        else {\n            return;\n        }\n        if (element.classList.contains(cls.CARD_CLASS)) {\n            var obj = this.kanbanObj.getCardDetails(element);\n            var keyIndex_1 = obj[this.kanbanObj.sortSettings.field];\n            if (modifieddata.length > 1 && this.kanbanObj.sortSettings.direction === 'Descending') {\n                modifieddata = modifieddata.reverse();\n            }\n            modifieddata.forEach(function (data, index) {\n                if (prevele) {\n                    data[_this.kanbanObj.sortSettings.field] = ++keyIndex_1;\n                }\n                else if (keyIndex_1 !== 1 && index <= data[_this.kanbanObj.sortSettings.field]) {\n                    data[_this.kanbanObj.sortSettings.field] = --keyIndex_1;\n                }\n                else if (keyIndex_1 === 1) {\n                    data[_this.kanbanObj.sortSettings.field] = index + 1;\n                }\n            });\n        }\n    };\n    DragAndDrop.prototype.toggleVisible = function (target, tColumn) {\n        var _this = this;\n        var headerCells = '.' + cls.HEADER_CELLS_CLASS + ':not(.' + cls.STACKED_HEADER_CELL_CLASS + ')';\n        var lists = [].slice.call(this.kanbanObj.element.querySelectorAll(headerCells));\n        lists.forEach(function (list) {\n            if (_this.getColumnKey(list) === _this.getColumnKey(tColumn || target)) {\n                _this.kanbanObj.actionModule.columnToggle(list);\n            }\n        });\n        var cloneTarget = closest(this.dragObj.draggedClone, '.' + cls.CONTENT_CELLS_CLASS);\n        if (cloneTarget) {\n            var width = formatUnit(cloneTarget.offsetWidth - events.cardSpace);\n            this.dragObj.draggedClone.style.width = width;\n            this.dragObj.cloneElement.style.width = width;\n        }\n    };\n    DragAndDrop.prototype.multiCloneRemove = function () {\n        var cloneMulti = [].slice.call(this.kanbanObj.element.querySelectorAll('.' + cls.TARGET_MULTI_CLONE_CLASS));\n        if (cloneMulti.length > 0) {\n            var columnKey = [].slice.call(this.kanbanObj.element.querySelectorAll('.' + cls.MULTI_COLUMN_KEY_CLASS));\n            columnKey.forEach(function (node) { return remove(node); });\n            cloneMulti.forEach(function (node) {\n                var cell = closest(node, '.' + cls.CONTENT_CELLS_CLASS);\n                if (cell) {\n                    cell.style.borderStyle = '';\n                    if (cell.querySelector('.' + cls.SHOW_ADD_BUTTON)) {\n                        removeClass([cell.querySelector('.' + cls.SHOW_ADD_BUTTON)], cls.MULTI_CARD_WRAPPER_CLASS);\n                    }\n                    removeClass([cell.querySelector('.' + cls.CARD_WRAPPER_CLASS)], cls.MULTI_CARD_WRAPPER_CLASS);\n                }\n            });\n            this.removeElement(this.dragObj.targetCloneMulti, this.kanbanObj);\n        }\n    };\n    DragAndDrop.prototype.calculateArgs = function (e) {\n        var eventArgs = this.getPageCoordinates(e);\n        this.dragObj.pageY = eventArgs.pageY;\n        this.dragObj.pageX = eventArgs.pageX;\n        this.isDragging = true;\n        if (this.kanbanObj.isAdaptive && this.kanbanObj.tooltipModule) {\n            this.kanbanObj.tooltipModule.tooltipObj.close();\n        }\n    };\n    DragAndDrop.prototype.getPageCoordinates = function (e) {\n        var eventArgs = e.event;\n        return eventArgs && eventArgs.changedTouches ? eventArgs.changedTouches[0] : e.changedTouches ? e.changedTouches[0] :\n            eventArgs || e;\n    };\n    DragAndDrop.prototype.getColumnKey = function (target) {\n        if (target && target.getAttribute('data-key')) {\n            return target.getAttribute('data-key').trim();\n        }\n        return '';\n    };\n    DragAndDrop.prototype.updateScrollPosition = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.dragObj.navigationInterval)) {\n            this.dragObj.navigationInterval = window.setInterval(function () { _this.autoScroll(); }, 100);\n        }\n    };\n    DragAndDrop.prototype.autoScrollValidation = function () {\n        var pageY = this.dragObj.pageY;\n        var pageX = this.dragObj.pageX;\n        var autoScrollDistance = 30;\n        var dragEdges = { left: false, right: false, top: false, bottom: false };\n        var viewBoundaries = this.kanbanObj.element.querySelector('.' + cls.CONTENT_CLASS).getBoundingClientRect();\n        if ((pageY < viewBoundaries.top + autoScrollDistance + window.pageYOffset) &&\n            (pageY > viewBoundaries.top + window.pageYOffset)) {\n            dragEdges.top = true;\n        }\n        if ((pageY > (viewBoundaries.bottom - autoScrollDistance) + window.pageYOffset) &&\n            (pageY < viewBoundaries.bottom + window.pageYOffset)) {\n            dragEdges.bottom = true;\n        }\n        if ((pageX < viewBoundaries.left + autoScrollDistance + window.pageXOffset) &&\n            (pageX > viewBoundaries.left + window.pageXOffset)) {\n            dragEdges.left = true;\n        }\n        if ((pageX > (viewBoundaries.right - autoScrollDistance) + window.pageXOffset) &&\n            (pageX < viewBoundaries.right + window.pageXOffset)) {\n            dragEdges.right = true;\n        }\n        this.dragEdges = dragEdges;\n    };\n    DragAndDrop.prototype.autoScroll = function () {\n        this.autoScrollValidation();\n        var scrollSensitivity = 30;\n        if (this.kanbanObj.isAdaptive) {\n            var parent_1;\n            if (this.dragEdges.top || this.dragEdges.bottom) {\n                if (this.dragObj.targetClone) {\n                    parent_1 = closest(this.dragObj.targetClone, '.' + cls.CARD_WRAPPER_CLASS);\n                }\n                else {\n                    parent_1 = closest(this.dragObj.draggedClone, '.' + cls.CARD_WRAPPER_CLASS);\n                }\n            }\n            else if (this.dragEdges.right || this.dragEdges.left) {\n                parent_1 = this.kanbanObj.element.querySelector('.' + cls.CONTENT_CLASS);\n            }\n            if (parent_1) {\n                var yIsScrollable = parent_1.offsetHeight <= parent_1.scrollHeight;\n                var xIsScrollable = parent_1.offsetWidth <= parent_1.scrollWidth;\n                var yInBounds = parent_1.scrollTop >= 0 && parent_1.scrollTop + parent_1.offsetHeight <= parent_1.scrollHeight;\n                var xInBounds = parent_1.scrollLeft >= 0 && parent_1.scrollLeft + parent_1.offsetWidth <= parent_1.scrollWidth;\n                if (yIsScrollable && yInBounds && (this.dragEdges.top || this.dragEdges.bottom)) {\n                    parent_1.scrollTop += this.dragEdges.top ? -(scrollSensitivity + 36) : scrollSensitivity;\n                }\n                if (xIsScrollable && xInBounds && (this.dragEdges.left || this.dragEdges.right)) {\n                    var scroll_1 = (this.kanbanObj.layoutModule.getWidth() * (this.kanbanObj.columns.length - 1)) >\n                        parent_1.scrollLeft;\n                    if (scroll_1 || this.dragEdges.left) {\n                        parent_1.scrollLeft += this.dragEdges.left ? -scrollSensitivity : scrollSensitivity;\n                    }\n                }\n            }\n        }\n        else {\n            var parent_2 = this.kanbanObj.element.querySelector('.' + cls.CONTENT_CLASS);\n            var column = this.dragObj.targetClone.parentElement;\n            var yScrollable = parent_2.offsetHeight <= parent_2.scrollHeight;\n            var xScrollable = parent_2.offsetWidth <= parent_2.scrollWidth;\n            var yBounds = yScrollable && parent_2.scrollTop >= 0 && parent_2.scrollTop + parent_2.offsetHeight <= parent_2.scrollHeight;\n            var xBounds = xScrollable && parent_2.scrollLeft >= 0 && parent_2.scrollLeft + parent_2.offsetWidth <= parent_2.scrollWidth;\n            if (yBounds && (this.dragEdges.top || this.dragEdges.bottom)) {\n                parent_2.scrollTop += this.dragEdges.top ? -scrollSensitivity : scrollSensitivity;\n                if (column) {\n                    column.scrollTop += this.dragEdges.top ? -scrollSensitivity : scrollSensitivity;\n                }\n            }\n            if (xBounds && (this.dragEdges.left || this.dragEdges.right)) {\n                parent_2.scrollLeft += this.dragEdges.left ? -scrollSensitivity : scrollSensitivity;\n                if (column) {\n                    column.scrollLeft += this.dragEdges.left ? -scrollSensitivity : scrollSensitivity;\n                }\n            }\n            if (this.dragObj.pageY - window.scrollY < scrollSensitivity) {\n                window.scrollTo(window.scrollX, window.scrollY - scrollSensitivity);\n            }\n            else if (window.innerHeight - (this.dragObj.pageY - window.scrollY) < scrollSensitivity) {\n                window.scrollTo(window.scrollX, window.scrollY + scrollSensitivity);\n            }\n        }\n    };\n    DragAndDrop.prototype.unWireDragEvents = function (element) {\n        var dragInstance = element.ej2_instances[0];\n        if (dragInstance && !dragInstance.isDestroyed) {\n            dragInstance.destroy();\n        }\n    };\n    return DragAndDrop;\n}());\nexport { DragAndDrop };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, createElement, remove, isNullOrUndefined, closest, extend } from '@syncfusion/ej2-base';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { FormValidator, NumericTextBox, TextBox } from '@syncfusion/ej2-inputs';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Dialog module is used to perform card actions.\n */\nvar KanbanDialog = /** @class */ (function () {\n    /**\n     * Constructor for dialog module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     */\n    function KanbanDialog(parent) {\n        this.preventUpdate = false;\n        this.parent = parent;\n    }\n    KanbanDialog.prototype.openDialog = function (action, data) {\n        this.action = action;\n        this.parent.activeCardData.data = data;\n        this.renderDialog(data, action);\n        this.dialogObj.show();\n    };\n    KanbanDialog.prototype.closeDialog = function () {\n        this.dialogObj.hide();\n    };\n    KanbanDialog.prototype.renderDialog = function (args, action) {\n        this.element = createElement('div', { id: this.parent.element.id + '_dialog_wrapper' });\n        this.parent.element.appendChild(this.element);\n        var dialogModel = {\n            buttons: this.getDialogButtons(action),\n            content: this.getDialogContent(args, action),\n            cssClass: cls.DIALOG_CLASS,\n            enableRtl: this.parent.enableRtl,\n            header: this.parent.localeObj.getConstant(action === 'Add' ? 'addTitle' : action === 'Edit' ? 'editTitle' : 'deleteTitle'),\n            height: 'auto',\n            isModal: true,\n            showCloseIcon: true,\n            width: (action === 'Delete') ? 400 : 350,\n            visible: false,\n            beforeOpen: this.onBeforeDialogOpen.bind(this),\n            beforeClose: this.onBeforeDialogClose.bind(this)\n        };\n        this.dialogObj = new Dialog(extend(dialogModel, action !== 'Delete' ? (this.parent.dialogSettings.model || {}) : {}), this.element);\n        if (action !== 'Delete') {\n            this.applyFormValidation();\n        }\n        this.dialogObj.element.querySelector('.e-dlg-closeicon-btn').title = this.parent.localeObj.getConstant('close');\n    };\n    KanbanDialog.prototype.getDialogContent = function (args, action) {\n        if (action === 'Delete') {\n            return this.parent.localeObj.getConstant('deleteContent');\n        }\n        else {\n            var container = createElement('div', { className: cls.FORM_WRAPPER_CLASS });\n            var form = createElement('form', {\n                id: this.parent.element.id + 'EditForm',\n                className: cls.FORM_CLASS, attrs: { onsubmit: 'return false;' }\n            });\n            if (this.parent.dialogSettings.template) {\n                if (args) {\n                    this.destroyComponents();\n                    [].slice.call(form.childNodes).forEach(function (node) { return remove(node); });\n                }\n                var templateId = this.parent.element.id + '_dialogTemplate';\n                var dialogTemplate = this.parent.templateParser(this.parent.dialogSettings.template)(args, this.parent, 'dialogTemplate', templateId, false);\n                append(dialogTemplate, form);\n                this.parent.renderTemplates();\n            }\n            else {\n                var dialogWrapper = createElement('div', { className: cls.DIALOG_CONTENT_CONTAINER });\n                form.appendChild(dialogWrapper);\n                var table = createElement('table');\n                dialogWrapper.appendChild(table);\n                var dialogFields = this.getDialogFields();\n                for (var _i = 0, dialogFields_1 = dialogFields; _i < dialogFields_1.length; _i++) {\n                    var field = dialogFields_1[_i];\n                    var tr = createElement('tr');\n                    table.appendChild(tr);\n                    tr.appendChild(createElement('td', { className: 'e-label', innerHTML: field.text ? field.text : field.key }));\n                    var td = createElement('td');\n                    tr.appendChild(td);\n                    td.appendChild(this.renderComponents(field));\n                }\n            }\n            container.appendChild(form);\n            return container;\n        }\n    };\n    KanbanDialog.prototype.getDialogFields = function () {\n        var fields = this.parent.dialogSettings.fields;\n        if (fields.length === 0) {\n            fields = [\n                { text: 'ID', key: this.parent.cardSettings.headerField, type: 'TextBox' },\n                { key: this.parent.keyField, type: 'DropDown' },\n                { key: this.parent.cardSettings.contentField, type: 'TextArea' }\n            ];\n            if (this.parent.sortSettings.field) {\n                fields.splice(fields.length - 1, 0, { key: this.parent.sortSettings.field, type: 'TextBox' });\n            }\n            if (this.parent.swimlaneSettings.keyField) {\n                fields.splice(fields.length - 1, 0, { key: this.parent.swimlaneSettings.keyField, type: 'DropDown' });\n            }\n        }\n        return fields;\n    };\n    KanbanDialog.prototype.getDialogButtons = function (action) {\n        var primaryButtonClass = action === 'Delete' ? 'e-dialog-yes' : action === 'Add' ? 'e-dialog-add' : 'e-dialog-edit';\n        var flatButtonClass = action === 'Delete' ? 'e-dialog-no' : 'e-dialog-cancel';\n        var dialogButtons = [\n            {\n                buttonModel: {\n                    cssClass: 'e-flat ' + primaryButtonClass, isPrimary: true,\n                    content: this.parent.localeObj.getConstant(action === 'Add' || action === 'Edit' ? 'save' : 'yes')\n                },\n                click: this.dialogButtonClick.bind(this)\n            }, {\n                buttonModel: {\n                    cssClass: 'e-flat ' + flatButtonClass, isPrimary: false,\n                    content: this.parent.localeObj.getConstant(action === 'Add' || action === 'Edit' ? 'cancel' : 'no')\n                },\n                click: this.dialogButtonClick.bind(this)\n            }\n        ];\n        if (action === 'Edit') {\n            var deleteButton = {\n                buttonModel: { cssClass: 'e-flat e-dialog-delete', isPrimary: false, content: this.parent.localeObj.getConstant('delete') },\n                click: this.dialogButtonClick.bind(this)\n            };\n            dialogButtons.splice(0, 0, deleteButton);\n        }\n        return dialogButtons;\n    };\n    KanbanDialog.prototype.renderComponents = function (field) {\n        var wrapper = createElement('div', { className: field.key + '_wrapper' });\n        var element = createElement('input', { className: cls.FIELD_CLASS, attrs: { 'name': field.key } });\n        wrapper.appendChild(element);\n        var divElement;\n        var dropDownOptions;\n        var controlObj;\n        var fieldValue = this.parent.activeCardData.data ?\n            this.parent.activeCardData.data[field.key] : null;\n        switch (field.type) {\n            case 'DropDown':\n                if (field.key === this.parent.keyField) {\n                    var currentKeys = this.parent.layoutModule.columnKeys;\n                    if (this.parent.actionModule.hideColumnKeys.length > 0) {\n                        currentKeys = [];\n                        for (var i = 0; i < this.parent.columns.length; i++) {\n                            if (this.parent.layoutModule.isColumnVisible(this.parent.columns[i])) {\n                                var isNumeric = typeof this.parent.columns[i].keyField === 'number';\n                                if (isNumeric) {\n                                    currentKeys = currentKeys.concat(this.parent.columns[i].keyField.toString());\n                                }\n                                else {\n                                    currentKeys = currentKeys.concat(this.parent.columns[i].keyField.split(',').map(function (e) { return e.trim(); }));\n                                }\n                            }\n                        }\n                    }\n                    dropDownOptions = { dataSource: currentKeys, value: fieldValue ? fieldValue.toString() : fieldValue };\n                }\n                else if (field.key === this.parent.swimlaneSettings.keyField) {\n                    dropDownOptions = {\n                        dataSource: [].slice.call(this.parent.layoutModule.kanbanRows),\n                        fields: { text: 'textField', value: 'keyField' }, value: fieldValue\n                    };\n                }\n                controlObj = new DropDownList(dropDownOptions);\n                break;\n            case 'Numeric':\n                controlObj = new NumericTextBox({ value: fieldValue });\n                break;\n            case 'TextBox':\n                controlObj = new TextBox({ value: fieldValue });\n                if (fieldValue && this.parent.cardSettings.headerField === field.key) {\n                    controlObj.enabled = false;\n                }\n                break;\n            case 'TextArea':\n                remove(element);\n                divElement = createElement('div');\n                element = createElement('textarea', {\n                    className: cls.FIELD_CLASS, attrs: { 'name': field.key, 'rows': '3' },\n                    innerHTML: fieldValue\n                });\n                wrapper.appendChild(divElement).appendChild(element);\n                break;\n            default:\n                break;\n        }\n        if (controlObj) {\n            controlObj.appendTo(element);\n        }\n        return wrapper;\n    };\n    KanbanDialog.prototype.onBeforeDialogOpen = function (args) {\n        var _this = this;\n        var eventProp = {\n            data: this.parent.activeCardData.data,\n            cancel: false, element: this.element,\n            target: this.parent.activeCardData.element,\n            requestType: this.action\n        };\n        this.storeElement = document.activeElement;\n        if (parseInt(args.maxHeight, 10) <= 250) {\n            args.maxHeight = '250px';\n        }\n        this.parent.trigger(events.dialogOpen, eventProp, function (openArgs) {\n            args.cancel = openArgs.cancel;\n            if (openArgs.cancel) {\n                _this.destroy();\n            }\n        });\n    };\n    KanbanDialog.prototype.onBeforeDialogClose = function (args) {\n        var _this = this;\n        var formInputs = this.getFormElements();\n        var cardObj = {};\n        if (args.isInteracted) {\n            /* close icon preventing data update */\n            this.preventUpdate = true;\n        }\n        if (!this.preventUpdate) {\n            for (var _i = 0, formInputs_1 = formInputs; _i < formInputs_1.length; _i++) {\n                var input = formInputs_1[_i];\n                var columnName = input.name || this.getColumnName(input);\n                if (!isNullOrUndefined(columnName) && columnName !== '') {\n                    var value = this.getValueFromElement(input);\n                    if (columnName === this.parent.cardSettings.headerField) {\n                        value = this.getIDType() === 'string' ? value : parseInt(value, 10);\n                    }\n                    cardObj[columnName] = value;\n                }\n            }\n        }\n        this.preventUpdate = false;\n        cardObj = extend(this.parent.activeCardData.data, cardObj);\n        var eventProp = { data: cardObj, cancel: false, element: this.element, requestType: this.action };\n        this.parent.trigger(events.dialogClose, eventProp, function (closeArgs) {\n            args.cancel = closeArgs.cancel;\n            if (!closeArgs.cancel) {\n                _this.cardData = eventProp.data;\n                _this.destroy();\n                _this.parent.actionModule.SingleCardSelection(_this.cardData);\n            }\n        });\n    };\n    KanbanDialog.prototype.getIDType = function () {\n        if (this.parent.kanbanData.length !== 0) {\n            return typeof (this.parent.kanbanData[0][this.parent.cardSettings.headerField]);\n        }\n        return 'string';\n    };\n    KanbanDialog.prototype.applyFormValidation = function () {\n        var _this = this;\n        var form = this.element.querySelector('.' + cls.FORM_CLASS);\n        var rules = {};\n        for (var _i = 0, _a = this.parent.dialogSettings.fields; _i < _a.length; _i++) {\n            var field = _a[_i];\n            rules[field.key] = (field.validationRules && Object.keys(field.validationRules).length > 0) ? field.validationRules : null;\n        }\n        this.formObj = new FormValidator(form, {\n            rules: rules,\n            customPlacement: function (inputElement, error) {\n                var id = error.getAttribute('for');\n                var elem = _this.element.querySelector('#' + id + '_Error');\n                if (!elem) {\n                    _this.createTooltip(inputElement, error, id, '');\n                }\n            },\n            validationComplete: function (args) {\n                var elem = _this.element.querySelector('#' + args.inputName + '_Error');\n                if (elem) {\n                    elem.style.display = (args.status === 'failure') ? '' : 'none';\n                }\n            }\n        });\n    };\n    KanbanDialog.prototype.createTooltip = function (element, error, name, display) {\n        var dlgContent;\n        var client;\n        var inputClient = element.parentElement.getBoundingClientRect();\n        if (this.element.classList.contains(cls.DIALOG_CLASS)) {\n            dlgContent = this.element;\n            client = this.element.getBoundingClientRect();\n        }\n        else {\n            dlgContent = this.element.querySelector('.e-kanban-dialog .e-dlg-content');\n            client = dlgContent.getBoundingClientRect();\n        }\n        var div = createElement('div', {\n            className: 'e-tooltip-wrap e-popup ' + cls.ERROR_VALIDATION_CLASS,\n            id: name + '_Error',\n            styles: 'display:' + display + ';top:' +\n                (inputClient.bottom - client.top + dlgContent.scrollTop + 9) + 'px;left:' +\n                (inputClient.left - client.left + dlgContent.scrollLeft + inputClient.width / 2) + 'px;'\n        });\n        var content = createElement('div', { className: 'e-tip-content' });\n        content.appendChild(error);\n        var arrow = createElement('div', { className: 'e-arrow-tip e-tip-top' });\n        arrow.appendChild(createElement('div', { className: 'e-arrow-tip-outer e-tip-top' }));\n        arrow.appendChild(createElement('div', { className: 'e-arrow-tip-inner e-tip-top' }));\n        div.appendChild(content);\n        div.appendChild(arrow);\n        dlgContent.appendChild(div);\n        div.style.left = (parseInt(div.style.left, 10) - div.offsetWidth / 2) + 'px';\n    };\n    KanbanDialog.prototype.destroyToolTip = function () {\n        if (this.element) {\n            this.element.querySelectorAll('.' + cls.ERROR_VALIDATION_CLASS).forEach(function (node) { return remove(node); });\n        }\n        if (this.formObj && this.formObj.element) {\n            this.formObj.reset();\n        }\n    };\n    KanbanDialog.prototype.dialogButtonClick = function (event) {\n        var target = event.target.cloneNode(true);\n        var id = this.formObj.element.id;\n        if (document.getElementById(id) && this.formObj.validate() &&\n            (target.classList.contains('e-dialog-edit') || target.classList.contains('e-dialog-add'))) {\n            this.dialogObj.hide();\n            if (target.classList.contains('e-dialog-edit')) {\n                var activeCard = this.parent.activeCardData;\n                var updateIndex = void 0;\n                if (activeCard.data[this.parent.keyField] === this.cardData[this.parent.keyField]\n                    && activeCard.element) {\n                    updateIndex = [].slice.call(activeCard.element.parentElement.children).indexOf(activeCard.element);\n                }\n                this.parent.crudModule.updateCard(this.cardData, updateIndex);\n            }\n            if (target.classList.contains('e-dialog-add')) {\n                this.parent.crudModule.addCard(this.cardData);\n            }\n            this.parent.actionModule.SingleCardSelection(this.cardData);\n            this.cardData = null;\n        }\n        if (!target.classList.contains('e-dialog-edit') && !target.classList.contains('e-dialog-add')) {\n            if (target.classList.contains('e-dialog-cancel')) {\n                this.preventUpdate = true;\n            }\n            this.dialogObj.hide();\n            if (target.classList.contains('e-dialog-yes')) {\n                this.parent.crudModule.deleteCard(this.parent.activeCardData.data);\n            }\n            else if (target.classList.contains('e-dialog-no')) {\n                this.openDialog('Edit', this.parent.activeCardData.data);\n            }\n            else if (target.classList.contains('e-dialog-delete')) {\n                this.openDialog('Delete', this.parent.activeCardData.data);\n            }\n        }\n    };\n    KanbanDialog.prototype.getFormElements = function () {\n        var elements = [].slice.call(this.element.querySelectorAll('.' + cls.FIELD_CLASS));\n        var validElements = [];\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            if (element.classList.contains('e-control')) {\n                validElements.push(element);\n            }\n            else if (element.querySelector('.e-control')) {\n                validElements.push(element.querySelector('.e-control'));\n            }\n            else {\n                validElements.push(element);\n            }\n        }\n        return validElements;\n    };\n    KanbanDialog.prototype.getColumnName = function (element) {\n        var attrName = element.getAttribute('data-name') || '';\n        if (attrName === '') {\n            var isDropDowns = false;\n            var fieldSelector = '';\n            if (element.classList.contains('e-dropdownlist') || element.classList.contains('e-multiselect')) {\n                fieldSelector = element.classList.contains('e-dropdownlist') ? 'e-ddl' : 'e-multiselect';\n                isDropDowns = true;\n            }\n            else if (element.classList.contains('e-numerictextbox')) {\n                fieldSelector = 'e-numeric';\n            }\n            var classSelector = isDropDowns ? \".\" + fieldSelector + \":not(.e-control)\" : \".\" + fieldSelector;\n            var control = closest(element, classSelector) || element.querySelector(\".\" + fieldSelector);\n            if (control) {\n                var attrEle = control.querySelector('[name]');\n                if (attrEle) {\n                    attrName = attrEle.name;\n                }\n            }\n        }\n        return attrName;\n    };\n    KanbanDialog.prototype.getValueFromElement = function (element) {\n        var value;\n        if (element.classList.contains('e-dropdownlist')) {\n            value = element.ej2_instances[0].value;\n        }\n        else if (element.classList.contains('e-multiselect')) {\n            value = element.ej2_instances[0].value;\n        }\n        else if (element.classList.contains('e-checkbox')) {\n            value = element.ej2_instances[0].checked;\n        }\n        else {\n            if (element.type === 'checkbox') {\n                value = element.checked;\n            }\n            else {\n                value = element.value;\n            }\n        }\n        return value;\n    };\n    KanbanDialog.prototype.destroyComponents = function () {\n        var formelement = this.getFormElements();\n        for (var _i = 0, formelement_1 = formelement; _i < formelement_1.length; _i++) {\n            var element = formelement_1[_i];\n            var instance = element.ej2_instances;\n            if (instance && instance.length > 0) {\n                instance.forEach(function (node) { return node.destroy(); });\n            }\n        }\n    };\n    KanbanDialog.prototype.destroy = function () {\n        this.destroyToolTip();\n        this.destroyComponents();\n        if (this.dialogObj) {\n            this.dialogObj.destroy();\n            this.storeElement.focus();\n            this.dialogObj = null;\n            remove(this.element);\n            this.element = null;\n        }\n    };\n    return KanbanDialog;\n}());\nexport { KanbanDialog };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { KeyboardEvents, addClass, removeClass, closest } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban keyboard module\n */\nvar Keyboard = /** @class */ (function () {\n    /**\n     * Constructor for keyboard module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     */\n    function Keyboard(parent) {\n        this.keyConfigs = {\n            firstCardSelection: '36',\n            lastCardSelection: '35',\n            upArrow: '38',\n            downArrow: '40',\n            rightArrow: '39',\n            leftArrow: '37',\n            multiSelectionEnter: 'ctrl+13',\n            multiSelectionSpace: 'ctrl+32',\n            multiSelectionByUpArrow: 'shift+38',\n            multiSelectionByDownArrow: 'shift+40',\n            shiftTab: 'shift+tab',\n            enter: '13',\n            tab: 'tab',\n            delete: '46',\n            escape: '27',\n            space: '32'\n        };\n        this.parent = parent;\n        this.parent.element.tabIndex = this.parent.element.tabIndex === -1 ? 0 : this.parent.element.tabIndex;\n        this.keyboardModule = new KeyboardEvents(this.parent.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        this.multiSelection = false;\n    }\n    Keyboard.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var selectedCard = this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS).item(0);\n        if (!selectedCard && !closest(document.activeElement, \".\" + cls.ROOT_CLASS)) {\n            return;\n        }\n        var contentCell;\n        var selectedCards;\n        var selectedCardsData = [];\n        switch (e.action) {\n            case 'upArrow':\n            case 'downArrow':\n            case 'multiSelectionByUpArrow':\n            case 'multiSelectionByDownArrow':\n                e.preventDefault();\n                this.processUpDownArrow(e.action, selectedCard);\n                break;\n            case 'rightArrow':\n            case 'leftArrow':\n                this.processLeftRightArrow(e);\n                break;\n            case 'firstCardSelection':\n            case 'lastCardSelection':\n                this.processCardSelection(e.action, selectedCard);\n                break;\n            case 'multiSelectionEnter':\n            case 'multiSelectionSpace':\n                if (document.activeElement) {\n                    this.parent.actionModule.cardSelection(document.activeElement, true, false);\n                }\n                break;\n            case 'space':\n            case 'enter':\n                this.processEnter(e, selectedCard);\n                break;\n            case 'escape':\n                if (document.activeElement.classList.contains(cls.CARD_CLASS) ||\n                    document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                    if (document.activeElement.classList.contains(cls.CARD_SELECTION_CLASS)) {\n                        removeClass([document.activeElement], cls.CARD_SELECTION_CLASS);\n                        document.activeElement.focus();\n                    }\n                    else {\n                        var ele = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                        var cards = [].slice.call(ele.querySelectorAll('.' + cls.CARD_CLASS));\n                        removeClass(cards, cls.CARD_SELECTION_CLASS);\n                        ele.focus();\n                        this.cardTabIndexRemove();\n                        this.addRemoveTabIndex('Add');\n                    }\n                }\n                break;\n            case 'tab':\n            case 'shiftTab':\n                contentCell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n                    if (!document.activeElement.nextElementSibling && e.action === 'tab') {\n                        e.preventDefault();\n                    }\n                    if (!document.activeElement.previousElementSibling && contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)\n                        && e.action === 'tab') {\n                        addClass([contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)], cls.SHOW_ADD_FOCUS);\n                    }\n                }\n                if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                    if ((!contentCell.querySelector('.' + cls.CARD_CLASS) && e.action === 'tab') || e.action === 'shiftTab') {\n                        e.preventDefault();\n                    }\n                }\n                if (document.activeElement.classList.contains(cls.ROOT_CLASS)) {\n                    this.cardTabIndexRemove();\n                    this.parent.keyboardModule.addRemoveTabIndex('Add');\n                }\n                break;\n            case 'delete':\n                selectedCards = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS));\n                selectedCards.forEach(function (selected) { selectedCardsData.push(_this.parent.getCardDetails(selected)); });\n                this.parent.crudModule.deleteCard(selectedCardsData);\n                break;\n        }\n    };\n    Keyboard.prototype.processCardSelection = function (action, selectedCard) {\n        if (selectedCard) {\n            removeClass([selectedCard], cls.CARD_SELECTION_CLASS);\n            this.parent.layoutModule.disableAttributeSelection(selectedCard);\n            var selection = this.parent.actionModule.selectionArray;\n            selection.splice(selection.indexOf(selectedCard.getAttribute('data-id')), 1);\n        }\n        this.cardTabIndexRemove();\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n        var element = action === 'firstCardSelection' ? cards[0] : cards[cards.length - 1];\n        this.parent.actionModule.cardSelection(element, false, false);\n        this.addRemoveTabIndex('Remove');\n        element.focus();\n        var card = [].slice.call(closest(element, '.' + cls.CONTENT_CELLS_CLASS).querySelectorAll('.' + cls.CARD_CLASS));\n        card.forEach(function (element) { element.setAttribute('tabindex', '0'); });\n    };\n    Keyboard.prototype.processLeftRightArrow = function (e) {\n        if (document.activeElement.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n            if (e.action === 'rightArrow' && document.activeElement.nextElementSibling) {\n                document.activeElement.nextElementSibling.focus();\n            }\n            else if (e.action === 'leftArrow' && document.activeElement.previousElementSibling) {\n                document.activeElement.previousElementSibling.focus();\n            }\n        }\n    };\n    Keyboard.prototype.processUpDownArrow = function (action, selectedCard) {\n        if (action === 'upArrow' && document.activeElement) {\n            if (document.activeElement.classList.contains(cls.CARD_CLASS) && document.activeElement.previousElementSibling) {\n                document.activeElement.previousElementSibling.focus();\n            }\n            else if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                document.activeElement.setAttribute('tabindex', '-1');\n                removeClass([document.activeElement], cls.SHOW_ADD_FOCUS);\n                var cell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                if (cell.querySelectorAll('.' + cls.CARD_CLASS).length > 0) {\n                    [].slice.call(cell.querySelectorAll('.' + cls.CARD_CLASS)).slice(-1)[0].focus();\n                }\n            }\n            this.removeSelection();\n        }\n        else if (action === 'downArrow' && document.activeElement &&\n            document.activeElement.classList.contains(cls.CARD_CLASS)) {\n            if (document.activeElement.nextElementSibling) {\n                document.activeElement.nextElementSibling.focus();\n            }\n            else if (closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling) {\n                var ele = closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling;\n                ele.setAttribute('tabindex', '0');\n                addClass([ele], cls.SHOW_ADD_FOCUS);\n                ele.focus();\n            }\n            this.removeSelection();\n        }\n        if ((action === 'multiSelectionByUpArrow' || action === 'multiSelectionByDownArrow')\n            && selectedCard && this.parent.cardSettings.selectionType === 'Multiple') {\n            var card = void 0;\n            if (action === 'multiSelectionByUpArrow') {\n                card = document.activeElement.previousElementSibling;\n            }\n            else {\n                card = document.activeElement.nextElementSibling;\n            }\n            if (card) {\n                this.parent.actionModule.cardSelection(card, false, true);\n                card.focus();\n                this.multiSelection = true;\n            }\n        }\n    };\n    Keyboard.prototype.removeSelection = function () {\n        if (this.multiSelection) {\n            var cards = this.parent.getSelectedCards();\n            if (cards.length > 0) {\n                removeClass(cards, cls.CARD_SELECTION_CLASS);\n                this.parent.layoutModule.disableAttributeSelection(cards);\n            }\n            this.multiSelection = false;\n        }\n    };\n    Keyboard.prototype.cardTabIndexRemove = function () {\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n        cards.forEach(function (card) { card.setAttribute('tabindex', '-1'); });\n        var addButton = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SHOW_ADD_BUTTON));\n        addButton.forEach(function (add) {\n            add.setAttribute('tabindex', '-1');\n            removeClass([add], cls.SHOW_ADD_FOCUS);\n        });\n    };\n    Keyboard.prototype.processEnter = function (e, selectedCard) {\n        if (e.action === 'space') {\n            e.preventDefault();\n        }\n        var element = (e.target);\n        if (element.classList.contains(cls.HEADER_ICON_CLASS)) {\n            this.parent.actionModule.columnExpandCollapse(e);\n        }\n        if (element.classList.contains(cls.SWIMLANE_ROW_EXPAND_CLASS) || element.classList.contains(cls.SWIMLANE_ROW_COLLAPSE_CLASS)) {\n            this.parent.actionModule.rowExpandCollapse(e);\n        }\n        if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n            this.parent.actionModule.cardSelection(document.activeElement, false, false);\n        }\n        if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n            if (!this.parent.dialogModule.dialogObj) {\n                this.parent.actionModule.addButtonClick(document.activeElement);\n            }\n            document.activeElement.focus();\n        }\n        if (element.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n            var cards = [].slice.call(element.querySelectorAll('.' + cls.CARD_CLASS));\n            this.addRemoveTabIndex('Remove');\n            if (cards.length > 0) {\n                element.querySelector('.' + cls.CARD_CLASS).focus();\n                cards.forEach(function (element) { element.setAttribute('tabindex', '0'); });\n            }\n            if (element.querySelector('.' + cls.SHOW_ADD_BUTTON)) {\n                element.querySelector('.' + cls.SHOW_ADD_BUTTON).setAttribute('tabindex', '0');\n                element.querySelector('.' + cls.SHOW_ADD_BUTTON).focus();\n            }\n        }\n        if (selectedCard === document.activeElement && this.parent.element.querySelectorAll('.' + cls.CARD_SELECTION_CLASS).length === 1) {\n            this.parent.activeCardData = {\n                data: this.parent.getCardDetails(selectedCard), element: selectedCard\n            };\n            if (!this.parent.dialogModule.dialogObj) {\n                this.parent.dialogModule.openDialog('Edit', this.parent.getCardDetails(selectedCard));\n            }\n            selectedCard.focus();\n        }\n    };\n    Keyboard.prototype.addRemoveTabIndex = function (action) {\n        var attribute = action === 'Add' ? '0' : '-1';\n        var headerIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.HEADER_ICON_CLASS));\n        if (headerIcon.length > 0) {\n            headerIcon.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n        }\n        var swimlaneIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SWIMLANE_ROW_EXPAND_CLASS));\n        if (swimlaneIcon.length > 0) {\n            swimlaneIcon.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n        }\n        var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + ') .' + cls.CONTENT_CELLS_CLASS;\n        var contentCell = [].slice.call(this.parent.element.querySelectorAll(className));\n        contentCell.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n    };\n    Keyboard.prototype.destroy = function () {\n        this.keyboardModule.destroy();\n    };\n    return Keyboard;\n}());\nexport { Keyboard };\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { createElement, append, closest, addClass } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constant';\n/**\n * Tooltip for Kanban board\n */\nvar KanbanTooltip = /** @class */ (function () {\n    /**\n     * Constructor for tooltip module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     */\n    function KanbanTooltip(parent) {\n        this.parent = parent;\n        this.renderTooltip();\n    }\n    KanbanTooltip.prototype.renderTooltip = function () {\n        this.tooltipObj = new Tooltip({\n            cssClass: this.parent.cssClass + ' ' + cls.TOOLTIP_CLASS,\n            enableRtl: this.parent.enableRtl,\n            mouseTrail: !this.parent.isAdaptive,\n            offsetY: 5,\n            position: 'BottomCenter',\n            showTipPointer: true,\n            target: '.' + cls.TOOLTIP_TEXT_CLASS,\n            beforeRender: this.onBeforeRender.bind(this),\n            beforeClose: this.onBeforeClose.bind(this)\n        });\n        this.tooltipObj.appendTo(this.parent.element);\n        this.tooltipObj.isStringTemplate = true;\n    };\n    KanbanTooltip.prototype.onBeforeRender = function (args) {\n        if (this.parent.dragAndDropModule.isDragging) {\n            args.cancel = true;\n            return;\n        }\n        var tooltipContent;\n        if (this.parent.tooltipTemplate) {\n            tooltipContent = createElement('div');\n            var target = closest(args.target, '.' + cls.CARD_CLASS);\n            var data = this.parent.getCardDetails(target);\n            var templateId = this.parent.element.id + '_tooltipTemplate';\n            var tooltipTemplate = this.parent.templateParser(this.parent.tooltipTemplate)(data, this.parent, 'tooltipTemplate', templateId, false);\n            append(tooltipTemplate, tooltipContent);\n            this.parent.renderTemplates();\n        }\n        else {\n            tooltipContent = \"<div class=\\\"e-card-header-caption\\\">\" + args.target.innerText + \"</div>\";\n        }\n        this.tooltipObj.setProperties({ content: tooltipContent }, true);\n    };\n    KanbanTooltip.prototype.onBeforeClose = function () {\n        this.parent.resetTemplates(['tooltipTemplate']);\n    };\n    KanbanTooltip.prototype.destroy = function () {\n        this.tooltipObj.destroy();\n        addClass([this.parent.element], 'e-control');\n        this.tooltipObj = null;\n    };\n    return KanbanTooltip;\n}());\nexport { KanbanTooltip };\n","import { Touch, EventHandler, remove, addClass, createElement, closest } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban touch module\n */\nvar KanbanTouch = /** @class */ (function () {\n    /**\n     * Constructor for touch module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     * @private\n     */\n    function KanbanTouch(parent) {\n        this.parent = parent;\n        this.tabHold = false;\n    }\n    KanbanTouch.prototype.wireTouchEvents = function () {\n        this.element = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        this.touchObj = new Touch(this.element, { tapHold: this.tapHoldHandler.bind(this) });\n    };\n    KanbanTouch.prototype.tapHoldHandler = function (e) {\n        this.tabHold = true;\n        var target = closest(e.originalEvent.target, '.' + cls.CARD_CLASS);\n        if (target && this.parent.cardSettings.selectionType === 'Multiple') {\n            this.parent.actionModule.cardSelection(target, true, false);\n            if (!this.mobilePopup) {\n                this.renderMobilePopup();\n                this.mobilePopup.show();\n            }\n            this.updatePopupContent();\n        }\n    };\n    KanbanTouch.prototype.renderMobilePopup = function () {\n        if (this.parent.cardSettings.selectionType === 'Multiple') {\n            var mobilePopupWrapper = createElement('div', {\n                className: cls.POPUP_WRAPPER_CLASS + ' e-popup-close',\n                innerHTML: \"<div class=\\\"\" + cls.POPUP_HEADER_CLASS + \"\\\"><button class=\\\"\" + cls.CLOSE_CLASS + \"\\\"></button></div>\" +\n                    (\"<div class=\\\"\" + cls.POPUP_CONTENT_CLASS + \"\\\"></div>\")\n            });\n            document.body.appendChild(mobilePopupWrapper);\n            addClass([mobilePopupWrapper], cls.DEVICE_CLASS);\n            this.mobilePopup = new Popup(mobilePopupWrapper, {\n                targetType: 'container',\n                enableRtl: this.parent.enableRtl,\n                hideAnimation: { name: 'ZoomOut' },\n                showAnimation: { name: 'ZoomIn' },\n                collision: { X: 'fit', Y: 'fit' },\n                position: { X: 'left', Y: 'top' },\n                viewPortElement: document.body,\n                zIndex: 1004,\n                close: this.popupClose.bind(this)\n            });\n            var closeIcon = this.mobilePopup.element.querySelector('.' + cls.CLOSE_CLASS);\n            var buttonObj = new Button({\n                cssClass: 'e-flat e-round e-small',\n                enableRtl: this.parent.enableRtl,\n                iconCss: cls.ICON_CLASS + ' ' + cls.CLOSE_ICON_CLASS\n            });\n            buttonObj.appendTo(closeIcon);\n            buttonObj.isStringTemplate = true;\n            EventHandler.add(closeIcon, 'click', this.closeClick, this);\n        }\n    };\n    KanbanTouch.prototype.getPopupContent = function () {\n        var popupContent;\n        var selectedCards = this.parent.getSelectedCards();\n        if (selectedCards.length > 1) {\n            popupContent = '(' + selectedCards.length + ') ' + this.parent.localeObj.getConstant('cardsSelected');\n        }\n        else if (selectedCards.length === 1) {\n            popupContent = ' ' + this.parent.getCardDetails(selectedCards[0])[this.parent.cardSettings.headerField];\n        }\n        return popupContent;\n    };\n    KanbanTouch.prototype.updatePopupContent = function () {\n        if (!this.mobilePopup) {\n            return;\n        }\n        var popupContent = this.getPopupContent();\n        if (popupContent) {\n            this.mobilePopup.element.querySelector('.' + cls.POPUP_CONTENT_CLASS).textContent = popupContent;\n        }\n        else {\n            this.mobilePopup.hide();\n        }\n    };\n    KanbanTouch.prototype.closeClick = function () {\n        this.parent.touchModule.mobilePopup.hide();\n    };\n    KanbanTouch.prototype.popupClose = function () {\n        this.popupDestroy();\n    };\n    KanbanTouch.prototype.popupDestroy = function () {\n        if (this.mobilePopup && this.mobilePopup.element) {\n            var instance = this.mobilePopup.element.querySelector('.e-control.e-btn').ej2_instances[0];\n            if (instance) {\n                instance.destroy();\n            }\n            this.mobilePopup.destroy();\n            remove(this.mobilePopup.element);\n            this.mobilePopup = null;\n        }\n    };\n    KanbanTouch.prototype.unWireTouchEvents = function () {\n        if (this.touchObj) {\n            this.touchObj.destroy();\n        }\n        this.touchObj = null;\n        this.element = null;\n    };\n    KanbanTouch.prototype.destroy = function () {\n        this.popupDestroy();\n        this.unWireTouchEvents();\n        this.tabHold = false;\n    };\n    return KanbanTouch;\n}());\nexport { KanbanTouch };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, isUndefined, Browser, compile, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { Event, EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { rippleEffect, Animation, remove } from '@syncfusion/ej2-base';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { getElement } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, closest, matches, detach, select, selectAll, isVisible, append } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isNullOrUndefined as isNOU, Touch, getValue, setValue, extend, merge, attributes } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nvar ROOT = 'e-treeview';\nvar CONTROL = 'e-control';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar LISTWRAP = 'e-text-wrap';\nvar IELISTWRAP = 'e-ie-wrap';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL = 'e-rtl';\nvar INTERACTION = 'e-interaction';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar RIPPLE = 'e-ripple';\nvar RIPPLEELMENT = 'e-ripple-element';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar CHILD = 'e-has-child';\nvar ITEM_ANIMATION_ACTIVE = 'e-animation-active';\nvar DISABLED = 'e-disabled';\nvar treeAriaAttr = {\n    treeRole: 'tree',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: ''\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nvar FieldsSettings = /** @class */ (function (_super) {\n    __extends(FieldsSettings, _super);\n    function FieldsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], FieldsSettings.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], FieldsSettings.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], FieldsSettings.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], FieldsSettings.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], FieldsSettings.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('id')\n    ], FieldsSettings.prototype, \"id\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], FieldsSettings.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('isChecked')\n    ], FieldsSettings.prototype, \"isChecked\", void 0);\n    __decorate([\n        Property('parentID')\n    ], FieldsSettings.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"query\", void 0);\n    __decorate([\n        Property('selected')\n    ], FieldsSettings.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], FieldsSettings.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], FieldsSettings.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], FieldsSettings.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('navigateUrl')\n    ], FieldsSettings.prototype, \"navigateUrl\", void 0);\n    return FieldsSettings;\n}(ChildProperty));\nexport { FieldsSettings };\n/**\n * Configures animation settings for the TreeView component.\n */\nvar ActionSettings = /** @class */ (function (_super) {\n    __extends(ActionSettings, _super);\n    function ActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('SlideDown')\n    ], ActionSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], ActionSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property('linear')\n    ], ActionSettings.prototype, \"easing\", void 0);\n    return ActionSettings;\n}(ChildProperty));\nexport { ActionSettings };\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nvar NodeAnimationSettings = /** @class */ (function (_super) {\n    __extends(NodeAnimationSettings, _super);\n    function NodeAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"expand\", void 0);\n    return NodeAnimationSettings;\n}(ChildProperty));\nexport { NodeAnimationSettings };\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\nvar TreeView = /** @class */ (function (_super) {\n    __extends(TreeView, _super);\n    function TreeView(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRefreshed = false;\n        _this.preventExpand = false;\n        _this.checkedElement = [];\n        _this.disableNode = [];\n        // eslint-disable-next-line\n        _this.validArr = [];\n        _this.validNodes = [];\n        _this.expandChildren = [];\n        _this.isFieldChange = false;\n        _this.changeDataSource = false;\n        _this.hasTemplate = false;\n        _this.isFirstRender = false;\n        _this.mouseDownStatus = false;\n        return _this;\n    }\n    TreeView_1 = TreeView;\n    /**\n     * Get component name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     */\n    TreeView.prototype.getModuleName = function () {\n        return 'treeview';\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     */\n    TreeView.prototype.preRender = function () {\n        var _this = this;\n        this.checkActionNodes = [];\n        this.parentNodeCheck = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space'\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: function (e) {\n                _this.beforeNodeCreate(e);\n            },\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            itemNavigable: this.fullRowNavigable\n        };\n        this.updateListProp(this.fields);\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.isInitalExpand = false;\n        this.expandChildren = [];\n        this.index = 0;\n        this.setTouchClass();\n        if (isNOU(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNOU(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n        if (isNOU(this.expandedNodes)) {\n            this.setProperties({ expandedNodes: [] }, true);\n        }\n        else {\n            this.isInitalExpand = true;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - returns the persisted data\n     * @hidden\n     */\n    TreeView.prototype.getPersistData = function () {\n        var keyEntity = ['selectedNodes', 'checkedNodes', 'expandedNodes'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    TreeView.prototype.render = function () {\n        this.initialRender = true;\n        this.initialize();\n        this.setDataBinding(false);\n        this.setDisabledMode();\n        this.setExpandOnType();\n        if (!this.disabled) {\n            this.setRipple();\n        }\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.initialRender = false;\n        this.renderComplete();\n    };\n    TreeView.prototype.initialize = function () {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('tabindex', '0');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.setTextWrap();\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    };\n    TreeView.prototype.setDisabledMode = function () {\n        if (this.disabled) {\n            this.element.classList.add(DISABLED);\n        }\n        else {\n            this.element.classList.remove(DISABLED);\n        }\n    };\n    TreeView.prototype.setEnableRtl = function () {\n        (this.enableRtl ? addClass : removeClass)([this.element], RTL);\n    };\n    TreeView.prototype.setRipple = function () {\n        var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        var rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        var iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    };\n    TreeView.prototype.setFullRow = function (isEnabled) {\n        (isEnabled ? addClass : removeClass)([this.element], FULLROWWRAP);\n    };\n    TreeView.prototype.setMultiSelect = function (isEnabled) {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    };\n    // eslint-disable-next-line\n    TreeView.prototype.templateComplier = function (template) {\n        if (template) {\n            this.hasTemplate = true;\n            // eslint-disable-next-line\n            var e = void 0;\n            this.element.classList.add(INTERACTION);\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        this.element.classList.remove(INTERACTION);\n        return undefined;\n    };\n    TreeView.prototype.setDataBinding = function (changeDataSource) {\n        var _this = this;\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            /* eslint-disable */\n            this.isOffline = this.fields.dataSource.dataSource.offline;\n            if (this.fields.dataSource.ready) {\n                this.fields.dataSource.ready.then(function (e) {\n                    /* eslint-disable */\n                    _this.isOffline = _this.fields.dataSource.dataSource.offline;\n                    if (_this.fields.dataSource instanceof DataManager && _this.isOffline) {\n                        _this.treeList.pop();\n                        _this.treeData = e.result;\n                        _this.isNumberTypeId = _this.getType();\n                        _this.setRootData();\n                        _this.renderItems(true);\n                        if (_this.treeList.length === 0 && !_this.isLoaded) {\n                            _this.finalize();\n                        }\n                    }\n                }).catch(function (e) {\n                    _this.trigger('actionFailure', { error: e });\n                });\n            }\n            else {\n                this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n                    _this.treeList.pop();\n                    _this.treeData = e.result;\n                    _this.isNumberTypeId = _this.getType();\n                    _this.setRootData();\n                    if (changeDataSource) {\n                        _this.changeDataSource = true;\n                    }\n                    _this.renderItems(true);\n                    _this.changeDataSource = false;\n                    if (_this.treeList.length === 0 && !_this.isLoaded) {\n                        _this.finalize();\n                    }\n                }).catch(function (e) {\n                    _this.trigger('actionFailure', { error: e });\n                });\n            }\n        }\n        else {\n            this.treeList.pop();\n            if (isNOU(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = JSON.parse(JSON.stringify(this.fields.dataSource));\n                this.setRootData();\n            }\n            this.isNumberTypeId = this.getType();\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.getQuery = function (mapper, value) {\n        if (value === void 0) { value = null; }\n        var columns = [];\n        var query;\n        if (!mapper.query) {\n            query = new Query();\n            var prop = this.getActualProperties(mapper);\n            for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && col !== 'url' && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNOU(value) && !isNOU(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    };\n    TreeView.prototype.getType = function () {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    };\n    TreeView.prototype.setRootData = function () {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            var rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNOU(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    };\n    TreeView.prototype.renderItems = function (isSorted) {\n        /* eslint-disable */\n        this.listBaseOption.ariaAttributes.level = 1;\n        var sortedData = this.getSortedData(this.rootData);\n        this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : sortedData, this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        var rootNodes = this.ulElement.querySelectorAll('.e-list-item');\n        if (this.loadOnDemand === false) {\n            var i = 0;\n            while (i < rootNodes.length) {\n                this.renderChildNodes(rootNodes[i], true, null, true);\n                i++;\n            }\n        }\n        var parentEle = selectAll('.' + PARENTITEM, this.element);\n        if ((parentEle.length === 1 && (rootNodes && rootNodes.length !== 0)) || this.loadOnDemand) {\n            this.finalizeNode(this.element);\n        }\n        this.parentNodeCheck = [];\n        this.parentCheckData = [];\n        this.updateCheckedStateFromDS();\n        if (this.autoCheck && this.showCheckBox && !this.isLoaded) {\n            this.updateParentCheckState();\n        }\n    };\n    /**\n     * Update the checkedNodes from datasource at initial rendering\n     */\n    TreeView.prototype.updateCheckedStateFromDS = function (id) {\n        this.validNodes = [];\n        if (this.treeData && this.showCheckBox) {\n            if (this.dataType === 1) {\n                var mapper = this.fields;\n                var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n                for (var i = 0; i < resultData.length; i++) {\n                    var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n                    var resultPId = resultData[i][this.fields.parentID] ? resultData[i][this.fields.parentID].toString() : null;\n                    if (this.checkedNodes.indexOf(resultId) === -1 && !(this.isLoaded)) {\n                        this.checkedNodes.push(resultId);\n                    }\n                    if (resultData[i][this.fields.hasChildren]) {\n                        var id_1 = resultData[i][this.fields.id];\n                        var childData = new DataManager(this.treeData).\n                            executeLocal(new Query().where(mapper.parentID, 'equal', id_1, false));\n                        for (var child = 0; child < childData.length; child++) {\n                            var childId = childData[child][this.fields.id] ? childData[child][this.fields.id].toString() : null;\n                            if (this.checkedNodes.indexOf(childId) === -1 && this.autoCheck) {\n                                this.checkedNodes.push(childId);\n                            }\n                        }\n                    }\n                }\n                for (var i = 0; i < this.checkedNodes.length; i++) {\n                    var mapper_1 = this.fields;\n                    var checkState = new DataManager(this.treeData).\n                        executeLocal(new Query().where(mapper_1.id, 'equal', this.checkedNodes[i], true));\n                    if (checkState[0] && this.autoCheck) {\n                        this.getCheckedNodeDetails(mapper_1, checkState);\n                        this.checkIndeterminateState(checkState[0]);\n                    }\n                    if (checkState.length > 0) {\n                        var checkedId = checkState[0][this.fields.id] ? checkState[0][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n                            this.validNodes.push(checkedId);\n                        }\n                    }\n                    var checkedData = new DataManager(this.treeData).\n                        executeLocal(new Query().where(mapper_1.parentID, 'equal', this.checkedNodes[i], true));\n                    for (var index = 0; index < checkedData.length; index++) {\n                        var checkedId = checkedData[index][this.fields.id] ? checkedData[index][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(checkedId) === -1 && this.autoCheck) {\n                            this.checkedNodes.push(checkedId);\n                        }\n                        if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n                            this.validNodes.push(checkedId);\n                        }\n                    }\n                }\n            }\n            else if (this.dataType === 2 || (this.fields.dataSource instanceof DataManager &&\n                this.isOffline)) {\n                for (var index = 0; index < this.treeData.length; index++) {\n                    var fieldId = this.treeData[index][this.fields.id] ? this.treeData[index][this.fields.id].toString() : '';\n                    if (this.treeData[index][this.fields.isChecked] && !(this.isLoaded) && this.checkedNodes.indexOf(fieldId) === -1) {\n                        this.checkedNodes.push(fieldId);\n                    }\n                    if (this.checkedNodes.indexOf(fieldId) > -1 && this.validNodes.indexOf(fieldId) === -1) {\n                        this.validNodes.push(fieldId);\n                    }\n                    var childItems = getValue(this.fields.child.toString(), this.treeData[index]);\n                    if (childItems) {\n                        this.updateChildCheckState(childItems, this.treeData[index]);\n                    }\n                }\n            }\n            this.setProperties({ checkedNodes: this.validNodes }, true);\n        }\n    };\n    /**\n     * To check whether the list data has sub child and to change the parent check state accordingly\n     */\n    TreeView.prototype.getCheckedNodeDetails = function (mapper, checkNodes) {\n        var id = checkNodes[0][this.fields.parentID] ? checkNodes[0][this.fields.parentID].toString() : null;\n        var count = 0;\n        var element = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.id] + '\"]');\n        var parentEle = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.parentID] + '\"]');\n        if (!element && !parentEle) {\n            var len = this.parentNodeCheck.length;\n            if (this.parentNodeCheck.indexOf(id) === -1) {\n                this.parentNodeCheck.push(id);\n            }\n            var childNodes = this.getChildNodes(this.treeData, id);\n            for (var i = 0; i < childNodes.length; i++) {\n                var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                if (this.checkedNodes.indexOf(childId) !== -1) {\n                    count++;\n                }\n                if (count === childNodes.length && this.checkedNodes.indexOf(id) === -1) {\n                    this.checkedNodes.push(id);\n                }\n            }\n            var preElement = new DataManager(this.treeData).\n                executeLocal(new Query().where(mapper.id, 'equal', id, true));\n            this.getCheckedNodeDetails(mapper, preElement);\n        }\n        else if (parentEle) {\n            var check = select('.' + CHECK, parentEle);\n            if (!check) {\n                this.changeState(parentEle, 'indeterminate', null, true, true);\n            }\n        }\n    };\n    /**\n     * Update the checkedNodes and parent state when all the child Nodes are in checkedstate at initial rendering\n     */\n    TreeView.prototype.updateParentCheckState = function () {\n        var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n        var childCheckedElement;\n        for (var i = 0; i < indeterminate.length; i++) {\n            var node = closest(indeterminate[i], '.' + LISTITEM);\n            var nodeId = node.getAttribute('data-uid').toString();\n            if (this.dataType === 1) {\n                childCheckedElement = new DataManager(this.treeData).\n                    executeLocal(new Query().where(this.fields.parentID, 'equal', nodeId, true));\n            }\n            else {\n                childCheckedElement = this.getChildNodes(this.treeData, nodeId);\n            }\n            var count = 0;\n            if (childCheckedElement) {\n                for (var j = 0; j < childCheckedElement.length; j++) {\n                    var childId = childCheckedElement[j][this.fields.id].toString();\n                    if (this.checkedNodes.indexOf(childId) !== -1) {\n                        count++;\n                    }\n                }\n                if (count === childCheckedElement.length) {\n                    var nodeCheck = node.getAttribute('data-uid');\n                    if (this.checkedNodes.indexOf(nodeCheck) === -1) {\n                        this.checkedNodes.push(nodeCheck);\n                    }\n                    this.changeState(node, 'check', null, true, true);\n                }\n                else if (count === 0 && this.checkedNodes.length === 0) {\n                    this.changeState(node, 'uncheck', null, true, true);\n                }\n            }\n        }\n    };\n    /**\n     * Change the parent to indeterminate state whenever the child is in checked state which is not rendered in DOM\n     */\n    TreeView.prototype.checkIndeterminateState = function (data) {\n        var element;\n        if (this.dataType === 1) {\n            element = this.element.querySelector('[data-uid=\"' + data[this.fields.parentID] + '\"]');\n        }\n        else {\n            element = this.element.querySelector('[data-uid=\"' + data[this.fields.id] + '\"]');\n        }\n        if (element) {\n            var ariaChecked = element.querySelector('.' + CHECKBOXWRAP).getAttribute('aria-checked');\n            if (ariaChecked !== 'true') {\n                this.changeState(element, 'indeterminate', null, true, true);\n            }\n        }\n        else if (this.dataType === 2) {\n            var len = this.parentNodeCheck.length;\n            if (this.parentNodeCheck.indexOf(data[this.fields.id].toString()) === -1) {\n                this.parentNodeCheck.push(data[this.fields.id].toString());\n            }\n        }\n    };\n    /**\n     * Update the checkedNodes for child and subchild from datasource (hierarchical datasource) at initial rendering\n     */\n    TreeView.prototype.updateChildCheckState = function (childItems, treeData) {\n        var count = 0;\n        var checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n        for (var index = 0; index < childItems.length; index++) {\n            var checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n            if (childItems[index][this.fields.isChecked] && !(this.isLoaded) && this.checkedNodes.indexOf(checkedChild) === -1) {\n                this.checkedNodes.push(checkedChild);\n            }\n            if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1 && this.autoCheck) {\n                this.checkedNodes.push(checkedChild);\n            }\n            if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n                count++;\n            }\n            if (this.checkedNodes.indexOf(checkedChild) > -1 && this.validNodes.indexOf(checkedChild) === -1) {\n                this.validNodes.push(checkedChild);\n            }\n            var subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n            if (subChildItems) {\n                this.parentCheckData.push(treeData);\n                this.updateChildCheckState(subChildItems, childItems[index]);\n            }\n            if (count === childItems.length && this.autoCheck && this.checkedNodes.indexOf(checkedParent) === -1) {\n                this.checkedNodes.push(checkedParent);\n            }\n        }\n        if (count !== 0 && this.autoCheck) {\n            this.checkIndeterminateState(treeData);\n            for (var len = 0; len < this.parentCheckData.length; len++) {\n                if ((treeData !== this.parentCheckData[len]) && (this.parentCheckData[len])) {\n                    this.checkIndeterminateState(this.parentCheckData[len]);\n                }\n            }\n        }\n        this.parentCheckData = [];\n    };\n    TreeView.prototype.beforeNodeCreate = function (e) {\n        if (this.showCheckBox) {\n            var checkboxEle = createCheckBox(this.createElement, true, { cssClass: this.touchClass });\n            checkboxEle.setAttribute('role', 'checkbox');\n            var icon = select('div.' + ICON, e.item);\n            var id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNOU(icon) ? 0 : 1]);\n            var checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNOU(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        var fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        if (!isNOU(this.nodeTemplateFn)) {\n            var textEle = e.item.querySelector('.' + LISTTEXT);\n            var dataId = e.item.getAttribute('data-uid');\n            textEle.innerHTML = '';\n            this.renderNodeTemplate(e.curData, textEle, dataId);\n        }\n        var eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        if (!this.isRefreshed) {\n            this.trigger('drawNode', eventArgs);\n        }\n    };\n    TreeView.prototype.frameMouseHandler = function (e) {\n        var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    };\n    TreeView.prototype.addActionClass = function (e, action, cssClass) {\n        var data = e.curData;\n        var actionValue = getValue(action, data);\n        if (!isNOU(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    };\n    TreeView.prototype.getDataType = function (ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if (this.isOffline) {\n                    if ((typeof mapper.child === 'string') && isNOU(getValue(mapper.child, ds[i])) && !isNOU(getValue(mapper.parentID, ds[i]))) {\n                        return 1;\n                    }\n                }\n                else if ((typeof mapper.child === 'string') && isNOU(getValue(mapper.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        for (var i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNOU(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(mapper.parentID, ds[i])) || !isNOU(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n        var cusQuery = new Query().group(groupBy);\n        var ds = ListBase.getDataSource(dataSource, cusQuery);\n        var grpItem = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    };\n    TreeView.prototype.getSortedData = function (list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    };\n    TreeView.prototype.finalizeNode = function (element) {\n        var iNodes = selectAll('.' + IMAGE, element);\n        for (var k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            var sNodes = selectAll('.' + SELECTED, element);\n            for (var i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED);\n        }\n        var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (var j = 0; j < cNodes.length; j++) {\n            var icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                this.disableExpandAttr(cNodes[j]);\n            }\n        }\n        var eNodes = selectAll('.' + EXPANDED, element);\n        if (!this.isInitalExpand) {\n            for (var i = 0; i < eNodes.length; i++) {\n                this.renderChildNodes(eNodes[i]);\n            }\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    };\n    TreeView.prototype.updateCheckedProp = function () {\n        if (this.showCheckBox) {\n            var nodes = [].concat([], this.checkedNodes);\n            this.setProperties({ checkedNodes: nodes }, true);\n        }\n    };\n    TreeView.prototype.ensureIndeterminate = function () {\n        if (this.autoCheck) {\n            var liElement = selectAll('li', this.element);\n            var ulElement = void 0;\n            for (var i = 0; i < liElement.length; i++) {\n                if (liElement[i].classList.contains(LISTITEM)) {\n                    ulElement = select('.' + PARENTITEM, liElement[i]);\n                    if (ulElement) {\n                        this.ensureParentCheckState(liElement[i]);\n                    }\n                    else {\n                        this.ensureChildCheckState(liElement[i]);\n                    }\n                }\n            }\n        }\n        else {\n            var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n            for (var i = 0; i < indeterminate.length; i++) {\n                indeterminate[i].classList.remove(INDETERMINATE);\n            }\n        }\n    };\n    TreeView.prototype.ensureParentCheckState = function (element) {\n        if (!isNOU(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            var ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            var checkedNodes = selectAll('.' + CHECK, ulElement);\n            var indeterminateNodes = selectAll('.' + INDETERMINATE, ulElement);\n            var nodes = selectAll('.' + LISTITEM, ulElement);\n            var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0 || indeterminateNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            var parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNOU(parentUL)) {\n                var currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    };\n    TreeView.prototype.ensureChildCheckState = function (element, e) {\n        if (!isNOU(element)) {\n            var childElement = select('.' + PARENTITEM, element);\n            var checkBoxes = void 0;\n            if (!isNOU(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                var parentCheck = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(INDETERMINATE);\n                var childCheck = childElement.querySelectorAll('li');\n                var expandState = childElement.parentElement.getAttribute('aria-expanded');\n                var checkedState = void 0;\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    var childId = childCheck[index].getAttribute('data-uid');\n                    if (!isNOU(this.currentLoadData) && !isNOU(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                        if (this.ele !== -1) {\n                            checkedState = isChecked ? 'check' : 'uncheck';\n                        }\n                        if ((checkedState === 'uncheck') && (!isUndefined(this.parentNodeCheck) && this.autoCheck\n                            && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                            checkedState = 'indeterminate';\n                        }\n                    }\n                    else {\n                        var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        if (isChecked) {\n                            checkedState = 'check';\n                        }\n                        else if (isNodeChecked && !this.isLoaded) {\n                            checkedState = 'check';\n                        }\n                        else if (this.checkedNodes.indexOf(childId) !== -1 && this.isLoaded && (parentCheck || isChecked)) {\n                            checkedState = 'check';\n                        }\n                        else if (childCheck[index].classList.contains(CHILD) && (!isUndefined(this.parentNodeCheck) && this.autoCheck\n                            && (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            checkedState = 'indeterminate';\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                        }\n                        else if (this.dataType === 1 && (!isUndefined(this.parentNodeCheck) && this.autoCheck &&\n                            (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            checkedState = 'indeterminate';\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                        }\n                        else {\n                            checkedState = 'uncheck';\n                        }\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n            if (this.autoCheck && this.isLoaded) {\n                this.updateParentCheckState();\n            }\n        }\n    };\n    TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n        var li = selectAll('.' + LISTITEM, this.element);\n        if (!isNOU(nodes)) {\n            for (var len = nodes.length; len >= 0; len--) {\n                var liEle = void 0;\n                if (nodes.length === 1) {\n                    liEle = this.getElement(nodes[len - 1]);\n                }\n                else {\n                    liEle = this.getElement(nodes[len]);\n                }\n                if (isNOU(liEle)) {\n                    var node = void 0;\n                    node = nodes[len - nodes.length] ? nodes[len - nodes.length].toString() : nodes[len] ? nodes[len].toString() : null;\n                    if (node !== '' && doCheck && node) {\n                        this.setValidCheckedNode(node);\n                        this.dynamicCheckState(node, doCheck);\n                    }\n                    else if (this.checkedNodes.indexOf(node) !== -1 && node !== '' && !doCheck) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(node), 1);\n                        var childItems = this.getChildNodes(this.treeData, node);\n                        if (childItems) {\n                            for (var i = 0; i < childItems.length; i++) {\n                                var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n                                if (this.checkedNodes.indexOf(id) !== -1) {\n                                    this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n                                    var ele = this.element.querySelector('[data-uid=\"' + id + '\"]');\n                                    if (ele) {\n                                        this.changeState(ele, 'uncheck', null);\n                                    }\n                                }\n                            }\n                            if (this.parentNodeCheck.indexOf(node) !== -1) {\n                                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(node), 1);\n                            }\n                        }\n                        if (node) {\n                            this.dynamicCheckState(node, doCheck);\n                        }\n                        this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n                    }\n                    continue;\n                }\n                var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            if (this.loadOnDemand) {\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    this.updateFieldChecked(checkBoxes[index], doCheck);\n                    this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck', null, null, null, doCheck);\n                }\n            }\n            else {\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    this.updateFieldChecked(checkBoxes[index], doCheck);\n                    this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n                }\n            }\n        }\n        if (nodes) {\n            for (var j = 0; j < nodes.length; j++) {\n                var node = nodes[j] ? nodes[j].toString() : '';\n                if (!doCheck) {\n                    this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n                }\n            }\n        }\n        if (this.autoCheck) {\n            this.updateParentCheckState();\n        }\n    };\n    TreeView.prototype.updateFieldChecked = function (checkbox, doCheck) {\n        var currLi = closest(checkbox, '.' + LISTITEM);\n        var id = currLi.getAttribute('data-uid');\n        var nodeDetails = this.getNodeData(currLi);\n        if (nodeDetails.isChecked === 'true' && !doCheck) {\n            this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n        }\n    };\n    /**\n     * Changes the parent and child  check state while changing the checkedNodes via setmodel\n     */\n    TreeView.prototype.dynamicCheckState = function (node, doCheck) {\n        if (this.dataType === 1) {\n            var count = 0;\n            var resultId = new DataManager(this.treeData).executeLocal(new Query().where(this.fields.id, 'equal', node, true));\n            if (resultId[0]) {\n                var id = resultId[0][this.fields.id] ? resultId[0][this.fields.id].toString() : null;\n                var parent_1 = resultId[0][this.fields.parentID] ? resultId[0][this.fields.parentID].toString() : null;\n                var parentElement = this.element.querySelector('[data-uid=\"' + parent_1 + '\"]');\n                var indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n                var check = parentElement ? select('.' + CHECK, parentElement) : null;\n                var element = this.element.querySelector('[data-uid=\"' + id + '\"]');\n                var childNodes = this.getChildNodes(this.treeData, parent_1);\n                if (childNodes) {\n                    for (var i = 0; i < childNodes.length; i++) {\n                        var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(childId) !== -1) {\n                            count++;\n                        }\n                    }\n                }\n                if (this.checkedNodes.indexOf(node) !== -1 && parentElement && (id === node) && this.autoCheck) {\n                    this.changeState(parentElement, 'indeterminate', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && element && (id === node) && !doCheck) {\n                    this.changeState(element, 'uncheck', null);\n                }\n                else if (this.checkedNodes.indexOf(node) !== -1 && element && (id === node) && doCheck) {\n                    this.changeState(element, 'check', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && (id === node) && this.autoCheck\n                    && count !== 0) {\n                    this.changeState(parentElement, 'indeterminate', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && (id === node) && this.autoCheck\n                    && count === 0) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                else if (!element && !parentElement && (id === node) && this.autoCheck) {\n                    this.updateIndeterminate(node, doCheck);\n                }\n            }\n        }\n        else if (this.dataType === 2 || (this.fields.dataSource instanceof DataManager &&\n            this.isOffline)) {\n            var id = void 0;\n            var parentElement = void 0;\n            var check = void 0;\n            for (var i = 0; i < this.treeData.length; i++) {\n                id = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : '';\n                parentElement = this.element.querySelector('[data-uid=\"' + id + '\"]');\n                check = parentElement ? select('.' + CHECK, parentElement) : null;\n                if (this.checkedNodes.indexOf(id) === -1 && parentElement && check && !doCheck) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                var subChild = getValue(this.fields.child.toString(), this.treeData[i]);\n                if (subChild) {\n                    this.updateChildIndeterminate(subChild, id, node, doCheck, id);\n                }\n            }\n        }\n    };\n    /**\n     * updates the parent and child  check state while changing the checkedNodes via setmodel for listData\n     */\n    TreeView.prototype.updateIndeterminate = function (node, doCheck) {\n        var indeterminateData = this.getTreeData(node);\n        var count = 0;\n        var parent;\n        if (this.dataType === 1) {\n            parent = indeterminateData[0][this.fields.parentID] ? indeterminateData[0][this.fields.parentID].toString() : null;\n        }\n        var childNodes = this.getChildNodes(this.treeData, parent);\n        if (childNodes) {\n            for (var i = 0; i < childNodes.length; i++) {\n                var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                if (this.checkedNodes.indexOf(childId) !== -1) {\n                    count++;\n                }\n            }\n        }\n        var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n        if (parentElement && doCheck) {\n            this.changeState(parentElement, 'indeterminate', null);\n        }\n        else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count !== 0) {\n            this.changeState(parentElement, 'indeterminate', null);\n        }\n        else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count === 0) {\n            this.changeState(parentElement, 'uncheck', null);\n        }\n        else if (!parentElement) {\n            if (!doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) !== -1) {\n                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent), 1);\n            }\n            else if (doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) === -1) {\n                this.parentNodeCheck.push(parent);\n            }\n            else if (!doCheck && this.checkedNodes.indexOf(parent) !== -1 && this.parentNodeCheck.indexOf(parent) === -1\n                && count !== 0) {\n                this.parentNodeCheck.push(parent);\n            }\n            this.updateIndeterminate(parent, doCheck);\n            if (this.checkedNodes.indexOf(parent) !== -1 && !doCheck) {\n                this.checkedNodes.splice(this.checkedNodes.indexOf(parent), 1);\n            }\n        }\n    };\n    /**\n     * updates the parent and child  check state while changing the checkedNodes via setmodel for hierarchical data\n     */\n    TreeView.prototype.updateChildIndeterminate = function (subChild, parent, node, doCheck, child) {\n        var count = 0;\n        for (var j = 0; j < subChild.length; j++) {\n            var subId = subChild[j][this.fields.id] ? subChild[j][this.fields.id].toString() : '';\n            if (this.checkedNodes.indexOf(subId) !== -1) {\n                count++;\n            }\n            var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n            var indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n            var check = parentElement ? select('.' + CHECK, parentElement) : null;\n            var element = this.element.querySelector('[data-uid=\"' + subId + '\"]');\n            var childElementCheck = element ? select('.' + CHECK, element) : null;\n            if (this.checkedNodes.indexOf(node) !== -1 && parentElement && (subId === node) && this.autoCheck) {\n                this.changeState(parentElement, 'indeterminate', null);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && parentElement && !element && (subId === node) && !doCheck) {\n                if (this.autoCheck) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                else {\n                    if (count !== 0) {\n                        this.changeState(parentElement, 'indeterminate', null);\n                    }\n                    else {\n                        this.changeState(parentElement, 'uncheck', null);\n                    }\n                }\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && element && (subId === node) && !doCheck) {\n                this.changeState(element, 'uncheck', null);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && indeterminate && (subId === node) && this.autoCheck && count === 0\n                && !doCheck) {\n                indeterminate.classList.remove(INDETERMINATE);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && !element && check && (subId === node) && count === 0) {\n                this.changeState(parentElement, 'uncheck', null);\n            }\n            else if (this.checkedNodes.indexOf(subId) === -1 && element && childElementCheck && count === 0) {\n                this.changeState(element, 'uncheck', null);\n            }\n            else if (!element && !parentElement && (subId === node) || (this.parentNodeCheck.indexOf(parent) !== -1) && this.autoCheck) {\n                var childElement = this.element.querySelector('[data-uid=\"' + child + '\"]');\n                if (doCheck && count !== 0) {\n                    this.changeState(childElement, 'indeterminate', null);\n                }\n                else if (doCheck && count === subChild.length && this.checkedNodes.indexOf(parent) === -1) {\n                    this.checkedNodes.push(parent);\n                }\n                else if (!doCheck && count === 0 && this.parentNodeCheck.indexOf(parent) !== -1) {\n                    this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent));\n                }\n                if (this.parentNodeCheck.indexOf(parent) === -1) {\n                    this.parentNodeCheck.push(parent);\n                }\n            }\n            var innerChild = getValue(this.fields.child.toString(), subChild[j]);\n            if (innerChild) {\n                this.updateChildIndeterminate(innerChild, subId, node, doCheck, child);\n            }\n        }\n    };\n    TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd, doCheck) {\n        var _this = this;\n        var eventArgs;\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        if (wrapper === currLi) {\n            wrapper = select('.' + CHECKBOXWRAP, currLi);\n        }\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n                if (!observedArgs.cancel) {\n                    _this.nodeCheckAction(wrapper, state, currLi, observedArgs, e, isPrevent, isAdd, doCheck);\n                }\n            });\n        }\n        else {\n            this.nodeCheckAction(wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck);\n        }\n    };\n    TreeView.prototype.nodeCheckAction = function (wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && this.autoCheck) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            var data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (doCheck !== undefined) {\n            this.ensureStateChange(currLi, doCheck);\n        }\n        if (!isPrevent) {\n            if (!isNOU(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    };\n    TreeView.prototype.addCheck = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeCheck = function (liEle) {\n        var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        var nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, data: nodeData };\n    };\n    TreeView.prototype.finalize = function () {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (!isNullOrUndefined(firstUl)) {\n            firstUl.setAttribute('role', treeAriaAttr.treeRole);\n            this.setMultiSelect(this.allowMultiSelection);\n            var firstNode = select('.' + LISTITEM, this.element);\n            if (firstNode) {\n                addClass([firstNode], FOCUS);\n                this.updateIdAttr(null, firstNode);\n            }\n            if (this.allowTextWrap) {\n                this.updateWrap();\n            }\n            this.renderReactTemplates();\n            this.hasPid = this.rootData[0] ? this.rootData[0].hasOwnProperty(this.fields.parentID) : false;\n            this.doExpandAction();\n        }\n    };\n    TreeView.prototype.setTextWrap = function () {\n        (this.allowTextWrap ? addClass : removeClass)([this.element], LISTWRAP);\n        if (Browser.isIE) {\n            (this.allowTextWrap ? addClass : removeClass)([this.element], IELISTWRAP);\n        }\n    };\n    TreeView.prototype.updateWrap = function (ulEle) {\n        if (!this.fullRowSelect) {\n            return;\n        }\n        var liEle = ulEle ? selectAll('.' + LISTITEM, ulEle) : this.liList;\n        var length = liEle.length;\n        for (var i = 0; i < length; i++) {\n            this.calculateWrap(liEle[i]);\n        }\n    };\n    TreeView.prototype.calculateWrap = function (liEle) {\n        var element = select('.' + FULLROW, liEle);\n        if (element && element.nextElementSibling) {\n            element.style.height = this.allowTextWrap ? element.nextElementSibling.offsetHeight + 'px' : '';\n        }\n    };\n    TreeView.prototype.doExpandAction = function () {\n        var eUids = this.expandedNodes;\n        if (this.isInitalExpand && eUids.length > 0) {\n            this.setProperties({ expandedNodes: [] }, true);\n            /* eslint-disable */\n            if (this.fields.dataSource instanceof DataManager) {\n                this.expandGivenNodes(eUids);\n            }\n            else {\n                for (var i = 0; i < eUids.length; i++) {\n                    var eNode = select('[data-uid=\"' + eUids[i] + '\"]', this.element);\n                    if (!isNOU(eNode)) {\n                        var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n                        if (!isNOU(icon)) {\n                            this.expandAction(eNode, icon, null);\n                        }\n                    }\n                    else {\n                        if (eUids[i] && this.expandChildren.indexOf(eUids[i]) === -1) {\n                            this.expandChildren.push(eUids[i].toString());\n                        }\n                        continue;\n                    }\n                }\n                this.afterFinalized();\n            }\n        }\n        else {\n            this.afterFinalized();\n        }\n    };\n    TreeView.prototype.expandGivenNodes = function (arr) {\n        var proxy = this;\n        this.expandCallback(arr[this.index], function () {\n            proxy.index++;\n            if (proxy.index < arr.length) {\n                proxy.expandGivenNodes(arr);\n            }\n            else {\n                proxy.afterFinalized();\n            }\n        });\n    };\n    TreeView.prototype.expandCallback = function (eUid, callback) {\n        var eNode = select('[data-uid=\"' + eUid + '\"]', this.element);\n        if (!isNOU(eNode)) {\n            var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n            if (!isNOU(icon)) {\n                this.expandAction(eNode, icon, null, false, callback);\n            }\n            else {\n                callback();\n            }\n        }\n        else {\n            callback();\n        }\n    };\n    TreeView.prototype.afterFinalized = function () {\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isAnimate = true;\n        this.isInitalExpand = false;\n        if (!this.isLoaded || this.isFieldChange) {\n            var eventArgs = { data: this.treeData };\n            this.trigger('dataBound', eventArgs);\n        }\n        this.isLoaded = true;\n    };\n    TreeView.prototype.doSelectionAction = function () {\n        var sNodes = selectAll('.' + SELECTED, this.element);\n        var sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (var i = 0; i < sUids.length; i++) {\n                var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                if (sNode && !(sNode.classList.contains('e-active'))) {\n                    this.selectNode(sNode, null, true);\n                }\n                else {\n                    this.selectedNodes.push(sUids[i]);\n                }\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED);\n    };\n    TreeView.prototype.selectGivenNodes = function (sNodes) {\n        for (var i = 0; i < sNodes.length; i++) {\n            if (!sNodes[i].classList.contains('e-disable')) {\n                this.selectNode(sNodes[i], null, true);\n            }\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    };\n    TreeView.prototype.clickHandler = function (event) {\n        var target = event.originalEvent.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            var classList = target.classList;\n            var li = closest(target, '.' + LISTITEM);\n            if (!li) {\n                return;\n            }\n            else if (event.originalEvent.which !== 3) {\n                var rippleElement = select('.' + RIPPLEELMENT, li);\n                var rippleIcons = select('.' + ICON, li);\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox && !li.classList.contains('e-disable')) {\n                    var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNOU(checkWrapper)) {\n                        var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n                        this.triggerClickEvent(event.originalEvent, li);\n                        return;\n                    }\n                }\n                if (classList.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, event);\n                }\n                else if (classList.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, event);\n                }\n                else if (rippleElement && rippleIcons) {\n                    if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(EXPANDABLE)) {\n                        this.expandAction(li, rippleIcons, event);\n                    }\n                    else if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(COLLAPSIBLE)) {\n                        this.collapseNode(li, rippleIcons, event);\n                    }\n                    else if (!classList.contains(PARENTITEM) && !classList.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n                else {\n                    if (!classList.contains(PARENTITEM) && !classList.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n            }\n            this.triggerClickEvent(event.originalEvent, li);\n        }\n    };\n    TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    };\n    TreeView.prototype.triggerClickEvent = function (e, li) {\n        var eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    };\n    TreeView.prototype.expandNode = function (currLi, icon, loaded) {\n        var _this = this;\n        this.renderReactTemplates();\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        if (!this.initialRender) {\n            icon.classList.add('interaction');\n        }\n        if (loaded !== true || (loaded === true && currLi.classList.contains('e-expanded'))) {\n            if (this.preventExpand !== true) {\n                removeClass([icon], EXPANDABLE);\n                addClass([icon], COLLAPSIBLE);\n                var start_1 = 0;\n                var end_1 = 0;\n                var proxy_1 = this;\n                var ul_1 = select('.' + PARENTITEM, currLi);\n                var liEle_1 = currLi;\n                this.setHeight(liEle_1, ul_1);\n                var activeElement_1 = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n                if (this.isAnimate && !this.isRefreshed) {\n                    this.aniObj.animate(ul_1, {\n                        name: this.animation.expand.effect,\n                        duration: this.animation.expand.duration,\n                        timingFunction: this.animation.expand.easing,\n                        begin: function (args) {\n                            liEle_1.style.overflow = 'hidden';\n                            if (!isNullOrUndefined(activeElement_1) && activeElement_1 instanceof HTMLElement) {\n                                activeElement_1.classList.add(ITEM_ANIMATION_ACTIVE);\n                            }\n                            start_1 = liEle_1.offsetHeight;\n                            end_1 = select('.' + TEXTWRAP, currLi).offsetHeight;\n                        },\n                        progress: function (args) {\n                            args.element.style.display = 'block';\n                            proxy_1.animateHeight(args, start_1, end_1);\n                        },\n                        end: function (args) {\n                            args.element.style.display = 'block';\n                            if (!isNullOrUndefined(activeElement_1) && activeElement_1 instanceof HTMLElement) {\n                                activeElement_1.classList.remove(ITEM_ANIMATION_ACTIVE);\n                            }\n                            _this.expandedNode(liEle_1, ul_1, icon);\n                        }\n                    });\n                }\n                else {\n                    this.expandedNode(liEle_1, ul_1, icon);\n                }\n            }\n        }\n        else {\n            var ul = select('.' + PARENTITEM, currLi);\n            ul.style.display = 'none';\n            if (this.fields.dataSource instanceof DataManager === true) {\n                this.preventExpand = false;\n            }\n        }\n        if (this.initialRender) {\n            icon.classList.add('interaction');\n        }\n    };\n    TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        this.addExpand(currLi);\n        if (this.allowTextWrap && this.isLoaded && this.isFirstRender) {\n            this.updateWrap(currLi);\n            this.isFirstRender = false;\n        }\n        if (this.isLoaded && this.expandArgs && !this.isRefreshed) {\n            this.expandArgs = this.getExpandEvent(currLi, null);\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    };\n    TreeView.prototype.addExpand = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'true');\n        removeClass([liEle], NODECOLLAPSED);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.expandedNodes.indexOf(id) === -1) {\n            this.expandedNodes.push(id);\n        }\n    };\n    TreeView.prototype.collapseNode = function (currLi, icon, e) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        var colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeCollapsing', colArgs, function (observedArgs) {\n                if (observedArgs.cancel) {\n                    removeClass([icon], PROCESS);\n                }\n                else {\n                    _this.nodeCollapseAction(currLi, icon, observedArgs);\n                }\n            });\n        }\n        else {\n            this.nodeCollapseAction(currLi, icon, colArgs);\n        }\n    };\n    TreeView.prototype.nodeCollapseAction = function (currLi, icon, colArgs) {\n        var _this = this;\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        var activeElement = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n        if (this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.collapse.effect,\n                duration: this.animation.collapse.duration,\n                timingFunction: this.animation.collapse.easing,\n                begin: function (args) {\n                    liEle.style.overflow = 'hidden';\n                    if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                        activeElement.classList.add(ITEM_ANIMATION_ACTIVE);\n                    }\n                    start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                    end = liEle.offsetHeight;\n                },\n                progress: function (args) {\n                    proxy.animateHeight(args, start, end);\n                },\n                end: function (args) {\n                    args.element.style.display = 'none';\n                    if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                        activeElement.classList.remove(ITEM_ANIMATION_ACTIVE);\n                    }\n                    _this.collapsedNode(liEle, ul, icon, colArgs);\n                }\n            });\n        }\n        else {\n            this.collapsedNode(liEle, ul, icon, colArgs);\n        }\n    };\n    TreeView.prototype.collapsedNode = function (liEle, ul, icon, colArgs) {\n        ul.style.display = 'none';\n        liEle.style.overflow = '';\n        liEle.style.height = '';\n        removeClass([icon], PROCESS);\n        this.removeExpand(liEle);\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(liEle, null);\n            this.trigger('nodeCollapsed', colArgs);\n        }\n    };\n    TreeView.prototype.removeExpand = function (liEle, toRemove) {\n        if (toRemove) {\n            liEle.removeAttribute('aria-expanded');\n        }\n        else {\n            this.disableExpandAttr(liEle);\n        }\n        var index = this.expandedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.expandedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.disableExpandAttr = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'false');\n        addClass([liEle], NODECOLLAPSED);\n    };\n    TreeView.prototype.setHeight = function (currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    };\n    TreeView.prototype.animateHeight = function (args, start, end) {\n        var remaining = (args.duration - args.timeStamp) / args.duration;\n        var currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    };\n    TreeView.prototype.renderChildNodes = function (parentLi, expandChild, callback, loaded) {\n        var _this = this;\n        var eicon = select('div.' + ICON, parentLi);\n        if (isNOU(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        var childItems;\n        /* eslint-disable */\n        if (this.fields.dataSource instanceof DataManager) {\n            var level = this.parents(parentLi, '.' + PARENTITEM).length;\n            var mapper_2 = this.getChildFields(this.fields, level, 1);\n            if (isNOU(mapper_2) || isNOU(mapper_2.dataSource)) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            this.treeList.push('false');\n            if (this.fields.dataSource instanceof DataManager && this.isOffline) {\n                this.treeList.pop();\n                childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n                this.loadChild(childItems, mapper_2, eicon, parentLi, expandChild, callback, loaded);\n            }\n            else {\n                mapper_2.dataSource.executeQuery(this.getQuery(mapper_2, parentLi.getAttribute('data-uid'))).then(function (e) {\n                    _this.treeList.pop();\n                    childItems = e.result;\n                    if (_this.dataType === 1) {\n                        _this.dataType = 2;\n                    }\n                    _this.loadChild(childItems, mapper_2, eicon, parentLi, expandChild, callback, loaded);\n                }).catch(function (e) {\n                    _this.trigger('actionFailure', { error: e });\n                });\n            }\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = this.getSortedData(childItems);\n            if (isNOU(childItems) || childItems.length === 0) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.createElement, this.currentLoadData, this.listBaseOption));\n                this.expandNode(parentLi, eicon, loaded);\n                this.setSelectionForChildNodes(childItems);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.disableTreeNodes(childItems);\n                this.renderSubChild(parentLi, expandChild, loaded);\n            }\n        }\n    };\n    TreeView.prototype.loadChild = function (childItems, mapper, eicon, parentLi, expandChild, callback, loaded) {\n        this.currentLoadData = childItems;\n        if (isNOU(childItems) || childItems.length === 0) {\n            detach(eicon);\n            this.removeExpand(parentLi, true);\n        }\n        else {\n            this.updateListProp(mapper);\n            if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n                var id = parentLi.getAttribute('data-uid');\n                var nodeData = this.getNodeObject(id);\n                setValue('child', childItems, nodeData);\n            }\n            this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n            parentLi.appendChild(ListBase.createList(this.createElement, childItems, this.listBaseOption));\n            this.expandNode(parentLi, eicon, loaded);\n            this.setSelectionForChildNodes(childItems);\n            this.ensureCheckNode(parentLi);\n            this.finalizeNode(parentLi);\n            this.disableTreeNodes(childItems);\n            this.renderSubChild(parentLi, expandChild, loaded);\n        }\n        if (callback) {\n            callback();\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.disableTreeNodes = function (childItems) {\n        var i = 0;\n        while (i < childItems.length) {\n            var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n            if (this.disableNode !== undefined && this.disableNode.indexOf(id) !== -1) {\n                this.doDisableAction([id]);\n            }\n            i++;\n        }\n    };\n    /**\n     * Sets the child Item in selectedState while rendering the child node\n     */\n    TreeView.prototype.setSelectionForChildNodes = function (nodes) {\n        var i;\n        for (i = 0; i < nodes.length; i++) {\n            var id = nodes[i][this.fields.id] ? nodes[i][this.fields.id].toString() : null;\n            if (this.selectedNodes !== undefined && this.selectedNodes.indexOf(id) !== -1) {\n                this.doSelectionAction();\n            }\n        }\n    };\n    TreeView.prototype.ensureCheckNode = function (element) {\n        if (this.showCheckBox) {\n            this.ele = (this.checkedElement) ? this.checkedElement.indexOf(element.getAttribute('data-uid')) : null;\n            if (this.autoCheck) {\n                this.ensureChildCheckState(element);\n                this.ensureParentCheckState(element);\n            }\n        }\n        this.currentLoadData = null;\n    };\n    TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n        var childData;\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildMapper = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n        if (isRoot === void 0) { isRoot = false; }\n        var childNodes;\n        if (isNOU(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                for (var i = 0, objlen = obj.length; i < objlen; i++) {\n                    var dataId = getValue(this.fields.id, obj[i]);\n                    if (dataId && dataId.toString() === parentId) {\n                        return getValue(this.fields.child, obj[i]);\n                    }\n                    else if (!isNOU(getValue(this.fields.child, obj[i]))) {\n                        childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n                        if (childNodes !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n        var childNodes;\n        if (isNOU(data)) {\n            return childNodes;\n        }\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNOU(data[i][0]) && !isNOU(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.renderSubChild = function (element, expandChild, loaded) {\n        if (expandChild) {\n            var cIcons = selectAll('.' + EXPANDABLE, element);\n            for (var i = 0, len = cIcons.length; i < len; i++) {\n                var icon = cIcons[i];\n                if (element.querySelector('.e-icons') !== cIcons[i]) {\n                    var curLi = closest(icon, '.' + LISTITEM);\n                    this.expandArgs = this.getExpandEvent(curLi, null);\n                    if (loaded !== true) {\n                        this.trigger('nodeExpanding', this.expandArgs);\n                    }\n                    this.renderChildNodes(curLi, expandChild, null, loaded);\n                }\n            }\n        }\n    };\n    TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n        if (!li.classList.contains('e-disable')) {\n            if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n                this.unselectNode(li, e);\n            }\n            else {\n                this.selectNode(li, e, multiSelect);\n            }\n        }\n    };\n    TreeView.prototype.isActive = function (li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    };\n    TreeView.prototype.selectNode = function (li, e, multiSelect) {\n        var _this = this;\n        if (isNOU(li) || (!this.allowMultiSelection && this.isActive(li) && !isNOU(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n                if (!observedArgs.cancel) {\n                    _this.nodeSelectAction(li, e, observedArgs, multiSelect);\n                }\n            });\n        }\n        else {\n            this.nodeSelectAction(li, e, eventArgs, multiSelect);\n        }\n    };\n    TreeView.prototype.nodeSelectAction = function (li, e, eventArgs, multiSelect) {\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            var startIndex = this.liList.indexOf(this.startNode);\n            var endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex; i <= endIndex; i++) {\n                var currNode = this.liList[i];\n                if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.unselectNode = function (li, e) {\n        var _this = this;\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n                if (!observedArgs.cancel) {\n                    _this.nodeUnselectAction(li, observedArgs);\n                }\n            });\n        }\n        else {\n            this.nodeUnselectAction(li, eventArgs);\n        }\n    };\n    TreeView.prototype.nodeUnselectAction = function (li, eventArgs) {\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.setFocusElement = function (li) {\n        if (!isNOU(li)) {\n            var focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n            }\n            addClass([li], FOCUS);\n            this.updateIdAttr(focusedNode, li);\n        }\n    };\n    TreeView.prototype.addSelect = function (liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNOU(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeSelect = function (liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.removeSelectAll = function () {\n        var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n            var ele = selectedLI_1[_i];\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    };\n    TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.setExpandOnType = function () {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    };\n    TreeView.prototype.expandHandler = function (e) {\n        var target = e.originalEvent.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    };\n    TreeView.prototype.expandCollapseAction = function (currLi, e) {\n        var icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            var classList = icon.classList;\n            if (classList.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else if (classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    };\n    TreeView.prototype.expandAction = function (currLi, icon, e, expandChild, callback) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded && !this.isRefreshed) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeExpanding', this.expandArgs, function (observedArgs) {\n                if (observedArgs.cancel) {\n                    removeClass([icon], PROCESS);\n                }\n                else {\n                    _this.nodeExpandAction(currLi, icon, expandChild, callback);\n                }\n            });\n        }\n        else {\n            this.nodeExpandAction(currLi, icon, expandChild, callback);\n        }\n    };\n    TreeView.prototype.nodeExpandAction = function (currLi, icon, expandChild, callback) {\n        var ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.isFirstRender = true;\n            this.renderChildNodes(currLi, expandChild, callback);\n            var liEles = selectAll('.' + LISTITEM, currLi);\n            for (var i = 0; i < liEles.length; i++) {\n                var id = this.getId(liEles[i]);\n                if (this.expandChildren.indexOf(id) !== -1 && this.expandChildren !== undefined) {\n                    var icon_1 = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEles[i]));\n                    if (!isNOU(icon_1)) {\n                        this.expandAction(liEles[i], icon_1, null);\n                    }\n                    this.expandChildren.splice(this.expandChildren.indexOf(id), 1);\n                }\n            }\n        }\n    };\n    TreeView.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var target = e.target;\n        var focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            var inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            return;\n        }\n        e.preventDefault();\n        var eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'space':\n                        if (_this.showCheckBox) {\n                            _this.checkNode(e);\n                        }\n                        break;\n                    case 'moveRight':\n                        _this.openNode(_this.enableRtl ? false : true, e);\n                        break;\n                    case 'moveLeft':\n                        _this.openNode(_this.enableRtl ? true : false, e);\n                        break;\n                    case 'shiftDown':\n                        _this.shiftKeySelect(true, e);\n                        break;\n                    case 'moveDown':\n                    case 'ctrlDown':\n                    case 'csDown':\n                        _this.navigateNode(true);\n                        break;\n                    case 'shiftUp':\n                        _this.shiftKeySelect(false, e);\n                        break;\n                    case 'moveUp':\n                    case 'ctrlUp':\n                    case 'csUp':\n                        _this.navigateNode(false);\n                        break;\n                    case 'home':\n                    case 'shiftHome':\n                    case 'ctrlHome':\n                    case 'csHome':\n                        _this.navigateRootNode(true);\n                        break;\n                    case 'end':\n                    case 'shiftEnd':\n                    case 'ctrlEnd':\n                    case 'csEnd':\n                        _this.navigateRootNode(false);\n                        break;\n                    case 'enter':\n                    case 'ctrlEnter':\n                    case 'shiftEnter':\n                    case 'csEnter':\n                        _this.toggleSelect(focusedNode, e);\n                        break;\n                    case 'f2':\n                        if (_this.allowEditing && !focusedNode.classList.contains('e-disable')) {\n                            _this.createTextbox(focusedNode, e);\n                        }\n                        break;\n                    case 'ctrlA':\n                        if (_this.allowMultiSelection) {\n                            var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', _this.element);\n                            _this.selectGivenNodes(sNodes);\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    TreeView.prototype.navigateToFocus = function (isUp) {\n        var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        var pos = focusNode.getBoundingClientRect();\n        var parent = this.getScrollParent(this.element);\n        if (!isNOU(parent)) {\n            var parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        var isVisible = this.isVisibleInViewport(focusNode);\n        if (!isVisible) {\n            focusNode.scrollIntoView(isUp);\n        }\n    };\n    TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n        var pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    };\n    TreeView.prototype.getScrollParent = function (node) {\n        if (isNOU(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    };\n    TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n        if (this.allowMultiSelection) {\n            var focusedNode = this.getFocusedNode();\n            var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    };\n    TreeView.prototype.checkNode = function (e) {\n        var focusedNode = this.getFocusedNode();\n        var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        if (!focusedNode.classList.contains('e-disable')) {\n            if (focusedNode.getElementsByClassName(\"e-checkbox-disabled\").length == 0) {\n                this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n            }\n        }\n    };\n    TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n        var _this = this;\n        var currLi = closest(checkWrap, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        var ariaState = !isCheck ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            checkWrap.setAttribute('aria-checked', ariaState);\n        }\n        var eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                _this.nodeCheckingAction(checkWrap, isCheck, li, observedArgs, e);\n            }\n        });\n    };\n    TreeView.prototype.nodeCheckingAction = function (checkWrap, isCheck, li, eventArgs, e) {\n        if (this.checkedElement.indexOf(li.getAttribute('data-uid')) === -1) {\n            this.checkedElement.push(li.getAttribute('data-uid'));\n            if (this.autoCheck) {\n                var child = this.getChildNodes(this.treeData, li.getAttribute('data-uid'));\n                (child !== null) ? this.allCheckNode(child, this.checkedElement, null, null, false) : child = null;\n            }\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        if (this.autoCheck) {\n            this.ensureChildCheckState(li);\n            this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n            var doCheck = void 0;\n            if (eventArgs.action === 'check') {\n                doCheck = true;\n            }\n            else if (eventArgs.action === 'uncheck') {\n                doCheck = false;\n            }\n            this.ensureStateChange(li, doCheck);\n        }\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    };\n    /**\n     * Update checkedNodes when UI interaction happens before the child node renders in DOM\n     */\n    TreeView.prototype.ensureStateChange = function (li, doCheck) {\n        var childElement = select('.' + PARENTITEM, li);\n        var parentIndex = li.getAttribute('data-uid');\n        var mapper = this.fields;\n        if (this.dataType === 1 && this.autoCheck) {\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.parentID, 'equal', parentIndex, true));\n            for (var i = 0; i < resultData.length; i++) {\n                var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n                var isCheck = resultData[i][this.fields.isChecked] ? resultData[i][this.fields.isChecked].toString() : null;\n                if (this.checkedNodes.indexOf(parentIndex) !== -1 && this.checkedNodes.indexOf(resultId) === -1) {\n                    this.checkedNodes.push(resultId);\n                    var childItems = this.getChildNodes(this.treeData, resultId);\n                    this.getChildItems(childItems, doCheck);\n                    if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n                        this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n                    }\n                }\n                else if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null &&\n                    this.checkedNodes.indexOf(resultId) !== -1) {\n                    this.checkedNodes.splice(this.checkedNodes.indexOf(resultId), 1);\n                    if (isCheck === 'true') {\n                        this.updateField(this.treeData, this.fields, resultId, 'isChecked', null);\n                    }\n                    if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null ||\n                        this.parentNodeCheck.indexOf(resultId) !== -1) {\n                        var childNodes = this.getChildNodes(this.treeData, resultId);\n                        this.getChildItems(childNodes, doCheck);\n                        if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n                        }\n                    }\n                }\n                else {\n                    var childItems = this.getChildNodes(this.treeData, resultId);\n                    this.getChildItems(childItems, doCheck);\n                }\n            }\n        }\n        else if (this.dataType === 1 && !this.autoCheck) {\n            if (!doCheck) {\n                var checkedData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n                for (var i = 0; i < checkedData.length; i++) {\n                    var id = checkedData[i][this.fields.id] ? checkedData[i][this.fields.id].toString() : null;\n                    if (this.checkedNodes.indexOf(id) !== -1) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n                    }\n                    this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n                }\n                this.checkedNodes = [];\n            }\n            else {\n                for (var i = 0; i < this.treeData.length; i++) {\n                    var checkedId = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : null;\n                    if (this.checkedNodes.indexOf(checkedId) === -1) {\n                        this.checkedNodes.push(checkedId);\n                    }\n                }\n            }\n        }\n        else {\n            var childItems = this.getChildNodes(this.treeData, parentIndex);\n            if (childItems) {\n                this.childStateChange(childItems, parentIndex, childElement, doCheck);\n            }\n        }\n    };\n    TreeView.prototype.getChildItems = function (childItems, doCheck) {\n        for (var i = 0; i < childItems.length; i++) {\n            var childId = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n            var childIsCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() :\n                null;\n            if (this.checkedNodes.indexOf(childId) !== -1 && !doCheck) {\n                this.checkedNodes.splice(this.checkedNodes.indexOf(childId), 1);\n            }\n            if (this.checkedNodes.indexOf(childId) === -1 && doCheck) {\n                this.checkedNodes.push(childId);\n            }\n            if (childIsCheck === 'true' && !doCheck) {\n                this.updateField(this.treeData, this.fields, childId, 'isChecked', null);\n            }\n            var subChildItems = this.getChildNodes(this.treeData, childId);\n            if (subChildItems.length > 0) {\n                this.getChildItems(subChildItems, doCheck);\n            }\n        }\n    };\n    /**\n     * Update checkedNodes when UI interaction happens before the child node renders in DOM for hierarchical DS\n     */\n    TreeView.prototype.childStateChange = function (childItems, parent, childElement, doCheck) {\n        for (var i = 0; i < childItems.length; i++) {\n            var checkedChild = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : '';\n            var isCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() : null;\n            if (this.autoCheck) {\n                if (this.checkedNodes.indexOf(parent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n                    this.checkedNodes.push(checkedChild);\n                    if (this.parentNodeCheck.indexOf(checkedChild) !== -1) {\n                        this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(checkedChild), 1);\n                    }\n                }\n                else if (this.checkedNodes.indexOf(parent) === -1 && this.checkedNodes.indexOf(checkedChild) !== -1 && !doCheck) {\n                    this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n                    if (isCheck === 'true') {\n                        this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n                    }\n                }\n            }\n            else if (!this.autoCheck) {\n                if (!doCheck) {\n                    if (this.checkedNodes.indexOf(checkedChild) !== -1) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n                    }\n                    this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n                    this.checkedNodes = [];\n                }\n                else {\n                    if (this.checkedNodes.indexOf(checkedChild) === -1) {\n                        this.checkedNodes.push(checkedChild);\n                    }\n                }\n            }\n            var subChild = this.getChildNodes([childItems[i]], checkedChild);\n            if (subChild) {\n                this.childStateChange(subChild, parent, childElement, doCheck);\n            }\n        }\n    };\n    //This method can be used to get all child nodes of a parent by passing the children of a parent along with 'validateCheck' set to false\n    TreeView.prototype.allCheckNode = function (child, newCheck, checked, childCheck, validateCheck) {\n        if (child) {\n            for (var length_1 = 0; length_1 < child.length; length_1++) {\n                var childId = getValue(this.fields.id, child[length_1]);\n                var check = this.element.querySelector('[data-uid=\"' + childId + '\"]');\n                //Validates isChecked case while no UI interaction has been performed on the node or it's parent\n                if (validateCheck !== false && this.checkedElement.indexOf(childId.toString()) === -1) {\n                    if (((check === null && !isNOU(child[length_1][this.fields.isChecked]) && newCheck.indexOf(childId.toString()) === -1)\n                        || childCheck === 0 || checked === 2)) {\n                        (child[length_1][this.fields.isChecked] !== false || checked === 2) ? newCheck.push(childId.toString())\n                            : childCheck = null;\n                        childCheck = (child[length_1][this.fields.isChecked] !== false || checked === 2) ? 0 : null;\n                    }\n                }\n                //Pushes child checked node done thro' UI interaction\n                if (newCheck.indexOf(childId.toString()) === -1 && isNOU(checked)) {\n                    newCheck.push(childId.toString());\n                }\n                var hierChildId = getValue(this.fields.child.toString(), child[length_1]);\n                //Gets if any next level children are available for child nodes\n                if (getValue(this.fields.hasChildren, child[length_1]) === true || hierChildId) {\n                    var id = getValue(this.fields.id, child[length_1]);\n                    var childId_1 = void 0;\n                    if (this.dataType === 1) {\n                        childId_1 = this.getChildNodes(this.treeData, id.toString());\n                    }\n                    else {\n                        childId_1 = hierChildId;\n                    }\n                    if (childId_1) {\n                        (isNOU(validateCheck)) ? this.allCheckNode(childId_1, newCheck, checked, childCheck) :\n                            this.allCheckNode(childId_1, newCheck, checked, childCheck, validateCheck);\n                        childCheck = null;\n                    }\n                }\n                childCheck = null;\n            }\n        }\n    };\n    TreeView.prototype.openNode = function (toBeOpened, e) {\n        var focusedNode = this.getFocusedNode();\n        var icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    if (!parentLi.classList.contains('e-disable')) {\n                        this.setFocus(focusedNode, parentLi);\n                        this.navigateToFocus(true);\n                    }\n                }\n            }\n        }\n    };\n    TreeView.prototype.navigateNode = function (isTowards) {\n        var focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    };\n    TreeView.prototype.navigateRootNode = function (isBackwards) {\n        var focusedNode = this.getFocusedNode();\n        var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        if (!rootNode.classList.contains('e-disable')) {\n            this.setFocus(focusedNode, rootNode);\n            this.navigateToFocus(isBackwards);\n        }\n    };\n    TreeView.prototype.getFocusedNode = function () {\n        var selectedItem;\n        var fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n        if (isNOU(fNode)) {\n            selectedItem = select('.' + LISTITEM, this.element);\n        }\n        return isNOU(fNode) ? (isNOU(selectedItem) ? this.element.firstElementChild : selectedItem) : fNode;\n    };\n    TreeView.prototype.focusNextNode = function (li, isTowards) {\n        var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n        if (nextNode.classList.contains('e-disable')) {\n            var lastChild = nextNode.lastChild;\n            if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n                this.focusNextNode(nextNode, true);\n            }\n            else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else if (nextNode.nextSibling == null && lastChild.classList.contains(TEXTWRAP)) {\n                this.focusNextNode(nextNode, false);\n            }\n            else {\n                this.focusNextNode(nextNode, isTowards);\n            }\n        }\n    };\n    TreeView.prototype.getNextNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var nextNode;\n        do {\n            index++;\n            nextNode = this.liList[index];\n            if (isNOU(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    };\n    TreeView.prototype.getPrevNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var prevNode;\n        do {\n            index--;\n            prevNode = this.liList[index];\n            if (isNOU(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    };\n    TreeView.prototype.getRootNode = function () {\n        var index = 0;\n        var rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    };\n    TreeView.prototype.getEndNode = function () {\n        var index = this.liList.length - 1;\n        var endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    };\n    TreeView.prototype.setFocus = function (preNode, nextNode) {\n        removeClass([preNode], [HOVER, FOCUS]);\n        if (!nextNode.classList.contains('e-disable')) {\n            addClass([nextNode], [HOVER, FOCUS]);\n            this.updateIdAttr(preNode, nextNode);\n        }\n    };\n    TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    };\n    TreeView.prototype.focusIn = function () {\n        if (!this.mouseDownStatus) {\n            addClass([this.getFocusedNode()], HOVER);\n        }\n        this.mouseDownStatus = false;\n    };\n    TreeView.prototype.focusOut = function () {\n        removeClass([this.getFocusedNode()], HOVER);\n    };\n    TreeView.prototype.onMouseOver = function (e) {\n        var target = e.target;\n        var classList = target.classList;\n        var currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList.contains(PARENTITEM) || classList.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            if (currentLi && !currentLi.classList.contains('e-disable')) {\n                this.setHover(currentLi);\n            }\n        }\n    };\n    TreeView.prototype.setHover = function (li) {\n        if (!li.classList.contains(HOVER)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    TreeView.prototype.removeHover = function () {\n        var hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    };\n    ;\n    TreeView.prototype.getNodeData = function (currLi, fromDS) {\n        if (!isNOU(currLi) && currLi.classList.contains(LISTITEM) &&\n            !isNOU(closest(currLi, '.' + CONTROL)) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n            var id = currLi.getAttribute('data-uid');\n            var text = this.getText(currLi, fromDS);\n            var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            var pid = pNode ? pNode.getAttribute('data-uid') : null;\n            var selected = currLi.classList.contains(ACTIVE);\n            var expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            var hasChildren = currLi.getAttribute('aria-expanded') !== null ? true : (select('.' + EXPANDABLE, currLi) || select('.' + COLLAPSIBLE, currLi)) != null ? true : false;\n            var checked = null;\n            if (this.showCheckBox) {\n                checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n            }\n            return {\n                id: id, text: text, parentID: pid, selected: selected, expanded: expanded,\n                isChecked: checked, hasChildren: hasChildren\n            };\n        }\n        return { id: '', text: '', parentID: '', selected: false, expanded: false, isChecked: '', hasChildren: false };\n    };\n    TreeView.prototype.getText = function (currLi, fromDS) {\n        if (fromDS) {\n            var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            var level = parseFloat(currLi.getAttribute('aria-level'));\n            var nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    };\n    TreeView.prototype.getExpandEvent = function (currLi, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNOU(e) ? false : true, node: currLi, nodeData: nodeData, event: e };\n    };\n    TreeView.prototype.renderNodeTemplate = function (data, textEle, dataId) {\n        var tempArr = this.nodeTemplateFn(data, this, 'nodeTemplate' + dataId, this.element.id + 'nodeTemplate', this.isStringTemplate, undefined, textEle);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, textEle);\n        }\n    };\n    TreeView.prototype.destroyTemplate = function (liEle) {\n        this.clearTemplate(['nodeTemplate' + liEle.getAttribute('data-uid')]);\n    };\n    TreeView.prototype.reRenderNodes = function () {\n        this.updateListProp(this.fields);\n        if (Browser.isIE) {\n            this.ulElement = this.element.querySelector('.e-list-parent.e-ul');\n            this.ulElement.parentElement.removeChild(this.ulElement);\n        }\n        else {\n            this.element.innerHTML = '';\n        }\n        if (!isNOU(this.nodeTemplateFn)) {\n            this.clearTemplate();\n        }\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [], checkedNodes: [], expandedNodes: [] }, true);\n        this.checkedElement = [];\n        this.isLoaded = false;\n        this.setDataBinding(true);\n    };\n    TreeView.prototype.setCssClass = function (oldClass, newClass) {\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    };\n    TreeView.prototype.editingHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            var liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    };\n    TreeView.prototype.createTextbox = function (liEle, e) {\n        var _this = this;\n        var oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        var textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var innerEle = this.createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                var inpWidth = textEle.offsetWidth + 5;\n                var style = 'width:' + inpWidth + 'px';\n                addClass([liEle], EDITING);\n                if (!isNOU(_this.nodeTemplateFn)) {\n                    _this.destroyTemplate(liEle);\n                }\n                textEle.innerHTML = eventArgs.innerHtml;\n                var inpEle = select('.' + TREEINPUT, textEle);\n                _this.inputObj = Input.createInput({\n                    element: inpEle,\n                    properties: {\n                        enableRtl: _this.enableRtl,\n                    }\n                }, _this.createElement);\n                _this.inputObj.container.setAttribute('style', style);\n                inpEle.focus();\n                var inputEle = inpEle;\n                inputEle.setSelectionRange(0, inputEle.value.length);\n                _this.wireInputEvents(inpEle);\n            }\n        });\n    };\n    TreeView.prototype.updateOldText = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    };\n    TreeView.prototype.inputFocusOut = function (e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        var target = e.target;\n        var newText = target.value;\n        var txtEle = closest(target, '.' + LISTTEXT);\n        var liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n            this.crudOperation('update', null, liEle, newText, null, null, true);\n        }\n        else {\n            this.appendNewText(liEle, txtEle, newText, true);\n        }\n    };\n    TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n        var _this = this;\n        var eventArgs = this.getEditEvent(liEle, newText, null);\n        this.trigger('nodeEdited', eventArgs, function (observedArgs) {\n            newText = observedArgs.cancel ? observedArgs.oldText : observedArgs.newText;\n            _this.updateText(liEle, txtEle, newText, isInput);\n            if (observedArgs.oldText !== newText) {\n                _this.triggerEvent();\n            }\n        });\n    };\n    TreeView.prototype.updateText = function (liEle, txtEle, newText, isInput) {\n        var newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNOU(this.nodeTemplateFn)) {\n            txtEle.innerText = '';\n            var dataId = liEle.getAttribute('data-uid');\n            this.renderNodeTemplate(newData, txtEle, dataId);\n            this.renderReactTemplates();\n        }\n        else {\n            txtEle.innerText = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            txtEle.focus();\n        }\n        if (this.allowTextWrap) {\n            this.calculateWrap(liEle);\n        }\n    };\n    TreeView.prototype.getElement = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return getElement(ele);\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getId = function (ele) {\n        if (isNOU(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return ele;\n        }\n        else if (typeof ele === 'object') {\n            return (getElement(ele)).getAttribute('data-uid');\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n        var data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    };\n    TreeView.prototype.getNodeObject = function (id) {\n        var childNodes;\n        if (isNOU(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNOU(this.treeData[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n        var newList;\n        if (isNOU(obj)) {\n            return newList;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    };\n    TreeView.prototype.setDragAndDrop = function (toBind) {\n        if (toBind && !this.disabled) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    };\n    TreeView.prototype.initializeDrag = function () {\n        var _this = this;\n        var virtualEle;\n        var proxy = this;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true, enableAutoScroll: true,\n            dragArea: this.dragArea,\n            dragTarget: '.' + TEXTWRAP,\n            helper: function (e) {\n                _this.dragTarget = e.sender.target;\n                var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n                var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n                _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n                if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = _this.dragTarget.nextElementSibling;\n                }\n                if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) ||\n                    _this.dragTarget.classList.contains(LISTITEM) || _this.dragLi.classList.contains('e-disable')) {\n                    return false;\n                }\n                var cloneEle = (dragWrap.cloneNode(true));\n                if (isNOU(select('div.' + ICON, cloneEle))) {\n                    var icon = proxy.createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL : '');\n                virtualEle = proxy.createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                var nLen = _this.selectedNodes.length;\n                if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n                    var cNode = proxy.createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                _this.dragData = _this.getNodeData(_this.dragLi);\n                return virtualEle;\n            },\n            dragStart: function (e) {\n                addClass([_this.element], DRAGGING);\n                var listItem = closest(e.target, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, null, e.target, null, virtualEle, level);\n                if (eventArgs.draggedNode.classList.contains(EDITING)) {\n                    _this.dragObj.intDestroy(e.event);\n                    _this.dragCancelAction(virtualEle);\n                }\n                else {\n                    _this.trigger('nodeDragStart', eventArgs, function (observedArgs) {\n                        if (observedArgs.cancel) {\n                            _this.dragObj.intDestroy(e.event);\n                            _this.dragCancelAction(virtualEle);\n                        }\n                        else {\n                            _this.dragStartAction = true;\n                        }\n                    });\n                }\n            },\n            drag: function (e) {\n                _this.dragObj.setProperties({ cursorAt: { top: (!isNOU(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                _this.dragAction(e, virtualEle);\n            },\n            dragStop: function (e) {\n                removeClass([_this.element], DRAGGING);\n                _this.removeVirtualEle();\n                var dropTarget = e.target;\n                var preventTargetExpand = false;\n                var dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                var isHelperElement = true;\n                if (!dropTarget || !dropRoot) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                    isHelperElement = false;\n                }\n                var listItem = closest(dropTarget, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget, null, e.helper, level);\n                eventArgs.preventTargetExpand = preventTargetExpand;\n                _this.trigger('nodeDragStop', eventArgs, function (observedArgs) {\n                    _this.dragParent = observedArgs.draggedParentNode;\n                    _this.preventExpand = observedArgs.preventTargetExpand;\n                    if (observedArgs.cancel) {\n                        if (e.helper.parentNode) {\n                            detach(e.helper);\n                        }\n                        document.body.style.cursor = '';\n                        isHelperElement = false;\n                    }\n                    _this.dragStartAction = false;\n                });\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: function (e) {\n                if (!isNOU(e) && !e.target.classList.contains(SIBLING)) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: function (e) {\n                document.body.style.cursor = '';\n            },\n            drop: function (e) {\n                _this.dropAction(e);\n            }\n        });\n    };\n    TreeView.prototype.dragCancelAction = function (virtualEle) {\n        detach(virtualEle);\n        removeClass([this.element], DRAGGING);\n        this.dragStartAction = false;\n    };\n    TreeView.prototype.dragAction = function (e, virtualEle) {\n        var dropRoot = closest(e.target, '.' + DROPPABLE);\n        var dropWrap = closest(e.target, '.' + TEXTWRAP);\n        var icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        var classList = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNOU(classList) && classList.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            var dropLi = closest(e.target, '.' + LISTITEM);\n            var checkWrapper = closest(e.target, '.' + CHECKBOXWRAP);\n            var collapse = closest(e.target, '.' + COLLAPSIBLE);\n            var expand = closest(e.target, '.' + EXPANDABLE);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (this.hasTemplate && dropLi) {\n                    var templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n                    if ((e && (!expand && !collapse) && e.event.offsetY < 7 && !checkWrapper) || (((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3)))) {\n                        var index = this.fullRowSelect ? (1) : (0);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else if ((e && (!expand && !collapse) && !checkWrapper && templateTarget && e.event.offsetY > templateTarget.offsetHeight - 10) || ((expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19))) {\n                        var index = this.fullRowSelect ? (2) : (1);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else {\n                        addClass([icon], DROPIN);\n                    }\n                }\n                else {\n                    if ((dropLi && e && (!expand && !collapse) && (e.event.offsetY < 7) && !checkWrapper) || (((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3)))) {\n                        var index = this.fullRowSelect ? (1) : (0);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else if ((dropLi && e && (!expand && !collapse) && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10)) && !checkWrapper) || (((expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19)))) {\n                        var index = this.fullRowSelect ? (2) : (1);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else {\n                        addClass([icon], DROPIN);\n                    }\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        var listItem = closest(e.target, '.e-list-item');\n        var level;\n        if (listItem) {\n            level = parseInt(listItem.getAttribute('aria-level'), 10);\n        }\n        var eventArgs = this.getDragEvent(e.event, this, e.target, e.target, null, virtualEle, level);\n        if (eventArgs.dropIndicator) {\n            removeClass([icon], eventArgs.dropIndicator);\n        }\n        this.trigger('nodeDragging', eventArgs);\n        if (eventArgs.dropIndicator) {\n            addClass([icon], eventArgs.dropIndicator);\n        }\n    };\n    TreeView.prototype.appendIndicator = function (dropLi, icon, index) {\n        addClass([icon], DROPNEXT);\n        var virEle = this.createElement('div', { className: SIBLING });\n        dropLi.insertBefore(virEle, dropLi.children[index]);\n    };\n    /* eslint-disable */\n    TreeView.prototype.dropAction = function (e) {\n        var offsetY = e.event.offsetY;\n        var dropTarget = e.target;\n        var dragObj;\n        var level;\n        var drop = false;\n        var dragInstance;\n        dragInstance = e.dragData.draggable;\n        for (var i = 0; i < dragInstance.ej2_instances.length; i++) {\n            if (dragInstance.ej2_instances[i] instanceof TreeView_1) {\n                dragObj = dragInstance.ej2_instances[i];\n                break;\n            }\n        }\n        if (dragObj && dragObj.dragTarget) {\n            var dragTarget = dragObj.dragTarget;\n            var dragLi = (closest(dragTarget, '.' + LISTITEM));\n            var dropLi = (closest(dropTarget, '.' + LISTITEM));\n            if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n                dropLi = dropTarget.firstElementChild;\n            }\n            detach(e.droppedElement);\n            document.body.style.cursor = '';\n            if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                if (this.fields.dataSource instanceof DataManager === false) {\n                    this.preventExpand = false;\n                }\n                return;\n            }\n            if (dragObj.allowMultiSelection && dragLi.classList.contains(ACTIVE)) {\n                var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n                if (e.target.offsetHeight <= 33 && offsetY > e.target.offsetHeight - 10 && offsetY > 6) {\n                    for (var i = sNodes.length - 1; i >= 0; i--) {\n                        if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                            continue;\n                        }\n                        this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n                    }\n                }\n                else {\n                    for (var i = 0; i < sNodes.length; i++) {\n                        if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                            continue;\n                        }\n                        this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n                    }\n                }\n            }\n            else {\n                this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n            }\n            level = parseInt(dragLi.getAttribute('aria-level'), 10);\n            drop = true;\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement, null, level, drop));\n        if (dragObj.element.id !== this.element.id) {\n            dragObj.triggerEvent();\n        }\n        this.triggerEvent();\n    };\n    TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        var checkWrapper = closest(dropTarget, '.' + CHECKBOXWRAP);\n        var collapse = closest(e.target, '.' + COLLAPSIBLE);\n        var expand = closest(e.target, '.' + EXPANDABLE);\n        if (!dragLi.classList.contains('e-disable') && !checkWrapper && ((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3) || (expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19) || (!expand && !collapse))) {\n            if (dropTarget.nodeName === 'LI') {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n                if (dropTarget.firstElementChild.nodeName === 'UL') {\n                    this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n                }\n            }\n            else if ((dropTarget.classList.contains('e-icon-collapsible')) || (dropTarget.classList.contains('e-icon-expandable'))) {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else {\n                this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n            }\n        }\n        else {\n            this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY, true);\n        }\n    };\n    TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n        var dropUl = closest(dropLi, '.' + PARENTITEM);\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        else if (e.target.classList.contains('e-icon-expandable') || (e.target.classList.contains('e-icon-collapsible'))) {\n            if ((e.event.offsetY < 5) || (e.event.offsetX < 3)) {\n                pre = true;\n            }\n            else if ((e.event.offsetY > 15) || (e.event.offsetX > 17)) {\n                pre = false;\n            }\n        }\n        if ((e.target.classList.contains('e-icon-expandable')) || (e.target.classList.contains('e-icon-collapsible'))) {\n            var target = e.target.closest('li');\n            dropUl.insertBefore(dragLi, pre ? target : target.nextElementSibling);\n        }\n        else {\n            dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        }\n        this.moveData(dragLi, dropLi, dropUl, pre, dragObj);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos, isCheck) {\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        var templateTarget;\n        if (e && e.target) {\n            templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n        }\n        if (e && (pos < 7) && !isCheck) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n            this.moveData(dragLi, dropLi, dropParentUl, true, dragObj);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10)) && !isCheck && !this.hasTemplate) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n            this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n        }\n        else if (this.hasTemplate && templateTarget && pos > templateTarget.offsetHeight - 10 && !isCheck) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n            this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n        }\n        else {\n            var dropUl = this.expandParent(dropLi);\n            var childLi = dropUl.childNodes[index];\n            dropUl.insertBefore(dragLi, childLi);\n            this.moveData(dragLi, childLi, dropUl, true, dragObj);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.moveData = function (dragLi, dropLi, dropUl, pre, dragObj) {\n        var dropParentLi = closest(dropUl, '.' + LISTITEM);\n        var id = this.getId(dragLi);\n        var removedData = dragObj.updateChildField(dragObj.treeData, dragObj.fields, id, null, null, true);\n        var refId = this.getId(dropLi);\n        var index = this.getDataPos(this.treeData, this.fields, refId);\n        var parentId = this.getId(dropParentLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', true);\n            var pos = isNOU(index) ? this.treeData.length : (pre ? index : index + 1);\n            if (isNOU(parentId) && !this.hasPid) {\n                delete removedData[0][this.fields.parentID];\n            }\n            else {\n                var currPid = this.isNumberTypeId ? parseFloat(parentId) : parentId;\n                setValue(this.fields.parentID, currPid, removedData[0]);\n            }\n            this.treeData.splice(pos, 0, removedData[0]);\n            if (dragObj.element.id !== this.element.id) {\n                var childData = dragObj.removeChildNodes(id);\n                pos++;\n                for (var i = 0, len = childData.length; i < len; i++) {\n                    this.treeData.splice(pos, 0, childData[i]);\n                    pos++;\n                }\n                dragObj.groupedData = dragObj.getGroupedData(dragObj.treeData, dragObj.fields.parentID);\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, parentId, removedData, pre ? index : index + 1);\n        }\n    };\n    TreeView.prototype.expandParent = function (dropLi) {\n        var dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && this.preventExpand !== true) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        var dropUl = select('.' + PARENTITEM, dropLi);\n        if (this.preventExpand === true && !dropUl && dropIcon) {\n            this.renderChildNodes(dropLi);\n        }\n        dropUl = select('.' + PARENTITEM, dropLi);\n        if (!isNOU(dropUl) && this.preventExpand === true) {\n            dropUl.style.display = 'none';\n        }\n        if (!isNOU(dropUl) && this.preventExpand === false) {\n            dropUl.style.display = 'block';\n        }\n        if (isNOU(dropUl) && this.preventExpand === true) {\n            if (isNOU(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            if (icon) {\n                icon.classList.add('e-icon-expandable');\n            }\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            if (icon) {\n                removeClass([icon], COLLAPSIBLE);\n            }\n            else {\n                ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n            }\n            dropLi.setAttribute('aria-expanded', 'false');\n            dropUl.style.display = 'none';\n        }\n        if (isNOU(dropUl)) {\n            this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n            if (isNOU(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            if (icon) {\n                removeClass([icon], EXPANDABLE);\n            }\n            else {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n                icon = select('div.' + ICON, dropLi);\n                removeClass([icon], EXPANDABLE);\n            }\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            this.addExpand(dropLi);\n            this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n        }\n        return dropUl;\n    };\n    TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            var dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            var parentId = this.getId(dragParentLi);\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', false);\n            this.removeExpand(dragParentLi, true);\n        }\n    };\n    TreeView.prototype.updateAriaLevel = function (dragLi) {\n        var level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    };\n    TreeView.prototype.updateChildAriaLevel = function (element, level) {\n        if (!isNOU(element)) {\n            var cNodes = element.childNodes;\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    };\n    TreeView.prototype.renderVirtualEle = function (e) {\n        var pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        var virEle = this.createElement('div', { className: SIBLING });\n        var index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    };\n    TreeView.prototype.removeVirtualEle = function () {\n        var sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    };\n    TreeView.prototype.destroyDrag = function () {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    };\n    TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target, dragNode, cloneEle, level, drop) {\n        var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        var dropData = dropLi ? this.getNodeData(dropLi) : null;\n        var draggedNode = obj ? obj.dragLi : dragNode;\n        var draggedNodeData = obj ? obj.dragData : null;\n        var newParent = dropTarget ? this.parents(dropTarget, '.' + LISTITEM) : null;\n        var dragLiParent = obj.dragLi.parentElement;\n        var dragParent = obj.dragLi ? closest(dragLiParent, '.' + LISTITEM) : null;\n        var targetParent = null;\n        var indexValue = null;\n        var iconCss = [DROPNEXT, DROPIN, DROPOUT, NODROP];\n        var iconClass = null;\n        var node = (drop === true) ? draggedNode : dropLi;\n        var index = node ? closest(node, '.e-list-parent') : null;\n        var i = 0;\n        var position = null;\n        dragParent = (obj.dragLi && dragParent === null) ? closest(dragLiParent, '.' + ROOT) : dragParent;\n        dragParent = (drop === true) ? this.dragParent : dragParent;\n        if (cloneEle) {\n            while (i < 4) {\n                if (select('.' + ICON, cloneEle).classList.contains(iconCss[i])) {\n                    iconClass = iconCss[i];\n                    break;\n                }\n                i++;\n            }\n        }\n        if (index) {\n            var dropTar = 0;\n            for (i = 0; i < index.childElementCount; i++) {\n                dropTar = (drop !== true && index.children[i] === draggedNode && dropLi !== draggedNode) ? ++dropTar : dropTar;\n                if ((drop !== true && index.children[i].classList.contains('e-hover'))) {\n                    indexValue = (event.offsetY >= 23) ? i + 1 : i;\n                    break;\n                }\n                else if (index.children[i] === node) {\n                    indexValue = (event.offsetY >= 23) ? i : i;\n                    break;\n                }\n            }\n            indexValue = (dropTar !== 0) ? --indexValue : indexValue;\n            position = (iconClass == \"e-drop-in\") ? \"Inside\" : ((event.offsetY < 7) ? \"Before\" : \"After\");\n        }\n        if (dropTarget) {\n            if (newParent.length === 0) {\n                targetParent = null;\n            }\n            else if (dropTarget.classList.contains(LISTITEM)) {\n                targetParent = newParent[0];\n            }\n            else {\n                targetParent = newParent[1];\n            }\n        }\n        if (dropLi === draggedNode) {\n            targetParent = dropLi;\n        }\n        if (dropTarget && target.offsetHeight <= 33 && event.offsetY < target.offsetHeight - 10 && event.offsetY > 6) {\n            targetParent = dropLi;\n            if (drop !== true) {\n                level = ++level;\n                var parent_2 = targetParent ? select('.e-list-parent', targetParent) : null;\n                indexValue = (parent_2) ? parent_2.children.length : 0;\n                if (!(this.fields.dataSource instanceof DataManager) && parent_2 === null && targetParent) {\n                    var parent_3 = targetParent.hasAttribute('data-uid') ?\n                        this.getChildNodes(this.fields.dataSource, targetParent.getAttribute('data-uid').toString()) : null;\n                    indexValue = (parent_3) ? parent_3.length : 0;\n                }\n            }\n        }\n        return {\n            cancel: false,\n            clonedNode: cloneEle,\n            event: event,\n            draggedNode: draggedNode,\n            draggedNodeData: draggedNodeData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            dropIndex: indexValue,\n            dropLevel: level,\n            draggedParentNode: dragParent,\n            dropTarget: targetParent,\n            dropIndicator: iconClass,\n            target: target,\n            position: position,\n        };\n    };\n    TreeView.prototype.addFullRow = function (toAdd) {\n        var len = this.liList.length;\n        if (toAdd) {\n            for (var i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    };\n    TreeView.prototype.createFullRow = function (item) {\n        var rowDiv = this.createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    };\n    TreeView.prototype.addMultiSelect = function (toAdd) {\n        if (toAdd) {\n            var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n                var ele = liEles_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n                var ele = liEles_2[_a];\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    };\n    TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n        var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n            var icon = cIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    };\n    TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNOU(element)) {\n            var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = eNodes.length; i < len; i++) {\n                var liEle = eNodes[i];\n                var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNOU(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n        var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (var i = 0, len = eIcons.length; i < len; i++) {\n            var icon = eIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    };\n    TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n        var vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (var i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    };\n    TreeView.prototype.removeNode = function (node) {\n        var dragParentUl = closest(node, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        if (!isNOU(this.nodeTemplateFn)) {\n            this.destroyTemplate(node);\n        }\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.removeData(node);\n    };\n    TreeView.prototype.updateInstance = function () {\n        this.updateList();\n        this.updateSelectedNodes();\n        this.updateExpandedNodes();\n    };\n    TreeView.prototype.updateList = function () {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    };\n    TreeView.prototype.updateSelectedNodes = function () {\n        this.setProperties({ selectedNodes: [] }, true);\n        var sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    };\n    TreeView.prototype.updateExpandedNodes = function () {\n        this.setProperties({ expandedNodes: [] }, true);\n        var eNodes = selectAll('[aria-expanded=\"true\"]', this.element);\n        for (var i = 0, len = eNodes.length; i < len; i++) {\n            this.addExpand(eNodes[i]);\n        }\n    };\n    TreeView.prototype.removeData = function (node) {\n        if (this.dataType === 1) {\n            var dm = new DataManager(this.treeData);\n            var id = this.getId(node);\n            var data = {};\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            data[this.fields.id] = newId;\n            dm.remove(this.fields.id, data);\n            this.removeChildNodes(id);\n        }\n        else {\n            var id = this.getId(node);\n            this.updateChildField(this.treeData, this.fields, id, null, null, true);\n        }\n    };\n    TreeView.prototype.removeChildNodes = function (parentId) {\n        var cNodes = this.getChildGroup(this.groupedData, parentId, false);\n        var childData = [];\n        if (cNodes) {\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var dm = new DataManager(this.treeData);\n                var id = getValue(this.fields.id, cNodes[i]).toString();\n                var data = {};\n                var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                data[this.fields.id] = currId;\n                var nodeData = dm.remove(this.fields.id, data);\n                childData.push(nodeData[0]);\n                this.removeChildNodes(id);\n            }\n        }\n        return childData;\n    };\n    TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNOU(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    };\n    TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote, dropEle) {\n        if (nodes.length === 0) {\n            return;\n        }\n        var sNodes = this.getSortedData(nodes);\n        var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        var li = ListBase.createListItemFromJson(this.createElement, sNodes, this.listBaseOption, level);\n        var dropUl;\n        if (!dropEle) {\n            dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        }\n        else {\n            dropUl = dropEle;\n        }\n        var refNode = dropUl.childNodes[index];\n        for (var i = 0; i < li.length; i++) {\n            dropUl.insertBefore(li[i], refNode);\n        }\n        var id = this.getId(dropLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, id, 'hasChildren', true);\n            var refId = this.getId(refNode);\n            var pos = isNOU(refId) ? this.treeData.length : this.getDataPos(this.treeData, this.fields, refId);\n            for (var j = 0; j < nodes.length; j++) {\n                if (!isNOU(id)) {\n                    var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                    setValue(this.fields.parentID, currId, nodes[j]);\n                }\n                this.treeData.splice(pos, 0, nodes[j]);\n                pos++;\n            }\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, id, nodes, index);\n        }\n        this.finalizeNode(dropUl);\n    };\n    TreeView.prototype.updateMapper = function (level) {\n        var mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        this.updateListProp(mapper);\n    };\n    TreeView.prototype.updateListProp = function (mapper) {\n        var prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n    };\n    TreeView.prototype.getDataPos = function (obj, mapper, id) {\n        var pos = null;\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                return i;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var data = getValue(mapper.child, obj[i]);\n                pos = this.getDataPos(data, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var items = getValue('child', obj[i]);\n                pos = this.getDataPos(items, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n        }\n        return pos;\n    };\n    TreeView.prototype.addChildData = function (obj, mapper, id, data, index) {\n        var updated;\n        if (isNOU(id)) {\n            index = isNOU(index) ? obj.length : index;\n            for (var k = 0, len = data.length; k < len; k++) {\n                obj.splice(index, 0, data[k]);\n                index++;\n            }\n            return updated;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if ((typeof mapper.child === 'string' && (obj[i].hasOwnProperty(mapper.child) && obj[i][mapper.child] !== null)) ||\n                    ((this.fields.dataSource instanceof DataManager) && obj[i].hasOwnProperty('child'))) {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    var childData = getValue(key, obj[i]);\n                    if (isNOU(childData)) {\n                        childData = [];\n                    }\n                    index = isNOU(index) ? childData.length : index;\n                    for (var k = 0, len = data.length; k < len; k++) {\n                        childData.splice(index, 0, data[k]);\n                        index++;\n                    }\n                }\n                else {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    obj[i][key] = data;\n                }\n                return true;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childObj = getValue(mapper.child, obj[i]);\n                updated = this.addChildData(childObj, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n            else if ((this.fields.dataSource instanceof DataManager) && !isNOU(getValue('child', obj[i]))) {\n                var childData = getValue('child', obj[i]);\n                updated = this.addChildData(childData, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n        }\n        return updated;\n    };\n    TreeView.prototype.doDisableAction = function (nodes) {\n        var validNodes = this.nodeType(nodes);\n        var validID = this.checkValidId(validNodes);\n        this.validArr = [];\n        for (var i = 0, len = validID.length; i < len; i++) {\n            var id = validID[i][this.fields.id].toString();\n            if (id && this.disableNode.indexOf(id) === -1) {\n                this.disableNode.push(id);\n            }\n            var liEle = this.getElement(id);\n            if (liEle) {\n                liEle.setAttribute('aria-disabled', 'true');\n                addClass([liEle], DISABLE);\n            }\n        }\n    };\n    TreeView.prototype.doEnableAction = function (nodes) {\n        var strNodes = this.nodeType(nodes);\n        for (var i = 0, len = strNodes.length; i < len; i++) {\n            var liEle = this.getElement(strNodes[i]);\n            var id = strNodes[i];\n            if (id && this.disableNode.indexOf(id) !== -1) {\n                this.disableNode.splice(this.disableNode.indexOf(id), 1);\n            }\n            if (liEle) {\n                liEle.removeAttribute('aria-disabled');\n                removeClass([liEle], DISABLE);\n            }\n        }\n    };\n    TreeView.prototype.nodeType = function (nodes) {\n        var validID = [];\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var id = void 0;\n            if (typeof nodes[i] == \"string\") {\n                id = (nodes[i]) ? nodes[i].toString() : null;\n            }\n            else if (typeof nodes[i] === \"object\") {\n                id = nodes[i] ? nodes[i].getAttribute(\"data-uid\").toString() : null;\n            }\n            if (validID.indexOf(id) == -1) {\n                validID.push(id);\n            }\n        }\n        return validID;\n    };\n    TreeView.prototype.checkValidId = function (node) {\n        var _this = this;\n        if (this.dataType === 1) {\n            this.validArr = this.treeData.filter(function (data) {\n                return node.indexOf(data[_this.fields.id] ? data[_this.fields.id].toString() : null) !== -1;\n            });\n        }\n        else if (this.dataType === 2) {\n            for (var k = 0; k < this.treeData.length; k++) {\n                var id = this.treeData[k][this.fields.id] ? this.treeData[k][this.fields.id].toString() : null;\n                if (node.indexOf(id) !== -1) {\n                    this.validArr.push(this.treeData[k]);\n                }\n                var childItems = getValue(this.fields.child.toString(), this.treeData[k]);\n                if (childItems) {\n                    this.filterNestedChild(childItems, node);\n                }\n            }\n        }\n        return this.validArr;\n    };\n    TreeView.prototype.filterNestedChild = function (treeData, nodes) {\n        for (var k = 0; k < treeData.length; k++) {\n            var id = treeData[k][this.fields.id] ? treeData[k][this.fields.id].toString() : null;\n            if (nodes.indexOf(id) !== -1) {\n                this.validArr.push(treeData[k]);\n            }\n            var childItems = getValue(this.fields.child.toString(), treeData[k]);\n            if (childItems) {\n                this.filterNestedChild(childItems, nodes);\n            }\n        }\n    };\n    TreeView.prototype.setTouchClass = function () {\n        var ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNOU(ele) ? '' : SMALL;\n    };\n    TreeView.prototype.updatePersistProp = function () {\n        this.removeField(this.treeData, this.fields, ['selected', 'expanded']);\n        var sleNodes = this.selectedNodes;\n        for (var l = 0, slelen = sleNodes.length; l < slelen; l++) {\n            this.updateField(this.treeData, this.fields, sleNodes[l], 'selected', true);\n        }\n        var enodes = this.expandedNodes;\n        for (var k = 0, nodelen = enodes.length; k < nodelen; k++) {\n            this.updateField(this.treeData, this.fields, enodes[k], 'expanded', true);\n        }\n        if (this.showCheckBox) {\n            this.removeField(this.treeData, this.fields, ['isChecked']);\n            var cnodes = this.checkedNodes;\n            for (var m = 0, nodelen = cnodes.length; m < nodelen; m++) {\n                this.updateField(this.treeData, this.fields, cnodes[m], 'isChecked', true);\n            }\n        }\n    };\n    TreeView.prototype.removeField = function (obj, mapper, names) {\n        if (isNOU(obj) || isNOU(mapper)) {\n            return;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            for (var j = 0; j < names.length; j++) {\n                var field = this.getMapperProp(mapper, names[j]);\n                if (!isNOU(obj[i][field])) {\n                    delete obj[i][field];\n                }\n            }\n            if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                this.removeField(getValue(mapper.child, obj[i]), this.getChildMapper(mapper), names);\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                this.removeField(getValue('child', obj[i]), this.getChildMapper(mapper), names);\n            }\n        }\n    };\n    TreeView.prototype.getMapperProp = function (mapper, fieldName) {\n        switch (fieldName) {\n            case 'selected':\n                return !isNOU(mapper.selected) ? mapper.selected : 'selected';\n            case 'expanded':\n                return !isNOU(mapper.expanded) ? mapper.expanded : 'expanded';\n            case 'isChecked':\n                return !isNOU(mapper.isChecked) ? mapper.isChecked : 'isChecked';\n            case 'hasChildren':\n                return !isNOU(mapper.hasChildren) ? mapper.hasChildren : 'hasChildren';\n            default:\n                return fieldName;\n        }\n    };\n    TreeView.prototype.updateField = function (obj, mapper, id, key, value) {\n        var childNodes;\n        if (isNOU(id)) {\n            return;\n        }\n        else if (this.dataType === 1) {\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', newId, false));\n            setValue(this.getMapperProp(mapper, key), value, resultData[0]);\n        }\n        else {\n            this.updateChildField(obj, mapper, id, key, value);\n        }\n    };\n    TreeView.prototype.updateChildField = function (obj, mapper, id, key, value, remove) {\n        var removedData;\n        if (isNOU(obj)) {\n            return removedData;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if (remove) {\n                    removedData = obj.splice(i, 1);\n                }\n                else {\n                    setValue(this.getMapperProp(mapper, key), value, obj[i]);\n                    removedData = [];\n                }\n                return removedData;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                removedData = this.updateChildField(childData, this.getChildMapper(mapper), id, key, value, remove);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var childItems = getValue('child', obj[i]);\n                removedData = this.updateChildField(childItems, this.getChildMapper(mapper), id, key, value, remove);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return removedData;\n    };\n    TreeView.prototype.triggerEvent = function () {\n        this.renderReactTemplates();\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataSourceChanged', eventArgs);\n    };\n    TreeView.prototype.wireInputEvents = function (inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    };\n    TreeView.prototype.wireEditingEvents = function (toBind) {\n        var _this = this;\n        if (toBind && !this.disabled) {\n            var proxy_2 = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (_this.isDoubleTapped(e) && e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy_2.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            var proxy_3 = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: function (e) {\n                    proxy_3.clickHandler(e);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireExpandOnEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var proxy_4 = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: function (e) {\n                    if ((_this.expandOnType === 'Click' || (_this.expandOnType === 'DblClick' && _this.isDoubleTapped(e) && e.tapCount === 2))\n                        && e.originalEvent.which !== 3) {\n                        proxy_4.expandHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.mouseDownHandler = function (e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    };\n    ;\n    TreeView.prototype.preventContextMenu = function (e) {\n        e.preventDefault();\n    };\n    TreeView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        if (this.expandOnType !== 'None') {\n            this.wireExpandOnEvent(true);\n        }\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    };\n    TreeView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        if (!this.disabled) {\n            this.keyboardModule.destroy();\n        }\n    };\n    TreeView.prototype.parents = function (element, selector) {\n        var matched = [];\n        var el = element.parentNode;\n        while (!isNOU(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    };\n    TreeView.prototype.isDoubleTapped = function (e) {\n        var target = e.originalEvent.target;\n        var secondTap;\n        if (target && e.tapCount) {\n            if (e.tapCount === 1) {\n                this.firstTap = closest(target, '.' + LISTITEM);\n            }\n            else if (e.tapCount === 2) {\n                secondTap = closest(target, '.' + LISTITEM);\n            }\n        }\n        return (this.firstTap === secondTap);\n    };\n    TreeView.prototype.isDescendant = function (parent, child) {\n        var node = child.parentNode;\n        while (!isNOU(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    TreeView.prototype.showSpinner = function (element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        }, this.createElement);\n        showSpinner(element);\n    };\n    TreeView.prototype.hideSpinner = function (element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    };\n    TreeView.prototype.setCheckedNodes = function (nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll(this.checkedNodes);\n        this.setIndeterminate(nodes);\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    };\n    /**\n     * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel\n     */\n    TreeView.prototype.setValidCheckedNode = function (node) {\n        if (this.dataType === 1) {\n            var mapper = this.fields;\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', node, true));\n            if (resultData[0]) {\n                this.setChildCheckState(resultData, node, resultData[0]);\n                if (this.autoCheck) {\n                    var parent_4 = resultData[0][this.fields.parentID] ? resultData[0][this.fields.parentID].toString() : null;\n                    var childNodes = this.getChildNodes(this.treeData, parent_4);\n                    var count = 0;\n                    for (var len = 0; len < childNodes.length; len++) {\n                        var childId = childNodes[len][this.fields.id].toString();\n                        if (this.checkedNodes.indexOf(childId) !== -1) {\n                            count++;\n                        }\n                    }\n                    if (count === childNodes.length && this.checkedNodes.indexOf(parent_4) === -1 && parent_4) {\n                        this.checkedNodes.push(parent_4);\n                    }\n                }\n            }\n        }\n        else if (this.dataType === 2) {\n            for (var a = 0; a < this.treeData.length; a++) {\n                var index = this.treeData[a][this.fields.id] ? this.treeData[a][this.fields.id].toString() : '';\n                if (index === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                    break;\n                }\n                var childItems = getValue(this.fields.child.toString(), this.treeData[a]);\n                if (childItems) {\n                    this.setChildCheckState(childItems, node, this.treeData[a]);\n                }\n            }\n        }\n    };\n    /**\n     * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel(for hierarchical DS)\n     */\n    TreeView.prototype.setChildCheckState = function (childItems, node, treeData) {\n        var checkedParent;\n        var count = 0;\n        if (this.dataType === 1) {\n            if (treeData) {\n                checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : null;\n            }\n            for (var index = 0; index < childItems.length; index++) {\n                var checkNode = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : null;\n                if (treeData && checkedParent && this.autoCheck) {\n                    if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkNode) === -1) {\n                        this.checkedNodes.push(checkNode);\n                    }\n                }\n                if (checkNode === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                }\n                var subChildItems = this.getChildNodes(this.treeData, checkNode);\n                if (subChildItems) {\n                    this.setChildCheckState(subChildItems, node, treeData);\n                }\n            }\n        }\n        else {\n            if (treeData) {\n                checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n            }\n            for (var index = 0; index < childItems.length; index++) {\n                var checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n                if (treeData && checkedParent && this.autoCheck) {\n                    if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n                        this.checkedNodes.push(checkedChild);\n                    }\n                }\n                if (checkedChild === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                }\n                var subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n                if (subChildItems) {\n                    this.setChildCheckState(subChildItems, node, childItems[index]);\n                }\n                if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n                    count++;\n                }\n                if (count === childItems.length && this.checkedNodes.indexOf(checkedParent) === -1 && this.autoCheck) {\n                    this.checkedNodes.push(checkedParent);\n                }\n            }\n        }\n    };\n    TreeView.prototype.setIndeterminate = function (nodes) {\n        for (var i = 0; i < nodes.length; i++) {\n            this.setValidCheckedNode(nodes[i]);\n        }\n    };\n    TreeView.prototype.updatePosition = function (id, newData, isRefreshChild, childValue) {\n        if (this.dataType === 1) {\n            var pos = this.getDataPos(this.treeData, this.fields, id);\n            this.treeData.splice(pos, 1, newData);\n            if (isRefreshChild) {\n                this.removeChildNodes(id);\n                for (var j = 0; j < childValue.length; j++) {\n                    this.treeData.splice(pos, 0, childValue[j]);\n                    pos++;\n                }\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        else {\n            this.updateChildPosition(this.treeData, this.fields, id, [newData], undefined);\n        }\n    };\n    TreeView.prototype.updateChildPosition = function (treeData, mapper, currID, newData, index) {\n        var found;\n        for (var i = 0, objlen = treeData.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, treeData[i]);\n            if (treeData[i] && nodeId && nodeId.toString() === currID) {\n                treeData[i] = newData[0];\n                return true;\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, treeData[i]))) {\n                var childObj = getValue(mapper.child, treeData[i]);\n                found = this.updateChildPosition(childObj, this.getChildMapper(mapper), currID, newData, index);\n                if (found !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', treeData[i]))) {\n                var childData = getValue('child', treeData[i]);\n                found = this.updateChildPosition(childData, this.getChildMapper(mapper), currID, newData, index);\n                if (found !== undefined) {\n                    break;\n                }\n            }\n        }\n        return found;\n    };\n    TreeView.prototype.dynamicState = function () {\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEditingEvents(this.allowEditing);\n        if (!this.disabled) {\n            this.wireEvents();\n            this.setRipple();\n        }\n        else {\n            this.unWireEvents();\n            this.rippleFn();\n            this.rippleIconFn();\n        }\n    };\n    TreeView.prototype.crudOperation = function (operation, nodes, target, newText, newNode, index, prevent) {\n        var _this = this;\n        var data = this.fields.dataSource;\n        var matchedArr = [];\n        var query = this.getQuery(this.fields);\n        var key = this.fields.id;\n        var crud;\n        var changes = {\n            addedRecords: [],\n            deletedRecords: [],\n            changedRecords: []\n        };\n        var nodesID = [];\n        if (nodes) {\n            nodesID = this.nodeType(nodes);\n        }\n        else if (target) {\n            if (typeof target == \"string\") {\n                nodesID[0] = target.toString();\n            }\n            else if (typeof target === \"object\") {\n                nodesID[0] = target.getAttribute(\"data-uid\").toString();\n            }\n        }\n        for (var i = 0, len = nodesID.length; i < len; i++) {\n            var liEle = this.getElement(nodesID[i]);\n            if (isNullOrUndefined(liEle)) {\n                continue;\n            }\n            var removedData = this.getNodeObject(nodesID[i]);\n            matchedArr.push(removedData);\n        }\n        switch (operation) {\n            case 'delete':\n                if (nodes.length == 1) {\n                    crud = data.remove(key, matchedArr[0], query.fromTable, query);\n                }\n                else {\n                    changes.deletedRecords = matchedArr;\n                    crud = data.saveChanges(changes, key, query.fromTable, query);\n                }\n                crud.then(function (e) { return _this.deleteSuccess(nodesID); })\n                    .catch(function (e) { return _this.dmFailure(e); });\n                break;\n            case 'update':\n                matchedArr[0][this.fields.text] = newText;\n                crud = data.update(key, matchedArr[0], query.fromTable, query);\n                crud.then(function (e) { return _this.editSucess(target, newText, prevent); })\n                    .catch(function (e) { return _this.dmFailure(e, target, prevent); });\n                break;\n            case 'insert':\n                if (newNode.length == 1) {\n                    crud = data.insert(newNode[0], query.fromTable, query);\n                }\n                else {\n                    var arr = [];\n                    for (var i = 0, len = newNode.length; i < len; i++) {\n                        arr.push(newNode[i]);\n                    }\n                    changes.addedRecords = arr;\n                    crud = data.saveChanges(changes, key, query.fromTable, query);\n                }\n                crud.then(function (e) {\n                    var dropLi = _this.getElement(target);\n                    _this.addSuccess(newNode, dropLi, index);\n                    _this.preventExpand = false;\n                }).catch(function (e) { return _this.dmFailure(e); });\n                break;\n        }\n    };\n    TreeView.prototype.deleteSuccess = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNOU(liEle)) {\n                continue;\n            }\n            this.removeNode(liEle);\n        }\n        this.updateInstance();\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        this.triggerEvent();\n    };\n    TreeView.prototype.editSucess = function (target, newText, prevent) {\n        var liEle = this.getElement(target);\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.appendNewText(liEle, txtEle, newText, prevent);\n    };\n    TreeView.prototype.addSuccess = function (nodes, dropLi, index) {\n        var dropUl;\n        var icon = dropLi ? dropLi.querySelector('.' + ICON) : null;\n        var proxy = this;\n        if (dropLi && icon && icon.classList.contains(EXPANDABLE) &&\n            dropLi.querySelector('.' + PARENTITEM) === null) {\n            proxy.renderChildNodes(dropLi, null, function () {\n                dropUl = dropLi.querySelector('.' + PARENTITEM);\n                proxy.addGivenNodes(nodes, dropLi, index, true, dropUl);\n                proxy.triggerEvent();\n            });\n        }\n        else {\n            this.addGivenNodes(nodes, dropLi, index, true);\n            this.triggerEvent();\n        }\n    };\n    TreeView.prototype.dmFailure = function (e, target, prevent) {\n        if (target) {\n            this.updatePreviousText(target, prevent);\n        }\n        this.trigger('actionFailure', { error: e });\n    };\n    TreeView.prototype.updatePreviousText = function (target, prevent) {\n        var liEle = this.getElement(target);\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateText(liEle, txtEle, this.oldText, prevent);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'dragArea':\n                    if (this.allowDragAndDrop) {\n                        this.dragObj.dragArea = this.dragArea;\n                    }\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        var sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'allowTextWrap':\n                    this.setTextWrap();\n                    this.updateWrap();\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'autoCheck':\n                    if (this.showCheckBox) {\n                        this.autoCheck = newProp.autoCheck;\n                        this.ensureIndeterminate();\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandedNodes':\n                    this.isAnimate = false;\n                    this.setProperties({ expandedNodes: [] }, true);\n                    this.collapseAll();\n                    this.isInitalExpand = true;\n                    this.setProperties({ expandedNodes: isNOU(newProp.expandedNodes) ? [] : newProp.expandedNodes }, true);\n                    this.doExpandAction();\n                    this.isInitalExpand = false;\n                    this.isAnimate = true;\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    if (this.expandOnType !== 'None' && !this.disabled) {\n                        this.wireExpandOnEvent(true);\n                    }\n                    break;\n                case 'disabled':\n                    this.setDisabledMode();\n                    this.dynamicState();\n                    break;\n                case 'fields':\n                    this.isAnimate = false;\n                    this.isFieldChange = true;\n                    this.initialRender = true;\n                    this.reRenderNodes();\n                    this.initialRender = false;\n                    this.isAnimate = true;\n                    this.isFieldChange = false;\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    if (this.allowTextWrap) {\n                        this.setTextWrap();\n                        this.updateWrap();\n                    }\n                    break;\n                case 'loadOnDemand':\n                    if (this.loadOnDemand === false && !this.onLoaded) {\n                        var nodes = this.element.querySelectorAll('li');\n                        var i = 0;\n                        while (i < nodes.length) {\n                            if (nodes[i].getAttribute('aria-expanded') !== 'true') {\n                                this.renderChildNodes(nodes[i], true, null, true);\n                            }\n                            i++;\n                        }\n                        this.onLoaded = true;\n                    }\n                    break;\n                case 'nodeTemplate':\n                    this.hasTemplate = false;\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n                case 'fullRowNavigable':\n                    this.setProperties({ fullRowNavigable: newProp.fullRowNavigable }, true);\n                    this.listBaseOption.itemNavigable = newProp.fullRowNavigable;\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    TreeView.prototype.destroy = function () {\n        this.clearTemplate();\n        this.element.removeAttribute('aria-activedescendant');\n        this.element.removeAttribute('tabindex');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        if (!this.disabled) {\n            this.rippleFn();\n            this.rippleIconFn();\n        }\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        if (this.ulElement && this.ulElement.parentElement) {\n            this.ulElement.parentElement.removeChild(this.ulElement);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.addNodes = function (nodes, target, index, preventTargetExpand) {\n        if (isNOU(nodes)) {\n            return;\n        }\n        nodes = JSON.parse(JSON.stringify(nodes));\n        var dropLi = this.getElement(target);\n        this.preventExpand = preventTargetExpand;\n        if (this.fields.dataSource instanceof DataManager) {\n            if (!this.isOffline) {\n                this.crudOperation('insert', null, target, null, nodes, index, this.preventExpand);\n            }\n            else {\n                this.addSuccess(nodes, dropLi, index);\n            }\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                nodes = this.getSortedData(nodes);\n                for (var i = 0; i < nodes.length; i++) {\n                    var pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        this.updateCheckedStateFromDS();\n        if (this.showCheckBox && dropLi) {\n            this.ensureParentCheckState(dropLi);\n        }\n        if ((this.fields.dataSource instanceof DataManager === false)) {\n            this.preventExpand = false;\n            this.triggerEvent();\n        }\n    };\n    /**\n     * Instead of clicking on the TreeView node for editing, we can enable it by using\n     * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.beginEdit = function (node) {\n        var ele = this.getElement(node);\n        if (isNOU(ele) || this.disabled) {\n            return;\n        }\n        this.createTextbox(ele, null);\n    };\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.checkAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    };\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.disableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    };\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.enableNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    };\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    TreeView.prototype.ensureVisible = function (node) {\n        var liEle = this.getElement(node);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n        setTimeout(function () { liEle.scrollIntoView(true); }, 450);\n    };\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNOU(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Gets all the checked nodes including child, whether it is loaded or not.\n     */\n    TreeView.prototype.getAllCheckedNodes = function () {\n        var checkNodes = this.checkedNodes;\n        return checkNodes;\n    };\n    /**\n    * Gets all the disabled nodes including child, whether it is loaded or not.\n    */\n    TreeView.prototype.getDisabledNodes = function () {\n        var disabledNodes = this.disableNode;\n        return disabledNodes;\n    };\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getNode = function (node) {\n        var ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    };\n    /**\n     * To get the updated data source of TreeView after performing some operation like drag and drop, node editing,\n     * node selecting/unSelecting, node expanding/collapsing, node checking/unChecking, adding and removing node.\n     * * If you pass the ID of TreeView node as arguments for this method then it will return the updated data source\n     * of the corresponding node otherwise it will return the entire updated data source of TreeView.\n     * * The updated data source also contains custom attributes if you specified in data source.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     * @isGenericType true\n     */\n    TreeView.prototype.getTreeData = function (node) {\n        var id = this.getId(node);\n        this.updatePersistProp();\n        if (isNOU(id)) {\n            return this.treeData;\n        }\n        else {\n            var data = this.getNodeObject(id);\n            return isNOU(data) ? [] : [data];\n        }\n    };\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.moveNodes = function (sourceNodes, target, index, preventTargetExpand) {\n        var dropLi = this.getElement(target);\n        if (isNOU(dropLi)) {\n            return;\n        }\n        for (var i = 0; i < sourceNodes.length; i++) {\n            var dragLi = this.getElement(sourceNodes[i]);\n            if (isNOU(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.preventExpand = preventTargetExpand;\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.triggerEvent();\n    };\n    /**\n     * Refreshes a particular node of the TreeView.\n     * @param  {string | Element} target - Specifies the ID of TreeView node or TreeView node as target element.\n     * @param  {{ [key: string]: Object }[]} newData - Specifies the new data of TreeView node.\n     */\n    TreeView.prototype.refreshNode = function (target, newData) {\n        if (isNOU(target) || isNOU(newData)) {\n            return;\n        }\n        var id;\n        var isRefreshChild = false;\n        if (this.dataType == 1 && newData.length > 1) {\n            isRefreshChild = true;\n        }\n        else if (this.dataType == 2 && newData.length === 1) {\n            var updatedChildValue = getValue(this.fields.child.toString(), newData[0]);\n            if (!isNOU(updatedChildValue)) {\n                isRefreshChild = true;\n            }\n        }\n        var liEle = this.getElement(target);\n        id = liEle ? liEle.getAttribute('data-uid') : ((target) ? target.toString() : null);\n        this.refreshData = this.getNodeObject(id);\n        newData = JSON.parse(JSON.stringify(newData));\n        /* eslint-disable */\n        var newNodeData;\n        var parentData;\n        if (this.dataType == 1 && isRefreshChild) {\n            for (var k = 0; k < newData.length; k++) {\n                if (isNOU(newData[k][this.fields.parentID])) {\n                    parentData = newData[k];\n                    newData.splice(k, 1);\n                    break;\n                }\n            }\n            newNodeData = extend({}, this.refreshData, parentData);\n        }\n        else {\n            newNodeData = extend({}, this.refreshData, newData[0]);\n        }\n        if (isNOU(liEle)) {\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n            return;\n        }\n        this.isRefreshed = true;\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        var newliEle = ListBase.createListItemFromJson(this.createElement, [newNodeData], this.listBaseOption, level);\n        var ul = select('.' + PARENTITEM, liEle);\n        var childItems = getValue(this.fields.child.toString(), newNodeData);\n        if ((isRefreshChild && ul) || (isRefreshChild && !isNOU(childItems))) {\n            var parentEle = liEle.parentElement;\n            var index = Array.prototype.indexOf.call(parentEle.childNodes, liEle);\n            remove(liEle);\n            parentEle.insertBefore(newliEle[0], parentEle.childNodes[index]);\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n            if (isRefreshChild && ul) {\n                this.expandAll([id]);\n            }\n        }\n        else {\n            var txtEle = select('.' + TEXTWRAP, liEle);\n            var newTextEle = select('.' + TEXTWRAP, newliEle[0]);\n            var icon = select('div.' + ICON, txtEle);\n            var newIcon = select('div.' + ICON, newTextEle);\n            if (icon && newIcon) {\n                if (newIcon.classList.contains(EXPANDABLE) && icon.classList.contains(COLLAPSIBLE)) {\n                    removeClass([newIcon], EXPANDABLE);\n                    addClass([newIcon], COLLAPSIBLE);\n                }\n                else if (newIcon.classList.contains(COLLAPSIBLE) && icon.classList.contains(EXPANDABLE)) {\n                    removeClass([newIcon], COLLAPSIBLE);\n                    addClass([newIcon], EXPANDABLE);\n                }\n                else if (icon.classList.contains('interaction')) {\n                    addClass([newIcon], 'interaction');\n                }\n            }\n            remove(txtEle);\n            var fullEle = select('.' + FULLROW, liEle);\n            fullEle.parentNode.insertBefore(newTextEle, fullEle.nextSibling);\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n        }\n        liEle = this.getElement(target);\n        if (newNodeData[this.fields.tooltip]) {\n            liEle.setAttribute(\"title\", newNodeData[this.fields.tooltip]);\n        }\n        if (newNodeData.hasOwnProperty(this.fields.htmlAttributes) && newNodeData[this.fields.htmlAttributes]) {\n            var attr = {};\n            merge(attr, newNodeData[this.fields.htmlAttributes]);\n            if (attr.class) {\n                addClass([liEle], attr.class.split(' '));\n                delete attr.class;\n            }\n            else {\n                attributes(liEle, attr);\n            }\n        }\n        if (this.selectedNodes.indexOf(id) !== -1) {\n            liEle.setAttribute('aria-selected', 'true');\n            addClass([liEle], ACTIVE);\n        }\n        this.isRefreshed = false;\n        this.triggerEvent();\n    };\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.removeNodes = function (nodes) {\n        if (!isNOU(nodes)) {\n            if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n                this.crudOperation('delete', nodes);\n            }\n            else {\n                this.deleteSuccess(nodes);\n            }\n        }\n    };\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    TreeView.prototype.updateNode = function (target, newText) {\n        var _this = this;\n        if (isNOU(target) || isNOU(newText) || !this.allowEditing) {\n            return;\n        }\n        var liEle = this.getElement(target);\n        if (isNOU(liEle)) {\n            return;\n        }\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                if (_this.fields.dataSource instanceof DataManager && !_this.isOffline) {\n                    _this.crudOperation('update', null, target, newText, null, null, false);\n                }\n                else {\n                    _this.appendNewText(liEle, txtEle, newText, false);\n                }\n            }\n        });\n    };\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.uncheckAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    };\n    var TreeView_1;\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"allowTextWrap\", void 0);\n    __decorate([\n        Complex({}, NodeAnimationSettings)\n    ], TreeView.prototype, \"animation\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"checkedNodes\", void 0);\n    __decorate([\n        Property('')\n    ], TreeView.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"disabled\", void 0);\n    __decorate([\n        Property(null)\n    ], TreeView.prototype, \"dragArea\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"expandedNodes\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeView.prototype, \"expandOn\", void 0);\n    __decorate([\n        Complex({}, FieldsSettings)\n    ], TreeView.prototype, \"fields\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"fullRowSelect\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"loadOnDemand\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"locale\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"nodeTemplate\", void 0);\n    __decorate([\n        Property()\n    ], TreeView.prototype, \"selectedNodes\", void 0);\n    __decorate([\n        Property('None')\n    ], TreeView.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property(true)\n    ], TreeView.prototype, \"autoCheck\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeView.prototype, \"fullRowNavigable\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"dataSourceChanged\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"drawNode\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeChecking\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeClicked\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsed\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragging\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStart\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDragStop\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeDropped\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEdited\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeEditing\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanded\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeExpanding\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelected\", void 0);\n    __decorate([\n        Event()\n    ], TreeView.prototype, \"nodeSelecting\", void 0);\n    TreeView = TreeView_1 = __decorate([\n        NotifyPropertyChanges\n    ], TreeView);\n    return TreeView;\n}(Component));\nexport { TreeView };\n","import { append, createElement, EventHandler, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as events from './constant';\nimport * as cls from './css-constant';\n/**\n * Kanban mobile layout rendering module\n *\n */\nvar MobileLayout = /** @class */ (function () {\n    function MobileLayout(parent) {\n        this.parent = parent;\n    }\n    MobileLayout.prototype.renderSwimlaneHeader = function () {\n        var toolbarWrapper = createElement('div', {\n            className: cls.SWIMLANE_HEADER_CLASS,\n            innerHTML: '<div class=\"' + cls.SWIMLANE_HEADER_TOOLBAR_CLASS + '\"><div class=\"' + cls.TOOLBAR_MENU_CLASS +\n                '\"><div class=\"e-icons ' + cls.TOOLBAR_MENU_ICON_CLASS + '\"></div></div><div class=\"' + cls.TOOLBAR_LEVEL_TITLE_CLASS +\n                '\"><div class=\"' + cls.TOOLBAR_SWIMLANE_NAME_CLASS + '\"></div></div></div>'\n        });\n        this.parent.element.appendChild(toolbarWrapper);\n        EventHandler.add(toolbarWrapper.querySelector('.' + cls.TOOLBAR_MENU_ICON_CLASS), 'click', this.menuClick, this);\n    };\n    MobileLayout.prototype.renderSwimlaneTree = function () {\n        var height = this.parent.element.querySelector('.' + cls.SWIMLANE_HEADER_CLASS).offsetHeight;\n        var treeHeight = window.innerHeight - height;\n        this.popupOverlay = createElement('div', { className: cls.SWIMLANE_OVERLAY_CLASS, styles: 'height: ' + treeHeight + 'px;' });\n        var wrapper = createElement('div', { className: cls.SWIMLANE_CONTENT_CLASS, styles: 'top:' + height + 'px;' });\n        var treeWrapper = createElement('div', {\n            className: cls.SWIMLANE_RESOURCE_CLASS + ' e-popup-close', styles: 'height: ' + treeHeight + 'px;'\n        });\n        wrapper.appendChild(treeWrapper);\n        wrapper.appendChild(this.popupOverlay);\n        this.parent.element.appendChild(wrapper);\n        var swimlaneTree = createElement('div', { className: cls.SWIMLANE_TREE_CLASS });\n        treeWrapper.appendChild(swimlaneTree);\n        this.treeViewObj = new TreeView({\n            cssClass: this.parent.cssClass,\n            enableRtl: this.parent.enableRtl,\n            fields: {\n                dataSource: this.parent.layoutModule.kanbanRows,\n                id: 'keyField',\n                text: 'textField'\n            },\n            nodeTemplate: this.parent.swimlaneSettings.template,\n            nodeClicked: this.treeSwimlaneClick.bind(this),\n            drawNode: this.drawNode.bind(this),\n        });\n        this.treeViewObj.appendTo(swimlaneTree);\n        var popupObj = {\n            targetType: 'relative',\n            actionOnScroll: 'none',\n            enableRtl: this.parent.enableRtl,\n            zIndex: 10,\n            hideAnimation: { name: 'SlideLeftOut', duration: 500 },\n            showAnimation: { name: 'SlideLeftIn', duration: 500 },\n            viewPortElement: this.parent.element.querySelector('.' + cls.CONTENT_CLASS)\n        };\n        popupObj.content = this.treeViewObj.element;\n        this.treePopup = new Popup(treeWrapper, popupObj);\n    };\n    MobileLayout.prototype.menuClick = function () {\n        if (this.parent.element.querySelector('.' + cls.SWIMLANE_RESOURCE_CLASS).classList.contains('e-popup-open')) {\n            this.treePopup.hide();\n            removeClass([this.popupOverlay], 'e-enable');\n        }\n        else {\n            var treeNodes = [].slice.call(this.treeViewObj.element.querySelectorAll('.e-list-item'));\n            removeClass(treeNodes, 'e-active');\n            addClass([treeNodes[this.parent.layoutModule.swimlaneIndex]], 'e-active');\n            this.treePopup.show();\n            addClass([this.popupOverlay], 'e-enable');\n        }\n    };\n    MobileLayout.prototype.treeSwimlaneClick = function (args) {\n        this.treePopup.hide();\n        var treeNodes = [].slice.call(this.treeViewObj.element.querySelectorAll('.e-list-item'));\n        this.parent.layoutModule.swimlaneIndex = treeNodes.indexOf(args.node);\n        this.parent.layoutModule.scrollLeft = 0;\n        this.parent.notify(events.dataReady, { processedData: this.parent.kanbanData });\n        args.event.preventDefault();\n    };\n    MobileLayout.prototype.hidePopup = function () {\n        this.treePopup.hide();\n        removeClass([this.popupOverlay], 'e-enable');\n    };\n    MobileLayout.prototype.getWidth = function () {\n        return (window.innerWidth * 80) / 100;\n    };\n    MobileLayout.prototype.drawNode = function (args) {\n        if (this.parent.swimlaneSettings.template && this.parent.isReact) {\n            var templateId = this.parent.element.id + '_treeviewTemplate';\n            var treeViewTemplate = this.parent.templateParser(this.parent.swimlaneSettings.template)(args.nodeData, this.parent, 'nodeTemplate', templateId, false);\n            append(treeViewTemplate, args.node.querySelector('.e-list-text'));\n        }\n    };\n    return MobileLayout;\n}());\nexport { MobileLayout };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { append, createElement, formatUnit, EventHandler, addClass, remove, extend, Browser, isNullOrUndefined, removeClass, closest, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { MobileLayout } from './mobile-layout';\nimport * as events from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban layout rendering module\n *\n */\nvar LayoutRender = /** @class */ (function (_super) {\n    __extends(LayoutRender, _super);\n    function LayoutRender(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.kanbanRows = [];\n        _this.parent = parent;\n        _this.columnKeys = [];\n        _this.swimlaneIndex = 0;\n        _this.swimlaneData = {};\n        _this.scrollLeft = 0;\n        _this.frozenOrder = 0;\n        _this.parent.on(events.dataReady, _this.initRender, _this);\n        _this.parent.on(events.contentReady, _this.scrollUiUpdate, _this);\n        return _this;\n    }\n    LayoutRender.prototype.initRender = function () {\n        if (this.parent.columns.length === 0) {\n            return;\n        }\n        this.columnData = this.getColumnCards();\n        this.kanbanRows = this.getRows();\n        this.swimlaneData = this.getSwimlaneCards();\n        if (this.parent.isAdaptive) {\n            var parent_1 = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n            if (parent_1) {\n                this.scrollLeft = parent_1.scrollLeft;\n            }\n        }\n        this.destroy();\n        this.parent.on(events.dataReady, this.initRender, this);\n        this.parent.on(events.contentReady, this.scrollUiUpdate, this);\n        if (this.parent.isAdaptive && this.parent.swimlaneSettings.keyField && this.parent.kanbanData.length !== 0) {\n            this.renderSwimlaneHeader();\n        }\n        var header = createElement('div', { className: cls.HEADER_CLASS });\n        this.parent.element.appendChild(header);\n        this.renderHeader(header);\n        this.renderContent();\n        this.renderCards();\n        this.renderValidation();\n        this.parent.renderTemplates();\n        this.parent.notify(events.contentReady, {});\n        this.wireEvents();\n        if (this.parent.isInitialRender) {\n            this.parent.isInitialRender = false;\n        }\n    };\n    LayoutRender.prototype.renderHeader = function (header) {\n        var headerWrap = createElement('div', { className: this.parent.swimlaneSettings.keyField ? cls.SWIMLANE_CLASS : '' });\n        header.appendChild(headerWrap);\n        var headerTable = createElement('table', {\n            className: cls.TABLE_CLASS + ' ' + cls.HEADER_TABLE_CLASS,\n            attrs: { 'role': 'presentation' }\n        });\n        headerWrap.appendChild(headerTable);\n        this.renderColGroup(headerTable);\n        var tableHead = createElement('thead');\n        headerTable.appendChild(tableHead);\n        if (this.parent.stackedHeaders.length > 0) {\n            tableHead.appendChild(this.createStackedRow(this.parent.stackedHeaders));\n        }\n        var tr = createElement('tr', { className: cls.HEADER_ROW_CLASS });\n        tableHead.appendChild(tr);\n        var _loop_1 = function (column) {\n            if (this_1.isColumnVisible(column)) {\n                var index = this_1.parent.actionModule.columnToggleArray.indexOf(column.keyField.toString());\n                var th_1 = createElement('th', {\n                    className: index === -1 ? cls.HEADER_CELLS_CLASS : cls.HEADER_CELLS_CLASS + ' ' + cls.COLLAPSED_CLASS,\n                    attrs: { 'data-role': 'kanban-column', 'data-key': column.keyField.toString() }\n                });\n                var classList = [];\n                if (column.allowToggle) {\n                    classList.push(cls.HEADER_ROW_TOGGLE_CLASS);\n                    if (!column.isExpanded) {\n                        classList.push(cls.COLLAPSED_CLASS);\n                    }\n                }\n                addClass([th_1], classList);\n                var headerWrapper = createElement('div', { className: cls.HEADER_WRAP_CLASS });\n                th_1.appendChild(headerWrapper);\n                var noOfCard = this_1.columnData[column.keyField].length;\n                var headerTitle = createElement('div', { className: cls.HEADER_TITLE_CLASS });\n                headerWrapper.appendChild(headerTitle);\n                if (column.template) {\n                    var templateArgs = {\n                        keyField: column.keyField, headerText: column.headerText, minCount: column.minCount, maxCount: column.maxCount,\n                        allowToggle: column.allowToggle, isExpanded: column.isExpanded, showItemCount: column.showItemCount, count: noOfCard\n                    };\n                    addClass([th_1], cls.TEMPLATE_CLASS);\n                    var templateId = this_1.parent.element.id + '_columnTemplate';\n                    var templateHeader = this_1.parent.templateParser(column.template)(templateArgs, this_1.parent, 'columnTemplate', templateId, false);\n                    append(templateHeader, headerTitle);\n                }\n                else {\n                    var header_1 = createElement('div', { className: cls.HEADER_TEXT_CLASS, innerHTML: column.headerText });\n                    headerTitle.appendChild(header_1);\n                    if (column.showItemCount) {\n                        var itemCount = createElement('div', {\n                            className: cls.CARD_ITEM_COUNT_CLASS,\n                            innerHTML: '- ' + noOfCard.toString() + ' ' + this_1.parent.localeObj.getConstant('items')\n                        });\n                        headerTitle.appendChild(itemCount);\n                    }\n                }\n                if (column.allowToggle) {\n                    var isExpand = (column.isExpanded && index === -1) ? true : false;\n                    var name_1 = (isExpand) ? cls.COLUMN_EXPAND_CLASS : cls.COLUMN_COLLAPSE_CLASS;\n                    var icon = createElement('div', {\n                        className: cls.HEADER_ICON_CLASS + ' ' + cls.ICON_CLASS + ' ' + name_1,\n                        attrs: { 'tabindex': '0' }\n                    });\n                    icon.setAttribute('aria-label', isExpand ? column.keyField + ' Expand' : column.keyField + ' Collapse');\n                    th_1.setAttribute('aria-expanded', isExpand.toString());\n                    headerWrapper.appendChild(icon);\n                }\n                var dataObj = [{ keyField: column.keyField, textField: column.headerText, count: noOfCard }];\n                var args = { data: dataObj, element: tr, cancel: false, requestType: 'headerRow' };\n                this_1.parent.trigger(events.queryCellInfo, args, function (columnArgs) {\n                    if (!columnArgs.cancel) {\n                        tr.appendChild(th_1);\n                    }\n                });\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this.parent.columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            _loop_1(column);\n        }\n    };\n    LayoutRender.prototype.renderContent = function () {\n        var content = createElement('div', { className: cls.CONTENT_CLASS });\n        this.parent.element.appendChild(content);\n        var contentWrap = createElement('div', { className: this.parent.swimlaneSettings.keyField ? cls.SWIMLANE_CLASS : '' });\n        content.appendChild(contentWrap);\n        var contentTable = createElement('table', {\n            className: cls.TABLE_CLASS + ' ' + cls.CONTENT_TABLE_CLASS,\n            attrs: { 'role': 'presentation' }\n        });\n        contentWrap.appendChild(contentTable);\n        this.renderColGroup(contentTable);\n        var tBody = createElement('tbody');\n        contentTable.appendChild(tBody);\n        var className;\n        var isCollaspsed = false;\n        this.swimlaneRow = this.kanbanRows;\n        this.initializeSwimlaneTree();\n        for (var _i = 0, _a = this.swimlaneRow; _i < _a.length; _i++) {\n            var row = _a[_i];\n            if (this.parent.swimlaneSettings.keyField && this.parent.swimlaneToggleArray.length !== 0) {\n                var index = this.parent.swimlaneToggleArray.indexOf(row.keyField);\n                isCollaspsed = index !== -1;\n            }\n            if (this.parent.swimlaneSettings.keyField && !this.parent.isAdaptive) {\n                this.renderSwimlaneRow(tBody, row, isCollaspsed);\n            }\n            this.renderSingleContent(tBody, row, isCollaspsed);\n        }\n    };\n    LayoutRender.prototype.renderSingleContent = function (tBody, row, isCollaspsed) {\n        var className = isCollaspsed ? cls.CONTENT_ROW_CLASS + ' ' + cls.COLLAPSED_CLASS : cls.CONTENT_ROW_CLASS;\n        var tr = createElement('tr', { className: className, attrs: { 'aria-expanded': 'true' } });\n        for (var _i = 0, _a = this.parent.columns; _i < _a.length; _i++) {\n            var column = _a[_i];\n            if (this.isColumnVisible(column)) {\n                var index = this.parent.actionModule.columnToggleArray.indexOf(column.keyField.toString());\n                var className_1 = index === -1 ? cls.CONTENT_CELLS_CLASS : cls.CONTENT_CELLS_CLASS + ' ' + cls.COLLAPSED_CLASS;\n                var dragClass = (column.allowDrag ? ' ' + cls.DRAG_CLASS : '') + (column.allowDrop ? ' ' + cls.DROP_CLASS\n                    + ' ' + cls.DROPPABLE_CLASS : '');\n                var td = createElement('td', {\n                    className: className_1 + dragClass,\n                    attrs: { 'data-role': 'kanban-column', 'data-key': column.keyField.toString(), 'aria-expanded': 'true',\n                        'tabindex': '0', 'role': 'navigation' }\n                });\n                if (column.allowToggle && !column.isExpanded || index !== -1) {\n                    addClass([td], cls.COLLAPSED_CLASS);\n                    var text = (column.showItemCount ? '[' +\n                        this.getColumnData(column.keyField, this.swimlaneData[row.keyField]).length + '] ' : '') + column.headerText;\n                    td.appendChild(createElement('div', { className: cls.COLLAPSE_HEADER_TEXT_CLASS, innerHTML: text }));\n                    td.setAttribute('aria-expanded', 'false');\n                }\n                if (column.showAddButton) {\n                    var button = createElement('div', { className: cls.SHOW_ADD_BUTTON, attrs: { 'tabindex': '-1' } });\n                    button.appendChild(createElement('div', { className: cls.SHOW_ADD_ICON + ' ' + cls.ICON_CLASS }));\n                    td.appendChild(button);\n                }\n                tr.appendChild(td);\n            }\n        }\n        var dataObj = [{ keyField: row.keyField, textField: row.textField, count: row.count }];\n        var args = { data: dataObj, element: tr, cancel: false, requestType: 'contentRow' };\n        this.parent.trigger(events.queryCellInfo, args, function (columnArgs) {\n            if (!columnArgs.cancel) {\n                if (tBody.classList.contains('e-swimlane-row')) {\n                    tBody.insertAdjacentElement('beforebegin', tr);\n                }\n                else {\n                    tBody.appendChild(tr);\n                }\n            }\n        });\n    };\n    LayoutRender.prototype.initializeSwimlaneTree = function () {\n        if (this.parent.swimlaneSettings.keyField && this.parent.isAdaptive && this.parent.kanbanData.length !== 0) {\n            this.swimlaneRow = [this.kanbanRows[this.swimlaneIndex]];\n            this.renderSwimlaneTree();\n            this.parent.element.querySelector('.' + cls.TOOLBAR_SWIMLANE_NAME_CLASS).innerHTML = this.swimlaneRow[0].textField;\n        }\n    };\n    LayoutRender.prototype.renderSwimlaneRow = function (tBody, row, isCollapsed) {\n        var name = cls.CONTENT_ROW_CLASS + ' ' + cls.SWIMLANE_ROW_CLASS;\n        var className = isCollapsed ? ' ' + cls.COLLAPSED_CLASS : '';\n        var tr = createElement('tr', {\n            className: name + className, attrs: { 'data-key': row.keyField, 'aria-expanded': (!isCollapsed).toString() }\n        });\n        var col = this.parent.columns.length - this.parent.actionModule.hideColumnKeys.length;\n        var td = createElement('td', {\n            className: cls.CONTENT_CELLS_CLASS, attrs: { 'data-role': 'kanban-column', 'colspan': col.toString() }\n        });\n        var swimlaneHeader = createElement('div', { className: cls.SWIMLANE_HEADER_CLASS });\n        td.appendChild(swimlaneHeader);\n        var iconClass = isCollapsed ? cls.SWIMLANE_ROW_COLLAPSE_CLASS : cls.SWIMLANE_ROW_EXPAND_CLASS;\n        var iconDiv = createElement('div', {\n            className: cls.ICON_CLASS + ' ' + iconClass, attrs: {\n                'tabindex': '0',\n                'aria-label': isCollapsed ? row.keyField + ' Collapse' : row.keyField + ' Expand'\n            }\n        });\n        swimlaneHeader.appendChild(iconDiv);\n        var headerWrap = createElement('div', { className: cls.HEADER_WRAP_CLASS });\n        swimlaneHeader.appendChild(headerWrap);\n        var cardCount = this.swimlaneData[row.keyField].length;\n        if (this.parent.swimlaneSettings.template) {\n            var templateArgs = extend({}, row, { count: cardCount }, true);\n            addClass([td], cls.TEMPLATE_CLASS);\n            var templateId = this.parent.element.id + '_swimlaneTemplate';\n            var swimlaneTemplate = this.parent.templateParser(this.parent.swimlaneSettings.template)(templateArgs, this.parent, 'swimlaneTemplate', templateId, false);\n            append(swimlaneTemplate, headerWrap);\n        }\n        else {\n            headerWrap.appendChild(createElement('div', {\n                className: cls.SWIMLANE_ROW_TEXT_CLASS,\n                innerHTML: row.textField,\n                attrs: { 'data-role': row.textField }\n            }));\n        }\n        if (this.parent.swimlaneSettings.showItemCount) {\n            swimlaneHeader.appendChild(createElement('div', {\n                className: cls.CARD_ITEM_COUNT_CLASS,\n                innerHTML: \"- \" + cardCount.toString() + \" \" + this.parent.localeObj.getConstant('items')\n            }));\n        }\n        tr.appendChild(td);\n        var dataObj = [{ keyField: row.keyField, textField: row.textField, count: row.count }];\n        var args = { data: dataObj, element: tr, cancel: false, requestType: 'swimlaneRow' };\n        this.parent.trigger(events.queryCellInfo, args, function (columnArgs) {\n            if (!columnArgs.cancel) {\n                if (tBody.classList.contains('e-swimlane-row')) {\n                    tBody.insertAdjacentElement('beforebegin', tr);\n                }\n                else {\n                    tBody.appendChild(tr);\n                }\n            }\n        });\n    };\n    LayoutRender.prototype.renderCards = function () {\n        var _this = this;\n        var rows = this.swimlaneRow;\n        var cardRows = [].slice.call(this.parent.element.querySelectorAll('.e-content-row:not(.e-swimlane-row)'));\n        var swimlaneRows = [].slice.call(this.parent.element.querySelectorAll('.e-content-row.e-swimlane-row'));\n        var removeTrs = [];\n        cardRows.forEach(function (tr, index) {\n            var dataCount = 0;\n            var _loop_2 = function (column) {\n                if (_this.isColumnVisible(column)) {\n                    var columnData = _this.parent.swimlaneSettings.keyField ?\n                        _this.getColumnData(column.keyField, _this.swimlaneData[rows[index].keyField]) : _this.columnData[column.keyField];\n                    dataCount += columnData.length;\n                    var columnWrapper = tr.querySelector('[data-key=\"' + column.keyField + '\"]');\n                    var cardWrapper_1 = createElement('div', {\n                        className: cls.CARD_WRAPPER_CLASS, attrs: { 'role': 'listbox' }\n                    });\n                    columnWrapper.appendChild(cardWrapper_1);\n                    if (columnData.length > 0) {\n                        var _loop_3 = function (data) {\n                            var cardText = data[_this.parent.cardSettings.headerField];\n                            var cardIndex = _this.parent.actionModule.selectionArray.indexOf(cardText);\n                            var cardElement = _this.renderCard(data);\n                            if (cardIndex !== -1) {\n                                cardElement.setAttribute('aria-selected', 'true');\n                                addClass([cardElement], cls.CARD_SELECTION_CLASS);\n                            }\n                            var args = { data: data, element: cardElement, cancel: false };\n                            _this.parent.trigger(events.cardRendered, args, function (cardArgs) {\n                                if (!cardArgs.cancel) {\n                                    cardWrapper_1.appendChild(cardElement);\n                                }\n                            });\n                        };\n                        for (var _i = 0, _a = columnData; _i < _a.length; _i++) {\n                            var data = _a[_i];\n                            _loop_3(data);\n                        }\n                    }\n                    else {\n                        cardWrapper_1.appendChild(_this.renderEmptyCard());\n                    }\n                }\n            };\n            for (var _i = 0, _a = _this.parent.columns; _i < _a.length; _i++) {\n                var column = _a[_i];\n                _loop_2(column);\n            }\n            if (dataCount === 0) {\n                removeTrs.push(tr);\n                if (swimlaneRows.length > 0) {\n                    removeTrs.push(swimlaneRows[index]);\n                }\n            }\n        });\n        if (!this.parent.swimlaneSettings.showEmptyRow && (this.parent.kanbanData.length === 0 && !this.parent.showEmptyColumn)) {\n            removeTrs.forEach(function (tr) { return remove(tr); });\n        }\n    };\n    LayoutRender.prototype.renderCard = function (data) {\n        var cardElement = createElement('div', {\n            className: cls.CARD_CLASS,\n            attrs: {\n                'data-id': data[this.parent.cardSettings.headerField], 'data-key': data[this.parent.keyField],\n                'aria-selected': 'false', 'tabindex': '-1', 'role': 'option'\n            }\n        });\n        if (this.parent.cardSettings.template) {\n            addClass([cardElement], cls.TEMPLATE_CLASS);\n            var templateId = this.parent.element.id + '_cardTemplate';\n            var cardTemplate = this.parent.templateParser(this.parent.cardSettings.template)(data, this.parent, 'cardTemplate', templateId, false);\n            append(cardTemplate, cardElement);\n        }\n        else {\n            var tooltipClass = this.parent.enableTooltip ? ' ' + cls.TOOLTIP_TEXT_CLASS : '';\n            if (this.parent.cardSettings.showHeader) {\n                var cardHeader = createElement('div', { className: cls.CARD_HEADER_CLASS });\n                var cardCaption = createElement('div', { className: cls.CARD_HEADER_TEXT_CLASS });\n                var cardText = createElement('div', {\n                    className: cls.CARD_HEADER_TITLE_CLASS + tooltipClass,\n                    innerHTML: data[this.parent.cardSettings.headerField] || ''\n                });\n                cardHeader.appendChild(cardCaption);\n                cardCaption.appendChild(cardText);\n                cardElement.appendChild(cardHeader);\n            }\n            var cardContent = createElement('div', {\n                className: cls.CARD_CONTENT_CLASS + tooltipClass,\n                innerHTML: data[this.parent.cardSettings.contentField] || ''\n            });\n            cardElement.appendChild(cardContent);\n            if (this.parent.cardSettings.tagsField && data[this.parent.cardSettings.tagsField]) {\n                var cardTags = createElement('div', { className: cls.CARD_TAGS_CLASS });\n                var tags = data[this.parent.cardSettings.tagsField].toString().split(',');\n                for (var _i = 0, tags_1 = tags; _i < tags_1.length; _i++) {\n                    var tag = tags_1[_i];\n                    cardTags.appendChild(createElement('div', {\n                        className: cls.CARD_TAG_CLASS + ' ' + cls.CARD_LABEL_CLASS, innerHTML: tag\n                    }));\n                }\n                cardElement.appendChild(cardTags);\n            }\n            if (this.parent.cardSettings.grabberField && data[this.parent.cardSettings.grabberField]) {\n                addClass([cardElement], cls.CARD_COLOR_CLASS);\n                cardElement.style.borderLeftColor = data[this.parent.cardSettings.grabberField];\n            }\n            if (this.parent.cardSettings.footerCssField) {\n                var cardFields = createElement('div', { className: cls.CARD_FOOTER_CLASS });\n                var keys = data[this.parent.cardSettings.footerCssField].split(',');\n                for (var _a = 0, keys_1 = keys; _a < keys_1.length; _a++) {\n                    var key = keys_1[_a];\n                    cardFields.appendChild(createElement('div', {\n                        className: key.trim() + ' ' + cls.CARD_FOOTER_CSS_CLASS\n                    }));\n                }\n                cardElement.appendChild(cardFields);\n            }\n        }\n        return cardElement;\n    };\n    LayoutRender.prototype.renderEmptyCard = function () {\n        var emptyCard = createElement('span', {\n            className: cls.EMPTY_CARD_CLASS,\n            innerHTML: this.parent.localeObj.getConstant('noCard')\n        });\n        return emptyCard;\n    };\n    LayoutRender.prototype.renderColGroup = function (table) {\n        var _this = this;\n        var colGroup = createElement('colgroup');\n        this.parent.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                var index = _this.parent.actionModule.columnToggleArray.indexOf(column.keyField.toString());\n                var isToggle = column.allowToggle && !column.isExpanded;\n                var className = index === -1 ? (isToggle ? cls.COLLAPSED_CLASS : '') : cls.COLLAPSED_CLASS;\n                var col = createElement('col', {\n                    className: className,\n                    attrs: { 'data-key': column.keyField.toString() },\n                    styles: _this.parent.isAdaptive ? 'width: ' +\n                        (isToggle ? formatUnit(events.toggleWidth) : formatUnit(_this.getWidth())) : ''\n                });\n                colGroup.appendChild(col);\n            }\n        });\n        table.appendChild(colGroup);\n    };\n    LayoutRender.prototype.getRows = function () {\n        var _this = this;\n        var kanbanRows = [];\n        if (this.parent.swimlaneSettings.keyField) {\n            this.parent.kanbanData.map(function (obj) {\n                if (!_this.parent.swimlaneSettings.showEmptyRow) {\n                    if ((isNullOrUndefined(obj[_this.parent.keyField])) || (obj[_this.parent.keyField] === '') ||\n                        (obj[_this.parent.keyField] && _this.columnKeys.indexOf(obj[_this.parent.keyField].toString()) === -1)) {\n                        return;\n                    }\n                }\n                var textField = obj[_this.parent.swimlaneSettings.textField] || obj[_this.parent.swimlaneSettings.keyField];\n                var keyField = obj[_this.parent.swimlaneSettings.keyField];\n                if (!obj[_this.parent.swimlaneSettings.keyField]) {\n                    if (_this.parent.swimlaneSettings.showUnassignedRow) {\n                        textField = _this.parent.localeObj.getConstant('unassigned');\n                        keyField = '';\n                    }\n                    else {\n                        return;\n                    }\n                }\n                kanbanRows.push({ keyField: keyField, textField: textField });\n            });\n            kanbanRows = kanbanRows.filter(function (item, index, arr) {\n                return index === arr.map(function (item) { return item.keyField; }).indexOf(item.keyField);\n            });\n            kanbanRows = this.swimlaneSorting(kanbanRows);\n            kanbanRows.forEach(function (row) {\n                row.count = _this.parent.kanbanData.filter(function (obj) {\n                    return _this.columnKeys.indexOf(obj[_this.parent.keyField]) > -1 &&\n                        obj[_this.parent.swimlaneSettings.keyField] === row.keyField;\n                }).length;\n            });\n            if (kanbanRows.length === 0) {\n                kanbanRows.push({ keyField: '', textField: '' });\n            }\n        }\n        else {\n            kanbanRows.push({ keyField: '', textField: '' });\n        }\n        return kanbanRows;\n    };\n    LayoutRender.prototype.swimlaneSorting = function (rows) {\n        if (this.parent.swimlaneSettings.sortComparer) {\n            rows = this.parent.swimlaneSettings.sortComparer.call(this.parent, rows);\n        }\n        else {\n            rows.sort(function (a, b) { return a.textField.localeCompare(b.textField, undefined, { numeric: true }); });\n            if (this.parent.swimlaneSettings.sortDirection === 'Descending') {\n                rows.reverse();\n            }\n        }\n        return rows;\n    };\n    LayoutRender.prototype.createStackedRow = function (rows) {\n        var tr = createElement('tr', { className: cls.HEADER_ROW_CLASS + ' ' + cls.STACKED_HEADER_ROW_CLASS });\n        var stackedHeaders = [];\n        this.parent.columns.forEach(function (column) {\n            var headerText = '';\n            for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n                var row = rows_1[_i];\n                if (row.keyFields.indexOf(column.keyField.toString()) !== -1) {\n                    headerText = row.text;\n                }\n            }\n            stackedHeaders.push(headerText);\n        });\n        for (var h = 0; h < stackedHeaders.length; h++) {\n            var colSpan = 1;\n            for (var j = h + 1; j < stackedHeaders.length; j++) {\n                if ((stackedHeaders[h] !== '') && (stackedHeaders[j] !== '') && stackedHeaders[h] === stackedHeaders[j]) {\n                    colSpan++;\n                }\n                else {\n                    break;\n                }\n            }\n            var div = createElement('div', { className: cls.HEADER_TEXT_CLASS, innerHTML: stackedHeaders[h] });\n            var th = createElement('th', {\n                className: cls.HEADER_CELLS_CLASS + ' ' + cls.STACKED_HEADER_CELL_CLASS,\n                attrs: { 'colspan': colSpan.toString() }\n            });\n            tr.appendChild(th).appendChild(div);\n            h += colSpan - 1;\n        }\n        return tr;\n    };\n    LayoutRender.prototype.scrollUiUpdate = function () {\n        var _this = this;\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        var height = this.parent.element.offsetHeight - header.offsetHeight;\n        if (this.parent.isAdaptive) {\n            height = window.innerHeight - (header.offsetHeight + events.bottomSpace);\n            var swimlaneToolbar = this.parent.element.querySelector('.' + cls.SWIMLANE_HEADER_CLASS);\n            if (swimlaneToolbar) {\n                height -= swimlaneToolbar.offsetHeight;\n            }\n            var cardWrappers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_CELLS_CLASS));\n            cardWrappers.forEach(function (cell) {\n                var cardWrapper = cell.querySelector('.' + cls.CARD_WRAPPER_CLASS);\n                if (!cardWrapper.classList.contains(cls.MULTI_CARD_WRAPPER_CLASS)) {\n                    cardWrapper.style.height = formatUnit(height);\n                    EventHandler.add(cell, 'touchmove', _this.onAdaptiveScroll, _this);\n                }\n            });\n        }\n        if (this.parent.height !== 'auto' && this.parent.height !== '100%') {\n            content.style.height = formatUnit(height);\n        }\n        [].slice.call(header.children).forEach(function (node) {\n            var paddingValue = 0;\n            if ((content.offsetWidth - content.clientWidth) > 0) {\n                paddingValue = 17;\n                if ((content.offsetHeight - content.clientHeight) > 0) {\n                    node.style.width = formatUnit(content.clientWidth);\n                }\n            }\n            if (_this.parent.enableRtl) {\n                node.style.paddingLeft = formatUnit(paddingValue);\n            }\n            else {\n                node.style.paddingRight = formatUnit(paddingValue);\n            }\n        });\n        this.updateScrollPosition();\n    };\n    LayoutRender.prototype.onContentScroll = function (e) {\n        var target = e.target;\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        [].slice.call(header.children).forEach(function (node) { node.scrollLeft = target.scrollLeft; });\n        this.parent.scrollPosition.content = { left: target.scrollLeft, top: target.scrollTop };\n        if (!isNullOrUndefined(this.parent.swimlaneSettings.keyField) && this.parent.swimlaneSettings.enableFrozenRows) {\n            this.frozenRows(e);\n        }\n    };\n    LayoutRender.prototype.addFrozenSwimlaneDataKey = function (currentElem) {\n        var frozenKey = currentElem.getAttribute('data-key');\n        if (!isNullOrUndefined(frozenKey)) {\n            this.frozenSwimlaneRow.setAttribute('data-key', frozenKey);\n        }\n    };\n    LayoutRender.prototype.frozenRows = function (e) {\n        var firstSwimlane = this.parent.element.querySelector('.' + cls.SWIMLANE_ROW_CLASS);\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        if (isNullOrUndefined(this.frozenSwimlaneRow)) {\n            this.frozenSwimlaneRow = createElement('div', { className: cls.FROZEN_SWIMLANE_ROW_CLASS });\n            var frozenRow = createElement('div', { className: cls.FROZEN_ROW_CLASS });\n            this.frozenSwimlaneRow.appendChild(frozenRow);\n            this.parent.element.insertBefore(this.frozenSwimlaneRow, this.parent.element.firstElementChild);\n            frozenRow.appendChild(firstSwimlane.querySelector('.' + cls.SWIMLANE_HEADER_CLASS).cloneNode(true));\n            this.addFrozenSwimlaneDataKey(firstSwimlane);\n            setStyleAttribute(this.frozenSwimlaneRow, { height: formatUnit(firstSwimlane.getBoundingClientRect().height),\n                width: formatUnit(content.querySelector('.e-swimlane').getBoundingClientRect().width),\n                top: formatUnit(header.getBoundingClientRect().height.toString())\n            });\n            setStyleAttribute(header, { position: 'relative', top: formatUnit((-this.frozenSwimlaneRow.getBoundingClientRect().height)) });\n            setStyleAttribute(content, { position: 'relative', top: formatUnit((-this.frozenSwimlaneRow.getBoundingClientRect().height)) });\n        }\n        else {\n            var swimlaneRows = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SWIMLANE_ROW_CLASS));\n            var curSwim = swimlaneRows[this.frozenOrder];\n            var prevSwim = swimlaneRows[this.frozenOrder - 1];\n            var nextSwim = swimlaneRows[this.frozenOrder + 1];\n            var curSwimHeight = void 0;\n            var prevSwimHeight = void 0;\n            var nextSwimHeight = void 0;\n            if (curSwim) {\n                curSwimHeight = curSwim.getBoundingClientRect().top + curSwim.getBoundingClientRect().height;\n            }\n            if (prevSwim) {\n                prevSwimHeight = prevSwim.getBoundingClientRect().top + prevSwim.getBoundingClientRect().height;\n            }\n            if (nextSwim) {\n                nextSwimHeight = nextSwim.getBoundingClientRect().top + nextSwim.getBoundingClientRect().height;\n            }\n            var frozenSwimHeight = content.getBoundingClientRect().top + this.frozenSwimlaneRow.getBoundingClientRect().height;\n            var frozenRowsElement = this.frozenSwimlaneRow.querySelector('.' + cls.FROZEN_ROW_CLASS);\n            if (nextSwimHeight && frozenSwimHeight >= nextSwimHeight && this.frozenOrder < swimlaneRows.length - 1) {\n                if (frozenRowsElement) {\n                    remove(frozenRowsElement.querySelector('.' + cls.SWIMLANE_HEADER_CLASS));\n                    frozenRowsElement.appendChild(nextSwim.querySelector('.' + cls.SWIMLANE_HEADER_CLASS).cloneNode(true));\n                    this.addFrozenSwimlaneDataKey(nextSwim);\n                }\n                ++this.frozenOrder;\n            }\n            else if (prevSwimHeight && frozenSwimHeight < curSwimHeight && frozenSwimHeight > prevSwimHeight && this.frozenOrder > 0) {\n                if (frozenRowsElement) {\n                    remove(frozenRowsElement.querySelector('.' + cls.SWIMLANE_HEADER_CLASS));\n                    frozenRowsElement.appendChild(prevSwim.querySelector('.' + cls.SWIMLANE_HEADER_CLASS).cloneNode(true));\n                    this.addFrozenSwimlaneDataKey(prevSwim);\n                }\n                --this.frozenOrder;\n            }\n        }\n        if (e && e.target.scrollTop == 0) {\n            this.removeFrozenRows();\n        }\n    };\n    LayoutRender.prototype.removeFrozenRows = function () {\n        remove(this.frozenSwimlaneRow);\n        this.frozenSwimlaneRow = null;\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        setStyleAttribute(header, { position: '', top: '' });\n        setStyleAttribute(content, { position: '', top: '' });\n        this.parent.scrollPosition.content = { left: this.parent.scrollPosition.content.left, top: 0 };\n        content.scrollTop = 0;\n        this.frozenOrder = 0;\n    };\n    LayoutRender.prototype.onColumnScroll = function (e) {\n        var target = e.target;\n        if (target.offsetParent) {\n            var columnKey = target.offsetParent.getAttribute('data-key');\n            this.parent.scrollPosition.column[columnKey] = { left: target.scrollLeft, top: target.scrollTop };\n        }\n    };\n    LayoutRender.prototype.onAdaptiveScroll = function (e) {\n        if (this.parent.touchModule.tabHold && !this.parent.touchModule.mobilePopup) {\n            e.preventDefault();\n        }\n    };\n    /**\n     * Check column is visible or not.\n     *\n     * @param {ColumnsModel} column - specifies the column.\n     * @returns {boolean}\n     * @private\n     * @hidden\n     */\n    LayoutRender.prototype.isColumnVisible = function (column) {\n        var _this = this;\n        var isVisible = false;\n        var isNumeric = typeof column.keyField === 'number';\n        if (isNumeric) {\n            isVisible = this.parent.actionModule.hideColumnKeys.indexOf(column.keyField.toString()) === -1;\n        }\n        else {\n            column.keyField.split(',').forEach(function (key) { isVisible = _this.parent.actionModule.hideColumnKeys.indexOf(key) === -1; });\n        }\n        return isVisible;\n    };\n    LayoutRender.prototype.renderLimits = function (column, target) {\n        var limits = createElement('div', { className: cls.LIMITS_CLASS });\n        if (column.minCount) {\n            limits.appendChild(createElement('div', {\n                className: cls.MIN_COUNT_CLASS,\n                innerHTML: this.parent.localeObj.getConstant('min') + ': ' + column.minCount.toString()\n            }));\n        }\n        if (column.maxCount) {\n            limits.appendChild(createElement('div', {\n                className: cls.MAX_COUNT_CLASS,\n                innerHTML: this.parent.localeObj.getConstant('max') + ': ' + column.maxCount.toString()\n            }));\n        }\n        if (limits.childElementCount > 0) {\n            if (target.querySelector('.' + cls.CARD_WRAPPER_CLASS)) {\n                target.insertBefore(limits, target.firstElementChild);\n            }\n            else {\n                target.appendChild(limits);\n            }\n        }\n    };\n    LayoutRender.prototype.renderValidation = function () {\n        var _this = this;\n        this.parent.columns.forEach(function (column) {\n            if (!column.minCount && !column.maxCount) {\n                return;\n            }\n            var cardData = _this.columnData[column.keyField];\n            var keySelector = \"[data-key=\\\"\" + column.keyField + \"\\\"]\";\n            var headerCell = _this.parent.element.querySelector(\".\" + (cls.HEADER_CELLS_CLASS + keySelector));\n            var rowCells = [].slice.call(_this.parent.element.querySelectorAll(\".\" + (cls.CONTENT_CELLS_CLASS + keySelector)));\n            if (_this.parent.constraintType === 'Swimlane' && _this.parent.swimlaneSettings.keyField) {\n                _this.swimlaneRow.forEach(function (row, index) {\n                    _this.renderLimits(column, rowCells[index]);\n                    var rowCards = cardData.filter(function (card) {\n                        return card[_this.parent.swimlaneSettings.keyField] === row.keyField;\n                    });\n                    var colorClass = _this.getValidationClass(column, rowCards.length);\n                    if (colorClass) {\n                        addClass([rowCells[index]], colorClass);\n                    }\n                });\n            }\n            else {\n                _this.renderLimits(column, headerCell);\n                var colorClass = _this.getValidationClass(column, cardData.length);\n                if (colorClass) {\n                    addClass(rowCells.concat(headerCell), colorClass);\n                }\n            }\n        });\n    };\n    LayoutRender.prototype.getValidationClass = function (column, count) {\n        var colorClass;\n        if (column.maxCount && count > column.maxCount) {\n            colorClass = cls.MAX_COLOR_CLASS;\n        }\n        else if (column.minCount && count < column.minCount) {\n            colorClass = cls.MIN_COLOR_CLASS;\n        }\n        return colorClass;\n    };\n    LayoutRender.prototype.refreshValidation = function () {\n        var validations = [].slice.call(this.parent.element.querySelectorAll('.' + cls.LIMITS_CLASS));\n        validations.forEach(function (node) { remove(node); });\n        var minClass = [].slice.call(this.parent.element.querySelectorAll('.' + cls.MIN_COLOR_CLASS));\n        removeClass(minClass, cls.MIN_COLOR_CLASS);\n        var maxClass = [].slice.call(this.parent.element.querySelectorAll('.' + cls.MAX_COLOR_CLASS));\n        removeClass(maxClass, cls.MAX_COLOR_CLASS);\n        this.renderValidation();\n    };\n    LayoutRender.prototype.getColumnData = function (columnValue, dataSource) {\n        var _this = this;\n        if (dataSource === void 0) { dataSource = this.parent.kanbanData; }\n        var cardData = [];\n        var isNumeric = typeof columnValue === 'number';\n        if (isNumeric) {\n            var keyData = dataSource.filter(function (cardObj) {\n                return cardObj[_this.parent.keyField] === columnValue;\n            });\n            cardData = cardData.concat(keyData);\n        }\n        else {\n            var columnKeys = columnValue.split(',');\n            var _loop_4 = function (key) {\n                var keyData = dataSource.filter(function (cardObj) {\n                    return cardObj[_this.parent.keyField] === key.trim();\n                });\n                cardData = cardData.concat(keyData);\n            };\n            for (var _i = 0, columnKeys_1 = columnKeys; _i < columnKeys_1.length; _i++) {\n                var key = columnKeys_1[_i];\n                _loop_4(key);\n            }\n        }\n        this.sortCategory(cardData);\n        return cardData;\n    };\n    LayoutRender.prototype.sortCategory = function (cardData) {\n        var key = this.parent.cardSettings.headerField;\n        var direction = this.parent.sortSettings.direction;\n        switch (this.parent.sortSettings.sortBy) {\n            case 'DataSourceOrder':\n                this.sortOrder(key, direction, cardData);\n                break;\n            case 'Custom':\n            case 'Index':\n                if (this.parent.sortSettings.field) {\n                    key = this.parent.sortSettings.field;\n                }\n                this.sortOrder(key, direction, cardData);\n                break;\n        }\n        return cardData;\n    };\n    LayoutRender.prototype.sortOrder = function (key, direction, cardData) {\n        var isNumeric = true;\n        if (this.parent.kanbanData.length > 0) {\n            isNumeric = typeof (this.parent.kanbanData[0])[key] === 'number';\n        }\n        if (!isNumeric && this.parent.sortSettings.sortBy === 'Index') {\n            return cardData;\n        }\n        var first;\n        var second;\n        cardData = cardData.sort(function (firstData, secondData) {\n            if (!isNumeric) {\n                first = firstData[key].toLowerCase();\n                second = secondData[key].toLowerCase();\n            }\n            else {\n                first = firstData[key];\n                second = secondData[key];\n            }\n            return (first > second) ? 1 : ((second > first) ? -1 : 0);\n        });\n        if (direction === 'Descending') {\n            cardData.reverse();\n        }\n        return cardData;\n    };\n    LayoutRender.prototype.documentClick = function (args) {\n        if (args.target.classList.contains(cls.SWIMLANE_OVERLAY_CLASS) &&\n            this.parent.element.querySelector('.' + cls.SWIMLANE_RESOURCE_CLASS).classList.contains('e-popup-open')) {\n            this.treePopup.hide();\n            removeClass([this.popupOverlay], 'e-enable');\n        }\n        if (closest(args.target, \".\" + cls.ROOT_CLASS)) {\n            return;\n        }\n        var cards = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS));\n        removeClass(cards, cls.CARD_SELECTION_CLASS);\n        this.disableAttributeSelection(cards);\n    };\n    LayoutRender.prototype.disableAttributeSelection = function (cards) {\n        if (cards instanceof Element) {\n            cards.setAttribute('aria-selected', 'false');\n        }\n        else {\n            cards.forEach(function (card) { card.setAttribute('aria-selected', 'false'); });\n        }\n    };\n    LayoutRender.prototype.getColumnCards = function (data) {\n        var _this = this;\n        var columnData = {};\n        this.columnKeys = [];\n        this.parent.columns.forEach(function (column) {\n            var isNumeric = typeof column.keyField === 'number';\n            if (isNumeric) {\n                _this.columnKeys = _this.columnKeys.concat(column.keyField.toString());\n            }\n            else {\n                _this.columnKeys = _this.columnKeys.concat(column.keyField.split(',').map(function (e) { return e.trim(); }));\n            }\n            var cardData = _this.getColumnData(column.keyField, data);\n            columnData[column.keyField] = cardData;\n        });\n        return columnData;\n    };\n    LayoutRender.prototype.getSwimlaneCards = function () {\n        var _this = this;\n        var swimlaneData = {};\n        if (this.parent.swimlaneSettings.keyField) {\n            this.kanbanRows.forEach(function (row) {\n                return swimlaneData[row.keyField] = _this.parent.kanbanData.filter(function (obj) {\n                    return !isNullOrUndefined(obj[_this.parent.keyField]) && _this.columnKeys.indexOf(obj[_this.parent.keyField].toString()) > -1 &&\n                        ((!obj[_this.parent.swimlaneSettings.keyField] && _this.parent.swimlaneSettings.showUnassignedRow) ?\n                            '' : obj[_this.parent.swimlaneSettings.keyField]) === row.keyField;\n                });\n            });\n        }\n        return swimlaneData;\n    };\n    LayoutRender.prototype.refreshHeaders = function () {\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        [].slice.call(header.children).forEach(function (child) { return remove(child); });\n        this.renderHeader(header);\n    };\n    LayoutRender.prototype.refreshCards = function () {\n        this.parent.resetTemplates(['cardTemplate']);\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_WRAPPER_CLASS));\n        cards.forEach(function (card) { return remove(card); });\n        this.renderCards();\n        this.wireDragEvent();\n        this.parent.renderTemplates();\n    };\n    LayoutRender.prototype.refresh = function () {\n        var _this = this;\n        var isColumnTemplateRefreshed = false;\n        this.parent.columns.forEach(function (column) {\n            if (column.showItemCount) {\n                if (column && column.template && !isColumnTemplateRefreshed) {\n                    _this.refreshHeaders();\n                    isColumnTemplateRefreshed = true;\n                }\n                var countSelector = \".\" + cls.HEADER_CELLS_CLASS + \"[data-key=\\\"\" + column.keyField + \"\\\"] .\" + cls.CARD_ITEM_COUNT_CLASS;\n                var itemCount = _this.parent.element.querySelector(countSelector);\n                if (itemCount) {\n                    var isNumeric = typeof column.keyField === 'number';\n                    var cardLength = 0;\n                    if (isNumeric) {\n                        cardLength = ([].slice.call(_this.parent.element.querySelectorAll('.' + cls.CARD_CLASS + '[data-key=\\\"' + column.keyField + '\\\"]'))).length;\n                    }\n                    else {\n                        var keys = column.keyField.split(',');\n                        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n                            var key = keys_2[_i];\n                            var cards = [].slice.call(_this.parent.element.querySelectorAll('.' + cls.CARD_CLASS + '[data-key=\\\"' + key.trim() + '\\\"]'));\n                            cardLength = cards.length + cardLength;\n                        }\n                    }\n                    itemCount.innerHTML = '- ' + cardLength + ' ' + _this.parent.localeObj.getConstant('items');\n                }\n            }\n        });\n        if (this.parent.swimlaneSettings.keyField) {\n            var swimlaneRows = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.SWIMLANE_ROW_CLASS));\n            swimlaneRows.forEach(function (swimlane) {\n                var swimlaneKey = swimlane.getAttribute('data-key');\n                var itemCount = swimlane.querySelector(\".\" + cls.CARD_ITEM_COUNT_CLASS);\n                if (itemCount && swimlaneKey) {\n                    var cards = [].slice.call(swimlane.nextElementSibling.querySelectorAll('.' + cls.CARD_CLASS));\n                    itemCount.innerHTML = '- ' + cards.length + ' ' + _this.parent.localeObj.getConstant('items');\n                }\n            });\n        }\n        this.refreshValidation();\n    };\n    LayoutRender.prototype.updateScrollPosition = function () {\n        var _this = this;\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        if (content) {\n            content.scrollTo(this.parent.scrollPosition.content.left, this.parent.scrollPosition.content.top);\n        }\n        var cardWrapper = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_WRAPPER_CLASS));\n        cardWrapper.forEach(function (wrapper) {\n            if (wrapper.offsetParent) {\n                var scrollData = _this.parent.scrollPosition.column[wrapper.offsetParent.getAttribute('data-key')];\n                if (scrollData) {\n                    wrapper.scrollTo(scrollData.left, scrollData.top);\n                }\n            }\n        });\n    };\n    LayoutRender.prototype.renderCardBasedOnIndex = function (data, index) {\n        var _this = this;\n        var key = data[this.parent.keyField];\n        var cardRow = this.parent.element.querySelector('.e-content-row:not(.e-swimlane-row)');\n        if (this.parent.swimlaneSettings.keyField && !this.parent.isAdaptive) {\n            var rowSelector = \".e-content-row.e-swimlane-row[data-key=\\\"\" + data[this.parent.swimlaneSettings.keyField] + \"\\\"]\";\n            if (this.parent.element.querySelector(rowSelector)) {\n                cardRow = this.parent.element.querySelector(rowSelector).nextElementSibling;\n            }\n            else {\n                var columnIndex = this.columnKeys.indexOf(key);\n                if (columnIndex !== -1 && this.parent.actionModule.hideColumnKeys.indexOf(key) === -1) {\n                    var index_1 = this.kanbanRows.findIndex(function (rowData) { return rowData['keyField'] === data[_this.parent.swimlaneSettings.keyField]; });\n                    var swim = [].slice.call(this.parent.element.querySelectorAll('.e-swimlane-row'));\n                    var swimRow = this.parent.element.querySelector('.' + cls.CONTENT_TABLE_CLASS + ' tbody');\n                    if (swim[index_1]) {\n                        swimRow = swim[index_1];\n                    }\n                    this.renderSwimlaneRow(swimRow, this.kanbanRows[index_1], false);\n                    this.renderSingleContent(swimRow, this.kanbanRows[index_1], false);\n                }\n                cardRow = this.parent.element.querySelector(rowSelector).nextElementSibling;\n                [].slice.call(cardRow.children).forEach(function (cell) {\n                    var cardWrapper = createElement('div', { className: cls.CARD_WRAPPER_CLASS });\n                    cell.appendChild(cardWrapper);\n                    cardWrapper.appendChild(_this.renderEmptyCard());\n                });\n            }\n        }\n        if (this.parent.sortSettings.sortBy !== 'Index') {\n            var field_1 = this.parent.cardSettings.headerField;\n            if (this.parent.sortSettings.sortBy === 'Custom') {\n                field_1 = this.parent.sortSettings.field;\n            }\n            if (isNullOrUndefined(this.parent.swimlaneSettings.keyField)) {\n                index = this.getColumnData(key, this.parent.kanbanData).findIndex(function (colData) {\n                    return colData[field_1] === data[field_1];\n                });\n            }\n            else {\n                var swimlaneDatas = this.parent.getSwimlaneData(data[this.parent.swimlaneSettings.keyField]);\n                index = this.getColumnData(key, swimlaneDatas).findIndex(function (colData) { return colData[field_1] === data[field_1]; });\n            }\n        }\n        else if (this.parent.sortSettings.sortBy === 'Index' &&\n            this.parent.sortSettings.field && this.parent.sortSettings.direction === 'Ascending') {\n            index = data[this.parent.sortSettings.field] - 1;\n        }\n        if (cardRow) {\n            var td = [].slice.call(cardRow.children).filter(function (e) {\n                return e.getAttribute('data-key').replace(/\\s/g, '').split(',').indexOf(key.toString().replace(/\\s/g, '')) !== -1;\n            })[0];\n            var cardWrapper_2 = td.querySelector('.' + cls.CARD_WRAPPER_CLASS);\n            var emptyCard = cardWrapper_2.querySelector('.' + cls.EMPTY_CARD_CLASS);\n            if (emptyCard) {\n                remove(emptyCard);\n            }\n            var cardElement_1 = this.renderCard(data);\n            if (this.parent.allowDragAndDrop && td.classList.contains(cls.DRAG_CLASS)) {\n                this.parent.dragAndDropModule.wireDragEvents(cardElement_1);\n                addClass([cardElement_1], cls.DROPPABLE_CLASS);\n            }\n            var args = { data: data, element: cardElement_1, cancel: false };\n            this.parent.trigger(events.cardRendered, args, function (cardArgs) {\n                if (!cardArgs.cancel) {\n                    if (isNullOrUndefined(index) || cardWrapper_2.children.length === 0) {\n                        cardWrapper_2.appendChild(cardElement_1);\n                    }\n                    else {\n                        cardWrapper_2.insertBefore(cardElement_1, cardWrapper_2.childNodes[index]);\n                    }\n                }\n            });\n        }\n    };\n    LayoutRender.prototype.removeCard = function (data) {\n        var cardKey = data[this.parent.cardSettings.headerField];\n        var cardElement = this.parent.element.querySelector(\".\" + cls.CARD_CLASS + \"[data-id=\\\"\" + cardKey + \"\\\"]\");\n        this.isSelectedCard = cardElement.classList.contains(cls.CARD_SELECTION_CLASS) ? true : false;\n        var cardContainer = cardElement.parentElement;\n        if (cardElement) {\n            remove(cardElement);\n        }\n        if (cardContainer.querySelectorAll('.' + cls.CARD_CLASS + ':not(.' + cls.CLONED_CARD_CLASS + ')').length === 0) {\n            cardContainer.appendChild(this.renderEmptyCard());\n        }\n    };\n    LayoutRender.prototype.wireEvents = function () {\n        var _this = this;\n        EventHandler.add(this.parent.element, 'click', this.parent.actionModule.clickHandler, this.parent.actionModule);\n        EventHandler.add(this.parent.element, 'dblclick', this.parent.actionModule.doubleClickHandler, this.parent.actionModule);\n        EventHandler.add(document, Browser.touchStartEvent, this.documentClick, this);\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        EventHandler.add(content, 'scroll', this.onContentScroll, this);\n        var cardWrapper = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_WRAPPER_CLASS));\n        cardWrapper.forEach(function (wrapper) {\n            if (_this.parent.isInitialRender && wrapper.offsetParent) {\n                _this.parent.scrollPosition.column[wrapper.offsetParent.getAttribute('data-key')] = { left: 0, top: 0 };\n            }\n            EventHandler.add(wrapper, 'scroll', _this.onColumnScroll, _this);\n        });\n        if (this.parent.isAdaptive) {\n            this.parent.touchModule.wireTouchEvents();\n            content.scrollLeft = this.scrollLeft;\n        }\n        this.wireDragEvent();\n    };\n    LayoutRender.prototype.unWireEvents = function () {\n        var _this = this;\n        EventHandler.remove(this.parent.element, 'click', this.parent.actionModule.clickHandler);\n        EventHandler.remove(this.parent.element, 'dblclick', this.parent.actionModule.doubleClickHandler);\n        EventHandler.remove(document, Browser.touchStartEvent, this.documentClick);\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.onContentScroll);\n            if (this.parent.allowDragAndDrop) {\n                this.unWireDragEvent();\n            }\n        }\n        var cardWrapper = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_WRAPPER_CLASS));\n        cardWrapper.forEach(function (wrapper) { EventHandler.remove(wrapper, 'scroll', _this.onColumnScroll); });\n        if (this.parent.isAdaptive) {\n            this.parent.touchModule.unWireTouchEvents();\n        }\n    };\n    LayoutRender.prototype.wireDragEvent = function () {\n        var _this = this;\n        if (this.parent.allowDragAndDrop) {\n            var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_CELLS_CLASS\n                + '.' + cls.DRAG_CLASS + ' .' + cls.CARD_CLASS));\n            addClass(cards, cls.DROPPABLE_CLASS);\n            cards.forEach(function (card) { return _this.parent.dragAndDropModule.wireDragEvents(card); });\n        }\n    };\n    LayoutRender.prototype.unWireDragEvent = function () {\n        var _this = this;\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CONTENT_CELLS_CLASS\n            + '.' + cls.DRAG_CLASS + ' .' + cls.CARD_CLASS));\n        removeClass(cards, cls.DROPPABLE_CLASS);\n        cards.forEach(function (card) { return _this.parent.dragAndDropModule.unWireDragEvents(card); });\n    };\n    LayoutRender.prototype.destroy = function () {\n        this.parent.resetTemplates();\n        this.parent.off(events.dataReady, this.initRender);\n        this.parent.off(events.contentReady, this.scrollUiUpdate);\n        this.unWireEvents();\n        var header = this.parent.element.querySelector('.' + cls.HEADER_CLASS);\n        if (header) {\n            remove(header);\n        }\n        var content = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        if (content) {\n            remove(content);\n        }\n        if (this.treeViewObj) {\n            this.treeViewObj.destroy();\n            this.treeViewObj = null;\n        }\n        if (this.treePopup) {\n            this.treePopup.destroy();\n            this.treePopup = null;\n        }\n        var swimlaneToolBarEle = this.parent.element.querySelector('.' + cls.SWIMLANE_HEADER_CLASS);\n        if (swimlaneToolBarEle) {\n            remove(swimlaneToolBarEle);\n        }\n        var swimlaneContent = this.parent.element.querySelector('.' + cls.SWIMLANE_CONTENT_CLASS);\n        if (swimlaneContent) {\n            remove(swimlaneContent);\n        }\n    };\n    return LayoutRender;\n}(MobileLayout));\nexport { LayoutRender };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Component, NotifyPropertyChanges, Property, Complex, Collection, detach } from '@syncfusion/ej2-base';\nimport { addClass, classList, removeClass, compile, formatUnit, L10n, Browser, Event } from '@syncfusion/ej2-base';\nimport { createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { Data } from './data';\nimport { SwimlaneSettings } from '../models/swimlane-settings';\nimport { CardSettings } from '../models/card-settings';\nimport { DialogSettings } from '../models/dialog-settings';\nimport { Columns } from '../models/columns';\nimport { StackedHeaders } from '../models/stacked-headers';\nimport { SortSettings } from '../models/sort-settings';\nimport { Action } from '../actions/action';\nimport { Crud } from '../actions/crud';\nimport { DragAndDrop } from '../actions/drag';\nimport { KanbanDialog } from '../actions/dialog';\nimport { Keyboard } from '../actions/keyboard';\nimport { KanbanTooltip } from '../actions/tooltip';\nimport { KanbanTouch } from '../actions/touch';\nimport { LayoutRender } from './layout-render';\nimport * as events from '../base/constant';\nimport * as cls from './css-constant';\n/**\n * The Kanban component is an efficient way to visually depict various stages of a process using cards with transparent workflows.\n * The component has rich set of APIs, methods, and events used to enable or disable its features and customize them.\n * ```html\n * <div id=\"kanban\"></div>\n * ```\n * ```typescript\n * <script>\n *   var kanbanObj = new Kanban();\n *   kanbanObj.appendTo(\"#kanban\");\n * </script>\n * ```\n */\nvar Kanban = /** @class */ (function (_super) {\n    __extends(Kanban, _super);\n    /**\n     * Constructor for creating the Kanban widget\n     *\n     * @param {KanbanModel} options Accepts the kanban properties to render the component.\n     * @param {string | HTMLElement} element Accepts the DOM element reference as either selector or element to render the component.\n     */\n    function Kanban(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initializes the values of private members.\n     *\n     * @returns {void}\n     * @private\n     */\n    Kanban.prototype.preRender = function () {\n        this.isAdaptive = Browser.isDevice;\n        this.kanbanData = [];\n        if (!this.enablePersistence || !this.swimlaneToggleArray) {\n            this.swimlaneToggleArray = [];\n        }\n        this.activeCardData = { data: null, element: null };\n        var defaultLocale = {\n            items: 'items',\n            min: 'Min',\n            max: 'Max',\n            cardsSelected: 'Cards Selected',\n            addTitle: 'Add New Card',\n            editTitle: 'Edit Card Details',\n            deleteTitle: 'Delete Card',\n            deleteContent: 'Are you sure you want to delete this card?',\n            save: 'Save',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            yes: 'Yes',\n            no: 'No',\n            close: 'Close',\n            noCard: 'No cards to display',\n            unassigned: 'Unassigned'\n        };\n        this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n        this.scrollPosition = { content: { left: 0, top: 0 }, column: {} };\n        this.isInitialRender = true;\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     *\n     * @returns {ModuleDeclaration[]} Returns the declared modules.\n     * @private\n     */\n    Kanban.prototype.requiredModules = function () {\n        var modules = [];\n        return modules;\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     *\n     * @returns {string} Returns the persistance state.\n     * @private\n     */\n    Kanban.prototype.getPersistData = function () {\n        if (this.dataSource.length > 0) {\n            return this.addOnPersist(['columns', 'dataSource', 'swimlaneToggleArray']);\n        }\n        else {\n            return this.addOnPersist(['columns', 'kanbanData', 'swimlaneToggleArray']);\n        }\n    };\n    /**\n     * Core method to return the component name.\n     *\n     * @returns {string} Returns the module name.\n     * @private\n     */\n    Kanban.prototype.getModuleName = function () {\n        return 'kanban';\n    };\n    /**\n     * Core method that initializes the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Kanban.prototype.render = function () {\n        var addClasses = [cls.ROOT_CLASS];\n        var removeClasses = [];\n        if (this.enableRtl) {\n            addClasses.push(cls.RTL_CLASS);\n        }\n        else {\n            removeClasses.push(cls.RTL_CLASS);\n        }\n        if (this.isAdaptive) {\n            addClasses.push(cls.DEVICE_CLASS);\n        }\n        else {\n            removeClasses.push(cls.DEVICE_CLASS);\n        }\n        if (this.cssClass) {\n            addClasses.push(this.cssClass);\n        }\n        this.element.setAttribute('role', 'main');\n        classList(this.element, addClasses, removeClasses);\n        this.element.style.width = formatUnit(this.width);\n        this.element.style.height = formatUnit(this.height);\n        createSpinner({ target: this.element });\n        this.showSpinner();\n        this.initializeModules();\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {KanbanModel} newProp Gets the updated values\n     * @param {KanbanModel} oldProp Gets the previous values\n     * @returns {void}\n     * @private\n     */\n    Kanban.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass);\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass);\n                    }\n                    break;\n                case 'enableRtl':\n                case 'locale':\n                    this.refresh();\n                    break;\n                case 'width':\n                    this.element.style.width = formatUnit(newProp.width);\n                    this.element.querySelector('.' + cls.HEADER_CLASS).firstElementChild.style.width = 'auto';\n                    this.notify(events.contentReady, {});\n                    break;\n                case 'height':\n                    this.element.style.height = formatUnit(newProp.height);\n                    this.element.querySelector('.' + cls.CONTENT_CLASS).style.height = 'auto';\n                    this.notify(events.contentReady, {});\n                    break;\n                case 'dataSource':\n                case 'query':\n                    if (this.dataModule) {\n                        this.dataModule.setState({ isDataChanged: false });\n                    }\n                    this.dataModule = new Data(this);\n                    break;\n                case 'columns':\n                case 'constraintType':\n                    this.notify(events.dataReady, { processedData: this.kanbanData });\n                    break;\n                case 'swimlaneSettings':\n                    this.onSwimlaneSettingsPropertyChanged(newProp.swimlaneSettings, oldProp.swimlaneSettings);\n                    break;\n                case 'cardSettings':\n                    this.onCardSettingsPropertyChanged(newProp.cardSettings, oldProp.cardSettings);\n                    break;\n                case 'allowDragAndDrop':\n                    if (newProp.allowDragAndDrop) {\n                        this.layoutModule.wireDragEvent();\n                    }\n                    else {\n                        this.layoutModule.unWireDragEvent();\n                    }\n                    break;\n                case 'enableTooltip':\n                    if (this.tooltipModule) {\n                        this.tooltipModule.destroy();\n                        this.tooltipModule = null;\n                    }\n                    if (newProp.enableTooltip) {\n                        this.tooltipModule = new KanbanTooltip(this);\n                        this.layoutModule.refreshCards();\n                    }\n                    break;\n                case 'dialogSettings':\n                    if (newProp.dialogSettings) {\n                        this.dialogModule = new KanbanDialog(this);\n                    }\n                    break;\n                case 'allowKeyboard':\n                    if (this.keyboardModule) {\n                        this.keyboardModule.destroy();\n                        this.keyboardModule = null;\n                    }\n                    if (newProp.allowKeyboard) {\n                        this.keyboardModule = new Keyboard(this);\n                    }\n                    break;\n                case 'stackedHeaders':\n                    this.layoutModule.refreshHeaders();\n                    break;\n                case 'sortSettings':\n                    this.notify(events.dataReady, { processedData: this.kanbanData });\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Kanban.prototype.onSwimlaneSettingsPropertyChanged = function (newProp, _oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'keyField':\n                case 'textField':\n                case 'showEmptyRow':\n                case 'showItemCount':\n                case 'template':\n                case 'sortDirection':\n                    this.notify(events.dataReady, { processedData: this.kanbanData });\n                    break;\n                case 'enableFrozenRows':\n                    if (this.layoutModule.frozenSwimlaneRow && !this.swimlaneSettings.enableFrozenRows) {\n                        this.layoutModule.removeFrozenRows();\n                    }\n                    break;\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Kanban.prototype.onCardSettingsPropertyChanged = function (newProp, _oldProp) {\n        var cards = [];\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'showHeader':\n                case 'headerField':\n                case 'contentField':\n                case 'template':\n                case 'tagsField':\n                case 'grabberField':\n                case 'footerCssField':\n                    this.layoutModule.refreshCards();\n                    break;\n                case 'selectionType':\n                    cards = this.getSelectedCards();\n                    if (cards.length > 0) {\n                        removeClass(cards, cls.CARD_SELECTION_CLASS);\n                        this.layoutModule.disableAttributeSelection(cards);\n                    }\n                    break;\n            }\n        }\n    };\n    Kanban.prototype.initializeModules = function () {\n        this.dataModule = new Data(this);\n        this.layoutModule = new LayoutRender(this);\n        if (this.allowKeyboard) {\n            this.keyboardModule = new Keyboard(this);\n        }\n        this.actionModule = new Action(this);\n        this.crudModule = new Crud(this);\n        this.dragAndDropModule = new DragAndDrop(this);\n        this.dialogModule = new KanbanDialog(this);\n        if (this.enableTooltip) {\n            this.tooltipModule = new KanbanTooltip(this);\n        }\n        if (Browser.isDevice || Browser.isTouch) {\n            this.touchModule = new KanbanTouch(this);\n        }\n    };\n    Kanban.prototype.renderTemplates = function () {\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Kanban.prototype.resetTemplates = function (templates) {\n        if (this.isReact) {\n            this.clearTemplate(templates);\n        }\n    };\n    Kanban.prototype.destroyModules = function () {\n        if (this.layoutModule) {\n            this.layoutModule.destroy();\n            this.layoutModule = null;\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n            this.keyboardModule = null;\n        }\n        if (this.touchModule) {\n            this.touchModule.destroy();\n            this.touchModule = null;\n        }\n        this.dialogModule = null;\n        this.actionModule = null;\n        this.crudModule = null;\n        this.dataModule = null;\n        this.dragAndDropModule = null;\n    };\n    Kanban.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (error) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    /**\n     * Returns the card details based on card ID from the board.\n     *\n     * @function getCardDetails\n     * @param {Element} target Accepts the card element to get the details.\n     * @returns {Object} Returns the card details based on given target.\n     */\n    Kanban.prototype.getCardDetails = function (target) {\n        var _this = this;\n        var isNumeric = typeof (this.kanbanData[0])[this.cardSettings.headerField] === 'number';\n        var targetId = isNumeric ? parseInt(target.getAttribute('data-id'), 10) : target.getAttribute('data-id');\n        var cardObj = this.kanbanData.filter(function (data) {\n            return data[_this.cardSettings.headerField] === targetId;\n        })[0];\n        return cardObj;\n    };\n    /**\n     * Returns the column data based on column key input.\n     *\n     * @function getColumnData\n     * @param {string | number} columnKey Accepts the column key to get the objects.\n     * @param {Object[]} dataSource Accepts the collection of objects to get the results based on given columnKey.\n     * @returns {Object[]} Returns the collection of card objects based on given inputs.\n     */\n    Kanban.prototype.getColumnData = function (columnKey, dataSource) {\n        return this.layoutModule.getColumnCards(dataSource)[columnKey] || [];\n    };\n    /**\n     * Returns the swimlane column data based on swimlane keyField input.\n     *\n     * @function getSwimlaneData\n     * @param {string} keyField Accepts the swimlane keyField to get the objects.\n     * @returns {Object[]} Returns the collection of card objects based on given inputs.\n     */\n    Kanban.prototype.getSwimlaneData = function (keyField) {\n        return this.layoutModule.getSwimlaneCards()[keyField] || [];\n    };\n    /**\n     * Gets the list of selected cards from the board.\n     *\n     * @function getSelectedCards\n     * @returns {HTMLElement[]} Returns the card elements based on selection.\n     */\n    Kanban.prototype.getSelectedCards = function () {\n        return [].slice.call(this.element.querySelectorAll('.' + cls.CARD_CLASS + '.' + cls.CARD_SELECTION_CLASS));\n    };\n    /**\n     * Allows you to show the spinner on Kanban at the required scenarios.\n     *\n     * @function showSpinner\n     * @returns {void}\n     */\n    Kanban.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * When the spinner is shown manually using the showSpinner method, it can be hidden using this `hideSpinner` method.\n     *\n     * @function hideSpinner\n     * @returns {void}\n     */\n    Kanban.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * To manually open the dialog.\n     *\n     * @function openDialog\n     * @param {CurrentAction} action Accepts the action for which the dialog needs to be opened such as either for new card creation or\n     *  editing of existing cards. The applicable action names are `Add` and `Edit`.\n     * @param {Object} data It can be card data.\n     * @returns {void}\n     */\n    Kanban.prototype.openDialog = function (action, data) {\n        this.dialogModule.openDialog(action, data);\n    };\n    /**\n     * To manually close the dialog.\n     *\n     * @function closeDialog\n     * @returns {void}\n     */\n    Kanban.prototype.closeDialog = function () {\n        this.dialogModule.closeDialog();\n    };\n    /**\n     * Adds the new card to the data source of Kanban and layout.\n     *\n     * @function addCard\n     * @param {Object | Object[]} cardData Accepts Single card object or Collection of card objects to be added into Kanban.\n     * @param {number} index Accepts the index to insert the card in column.\n     * @returns {void}\n     */\n    Kanban.prototype.addCard = function (cardData, index) {\n        this.crudModule.addCard(cardData, index);\n    };\n    /**\n     * Updates the changes made in the card object by passing it as a parameter to the data source.\n     *\n     * @function updateCard\n     * @param {Object | Object[]} cardData Accepts Single card object or Collection of card objects to be updated into Kanban.\n     * @param {number} index Accepts the index to update the card in column.\n     * @returns {void}\n     */\n    Kanban.prototype.updateCard = function (cardData, index) {\n        this.crudModule.updateCard(cardData, index);\n    };\n    /**\n     * Deletes the card based on the provided ID or card collection in the argument list.\n     *\n     * @function deleteCard\n     * @param {string | number | Object | Object[]} cardData Accepts the ID of the remove card in string or number type or\n     * Single card object or Collection of card objects to be removed from Kanban\n     * @returns {void}\n     */\n    Kanban.prototype.deleteCard = function (cardData) {\n        this.crudModule.deleteCard(cardData);\n    };\n    /**\n     * Add the column to Kanban board dynamically based on the provided column options and index in the argument list.\n     *\n     * @function addColumn\n     * @param {ColumnsModel} columnOptions Accepts the properties to new column that are going to be added in the board.\n     * @param {number} index Accepts the index of column to add the new column.\n     * @returns {void}\n     */\n    Kanban.prototype.addColumn = function (columnOptions, index) {\n        this.actionModule.addColumn(columnOptions, index);\n    };\n    /**\n     * Deletes the column based on the provided index value.\n     *\n     * @function deleteColumn\n     * @param {number} index Accepts the index of column to delete the existing column from Kanban board.\n     * @returns {void}\n     */\n    Kanban.prototype.deleteColumn = function (index) {\n        this.actionModule.deleteColumn(index);\n    };\n    /**\n     * Shows the column from hidden based on the provided key in the columns.\n     *\n     * @function showColumn\n     * @param {string | number} key Accepts the hidden column key name to be shown from the hidden state in board.\n     * @returns {void}\n     */\n    Kanban.prototype.showColumn = function (key) {\n        this.actionModule.showColumn(key);\n    };\n    /**\n     * Hides the column from Kanban board based on the provided key in the columns.\n     *\n     * @function hideColumn\n     * @param {string | number} key Accepts the visible column key name to be hidden from the board.\n     * @returns {void}\n     */\n    Kanban.prototype.hideColumn = function (key) {\n        this.actionModule.hideColumn(key);\n    };\n    /**\n     * Method to refresh the Kanban UI based on modified records.\n     *\n     * @function refreshUI\n     * @param {ActionEventArgs} args Accepts the added, changed or deleted data.\n     * @param {number} index Accepts the index of the changed items.\n     * @returns {void}\n     */\n    Kanban.prototype.refreshUI = function (args, index) {\n        index = index ? index : 0;\n        this.dataModule.refreshUI(args, index);\n    };\n    /**\n     * Method to refresh the column header.\n     *\n     * @method refreshHeader\n     * @returns {void}\n     */\n    Kanban.prototype.refreshHeader = function () {\n        this.resetTemplates(['columnTemplate']);\n        if (this.layoutModule) {\n            this.layoutModule.refreshHeaders();\n        }\n        this.renderTemplates();\n    };\n    /**\n     * Removes the control from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n     *\n     * @function destroy\n     * @returns {void}\n     */\n    Kanban.prototype.destroy = function () {\n        this.destroyModules();\n        [].slice.call(this.element.childNodes).forEach(function (node) { detach(node); });\n        var removeClasses = [cls.ROOT_CLASS];\n        if (this.cssClass) {\n            removeClasses = removeClasses.concat(this.cssClass.split(' '));\n        }\n        removeClass([this.element], removeClasses);\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property()\n    ], Kanban.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property('auto')\n    ], Kanban.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Kanban.prototype, \"height\", void 0);\n    __decorate([\n        Property([])\n    ], Kanban.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property()\n    ], Kanban.prototype, \"query\", void 0);\n    __decorate([\n        Property()\n    ], Kanban.prototype, \"keyField\", void 0);\n    __decorate([\n        Property('Column')\n    ], Kanban.prototype, \"constraintType\", void 0);\n    __decorate([\n        Property([])\n    ], Kanban.prototype, \"externalDropId\", void 0);\n    __decorate([\n        Collection([], Columns)\n    ], Kanban.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], Kanban.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Collection([], StackedHeaders)\n    ], Kanban.prototype, \"stackedHeaders\", void 0);\n    __decorate([\n        Complex({}, SwimlaneSettings)\n    ], Kanban.prototype, \"swimlaneSettings\", void 0);\n    __decorate([\n        Complex({}, CardSettings)\n    ], Kanban.prototype, \"cardSettings\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Kanban.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, DialogSettings)\n    ], Kanban.prototype, \"dialogSettings\", void 0);\n    __decorate([\n        Property(true)\n    ], Kanban.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Kanban.prototype, \"enableTooltip\", void 0);\n    __decorate([\n        Property(false)\n    ], Kanban.prototype, \"showEmptyColumn\", void 0);\n    __decorate([\n        Property(false)\n    ], Kanban.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property()\n    ], Kanban.prototype, \"tooltipTemplate\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dataBinding\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"cardClick\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"cardDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"cardRendered\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dialogOpen\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dialogClose\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Kanban.prototype, \"dataSourceChanged\", void 0);\n    Kanban = __decorate([\n        NotifyPropertyChanges\n    ], Kanban);\n    return Kanban;\n}(Component));\nexport { Kanban };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { Kanban } from '@syncfusion/ej2-kanban';\nimport { ComponentBase, applyMixins } from '@syncfusion/ej2-react-base';\n/**\n * `KanbanComponent` represents the react Kanban.\n * ```tsx\n * <KanbanComponent/>\n * ```\n */\nvar KanbanComponent = /** @class */ (function (_super) {\n    __extends(KanbanComponent, _super);\n    function KanbanComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.initRenderCalled = false;\n        _this.checkInjectedModules = true;\n        _this.directivekeys = { 'columns': 'column', 'stackedHeaders': 'stackedHeader' };\n        _this.immediateRender = false;\n        _this.portals = [];\n        return _this;\n    }\n    KanbanComponent.prototype.render = function () {\n        if (((this.element && !this.initRenderCalled) || this.refreshing) && !this.isReactForeceUpdate) {\n            _super.prototype.render.call(this);\n            this.initRenderCalled = true;\n        }\n        else {\n            return React.createElement('div', this.getDefaultAttributes(), [].concat(this.props.children, this.portals));\n        }\n    };\n    return KanbanComponent;\n}(Kanban));\nexport { KanbanComponent };\napplyMixins(KanbanComponent, [ComponentBase, React.Component]);\n"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","ColumnDirective","_super","apply","arguments","moduleName","ComplexBase","ColumnsDirective","propertyName","actionBegin","actionComplete","cardRendered","queryCellInfo","dataBound","contentReady","dataReady","dataStateChange","Data","parent","dataState","isPending","resolver","isDataChanged","keyField","cardSettings","headerField","isObservable","initDataManager","dataSource","query","refreshDataManager","dataManager","DataManager","Query","kanbanData","getQuery","clone","getData","def","eventPromise","requestType","promise","executeQuery","setState","state","getStateEventArgument","adaptr","UrlAdaptor","dm","url","adaptor","processQuery","data","JSON","parse","extend","pvtData","args","index","_this","dataArgs","Deferred","deff","undefined","action","editArgs_1","resolve","endEdit","cancelEdit","reject","trigger","then","events","addedRecords","forEach","push","changedRecords","changedRecord","cardObj","filter","deletedRecords","deletedRecord","findIndex","splice","catch","hideSpinner","getTable","fromTable","e","dataManagerSuccess","dataManagerFailure","type","offlineArgs","isDestroyed","resultData","result","isArray","modifyArrayData","refreshUI","notify","processedData","error","updateDataManager","updateType","params","showSpinner","actionArgs","cancel","insert","update","remove","saveChanges","offline","json","onLineData","length","i","position","layoutModule","columnData","getColumnCards","swimlaneSettings","kanbanRows","getRows","swimlaneData","getSwimlaneCards","renderCardBasedOnIndex","removeCard","isSelectedCard","actionModule","SingleCardSelection","sortSettings","field","sortBy","direction","refresh","renderTemplates","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","SwimlaneSettings","Property","ChildProperty","CardSettings","DialogSettings","Columns","StackedHeaders","SortSettings","ROOT_CLASS","RTL_CLASS","DEVICE_CLASS","TEMPLATE_CLASS","SWIMLANE_CLASS","TABLE_CLASS","HEADER_CLASS","HEADER_CELLS_CLASS","HEADER_WRAP_CLASS","HEADER_TEXT_CLASS","HEADER_ICON_CLASS","CONTENT_CELLS_CLASS","CONTENT_CLASS","HEADER_ROW_TOGGLE_CLASS","HEADER_ROW_CLASS","CONTENT_ROW_CLASS","SWIMLANE_ROW_CLASS","SWIMLANE_ROW_EXPAND_CLASS","SWIMLANE_ROW_COLLAPSE_CLASS","CARD_ITEM_COUNT_CLASS","CARD_WRAPPER_CLASS","CARD_CLASS","DROPPABLE_CLASS","DRAG_CLASS","DROP_CLASS","EMPTY_CARD_CLASS","COLUMN_EXPAND_CLASS","COLUMN_COLLAPSE_CLASS","COLLAPSE_HEADER_TEXT_CLASS","COLLAPSED_CLASS","DIALOG_CLASS","FORM_CLASS","FIELD_CLASS","DRAGGED_CLONE_CLASS","CLONED_CARD_CLASS","DRAGGED_CARD_CLASS","DROPPED_CLONE_CLASS","DROPPING_CLASS","TOGGLE_VISIBLE_CLASS","MULTI_CARD_WRAPPER_CLASS","TARGET_MULTI_CLONE_CLASS","MULTI_COLUMN_KEY_CLASS","CARD_SELECTION_CLASS","SWIMLANE_HEADER_CLASS","SWIMLANE_OVERLAY_CLASS","SWIMLANE_CONTENT_CLASS","LIMITS_CLASS","MAX_COLOR_CLASS","MIN_COLOR_CLASS","SHOW_ADD_BUTTON","SHOW_ADD_FOCUS","FROZEN_SWIMLANE_ROW_CLASS","FROZEN_ROW_CLASS","Action","columnToggleArray","selectionArray","lastCardSelection","lastSelectionRow","lastCard","selectedCardsElement","selectedCardsData","hideColumnKeys","clickHandler","closest","classList","contains","cls","allowKeyboard","keyboardModule","cardTabIndexRemove","cardClick","columnExpandCollapse","rowExpandCollapse","addButtonClick","swimlaneRows","slice","call","element","querySelectorAll","targetIcon","frozenSwimlaneRow","querySelector","frozenOrder","newData","id","map","obj","parseInt","Math","max","getAttribute","card","nextElementSibling","lastElementChild","firstElementChild","getCardDetails","previousElementSibling","openDialog","doubleClickHandler","cardDoubleClick","selectedCard","cardClickObj","activeCardData","event","clickArgs","removeClass","disableAttributeSelection","isCtrlKey","ctrlKey","isAdaptive","touchModule","mobilePopup","tabHold","cardSelection","shiftKey","updatePopupContent","cell","setAttribute","addRemoveTabIndex","cardDoubleClickObj","doubleClickArgs","dialogModule","isFrozenElem","headerTarget","HTMLElement","currentSwimlaneHeader","isNullOrUndefined","tabIndex_1","tgtRow","rowIndex","isCollapsed","swimlaneToggleArray","indexOf","addClass","toString","colIndex","cellIndex","columnToggle","collapsed","columns","headerSelector","nextCol","targetRow","colSelector","colGroup","col","style","width","formatUnit","getWidth","_loop_1","row","targetCol","parentElement","collapasedText","height","getBoundingClientRect","_i","targetRow_1","setProperties","isExpanded","_loop_2","text","this_1","showItemCount","headerText","appendChild","createElement","className","innerHTML","_a","targetRow_2","isCtrl","isShift","cards","getSelectedCards","selectionType","contentRow","el","curCards_1","start","end","allCards","curId","lastId","curIndex","lastIndex","select","parentEle","addColumn","columnOptions","createInstance","deleteColumn","listKey","item","detach","showColumn","hideColumn","Crud","addCard","cardData","addArgs","modifiedData_1","getColumnData","count","priorityOrder","editParms","dataModule","getIndexFromData","cardElement","updateCard","updateArgs","modifiedData","deleteCard","deleteArgs","cardData_1","cardIndex","columnAllDatas","cardsId","num","allModifiedKeys","modifiedKey","sort","finalData","originalIndex","columnKey","keyData","swimlaneDatas","getSwimlaneData","j","modifiedKey_1","DragAndDrop","dragObj","cloneElement","instance","targetClone","draggedClone","targetCloneMulti","selectedCards","pageX","pageY","navigationInterval","cardDetails","dragEdges","left","right","top","bottom","isDragging","isExternalDrop","wireDragEvents","dragContainment","externalDropId","Draggable","enableTapHold","enableTailMode","cursorAt","dragArea","dragStart","bind","drag","dragStop","enableAutoScroll","helper","dragHelper","hide","sender","offsetWidth","cloneWrapper","outerHTML","children","styles","offsetHeight","closestEle","dragArgs","dragEventArgs","removeElement","intDestroy","EventHandler","document","body","keydownHandler","insertAdjacentElement","contentCell","externalDrop","kanbanObj","isExternalKanbanDrop","externalDropObj","calculateArgs","cursor","targetKey","getColumnKey","keys","split","multiCloneRemove","isDrag","insertClone","offsetTop","multiCloneCreate","cellDropping","toggleVisible","tColumn","multiKeyTarget","columnKeys","updateScrollPosition","getElementsByClassName","targetRootElement","ej2_instances","cells","limitEle","borderStyle","keys_1","dragCell","transition","transitionColumns","allowTransition","allowedTransition","name_1","colKey","attrs","trim","lineHeight","currentCardKey","targetCardKey","allowedKey","dragRow","addDropping","allowDragAndDrop","rows","code","removeAttribute","dragStopClear","dragStopPostClear","dropIndex","cardStatus_1","updateDroppedData","changeOrder","crudModule","removeProperty","clearInterval","styleCard","externalCell","cardStatus","crudObj","crudData","prev","swimlaneIndex","modifieddata","prevele","keyIndex_1","reverse","list","cloneTarget","cloneMulti","node","eventArgs","getPageCoordinates","tooltipModule","tooltipObj","close","changedTouches","window","setInterval","autoScroll","autoScrollValidation","viewBoundaries","pageYOffset","pageXOffset","scrollSensitivity","parent_1","yIsScrollable","scrollHeight","xIsScrollable","scrollWidth","yInBounds","scrollTop","xInBounds","scrollLeft","parent_2","column","yScrollable","xScrollable","yBounds","xBounds","scrollY","scrollTo","scrollX","innerHeight","unWireDragEvents","dragInstance","destroy","KanbanDialog","preventUpdate","renderDialog","dialogObj","show","closeDialog","dialogModel","buttons","getDialogButtons","content","getDialogContent","cssClass","enableRtl","header","localeObj","getConstant","isModal","showCloseIcon","visible","beforeOpen","onBeforeDialogOpen","beforeClose","onBeforeDialogClose","Dialog","dialogSettings","model","applyFormValidation","title","container","form","onsubmit","template","destroyComponents","childNodes","templateId","dialogTemplate","templateParser","append","dialogWrapper","table","dialogFields_1","getDialogFields","tr","td","renderComponents","fields","contentField","flatButtonClass","dialogButtons","buttonModel","isPrimary","click","dialogButtonClick","deleteButton","divElement","dropDownOptions","controlObj","wrapper","fieldValue","currentKeys","isColumnVisible","concat","value","DropDownList","NumericTextBox","TextBox","enabled","appendTo","eventProp","storeElement","activeElement","maxHeight","openArgs","formInputs","getFormElements","isInteracted","formInputs_1","input","columnName","name","getColumnName","getValueFromElement","getIDType","closeArgs","rules","validationRules","formObj","FormValidator","customPlacement","inputElement","createTooltip","validationComplete","elem","inputName","display","status","dlgContent","client","inputClient","div","arrow","destroyToolTip","reset","cloneNode","getElementById","validate","activeCard","updateIndex","validElements","elements_1","attrName","isDropDowns","fieldSelector","classSelector","control","attrEle","checked","formelement_1","focus","Keyboard","keyConfigs","firstCardSelection","upArrow","downArrow","rightArrow","leftArrow","multiSelectionEnter","multiSelectionSpace","multiSelectionByUpArrow","multiSelectionByDownArrow","shiftTab","enter","tab","delete","escape","space","tabIndex","KeyboardEvents","keyAction","keyActionHandler","eventName","multiSelection","preventDefault","processUpDownArrow","processLeftRightArrow","processCardSelection","processEnter","ele","selected","selection","removeSelection","add","attribute","headerIcon","swimlaneIcon","KanbanTooltip","renderTooltip","Tooltip","mouseTrail","offsetY","showTipPointer","beforeRender","onBeforeRender","onBeforeClose","isStringTemplate","dragAndDropModule","tooltipContent","tooltipTemplate","innerText","resetTemplates","KanbanTouch","wireTouchEvents","touchObj","Touch","tapHold","tapHoldHandler","originalEvent","renderMobilePopup","mobilePopupWrapper","Popup","targetType","hideAnimation","showAnimation","collision","X","Y","viewPortElement","zIndex","popupClose","closeIcon","buttonObj","Button","iconCss","closeClick","getPopupContent","popupContent","textContent","popupDestroy","unWireTouchEvents","ROOT","CONTROL","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","ICON","TEXTWRAP","INPUT","INPUTGROUP","TREEINPUT","EDITING","RTL","INTERACTION","DROPPABLE","DRAGGING","SIBLING","DROPIN","DROPNEXT","DROPOUT","NODROP","FULLROW","SELECTED","EXPANDED","NODECOLLAPSED","DISABLE","CHECK","INDETERMINATE","CHECKBOXWRAP","CHECKBOXFRAME","RIPPLE","FOCUS","IMAGE","ITEM_ANIMATION_ACTIVE","DISABLED","treeAriaAttr","treeRole","itemRole","listRole","itemText","wrapperRole","FieldsSettings","ActionSettings","NodeAnimationSettings","Complex","effect","duration","easing","TreeView","options","isRefreshed","preventExpand","checkedElement","disableNode","validArr","validNodes","expandChildren","isFieldChange","changeDataSource","hasTemplate","isFirstRender","mouseDownStatus","TreeView_1","getModuleName","preRender","checkActionNodes","parentNodeCheck","dragStartAction","isAnimate","f2","home","moveDown","moveLeft","moveRight","moveUp","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","listBaseOption","expandCollapse","showIcon","expandIconClass","ariaAttributes","expandIconPosition","itemCreated","beforeNodeCreate","enableHtmlSanitizer","itemNavigable","fullRowNavigable","updateListProp","aniObj","Animation","treeList","isLoaded","isInitalExpand","setTouchClass","isNOU","selectedNodes","checkedNodes","expandedNodes","getPersistData","addOnPersist","render","initialRender","initialize","setDataBinding","setDisabledMode","setExpandOnType","disabled","setRipple","wireEditingEvents","allowEditing","setDragAndDrop","wireEvents","renderComplete","setCssClass","setEnableRtl","setFullRow","fullRowSelect","setTextWrap","nodeTemplateFn","templateComplier","nodeTemplate","rippleModel","selector","ignore","rippleFn","rippleEffect","iconModel","isCenterRipple","rippleIconFn","isEnabled","setMultiSelect","firstUl","compile","isOffline","ready","pop","treeData","isNumberTypeId","getType","setRootData","renderItems","finalize","rootData","stringify","mapper","prop","getActualProperties","from","tableName","ListBase","sortOrder","parentID","where","parseFloat","getValue","dataType","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","level","sortedData","getSortedData","ulElement","rootNodes","loadOnDemand","renderChildNodes","selectAll","finalizeNode","parentCheckData","updateCheckedStateFromDS","autoCheck","showCheckBox","updateParentCheckState","executeLocal","isChecked","resultId","hasChildren","id_1","childData","child","childId","mapper_1","checkState","getCheckedNodeDetails","checkIndeterminateState","checkedId","checkedData","fieldId","childItems","updateChildCheckState","checkNodes","changeState","preElement","childCheckedElement","indeterminate","nodeId","nodeCheck","checkedParent","checkedChild","subChildItems","len","checkboxEle","createCheckBox","touchClass","icon","insertBefore","checkValue","curData","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","expanded","textEle","dataId","renderNodeTemplate","nodeData","rippleSpan","rippleMouseHandler","actionValue","ds","groupBy","cusQuery","group","grpItem","itemObj","items","iNodes","k","sNodes","selectNode","cNodes","disableExpandAttr","eNodes","updateList","updateCheckedProp","nodes","ensureIndeterminate","liElement","ensureParentCheckState","ensureChildCheckState","indeterminateNodes","checkBoxEle","parentUL","currentParent","childElement","checkBoxes","parentCheck","childCheck","checkedState","currentLoadData","isNodeChecked","isUndefined","doCheckBoxAction","doCheck","updateFieldChecked","liEle","getElement","setValidCheckedNode","dynamicCheckState","updateField","checkBox","validateCheckNode","checkbox","currLi","getNodeData","check","updateIndeterminate","subChild","updateChildIndeterminate","indeterminateData","getTreeData","subId","childElementCheck","innerChild","isPrevent","isAdd","nodeCheckAction","getCheckEvent","observedArgs","ariaState","frameSpan","removeCheck","ensureStateChange","firstNode","updateIdAttr","allowTextWrap","updateWrap","renderReactTemplates","hasPid","doExpandAction","Browser","ulEle","liList","calculateWrap","eUids","expandGivenNodes","eNode","expandAction","afterFinalized","arr","proxy","expandCallback","eUid","callback","doSelectionAction","sUids","sNode","selectGivenNodes","preventContextMenu","li","which","rippleElement","rippleIcons","removeHover","setFocusElement","checkWrapper","checkElement","triggerClickEvent","collapseNode","toggleSelect","nodeCheckedEvent","isCheck","expandNode","loaded","start_1","end_1","proxy_1","ul_1","liEle_1","setHeight","activeElement_1","animate","animation","expand","timingFunction","begin","overflow","progress","animateHeight","expandedNode","ul","addExpand","expandArgs","getExpandEvent","colArgs","nodeCollapseAction","collapse","collapsedNode","removeExpand","toRemove","visibility","currentHeight","timeStamp","parentLi","expandChild","eicon","parents","mapper_2","getChildFields","loadChild","setSelectionForChildNodes","ensureCheckNode","disableTreeNodes","renderSubChild","getNodeObject","setValue","doDisableAction","getFields","nodeLevel","dataLevel","getChildMapper","parentId","isRoot","getChildGroup","objlen","cIcons","curLi","multiSelect","isActive","unselectNode","getSelectEvent","nodeSelectAction","removeSelectAll","startNode","startIndex","endIndex","temp","currNode","isVisible","addSelect","nodeUnselectAction","removeSelect","focusedNode","getFocusedNode","selectedLI","selectedLI_1","expandOnType","expandOn","expandHandler","expandCollapseAction","nodeExpandAction","nodeName","liEles","getId","icon_1","inpEle","blur","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","navigateToFocus","isUp","focusNode","pos","getScrollParent","parentPos","isVisibleInViewport","scrollIntoView","txtWrap","documentElement","clientHeight","innerWidth","clientWidth","isTowards","nextNode","getNextNode","getPrevNode","checkWrap","nodeCheckingAction","allCheckNode","parentIndex","getChildItems","childStateChange","childIsCheck","newCheck","validateCheck","length_1","hierChildId","childId_1","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","selectedItem","fNode","lastChild","previousSibling","nextSibling","prevNode","endNode","preNode","focusIn","focusOut","onMouseOver","currentLi","setHover","onMouseLeave","hoveredNode","fromDS","getText","pNode","parentNode","pid","nodeFields","tempArr","destroyTemplate","clearTemplate","reRenderNodes","removeChild","oldClass","newClass","editingHandler","oldInpEle","updateOldText","innerEle","getEditEvent","innerHtml","inputObj","Input","properties","inputEle","setSelectionRange","wireInputEvents","editData","editFields","inputFocusOut","newText","txtEle","crudOperation","appendNewText","isInput","updateText","triggerEvent","getChildNodeObject","newList","toBind","initializeDrag","destroyDrag","virtualEle","dragTarget","dragRoot","dragWrap","dragLi","isSameNode","cloneEle","DRAGITEM","nLen","cNode","dragData","listItem","getDragEvent","draggedNode","dragCancelAction","targetTouches","dragAction","removeVirtualEle","dropTarget","dropRoot","preventTargetExpand","dragParent","draggedParentNode","dropObj","Droppable","out","over","drop","dropAction","dropWrap","dropLi","isDescendant","templateTarget","offsetX","appendIndicator","renderVirtualEle","dropIndicator","virEle","draggable","droppedElement","appendNode","draggedElement","dropAsChildNode","dropAsSiblingNode","pre","dropUl","dragParentUl","dragParentLi","moveData","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","childLi","dropParentLi","removedData","updateChildField","refId","getDataPos","currPid","removeChildNodes","addChildData","dropIcon","childElementCount","dragIcon","updateChildAriaLevel","sibEle","dragNode","dropData","draggedNodeData","newParent","dragLiParent","targetParent","indexValue","iconClass","dropTar","parent_3","hasAttribute","clonedNode","droppedNode","droppedNodeData","dropLevel","addFullRow","toAdd","rowDiv","addMultiSelect","liEles_1","liEles_2","collapseByLevel","excludeHiddenNodes","getVisibleNodes","collapseAllNodes","expandByLevel","expandAllNodes","eIcons","vNodes","removeNode","removeData","updateSelectedNodes","updateExpandedNodes","newId","currId","doGivenAction","toExpand","addGivenNodes","isRemote","dropEle","updateMapper","refNode","navigateUrl","updated","childObj","nodeType","validID","checkValidId","doEnableAction","strNodes","filterNestedChild","updatePersistProp","removeField","sleNodes","l","slelen","enodes","nodelen","cnodes","m","names","getMapperProp","fieldName","proxy_2","touchEditObj","tap","isDoubleTapped","tapCount","wireClickEvent","proxy_3","touchClickObj","wireExpandOnEvent","proxy_4","touchExpandObj","mouseDownHandler","unWireEvents","matched","matches","secondTap","firstTap","createSpinner","setCheckedNodes","uncheckAll","setIndeterminate","checkAll","setChildCheckState","parent_4","a","updatePosition","isRefreshChild","childValue","updateChildPosition","currID","found","dynamicState","operation","newNode","prevent","crud","matchedArr","changes","nodesID","deleteSuccess","dmFailure","editSucess","addSuccess","updatePreviousText","onPropertyChanged","newProp","oldProp","collapseAll","onLoaded","addNodes","beginEdit","disableNodes","enableNodes","ensureVisible","expandAll","setTimeout","getAllCheckedNodes","getDisabledNodes","getNode","moveNodes","sourceNodes","refreshNode","updatedChildValue","newNodeData","parentData","refreshData","newliEle","newTextEle","newIcon","fullEle","tooltip","htmlAttributes","attr","merge","class","attributes","removeNodes","updateNode","Event","NotifyPropertyChanges","Component","MobileLayout","renderSwimlaneHeader","toolbarWrapper","menuClick","renderSwimlaneTree","treeHeight","popupOverlay","treeWrapper","swimlaneTree","treeViewObj","nodeClicked","treeSwimlaneClick","drawNode","popupObj","actionOnScroll","treePopup","treeNodes","hidePopup","isReact","treeViewTemplate","LayoutRender","on","initRender","scrollUiUpdate","renderHeader","renderContent","renderCards","renderValidation","isInitialRender","headerWrap","headerTable","renderColGroup","tableHead","stackedHeaders","createStackedRow","th_1","allowToggle","headerWrapper","noOfCard","headerTitle","templateArgs","minCount","maxCount","templateHeader","header_1","itemCount","isExpand","textField","columnArgs","contentWrap","contentTable","tBody","isCollaspsed","swimlaneRow","initializeSwimlaneTree","renderSwimlaneRow","renderSingleContent","className_1","dragClass","allowDrag","allowDrop","showAddButton","button","swimlaneHeader","iconDiv","cardCount","swimlaneTemplate","cardRows","removeTrs","dataCount","columnWrapper","cardWrapper_1","_loop_3","cardText","renderCard","cardArgs","renderEmptyCard","showEmptyRow","showEmptyColumn","cardTemplate","tooltipClass","enableTooltip","showHeader","cardHeader","cardCaption","cardContent","tagsField","cardTags","tags_1","tag","grabberField","borderLeftColor","footerCssField","cardFields","isToggle","showUnassignedRow","swimlaneSorting","sortComparer","localeCompare","numeric","sortDirection","rows_1","keyFields","h","colSpan","th","swimlaneToolbar","cardWrapper","onAdaptiveScroll","paddingValue","paddingLeft","paddingRight","onContentScroll","scrollPosition","enableFrozenRows","frozenRows","addFrozenSwimlaneDataKey","currentElem","frozenKey","firstSwimlane","frozenRow","setStyleAttribute","curSwim","prevSwim","nextSwim","curSwimHeight","prevSwimHeight","nextSwimHeight","frozenSwimHeight","frozenRowsElement","removeFrozenRows","onColumnScroll","offsetParent","renderLimits","limits","keySelector","headerCell","rowCells","constraintType","rowCards","colorClass","getValidationClass","refreshValidation","minClass","maxClass","columnValue","_loop_4","columnKeys_1","sortCategory","first","second","isNumeric","firstData","secondData","toLowerCase","documentClick","Element","refreshHeaders","refreshCards","wireDragEvent","isColumnTemplateRefreshed","countSelector","cardLength","keys_2","swimlane","swimlaneKey","scrollData","cardRow","rowSelector","index_1","rowData","swim","swimRow","field_1","colData","replace","cardWrapper_2","emptyCard","cardElement_1","cardKey","cardContainer","unWireDragEvent","off","swimlaneToolBarEle","swimlaneContent","Kanban","enablePersistence","L10n","min","cardsSelected","addTitle","editTitle","deleteTitle","deleteContent","save","yes","no","noCard","unassigned","locale","requiredModules","addClasses","removeClasses","initializeModules","onSwimlaneSettingsPropertyChanged","onCardSettingsPropertyChanged","_oldProp","templates","destroyModules","targetId","refreshHeader","Collection","KanbanComponent","props","initRenderCalled","checkInjectedModules","directivekeys","immediateRender","portals","refreshing","isReactForeceUpdate","React","getDefaultAttributes","applyMixins","ComponentBase"],"sourceRoot":""}