"use strict";(self.webpackChunkproject_syncfusion_dashboard=self.webpackChunkproject_syncfusion_dashboard||[]).push([[851],{9851:function(t,e,i){i.d(e,{z:function(){return ne}});var s=i(9625),n=i(8215),o=i(3224),a=i(4147),r=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),l=function(t,e,i,s){var n,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(o<3?n(a):o>3?n(e,i,a):n(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},h="e-rtl",c="EJS-SPLITBUTTON",p=function(t){function e(e,i){return t.call(this,e,i)||this}return r(e,t),e.prototype.preRender=function(){var t=this.element;if(t.tagName===c){for(var e=(0,s.NA)("ej2_instances",t),i=this.createElement("button",{attrs:{type:"button"}}),n=this.createElement(c,{className:"e-"+this.getModuleName()+"-wrapper"}),o=0,a=t.attributes.length;o<a;o++)i.setAttribute(t.attributes[o].nodeName,t.attributes[o].nodeValue);t.parentNode.insertBefore(n,t),(0,s.og)(t),t=i,n.appendChild(t),(0,s.sO)("ej2_instances",e,t),this.wrapper=n,this.element=t}this.element.id||(this.element.id=(0,s.QI)("e-"+this.getModuleName()))},e.prototype.render=function(){this.initWrapper(),this.createPrimaryButton(),this.renderControl()},e.prototype.renderControl=function(){this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents(),this.renderComplete()},e.prototype.addItems=function(e,i){t.prototype.addItems.call(this,e,i),this.secondaryBtnObj.items=this.items},e.prototype.removeItems=function(e,i){t.prototype.removeItems.call(this,e,i),this.secondaryBtnObj.items=this.items},e.prototype.initWrapper=function(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add(h),this.cssClass&&(0,s.cn)([this.wrapper],this.cssClass.split(" "))},e.prototype.createPrimaryButton=function(){var t={cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled};this.primaryBtnObj=new n.z(t),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)},e.prototype.createSecondaryButton=function(){var t=this,e=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"});this.wrapper.appendChild(e);var i={cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target,createPopupOnClick:this.createPopupOnClick,beforeItemRender:function(e){t.createPopupOnClick&&(t.secondaryBtnObj.dropDown.relateTo=t.wrapper,t.dropDown=t.secondaryBtnObj.dropDown),t.trigger("beforeItemRender",e)},open:function(e){t.trigger("open",e)},close:function(e){t.trigger("close",e)},select:function(e){t.trigger("select",e)},beforeOpen:function(e){var i=new d;return t.trigger("beforeOpen",e,(function(t){i.resolve(t)})),i},beforeClose:function(e){var i=new d;return t.trigger("beforeClose",e,(function(t){i.resolve(t)})),i}};this.secondaryBtnObj=new a.u(i),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(e),this.createPopupOnClick||(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right")},e.prototype.setAria=function(){(0,s.Y4)(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent+" splitbutton","aria-owns":this.element.id+"_dropdownbtn-popup"})},e.prototype.getModuleName=function(){return"split-btn"},e.prototype.toggle=function(){this.secondaryBtnObj.toggle()},e.prototype.destroy=function(){var e=this,i=[h];if(this.cssClass&&(i=i.concat(this.cssClass.split(" "))),this.element){var n=document.getElementById(this.element.id);n&&n.parentElement===this.wrapper&&(this.wrapper.tagName===c?(this.wrapper.innerHTML="",(0,s.IV)([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),(0,s.IV)([this.wrapper],this.cssClass.split(" "))):((0,s.IV)([this.element],i),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach((function(t){e.element.removeAttribute(t)})),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),(0,s.Od)(this.wrapper)),this.unWireEvents())}this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),t.prototype.destroy.call(this),this.element.getAttribute("class")||this.element.removeAttribute("class")},e.prototype.wireEvents=function(){s.bi.add(this.element,"click",this.primaryBtnClickHandler,this),new s.nv(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow"}})},e.prototype.unWireEvents=function(){s.bi.remove(this.element,"click",this.primaryBtnClickHandler),(0,s.s8)(this.element,s.nv).destroy()},e.prototype.primaryBtnClickHandler=function(){this.trigger("click",{element:this.element})},e.prototype.btnKeyBoardHandler=function(t){if("altdownarrow"===t.action)this.clickHandler(t)},e.prototype.onPropertyChanged=function(t,e){var i=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties((0,o.PD)(t,i)),i=["beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl","createPopupOnClick"],Object.keys(t).indexOf("items")>-1&&(this.secondaryBtnObj.items=t.items,this.secondaryBtnObj.dataBind()),this.secondaryBtnObj.setProperties((0,o.PD)(t,i));for(var n=0,a=Object.keys(t);n<a.length;n++){switch(a[n]){case"cssClass":e.cssClass&&(0,s.IV)([this.wrapper],e.cssClass.split(" ")),(0,s.cn)([this.wrapper],t.cssClass.split(" "));break;case"enableRtl":t.enableRtl?(0,s.cn)([this.wrapper],h):(0,s.IV)([this.wrapper],h)}}},e.prototype.focusIn=function(){this.element.focus()},l([(0,s.Z9)("")],e.prototype,"content",void 0),l([(0,s.Z9)("")],e.prototype,"cssClass",void 0),l([(0,s.Z9)(!1)],e.prototype,"disabled",void 0),l([(0,s.Z9)("")],e.prototype,"iconCss",void 0),l([(0,s.Z9)("Left")],e.prototype,"iconPosition",void 0),l([(0,s.Z9)(!1)],e.prototype,"createPopupOnClick",void 0),l([(0,s.FE)([],o.ck)],e.prototype,"items",void 0),l([(0,s.Z9)("")],e.prototype,"target",void 0),l([(0,s.ju)()],e.prototype,"beforeItemRender",void 0),l([(0,s.ju)()],e.prototype,"beforeOpen",void 0),l([(0,s.ju)()],e.prototype,"beforeClose",void 0),l([(0,s.ju)()],e.prototype,"click",void 0),l([(0,s.ju)()],e.prototype,"close",void 0),l([(0,s.ju)()],e.prototype,"open",void 0),l([(0,s.ju)()],e.prototype,"select",void 0),l([(0,s.ju)()],e.prototype,"created",void 0),e=l([s.Zl],e)}(a.u),d=function(){var t=this;this.promise=new Promise((function(e,i){t.resolve=e,t.reject=i})),this.catch=this.promise.catch.bind(this.promise),this.then=this.promise.then.bind(this.promise)},u=i(2166),m=i(425),g=i(1131),f=i(5628),v=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),y=function(t,e,i,s){var n,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(o<3?n(a):o>3?n(e,i,a):n(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v(e,t),y([(0,s.Z9)("None")],e.prototype,"placement",void 0),y([(0,s.Z9)(10)],e.prototype,"largeStep",void 0),y([(0,s.Z9)(1)],e.prototype,"smallStep",void 0),y([(0,s.Z9)(!1)],e.prototype,"showSmallTicks",void 0),y([(0,s.Z9)(null)],e.prototype,"format",void 0),e}(s.rt),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v(e,t),y([(0,s.Z9)(null)],e.prototype,"color",void 0),y([(0,s.Z9)(null)],e.prototype,"start",void 0),y([(0,s.Z9)(null)],e.prototype,"end",void 0),e}(s.rt),P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v(e,t),y([(0,s.Z9)(!1)],e.prototype,"enabled",void 0),y([(0,s.Z9)(null)],e.prototype,"minStart",void 0),y([(0,s.Z9)(null)],e.prototype,"minEnd",void 0),y([(0,s.Z9)(null)],e.prototype,"maxStart",void 0),y([(0,s.Z9)(null)],e.prototype,"maxEnd",void 0),y([(0,s.Z9)(!1)],e.prototype,"startHandleFixed",void 0),y([(0,s.Z9)(!1)],e.prototype,"endHandleFixed",void 0),e}(s.rt),H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v(e,t),y([(0,s.Z9)("")],e.prototype,"cssClass",void 0),y([(0,s.Z9)("Before")],e.prototype,"placement",void 0),y([(0,s.Z9)("Focus")],e.prototype,"showOn",void 0),y([(0,s.Z9)(!1)],e.prototype,"isVisible",void 0),y([(0,s.Z9)(null)],e.prototype,"format",void 0),e}(s.rt),E="e-slider",k="e-rtl",T="e-slider-input",w="e-control-wrapper",V="e-handle",S="e-range",B="e-slider-button",R="e-first-button",x="e-second-button",O="e-scale",L="e-tick",A="e-large",M="e-tick-value",I="e-slider-tooltip",D="e-slider-hover",F="e-handle-first",N="e-handle-second",j="e-disabled",z="e-slider-container",Y="e-slider-horizontal-before",Z="e-slider-horizontal-after",U="e-slider-vertical-before",W="e-slider-vertical-after",_="e-material-tooltip-open",q="e-tooltip-active",X="e-material-slider",K="e-slider-track",J="e-slider-horizantal-color",G="e-slider-vertical-color",Q="e-handle-focused",$="e-vertical",tt="e-horizontal",et="e-handle-start",it="e-material-tooltip-start",st="e-tab-handle",nt="e-button-icon",ot="e-small-size",at="e-tick-pos",rt="e-first-tick",lt="e-last-tick",ht="e-slider-btn",ct="e-tab-track",pt="e-tab-range",dt="e-handle-active",ut="e-material-handle",mt="e-material-range",gt="e-material-default",ft="e-material-tooltip-show",vt="e-material-tooltip-hide",yt="e-read-only",bt="e-limits",Ct="e-limit-bar",Pt="e-limit-first",Ht="e-limit-second",Et="e-drag-horizontal",kt="e-drag-vertical",Tt=function(t){function e(e,i){var s=t.call(this,e,i)||this;return s.horDir="left",s.verDir="bottom",s.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},s.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},s.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",s.customAriaText=null,s.drag=!0,s.isDragComplete=!1,s.initialTooltip=!0,s}return v(e,t),e.prototype.preRender=function(){this.l10n=new s.E7("slider",{incrementTitle:"Increase",decrementTitle:"Decrease"},this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()},e.prototype.formChecker=function(){var t=(0,s.oq)(this.element,"form");t?(this.isForm=!0,(0,s.le)(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,"Range"!==this.type||!(0,s.le)(this.formResetValue)&&"object"===typeof this.formResetValue?(0,s.le)(this.formResetValue)&&(this.formResetValue=parseFloat((0,s.Ac)(this.min))):this.formResetValue=[parseFloat((0,s.Ac)(this.min)),parseFloat((0,s.Ac)(this.max))],this.formElement=t):this.isForm=!1},e.prototype.initCultureFunc=function(){this.internationalization=new s.eC(this.locale)},e.prototype.initCultureInfo=function(){this.tooltipFormatInfo.format=(0,s.le)(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=(0,s.le)(this.ticks.format)?null:this.ticks.format},e.prototype.formatString=function(t,e){var i=null,s=null;if(t||0===t){i=this.formatNumber(t);var n=this.numberOfDecimals(t);s=this.internationalization.getNumberFormat(e)(this.makeRoundNumber(t,n))}return{elementVal:i,formatString:s}},e.prototype.formatNumber=function(t){var e=this.numberOfDecimals(t);return this.internationalization.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(t)},e.prototype.numberOfDecimals=function(t){var e=t.toString().split(".")[1];return e&&e.length?e.length:0},e.prototype.makeRoundNumber=function(t,e){var i=e||0;return Number(t.toFixed(i))},e.prototype.fractionalToInteger=function(t){t=0===this.numberOfDecimals(t)?Number(t).toFixed(this.noOfDecimals):t;for(var e=1,i=0;i<this.noOfDecimals;i++)e*=10;return t=Number((t*e).toFixed(0))},e.prototype.render=function(){var t=this;this.initialize(),this.initRender(),this.wireEvents(),this.setZindex(),this.renderComplete(),"EJS-SLIDER"===this.element.tagName&&"none"==this.getTheme(this.sliderContainer)&&setTimeout((function(){t.refresh()}),0)},e.prototype.initialize=function(){(0,s.cn)([this.element],E),this.setCSSClass()},e.prototype.setElementWidth=function(t){(0,s.le)(t)||("number"===typeof t?this.sliderContainer.style.width=(0,s.Ac)(t):"string"===typeof t&&(this.sliderContainer.style.width=t.match(/px|%|em/)?t:(0,s.Ac)(t)))},e.prototype.setCSSClass=function(t){t&&(0,s.IV)([this.element],t.split(" ")),this.cssClass&&(0,s.cn)([this.element],this.cssClass.split(" "))},e.prototype.setEnabled=function(){this.enabled?((0,s.IV)([this.sliderContainer],[j]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.remove(j),this.wireEvents()):((0,s.cn)([this.sliderContainer],[j]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.add(j),this.unwireEvents())},e.prototype.getTheme=function(t){return window.getComputedStyle(t,":after").getPropertyValue("content").replace(/['"]+/g,"")},e.prototype.initRender=function(){this.sliderContainer=this.createElement("div",{className:z+" "+w}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:K}),this.element.appendChild(this.sliderTrack),this.setElementWidth(this.width),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:(0,s.le)(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(1e3*Math.random()).toFixed(0)+"slider",class:T}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),"Range"===this.type?this.rangeValueUpdate():this.value=(0,s.le)(this.value)?parseFloat((0,s.Ac)(this.min.toString())):this.value,this.previousVal="Range"!==this.type?this.checkHandleValue(parseFloat((0,s.Ac)(this.value.toString()))):[this.checkHandleValue(parseFloat((0,s.Ac)(this.value[0].toString()))),this.checkHandleValue(parseFloat((0,s.Ac)(this.value[1].toString())))],this.previousChanged=this.previousVal,(0,s.le)(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?(0,s.IV)([this.sliderContainer],[j]):(0,s.cn)([this.sliderContainer],[j]),this.readonly?(0,s.cn)([this.sliderContainer],[yt]):(0,s.IV)([this.sliderContainer],[yt])},e.prototype.getThemeInitialization=function(){this.isMaterial="material"===this.getTheme(this.sliderContainer)||"material-dark"===this.getTheme(this.sliderContainer),this.isBootstrap="bootstrap"===this.getTheme(this.sliderContainer)||"bootstrap-dark"===this.getTheme(this.sliderContainer),this.isBootstrap4="bootstrap4"===this.getTheme(this.sliderContainer),this.isTailwind="tailwind"===this.getTheme(this.sliderContainer)||"tailwind-dark"===this.getTheme(this.sliderContainer),this.isBootstrap5="bootstrap5"===this.getTheme(this.sliderContainer),this.isMaterialTooltip=this.isMaterial&&"Range"!==this.type&&this.tooltip.isVisible},e.prototype.createRangeBar=function(){"Default"!==this.type&&(this.rangeBar=this.createElement("div",{attrs:{class:S}}),this.element.appendChild(this.rangeBar),this.drag&&"Range"===this.type&&("Horizontal"===this.orientation?this.rangeBar.classList.add(Et):this.rangeBar.classList.add(kt)))},e.prototype.createLimitBar=function(){var t="Range"!==this.type?Ct:Pt;t+=" "+bt,this.limitBarFirst=this.createElement("div",{attrs:{class:t}}),this.element.appendChild(this.limitBarFirst),"Range"===this.type&&(this.limitBarSecond=this.createElement("div",{attrs:{class:Ht+" "+bt}}),this.element.appendChild(this.limitBarSecond))},e.prototype.setOrientClass=function(){"Vertical"!==this.orientation?(this.sliderContainer.classList.remove($),this.sliderContainer.classList.add(tt),this.firstHandle.setAttribute("aria-orientation","horizontal"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove(tt),this.sliderContainer.classList.add($),this.firstHandle.setAttribute("aria-orientation","vertical"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","vertical"))},e.prototype.setAriaAttributes=function(t){var e=this,i=this.min,n=this.max;(!(0,s.le)(this.customValues)&&this.customValues.length>0&&(i=this.customValues[0],n=this.customValues[this.customValues.length-1]),"Range"!==this.type)?(0,s.Y4)(t,{"aria-valuemin":i.toString(),"aria-valuemax":n.toString()}):(!(0,s.le)(this.customValues)&&this.customValues.length>0?[[i.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),n.toString()]]:[[i.toString(),this.value[1].toString()],[this.value[0].toString(),n.toString()]]).forEach((function(t,i){var n=0===i?e.firstHandle:e.secondHandle;n&&(0,s.Y4)(n,{"aria-valuemin":t[0],"aria-valuemax":t[1]})}))},e.prototype.createSecondHandle=function(){this.secondHandle=this.createElement("div",{attrs:{class:V,role:"slider",tabIndex:"0"}}),this.secondHandle.classList.add(N),this.element.appendChild(this.secondHandle)},e.prototype.createFirstHandle=function(){this.firstHandle=this.createElement("div",{attrs:{class:V,role:"slider",tabIndex:"0"}}),this.firstHandle.classList.add(F),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:V+" "+ut}}),this.element.appendChild(this.materialHandle))},e.prototype.wireFirstHandleEvt=function(t){t?(s.bi.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),s.bi.remove(this.firstHandle,"transitionend",this.transitionEnd),s.bi.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),s.bi.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):(s.bi.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),s.bi.add(this.firstHandle,"transitionend",this.transitionEnd,this),s.bi.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),s.bi.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))},e.prototype.wireSecondHandleEvt=function(t){t?(s.bi.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),s.bi.remove(this.secondHandle,"transitionend",this.transitionEnd),s.bi.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),s.bi.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):(s.bi.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),s.bi.add(this.secondHandle,"transitionend",this.transitionEnd,this),s.bi.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),s.bi.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))},e.prototype.handleStart=function(){"Range"!==this.type&&(this.firstHandle.classList[0===this.handlePos1?"add":"remove"](et),this.isMaterialTooltip&&(this.materialHandle.classList[0===this.handlePos1?"add":"remove"](et),this.tooltipElement&&this.tooltipElement.classList[0===this.handlePos1?"add":"remove"](it)))},e.prototype.transitionEnd=function(t){"transform"!==t.propertyName&&(this.handleStart(),this.getHandle().style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),this.isMaterial&&this.tooltip.isVisible&&"Default"===this.type&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())},e.prototype.handleFocusOut=function(){this.firstHandle.classList.contains(Q)&&this.firstHandle.classList.remove(Q),"Range"===this.type&&this.secondHandle.classList.contains(Q)&&this.secondHandle.classList.remove(Q)},e.prototype.handleFocus=function(t){this.focusSliderElement(),this.sliderBarClick(t),t.currentTarget===this.firstHandle?(this.firstHandle.classList.add(Q),this.firstHandle.classList.add(st)):(this.secondHandle.classList.add(Q),this.secondHandle.classList.add(st)),s.bi.add(document,"mousemove touchmove",this.sliderBarMove,this),s.bi.add(document,"mouseup touchend",this.sliderBarUp,this)},e.prototype.handleOver=function(t){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&this.tooltipToggle(t.currentTarget),"Default"===this.type&&this.tooltipToggle(this.getHandle())},e.prototype.handleLeave=function(t){!this.tooltip.isVisible||"Hover"!==this.tooltip.showOn||t.currentTarget.classList.contains(Q)||t.currentTarget.classList.contains(st)||this.closeTooltip()},e.prototype.setHandler=function(){this.min>this.max&&(this.min=this.max),this.createFirstHandle(),"Range"===this.type&&this.createSecondHandle()},e.prototype.setEnableRTL=function(){this.enableRtl&&"Vertical"!==this.orientation?(0,s.cn)([this.sliderContainer],k):(0,s.IV)([this.sliderContainer],k);var t="Vertical"!==this.orientation?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom"),t!==("Vertical"!==this.orientation?this.horDir:this.verDir)&&"Horizontal"===this.orientation&&((0,s.V7)(this.firstHandle,{right:"",left:"auto"}),"Range"===this.type&&(0,s.V7)(this.secondHandle,{top:"",left:"auto"})),this.setBarColor()},e.prototype.tooltipValue=function(){var t,e=this,i={value:this.value,text:""};this.initialTooltip&&(this.initialTooltip=!1,this.setTooltipContent(),i.text=t=this.tooltipObj.content,this.trigger("tooltipChange",i,(function(i){e.addTooltipClass(i.text),t!==i.text&&(e.customAriaText=i.text,e.tooltipObj.content=i.text,e.setAriaAttrValue(e.firstHandle),"Range"===e.type&&e.setAriaAttrValue(e.secondHandle))})),this.isMaterialTooltip&&this.setPreviousVal("change",this.value))},e.prototype.setTooltipContent=function(){var t;t=this.formatContent(this.tooltipFormatInfo,!1),this.tooltipObj.content=t},e.prototype.formatContent=function(t,e){var i="",n=this.handleVal1,o=this.handleVal2;return!(0,s.le)(this.customValues)&&this.customValues.length>0&&(n=this.customValues[this.handleVal1],o=this.customValues[this.handleVal2]),e?("Range"===this.type?i=this.enableRtl&&"Vertical"!==this.orientation?(0,s.le)(this.tooltip)||(0,s.le)(this.tooltip.format)?o.toString()+" - "+n.toString():this.formatString(o,t).elementVal+" - "+this.formatString(n,t).elementVal:(0,s.le)(this.tooltip)||(0,s.le)(this.tooltip.format)?n.toString()+" - "+o.toString():this.formatString(n,t).elementVal+" - "+this.formatString(o,t).elementVal:(0,s.le)(n)||(i=(0,s.le)(this.tooltip)||(0,s.le)(this.tooltip.format)?n.toString():this.formatString(n,t).elementVal),i):("Range"===this.type?i=this.enableRtl&&"Vertical"!==this.orientation?(0,s.le)(t.format)?o.toString()+" - "+n.toString():this.formatString(o,t).formatString+" - "+this.formatString(n,t).formatString:(0,s.le)(t.format)?n.toString()+" - "+o.toString():this.formatString(n,t).formatString+" - "+this.formatString(o,t).formatString:(0,s.le)(n)||(i=(0,s.le)(t.format)?n.toString():this.formatString(n,t).formatString),i)},e.prototype.addTooltipClass=function(t){if(this.isMaterialTooltip){var e=t.toString().length;if(this.tooltipElement){i=e>4?{oldCss:gt,newCss:mt}:{oldCss:mt,newCss:gt};this.tooltipElement.classList.remove(i.oldCss),this.tooltipElement.classList.contains(i.newCss)||(this.tooltipElement.classList.add(i.newCss),this.tooltipElement.style.transform=e>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}else{var i=e>4?mt:gt;this.tooltipObj.cssClass=I+" "+i}}},e.prototype.tooltipPlacement=function(){return"Horizontal"===this.orientation?"Before"===this.tooltip.placement?"TopCenter":"BottomCenter":"Before"===this.tooltip.placement?"LeftCenter":"RightCenter"},e.prototype.tooltipBeforeOpen=function(t){this.tooltipElement=t.element,this.tooltip.cssClass&&(0,s.cn)([this.tooltipElement],this.tooltip.cssClass.split(" ").filter((function(t){return t}))),t.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add(vt),this.handleStart(),this.setTooltipTransform())},e.prototype.tooltipCollision=function(t){if(this.isBootstrap||this.isBootstrap4||this.isMaterial&&!this.isMaterialTooltip){var e=this.isBootstrap4?3:6;switch(t){case"TopCenter":this.tooltipObj.setProperties({offsetY:-e},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:e},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-e},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:e},!1)}}},e.prototype.materialTooltipEventCallBack=function(t){this.sliderBarClick(t),s.bi.add(document,"mousemove touchmove",this.sliderBarMove,this),s.bi.add(document,"mouseup touchend",this.sliderBarUp,this)},e.prototype.wireMaterialTooltipEvent=function(t){this.isMaterialTooltip&&(t?s.bi.remove(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack):s.bi.add(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack,this))},e.prototype.tooltipPositionCalculation=function(t){var e;switch(t){case"TopCenter":e=Y;break;case"BottomCenter":e=Z;break;case"LeftCenter":e=U;break;case"RightCenter":e=W}return e},e.prototype.getTooltipTransformProperties=function(t){var e;if(this.tooltipElement){var i="Horizontal"===this.orientation?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;e="Horizontal"===this.orientation?t===Y?{rotate:"rotate(45deg)",translate:"translateY("+i+"px)"}:{rotate:"rotate(225deg)",translate:"translateY("+-i+"px)"}:t===U?{rotate:"rotate(-45deg)",translate:"translateX("+i+"px)"}:{rotate:"rotate(-225deg)",translate:"translateX("+-i+"px)"}}return e},e.prototype.openMaterialTooltip=function(){var t=this;if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);var e=this.tooltipElement.firstElementChild;e.classList.remove(vt),e.classList.add(ft),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add(_),this.materialHandle.style.transform="scale(0)",e.innerText.length>4?this.tooltipElement.style.transform="scale(1)":this.tooltipElement.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate,"Default"===this.type?setTimeout((function(){t.tooltipElement.style.transition=t.transition.handle}),2500):setTimeout((function(){t.tooltipElement.style.transition="none"}),2500)}},e.prototype.closeMaterialTooltip=function(){var t=this;if(this.isMaterialTooltip){var e=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,e.classList.remove(ft),e.classList.add(vt),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle&&(this.materialHandle.style.transform="scale(1)"),this.tooltipElement.classList.remove(_),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout((function(){t.tooltipElement.style.transition="none"}),2500)}},e.prototype.checkTooltipPosition=function(t){var e=this.tooltipPositionCalculation(t.collidedPosition);void 0!==this.tooltipCollidedPosition&&this.tooltipCollidedPosition===t.collidedPosition&&t.element.classList.contains(e)||(this.isMaterialTooltip&&(void 0!==e&&(t.element.classList.remove(this.previousTooltipClass),t.element.classList.add(e),this.previousTooltipClass=e),t.element.style.transform&&t.element.classList.contains(_)&&t.element.firstElementChild.innerText.length<=4&&(t.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)),this.tooltipCollidedPosition=t.collidedPosition),this.isMaterialTooltip&&this.tooltipElement&&-1!==this.tooltipElement.style.transform.indexOf("translate")&&this.setTooltipTransform()},e.prototype.setTooltipTransform=function(){var t=this.getTooltipTransformProperties(this.previousTooltipClass);this.tooltipElement.firstElementChild.innerText.length>4?this.tooltipElement.style.transform=t.translate+" scale(0.01)":this.tooltipElement.style.transform=t.translate+" "+t.rotate+" scale(0.01)"},e.prototype.renderTooltip=function(){this.tooltipObj=new m.u({showTipPointer:this.isBootstrap||this.isMaterial||this.isBootstrap4||this.isTailwind||this.isBootstrap5,cssClass:I,height:this.isMaterial?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this),enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()},e.prototype.initializeTooltipProps=function(){var t="Auto"===this.tooltip.showOn?"Hover":this.tooltip.showOn;this.setProperties({tooltip:{showOn:t}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach((function(t){(0,s.le)(t)||(t.style.transition="none")})),this.isMaterialTooltip&&(this.sliderContainer.classList.add(X),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))},e.prototype.tooltipBeforeClose=function(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0},e.prototype.setButtons=function(){this.firstBtn=this.createElement("div",{className:B+" "+R}),this.firstBtn.appendChild(this.createElement("span",{className:nt})),this.isTailwind&&this.firstBtn.querySelector("span").classList.add("e-icons"),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:B+" "+x}),this.secondBtn.appendChild(this.createElement("span",{className:nt})),this.isTailwind&&this.secondBtn.querySelector("span").classList.add("e-icons"),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add(ht),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()},e.prototype.buttonTitle=function(){var t=this.enableRtl&&"Vertical"!==this.orientation;this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("decrementTitle"),i=this.l10n.getConstant("incrementTitle");(0,s.Y4)(t?this.secondBtn:this.firstBtn,{"aria-label":e,title:e}),(0,s.Y4)(t?this.firstBtn:this.secondBtn,{"aria-label":i,title:i})},e.prototype.buttonFocusOut=function(){this.isMaterial&&this.getHandle().classList.remove("e-large-thumb-size")},e.prototype.repeatButton=function(t){var e,i=this.handleValueUpdate(),s=this.enableRtl&&"Vertical"!==this.orientation;t.target.parentElement.classList.contains(R)||t.target.classList.contains(R)?e=s?this.add(i,parseFloat(this.step.toString()),!0):this.add(i,parseFloat(this.step.toString()),!1):(t.target.parentElement.classList.contains(x)||t.target.classList.contains(x))&&(e=s?this.add(i,parseFloat(this.step.toString()),!1):this.add(i,parseFloat(this.step.toString()),!0)),this.limits.enabled&&(e=this.getLimitCorrectedValues(e)),e>=this.min&&e<=this.max&&(this.changeHandleValue(e),this.tooltipToggle(this.getHandle()))},e.prototype.repeatHandlerMouse=function(t){t.preventDefault(),"mousedown"!==t.type&&"touchstart"!==t.type||(this.buttonClick(t),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,t))},e.prototype.materialChange=function(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")},e.prototype.focusHandle=function(){this.getHandle().classList.contains(st)||this.getHandle().classList.add(st)},e.prototype.repeatHandlerUp=function(t){this.changeEvent("changed",t),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()},e.prototype.customTickCounter=function(t){var e=4;return!(0,s.le)(this.customValues)&&this.customValues.length>0&&(t>4&&(e=3),t>7&&(e=2),t>14&&(e=1),t>28&&(e=0)),e},e.prototype.renderScale=function(){var t="Vertical"===this.orientation?"v":"h";this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:O+" e-"+t+"-scale "+L+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",s.AR.isAndroid&&"h"===t&&this.ul.classList.add(at);var e=this.ticks.smallStep;this.ticks.showSmallTicks?e<=0&&(e=parseFloat((0,s.Ac)(this.step))):e=this.ticks.largeStep>0?this.ticks.largeStep:parseFloat((0,s.Ac)(this.max))-parseFloat((0,s.Ac)(this.min));var i,n=this.fractionalToInteger(this.min),o=this.fractionalToInteger(this.max),a=this.fractionalToInteger(e),r=!(0,s.le)(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,l=this.customTickCounter(r),h=!(0,s.le)(this.customValues)&&this.customValues.length>0?r*l+r:Math.abs((o-n)/a);this.element.appendChild(this.ul);var c=parseFloat(this.min.toString());"v"===t&&(c=parseFloat(this.max.toString()));var p,d=0,u=100/h;u===1/0&&(u=5);for(var m=0,g=!(0,s.le)(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,f=0;m<=h;m++){if(i=this.createElement("li",{attrs:{class:L,role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!(0,s.le)(this.customValues)&&this.customValues.length>0)(p=m%(l+1)===0)&&("h"===t?(c=this.customValues[f],f++):(c=this.customValues[g],g--),i.setAttribute("title",c.toString()));else if(i.setAttribute("title",c.toString()),0===this.numberOfDecimals(this.max)&&0===this.numberOfDecimals(this.min)&&0===this.numberOfDecimals(this.step))p="h"===t?(c-parseFloat(this.min.toString()))%this.ticks.largeStep===0:Math.abs(c-parseFloat(this.max.toString()))%this.ticks.largeStep===0;else{var v=this.fractionalToInteger(this.ticks.largeStep),y=this.fractionalToInteger(c);p="h"===t?(y-n)%v===0:Math.abs(y-parseFloat(o.toString()))%v===0}p&&i.classList.add(A),"h"===t?i.style.width=u+"%":i.style.height=u+"%";var b=p?"Both"===this.ticks.placement?2:1:0;if(p)for(var C=0;C<b;C++)this.createTick(i,c,u);else(0,s.le)(this.customValues)&&this.formatTicksValue(i,c);this.ul.appendChild(i),this.tickElementCollection.push(i);var P=void 0;(0,s.le)(this.customValues)&&(P=this.numberOfDecimals(e)>this.numberOfDecimals(c)?this.numberOfDecimals(e):this.numberOfDecimals(c),c="h"===t?this.makeRoundNumber(c+e,P):this.makeRoundNumber(c-e,P),d=this.makeRoundNumber(d+e,P))}this.ticksAlignment(t,u)},e.prototype.ticksAlignment=function(t,e,i){void 0===i&&(i=!0),this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add(rt),this.lastChild.classList.add(lt),this.sliderContainer.classList.add(O+"-"+this.ticks.placement.toLowerCase()),"h"===t?(this.firstChild.style.width=e/2+"%",this.lastChild.style.width=e/2+"%"):(this.firstChild.style.height=e/2+"%",this.lastChild.style.height=e/2+"%");var s={ticksWrapper:this.ul,tickElements:this.tickElementCollection};i&&this.trigger("renderedTicks",s),this.scaleAlignment()},e.prototype.createTick=function(t,e,i){var n=this.createElement("span",{className:M+" "+L+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});t.appendChild(n),(0,s.le)(this.customValues)?this.formatTicksValue(t,e,n,i):this.enableHtmlSanitizer?n.innerHTML=s.pJ.sanitize(e.toString()):n.innerHTML=e.toString()},e.prototype.formatTicksValue=function(t,e,i,n){var o=this,a=this.formatNumber(e),r={value:e,text:(0,s.le)(this.ticks)||(0,s.le)(this.ticks.format)?a:this.formatString(e,this.ticksFormatInfo).formatString,tickElement:t};this.trigger("renderingTicks",r,(function(e){t.setAttribute("title",e.text.toString()),i&&(o.enableHtmlSanitizer?i.innerHTML=s.pJ.sanitize(e.text.toString()):i.innerHTML=e.text.toString())}))},e.prototype.scaleAlignment=function(){this.tickValuePosition();this.orientation;"Vertical"===this.orientation?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add(ot):this.sliderContainer.classList.remove(ot):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add(ot):this.sliderContainer.classList.remove(ot)},e.prototype.tickValuePosition=function(){this.firstChild=this.element.querySelector("ul").children[0];var t,e,i=this.firstChild.getBoundingClientRect(),n=this.ticks.smallStep,o=Math.abs(parseFloat((0,s.Ac)(this.max))-parseFloat((0,s.Ac)(this.min)))/n;this.firstChild.children.length>0&&(t=this.firstChild.children[0].getBoundingClientRect());var a,r=[this.sliderContainer.querySelectorAll("."+L+"."+A+" ."+M)];a="Both"===this.ticks.placement?[].slice.call(r[0],2):[].slice.call(r[0],1);for(var l="Vertical"===this.orientation?2*i.height:2*i.width,h=0;h<this.firstChild.children.length;h++)"Vertical"===this.orientation?this.firstChild.children[h].style.top=-t.height/2+"px":this.enableRtl?this.firstChild.children[h].style.left=(l-this.firstChild.children[h].getBoundingClientRect().width)/2+"px":this.firstChild.children[h].style.left=-t.width/2+"px";for(h=0;h<a.length;h++)e=a[h].getBoundingClientRect(),"Vertical"===this.orientation?(0,s.V7)(a[h],{top:(l-e.height)/2+"px"}):(0,s.V7)(a[h],{left:(l-e.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&0!==o&&(this.lastChild.children[0].style.left=-this.lastChild.getBoundingClientRect().width/2+"px","Both"===this.ticks.placement&&(this.lastChild.children[1].style.left=-this.lastChild.getBoundingClientRect().width/2+"px")),0===o&&("Horizontal"===this.orientation&&(this.enableRtl?(this.firstChild.classList.remove(lt),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px","Both"===this.ticks.placement&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove(lt),this.firstChild.style.left=this.firstHandle.style.left)),"Vertical"===this.orientation&&this.firstChild.classList.remove(lt))},e.prototype.setAriaAttrValue=function(t){var e,i=!(0,s.le)(this.ticks)&&!(0,s.le)(this.ticks.format),n=i?this.formatContent(this.tooltipFormatInfo,!1):this.formatContent(this.ticksFormatInfo,!1),o=i?this.formatContent(this.ticksFormatInfo,!0):this.formatContent(this.tooltipFormatInfo,!0);e=2===(n=this.customAriaText?this.customAriaText:n).split(" - ").length?n.split(" - "):[n,n],this.setAriaAttributes(t),"Range"!==this.type?(0,s.Y4)(t,{"aria-valuenow":o,"aria-valuetext":n}):this.enableRtl?t===this.firstHandle?(0,s.Y4)(t,{"aria-valuenow":o.split(" - ")[1],"aria-valuetext":e[1]}):(0,s.Y4)(t,{"aria-valuenow":o.split(" - ")[0],"aria-valuetext":e[0]}):t===this.firstHandle?(0,s.Y4)(t,{"aria-valuenow":o.split(" - ")[0],"aria-valuetext":e[0]}):(0,s.Y4)(t,{"aria-valuenow":o.split(" - ")[1],"aria-valuetext":e[1]})},e.prototype.handleValueUpdate=function(){return"Range"===this.type?1===this.activeHandle?this.handleVal1:this.handleVal2:this.handleVal1},e.prototype.getLimitCorrectedValues=function(t){return t="MinRange"===this.type||"Default"===this.type||1===this.activeHandle?this.getLimitValueAndPosition(t,this.limits.minStart,this.limits.minEnd)[0]:this.getLimitValueAndPosition(t,this.limits.maxStart,this.limits.maxEnd)[0]},e.prototype.focusSliderElement=function(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)},e.prototype.buttonClick=function(t){var e;this.focusSliderElement();var i=this.enableRtl&&"Vertical"!==this.orientation,n=this.handleValueUpdate();40===t.keyCode||37===t.keyCode||t.currentTarget.classList.contains(R)?e=i?this.add(n,parseFloat(this.step.toString()),!0):this.add(n,parseFloat(this.step.toString()),!1):38===t.keyCode||39===t.keyCode||t.currentTarget.classList.contains(x)?e=i?this.add(n,parseFloat(this.step.toString()),!1):this.add(n,parseFloat(this.step.toString()),!0):33===t.keyCode||t.currentTarget.classList.contains(R)?e=i?this.add(n,parseFloat(this.ticks.largeStep.toString()),!1):this.add(n,parseFloat(this.ticks.largeStep.toString()),!0):34===t.keyCode||t.currentTarget.classList.contains(x)?e=i?this.add(n,parseFloat(this.ticks.largeStep.toString()),!0):this.add(n,parseFloat(this.ticks.largeStep.toString()),!1):36===t.keyCode?e=parseFloat(this.min.toString()):35===t.keyCode&&(e=parseFloat(this.max.toString())),this.limits.enabled&&(e=this.getLimitCorrectedValues(e)),this.changeHandleValue(e),!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(st)||this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),this.focusHandle(),t.currentTarget.classList.contains(R)&&s.bi.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),t.currentTarget.classList.contains(x)&&s.bi.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)},e.prototype.tooltipToggle=function(t){this.isMaterialTooltip?this.tooltipElement.classList.contains(_)?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(t):this.openTooltip(t)},e.prototype.buttonUp=function(t){t.currentTarget.classList.contains(R)&&s.bi.remove(this.firstBtn,"mouseup touchend",this.buttonUp),t.currentTarget.classList.contains(x)&&s.bi.remove(this.secondBtn,"mouseup touchend",this.buttonUp)},e.prototype.setRangeBar=function(){"Horizontal"===this.orientation?"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",(0,s.V7)(this.rangeBar,{width:(0,s.le)(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",(0,s.V7)(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):"MinRange"===this.type?(this.rangeBar.style.bottom="0px",(0,s.V7)(this.rangeBar,{height:(0,s.le)(this.handlePos1)?0:this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.handlePos1+"px",(0,s.V7)(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))},e.prototype.checkValidValueAndPos=function(t){return t=this.checkHandleValue(t),t=this.checkHandlePosition(t)},e.prototype.setLimitBarPositions=function(t,e,i,s){"Horizontal"===this.orientation?this.enableRtl?(this.limitBarFirst.style.right=t+"px",this.limitBarFirst.style.width=e-t+"px"):(this.limitBarFirst.style.left=t+"px",this.limitBarFirst.style.width=e-t+"px"):(this.limitBarFirst.style.bottom=t+"px",this.limitBarFirst.style.height=e-t+"px"),"Range"===this.type&&("Horizontal"===this.orientation?this.enableRtl?(this.limitBarSecond.style.right=i+"px",this.limitBarSecond.style.width=s-i+"px"):(this.limitBarSecond.style.left=i+"px",this.limitBarSecond.style.width=s-i+"px"):(this.limitBarSecond.style.bottom=i+"px",this.limitBarSecond.style.height=s-i+"px"))},e.prototype.setLimitBar=function(){if("Default"===this.type||"MinRange"===this.type){var t=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t);var e=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e),this.setLimitBarPositions(t,e)}else if("Range"===this.type){var i=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];i=this.checkValidValueAndPos(i);var s=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];s=this.checkValidValueAndPos(s);var n=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];n=this.checkValidValueAndPos(n);var o=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];o=this.checkValidValueAndPos(o),this.setLimitBarPositions(i,s,n,o)}},e.prototype.getLimitValueAndPosition=function(t,e,i,n){return(0,s.le)(e)&&(e=this.min,(0,s.le)(t)&&n&&(t=e)),(0,s.le)(i)&&(i=this.max,(0,s.le)(t)&&n&&(t=i)),t<e&&(t=e),t>i&&(t=i),[t,this.checkHandlePosition(t)]},e.prototype.setValue=function(){if(!(0,s.le)(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1,this.setBarColor()),this.setAriaAttributes(this.firstHandle),this.handleVal1=(0,s.le)(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,(0,s.le)(this.activeHandle)?"Range"===this.type?this.activeHandle=2:this.activeHandle=1:this.activeHandle=this.activeHandle,"Default"===this.type||"MinRange"===this.type){if(this.limits.enabled){var t=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=t[0],this.handlePos1=t[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(null),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed",null)}else this.validateRangeValue();"Default"!==this.type&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()},e.prototype.rangeValueUpdate=function(){null!==this.value&&"object"===typeof this.value||(this.value=[parseFloat((0,s.Ac)(this.min)),parseFloat((0,s.Ac)(this.max))])},e.prototype.validateRangeValue=function(){this.rangeValueUpdate(),this.setRangeValue()},e.prototype.modifyZindex=function(){"Range"===this.type?1===this.activeHandle?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+""):this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=(0,u.TE)(this.element)+"")},e.prototype.setHandlePosition=function(t){var e,i=this,s=1===this.activeHandle?this.handlePos1:this.handlePos2;e=this.isMaterialTooltip?[this.firstHandle,this.materialHandle]:[this.getHandle()],this.handleStart(),e.forEach((function(t){"Horizontal"===i.orientation?i.enableRtl?t.style.right=s+"px":t.style.left=s+"px":t.style.bottom=s+"px"})),this.changeEvent("change",t)},e.prototype.getHandle=function(){return 1===this.activeHandle?this.firstHandle:this.secondHandle},e.prototype.setRangeValue=function(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(null),this.activeHandle=2,this.setHandlePosition(null),this.activeHandle=1},e.prototype.changeEvent=function(t,e){var i="change"===t?this.previousVal:this.previousChanged;if("Range"!==this.type)this.setProperties({value:this.handleVal1},!0),i===this.value||this.isMaterialTooltip&&this.initialTooltip||(this.trigger(t,this.changeEventArgs(t,e)),this.initialTooltip=!0,this.setPreviousVal(t,this.value)),this.setAriaAttrValue(this.firstHandle);else{var s=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:s},!0),(i.length===this.value.length&&this.value[0]!==i[0]||this.value[1]!==i[1])&&(this.initialTooltip=!1,this.trigger(t,this.changeEventArgs(t,e)),this.initialTooltip=!0,this.setPreviousVal(t,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()},e.prototype.changeEventArgs=function(t,e){var i;return this.tooltip.isVisible&&this.tooltipObj&&this.initialTooltip?(this.tooltipValue(),i={value:this.value,previousValue:"change"===t?this.previousVal:this.previousChanged,action:t,text:this.tooltipObj.content,isInteracted:!(0,s.le)(e)}):i={value:this.value,previousValue:"change"===t?this.previousVal:this.previousChanged,action:t,text:(0,s.le)(this.ticksFormatInfo.format)?this.value.toString():"Range"!==this.type?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString,isInteracted:!(0,s.le)(e)},i},e.prototype.setPreviousVal=function(t,e){"change"===t?this.previousVal=e:this.previousChanged=e},e.prototype.updateRangeValue=function(){var t=this.value.toString().split(",").map(Number);if(this.enableRtl&&"Vertical"!==this.orientation||this.rtl?this.value=[t[1],t[0]]:this.value=[t[0],t[1]],this.enableRtl&&"Vertical"!==this.orientation?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;var e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,e=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=e[0],this.handlePos2=e[1],this.preHandlePos2=this.handlePos2}},e.prototype.checkHandlePosition=function(t){var e;return t=100*(t-parseFloat((0,s.Ac)(this.min)))/(parseFloat((0,s.Ac)(this.max))-parseFloat((0,s.Ac)(this.min))),e="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(t/100):this.element.getBoundingClientRect().height*(t/100),parseFloat((0,s.Ac)(this.max))===parseFloat((0,s.Ac)(this.min))&&(e="Horizontal"===this.orientation?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height),e},e.prototype.checkHandleValue=function(t){if(this.min>this.max&&(this.min=this.max),this.min===this.max)return parseFloat((0,s.Ac)(this.max));var e=this.tempStartEnd();return t<e.start?t=e.start:t>e.end&&(t=e.end),t},e.prototype.reposition=function(){var t=this;this.firstHandle.style.transition="none","Default"!==this.type&&(this.rangeBar.style.transition="none"),"Range"===this.type&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),"Horizontal"===this.orientation?(this.enableRtl?this.firstHandle.style.right=this.handlePos1+"px":this.firstHandle.style.left=this.handlePos1+"px",this.isMaterialTooltip&&(this.enableRtl?this.materialHandle.style.right=this.handlePos1+"px":this.materialHandle.style.left=this.handlePos1+"px"),"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",(0,s.V7)(this.rangeBar,{width:(0,s.le)(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.enableRtl?this.secondHandle.style.right=this.handlePos2+"px":this.secondHandle.style.left=this.handlePos2+"px",this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",(0,s.V7)(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))):(this.firstHandle.style.bottom=this.handlePos1+"px",this.isMaterialTooltip&&(this.materialHandle.style.bottom=this.handlePos1+"px"),"MinRange"===this.type?(this.rangeBar.style.bottom="0px",(0,s.V7)(this.rangeBar,{height:(0,s.le)(this.handlePos1)?0:this.handlePos1+"px"})):"Range"===this.type&&(this.secondHandle.style.bottom=this.handlePos2+"px",this.rangeBar.style.bottom=this.handlePos1+"px",(0,s.V7)(this.rangeBar,{height:this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout((function(){t.firstHandle.style.transition=t.scaleTransform,"Range"===t.type&&(t.secondHandle.style.transition=t.scaleTransform)})),this.refreshTooltip(this.tooltipTarget),this.setBarColor()},e.prototype.changeHandleValue=function(t){var e=null;1===this.activeHandle?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(t),this.handlePos1=this.checkHandlePosition(this.handleVal1),"Range"===this.type&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(e=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(t),this.handlePos2=this.checkHandlePosition(this.handleVal2),"Range"===this.type&&this.handlePos2<this.handlePos1&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(e=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),null!==e&&("Default"!==this.type&&this.setRangeBar(),this.setHandlePosition(null))},e.prototype.tempStartEnd=function(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}},e.prototype.xyToPosition=function(t){if(this.min===this.max)return 100;if("Horizontal"===this.orientation){var e=t.x-this.element.getBoundingClientRect().left,i=this.element.offsetWidth/100;this.val=e/i}else{var s=t.y-this.element.getBoundingClientRect().top;i=this.element.offsetHeight/100;this.val=100-s/i}var n=this.stepValueCalculation(this.val);return n<0?n=0:n>100&&(n=100),this.enableRtl&&"Vertical"!==this.orientation&&(n=100-n),"Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(n/100):this.element.getBoundingClientRect().height*(n/100)},e.prototype.stepValueCalculation=function(t){0===this.step&&(this.step=1);var e=parseFloat((0,s.Ac)(this.step))/((parseFloat((0,s.Ac)(this.max))-parseFloat((0,s.Ac)(this.min)))/100),i=t%Math.abs(e);return 0!==i&&(e/2>i?t-=i:t+=Math.abs(e)-i),t},e.prototype.add=function(t,e,i){var s=Math.pow(10,3);return i?(Math.round(t*s)+Math.round(e*s))/s:(Math.round(t*s)-Math.round(e*s))/s},e.prototype.positionToValue=function(t){var e,i=parseFloat((0,s.Ac)(this.max))-parseFloat((0,s.Ac)(this.min));return e="Horizontal"===this.orientation?t/this.element.getBoundingClientRect().width*i:t/this.element.getBoundingClientRect().height*i,this.add(e,parseFloat(this.min.toString()),!0)},e.prototype.sliderBarClick=function(t){var e;t.preventDefault(),"mousedown"===t.type||"mouseup"===t.type||"click"===t.type?e={x:t.clientX,y:t.clientY}:"touchend"!==t.type&&"touchstart"!==t.type||(e={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY});var i=this.xyToPosition(e),s=this.positionToValue(i);if("Range"===this.type&&this.handlePos2-i<i-this.handlePos1){if(this.activeHandle=2,!this.limits.enabled||!this.limits.endHandleFixed){if(this.limits.enabled)s=(n=this.getLimitValueAndPosition(s,this.limits.maxStart,this.limits.maxEnd))[0],i=n[1];this.secondHandle.classList.add(dt),this.handlePos2=this.preHandlePos2=i,this.handleVal2=s}this.modifyZindex(),this.secondHandle.focus()}else{if(this.activeHandle=1,!this.limits.enabled||!this.limits.startHandleFixed){var n;if(this.limits.enabled)s=(n=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd))[0],i=n[1];this.firstHandle.classList.add(dt),this.handlePos1=this.preHandlePos1=i,this.handleVal1=s}this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add(q);var o=this.element.querySelector("."+st);o&&this.getHandle()!==o&&o.classList.remove(st);var a=1===this.activeHandle?this.firstHandle:this.secondHandle;if(t.target===a)return!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(st)||this.materialChange(),this.sliderBarUp(t),void this.tooltipToggle(this.getHandle());if(this.checkRepeatedValue(s)){var r=this.isMaterial&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=r.handle,"Default"!==this.type&&(this.rangeBar.style.transition=r.rangeBar),this.setHandlePosition(t),this.isMaterialTooltip&&(this.initialTooltip=!1),this.changeEvent("changed",t),"Default"!==this.type&&this.setRangeBar()}},e.prototype.handleValueAdjust=function(t,e,i){1===i?(this.handleVal1=e,this.handleVal2=this.handleVal1+this.minDiff):2===i&&(this.handleVal2=e,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)},e.prototype.dragRangeBarMove=function(t){var e,i,s,n,o;if("touchmove"!==t.type&&t.preventDefault(),this.rangeBarDragged=!0,this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none","mousemove"===t.type?(n=(e=[t.clientX,t.clientY])[0],o=e[1]):(n=(i=[t.changedTouches[0].clientX,t.changedTouches[0].clientY])[0],o=i[1]),(!this.limits.enabled||!this.limits.startHandleFixed)&&(!this.limits.enabled||!this.limits.endHandleFixed)){if(s=this.enableRtl?{x:n+this.secondPartRemain,y:o+this.secondPartRemain}:{x:n-this.firstPartRemain,y:o+this.secondPartRemain},this.handlePos1=this.xyToPosition(s),this.handleVal1=this.positionToValue(this.handlePos1),s=this.enableRtl?{x:n-this.firstPartRemain,y:o-this.firstPartRemain}:{x:n+this.secondPartRemain,y:o-this.firstPartRemain},this.handlePos2=this.xyToPosition(s),this.handleVal2=this.positionToValue(this.handlePos2),this.limits.enabled){var a=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=a[0],this.handlePos1=a[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),a=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=a[0],this.handlePos2=a[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===this.max&&this.handleValueAdjust(this.handleVal2,this.max,2),this.handleVal1===this.min&&this.handleValueAdjust(this.handleVal1,this.min,1)}this.activeHandle=1,this.setHandlePosition(t),this.activeHandle=2,this.setHandlePosition(t),this.tooltipToggle(this.rangeBar),this.setRangeBar()},e.prototype.sliderBarUp=function(t){this.changeEvent("changed",t),this.handleFocusOut(),this.firstHandle.classList.remove(dt),"Range"===this.type&&(this.initialTooltip=!1,this.secondHandle.classList.remove(dt)),this.closeTooltip(),this.isMaterial&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove(q)),s.bi.remove(document,"mousemove touchmove",this.sliderBarMove),s.bi.remove(document,"mouseup touchend",this.sliderBarUp)},e.prototype.sliderBarMove=function(t){var e;"touchmove"!==t.type&&t.preventDefault(),e="mousemove"===t.type?{x:t.clientX,y:t.clientY}:{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY};var i=this.xyToPosition(e),s=this.positionToValue(i);if(i=Math.round(i),"Range"!==this.type&&1===this.activeHandle){if(!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){var n=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd);i=n[1],s=n[0]}this.handlePos1=i,this.handleVal1=s}this.firstHandle.classList.add(dt)}if("Range"===this.type)if(1===this.activeHandle){if(this.firstHandle.classList.add(dt),(!this.limits.enabled||!this.limits.startHandleFixed)&&(i>this.handlePos2&&(i=this.handlePos2,s=this.handleVal2),i!==this.preHandlePos1)){if(this.limits.enabled)s=(o=this.getLimitValueAndPosition(s,this.limits.minStart,this.limits.minEnd))[0],i=o[1];this.handlePos1=this.preHandlePos1=i,this.handleVal1=s,this.activeHandle=1}}else if(2===this.activeHandle&&(this.secondHandle.classList.add(dt),(!this.limits.enabled||!this.limits.endHandleFixed)&&(i<this.handlePos1&&(i=this.handlePos1,s=this.handleVal1),i!==this.preHandlePos2))){var o;if(this.limits.enabled)s=(o=this.getLimitValueAndPosition(s,this.limits.maxStart,this.limits.maxEnd))[0],i=o[1];this.handlePos2=this.preHandlePos2=i,this.handleVal2=s,this.activeHandle=2}this.checkRepeatedValue(s)&&(this.getHandle().style.transition=this.scaleTransform,"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.setHandlePosition(t),!this.isMaterial||this.tooltip.isVisible||this.getHandle().classList.contains(st)||this.materialChange(),this.tooltipToggle(this.getHandle()),"Default"!==this.type&&this.setRangeBar())},e.prototype.dragRangeBarUp=function(t){this.rangeBarDragged?this.isDragComplete=!0:(this.focusSliderElement(),this.sliderBarClick(t)),this.changeEvent("changed",t),this.closeTooltip(),s.bi.remove(document,"mousemove touchmove",this.dragRangeBarMove),s.bi.remove(document,"mouseup touchend",this.dragRangeBarUp),this.rangeBarDragged=!1},e.prototype.checkRepeatedValue=function(t){if("Range"===this.type){if(t===(this.enableRtl&&"Vertical"!==this.orientation?1===this.activeHandle?this.previousVal[1]:this.previousVal[0]:1===this.activeHandle?this.previousVal[0]:this.previousVal[1]))return 0}else if(t===this.previousVal)return 0;return 1},e.prototype.refreshTooltip=function(t){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),t&&(this.tooltipObj.refresh(t),this.tooltipTarget=t))},e.prototype.openTooltip=function(t){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(t),this.tooltipTarget=t)},e.prototype.closeTooltip=function(){this.tooltip.isVisible&&this.tooltipObj&&"Always"!==this.tooltip.showOn&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)},e.prototype.keyDown=function(t){switch(t.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:t.preventDefault(),this.buttonClick(t)}},e.prototype.wireButtonEvt=function(t){t?(s.bi.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),s.bi.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),s.bi.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),s.bi.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),s.bi.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),s.bi.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),s.bi.remove(this.firstBtn,"focusout",this.sliderFocusOut),s.bi.remove(this.secondBtn,"focusout",this.sliderFocusOut)):(s.bi.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),s.bi.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),s.bi.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),s.bi.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),s.bi.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),s.bi.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),s.bi.add(this.firstBtn,"focusout",this.sliderFocusOut,this),s.bi.add(this.secondBtn,"focusout",this.sliderFocusOut,this))},e.prototype.rangeBarMousedown=function(t){var e,i;if(t.preventDefault(),this.focusSliderElement(),"Range"===this.type&&this.drag&&t.target===this.rangeBar){var n=void 0,o=void 0;"mousedown"===t.type?(n=(e=[t.clientX,t.clientY])[0],o=e[1]):"touchstart"===t.type&&(n=(i=[t.changedTouches[0].clientX,t.changedTouches[0].clientY])[0],o=i[1]),"Horizontal"===this.orientation?(this.firstPartRemain=n-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-n):(this.firstPartRemain=o-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-o),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);var a=this.element.querySelector("."+st);a&&a.classList.remove(st),s.bi.add(document,"mousemove touchmove",this.dragRangeBarMove,this),s.bi.add(document,"mouseup touchend",this.dragRangeBarUp,this)}},e.prototype.elementClick=function(t){this.isDragComplete?this.isDragComplete=!1:(t.preventDefault(),this.focusSliderElement(),this.sliderBarClick(t),this.focusHandle())},e.prototype.wireEvents=function(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&(s.bi.add(this.element,"click",this.elementClick,this),"Range"===this.type&&this.drag&&s.bi.add(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown,this),s.bi.add(this.sliderContainer,"keydown",this.keyDown,this),s.bi.add(this.sliderContainer,"keyup",this.keyUp,this),s.bi.add(this.element,"focusout",this.sliderFocusOut,this),s.bi.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&s.bi.add(this.formElement,"reset",this.formResetHandler,this))},e.prototype.unwireEvents=function(){s.bi.remove(this.element,"click",this.elementClick),"Range"===this.type&&this.drag&&s.bi.remove(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown),s.bi.remove(this.sliderContainer,"keydown",this.keyDown),s.bi.remove(this.sliderContainer,"keyup",this.keyUp),s.bi.remove(this.element,"focusout",this.sliderFocusOut),s.bi.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),"Range"===this.type&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),s.bi.remove(this.element,"reset",this.formResetHandler)},e.prototype.formResetHandler=function(){this.setProperties({value:this.formResetValue},!0),this.setValue()},e.prototype.keyUp=function(t){if(9===t.keyCode&&t.target.classList.contains(V)&&(this.focusSliderElement(),!t.target.classList.contains(st))){this.element.querySelector("."+st)&&this.element.querySelector("."+st).classList.remove(st),t.target.classList.add(st);var e=t.target.parentElement;e===this.element&&(e.querySelector("."+K).classList.add(ct),"Range"!==this.type&&"MinRange"!==this.type||e.querySelector("."+S).classList.add(pt)),"Range"===this.type&&(t.target.previousSibling.classList.contains(V)?this.activeHandle=2:this.activeHandle=1),this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed",t)},e.prototype.hover=function(t){if(!(0,s.le)(t))if("mouseover"===t.type||"touchmove"===t.type||"mousemove"===t.type||"pointermove"===t.type||"touchstart"===t.type)this.sliderContainer.classList.add(D);else{this.sliderContainer.classList.remove(D);var e=t.currentTarget;this.tooltip.isVisible&&"Always"!==this.tooltip.showOn&&this.tooltipObj&&this.isMaterialTooltip&&!e.classList.contains(Q)&&!e.classList.contains(st)&&this.closeMaterialTooltip()}},e.prototype.sliderFocusOut=function(t){t.relatedTarget!==this.secondHandle&&t.relatedTarget!==this.firstHandle&&t.relatedTarget!==this.element&&t.relatedTarget!==this.firstBtn&&t.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.closeTooltip(),this.element.querySelector("."+st)&&this.element.querySelector("."+st).classList.remove(st),this.element.querySelector("."+ct)&&(this.element.querySelector("."+ct).classList.remove(ct),"Range"!==this.type&&"MinRange"!==this.type||!this.element.querySelector("."+pt)||this.element.querySelector("."+pt).classList.remove(pt)),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)},e.prototype.removeElement=function(t){t.parentNode&&t.parentNode.removeChild(t)},e.prototype.changeSliderType=function(t,e){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove(X),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,"Default"!==t&&("Range"===t&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!(0,s.le)(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&("MinRange"===t||"Default"===t?(0,s.le)(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):(0,s.le)(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),"Range"===this.type&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.setBarColor(),"tooltip"!==e&&this.updateConfig()},e.prototype.changeRtl=function(){if(this.enableRtl||"Range"!==this.type||(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){var t=this.enableRtl&&"Vertical"!==this.orientation;(0,s.Y4)(t?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),(0,s.Y4)(t?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}},e.prototype.changeOrientation=function(){this.changeSliderType(this.type,"null")},e.prototype.updateConfig=function(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()},e.prototype.limitsPropertyChange=function(){this.limits.enabled?((0,s.le)(this.limitBarFirst)&&"Range"!==this.type&&this.createLimitBar(),(0,s.le)(this.limitBarFirst)&&(0,s.le)(this.limitBarSecond)&&"Range"===this.type&&this.createLimitBar(),this.setLimitBar(),this.setValue()):((0,s.le)(this.limitBarFirst)||(0,s.og)(this.limitBarFirst),(0,s.le)(this.limitBarSecond)||(0,s.og)(this.limitBarSecond))},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unwireEvents(),window.removeEventListener("resize",this.onresize),(0,s.IV)([this.sliderContainer],[j]),this.firstHandle.removeAttribute("aria-orientation"),"Range"===this.type&&this.secondHandle.removeAttribute("aria-orientation"),this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),(0,s.og)(this.sliderContainer),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.element.innerHTML=""},e.prototype.onPropertyChanged=function(t,e){for(var i=this,n=0,o=Object.keys(t);n<o.length;n++){var a=o[n];switch(a){case"cssClass":this.setCSSClass(e.cssClass);break;case"value":if(t&&e){var r=(0,s.le)(t.value)?"Range"===this.type?[this.min,this.max]:this.min:t.value;this.setProperties({value:r},!0),(0,s.le)(e.value)||e.value.toString()===r.toString()||(this.setValue(),this.refreshTooltip(this.tooltipTarget),"Range"===this.type&&((0,s.le)(t.value)||e.value[1]===r[1]?this.activeHandle=1:this.activeHandle=2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":(0,s.le)(t.tooltip)||(0,s.le)(e.tooltip)||this.setTooltip(a);break;case"type":(0,s.le)(e)||!Object.keys(e).length||(0,s.le)(e.type)||(this.changeSliderType(e.type,a),this.setZindex());break;case"enableRtl":e.enableRtl!==t.enableRtl&&"Vertical"!==this.orientation&&(this.rtl=e.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":(0,s.le)(this.sliderContainer.querySelector("."+O))||((0,s.og)(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,(function(t){t.match(/e-scale-/)&&i.sliderContainer.classList.remove(t)}))),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":t.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove(ht),this.firstBtn=void 0,this.secondBtn=void 0,this.reposition());break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition();break;case"colorRange":this.reposition();break;case"width":this.setElementWidth(t.width),this.setMinMaxValue(),this.limits&&this.limitsPropertyChange()}}},e.prototype.setReadOnly=function(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add(yt)):(this.wireEvents(),this.sliderContainer.classList.remove(yt))},e.prototype.setMinMaxValue=function(){var t=this;this.setValue(),this.refreshTooltip(this.tooltipTarget),(0,s.le)(this.sliderContainer.querySelector("."+O))||this.ul&&((0,s.og)(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,(function(e){e.match(/e-scale-/)&&t.sliderContainer.classList.remove(e)}))),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex())},e.prototype.setZindex=function(){this.zIndex=6,(0,s.le)(this.ticks)||"None"===this.ticks.placement||(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),this.isMaterial||(0,s.le)(this.ticks)||"Both"!==this.ticks.placement||(this.element.style.zIndex=this.zIndex+2+""),this.firstHandle.style.zIndex=this.zIndex+3+"","Range"===this.type&&(this.secondHandle.style.zIndex=this.zIndex+4+"")},e.prototype.setTooltip=function(t){this.changeSliderType(this.type,t)},e.prototype.setBarColor=function(){for(var t,e,i=this.sliderTrack.lastElementChild;i;)this.sliderTrack.removeChild(i),i=this.sliderTrack.lastElementChild;for(var n=0;n<this.colorRange.length;n++)if(!(0,s.le)(this.colorRange[n].start)&&!(0,s.le)(this.colorRange[n].end)&&this.colorRange[n].end>this.colorRange[n].start){this.colorRange[n].start<this.min&&(this.colorRange[n].start=this.min),this.colorRange[n].end>this.max&&(this.colorRange[n].end=this.max);var o=this.checkHandlePosition(this.colorRange[n].start),a=this.checkHandlePosition(this.colorRange[n].end),r=this.createElement("div");r.style.backgroundColor=this.colorRange[n].color,r.style.border="1px solid "+this.colorRange[n].color,"Horizontal"===this.orientation?(e=J,t=this.enableRtl?(0,s.le)(this.customValues)?this.checkHandlePosition(this.max)-this.checkHandlePosition(this.colorRange[n].end):this.checkHandlePosition(this.customValues.length-this.colorRange[n].end-1):this.checkHandlePosition(this.colorRange[n].start),r.style.width=a-o+"px",r.style.left=t+"px"):(e=G,t=this.checkHandlePosition(this.colorRange[n].start),r.style.height=a-o+"px",r.style.bottom=t+"px"),r.classList.add(e),this.sliderTrack.appendChild(r)}},e.prototype.getModuleName=function(){return"slider"},y([(0,s.Z9)(null)],e.prototype,"value",void 0),y([(0,s.Z9)(null)],e.prototype,"customValues",void 0),y([(0,s.Z9)(1)],e.prototype,"step",void 0),y([(0,s.Z9)(null)],e.prototype,"width",void 0),y([(0,s.Z9)(0)],e.prototype,"min",void 0),y([(0,s.Z9)(100)],e.prototype,"max",void 0),y([(0,s.Z9)(!1)],e.prototype,"readonly",void 0),y([(0,s.Z9)("Default")],e.prototype,"type",void 0),y([(0,s.FE)([{}],C)],e.prototype,"colorRange",void 0),y([(0,s.Zz)({},b)],e.prototype,"ticks",void 0),y([(0,s.Zz)({},P)],e.prototype,"limits",void 0),y([(0,s.Z9)(!0)],e.prototype,"enabled",void 0),y([(0,s.Zz)({},H)],e.prototype,"tooltip",void 0),y([(0,s.Z9)(!1)],e.prototype,"showButtons",void 0),y([(0,s.Z9)(!0)],e.prototype,"enableAnimation",void 0),y([(0,s.Z9)("Horizontal")],e.prototype,"orientation",void 0),y([(0,s.Z9)("")],e.prototype,"cssClass",void 0),y([(0,s.Z9)(!1)],e.prototype,"enableHtmlSanitizer",void 0),y([(0,s.ju)()],e.prototype,"created",void 0),y([(0,s.ju)()],e.prototype,"change",void 0),y([(0,s.ju)()],e.prototype,"changed",void 0),y([(0,s.ju)()],e.prototype,"renderingTicks",void 0),y([(0,s.ju)()],e.prototype,"renderedTicks",void 0),y([(0,s.ju)()],e.prototype,"tooltipChange",void 0),e=y([s.Zl],e)}(s.wA),wt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Vt=function(t,e,i,s){var n,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(o<3?n(a):o>3?n(e,i,a):n(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},St="e-apply",Bt="e-cancel",Rt="e-current",xt="e-ctrl-btn",Ot="e-switch-ctrl-btn",Lt="e-disabled",At="e-value-switch-btn",Mt="e-handler",It="e-hex",Dt="e-hide-hex-value",Ft="e-hide-opacity",Nt="e-hide-switchable-value",jt="e-hide-value",zt="e-hide-valueswitcher",Yt="e-hsv-color",Zt="e-hsv-container",Ut="e-selected-value",Wt="e-mode-switch-btn",_t="e-nocolor-item",qt="e-opacity-value",Xt="e-palette",Kt="e-color-palette",Jt="e-color-picker",Gt="e-preview-container",Qt="e-previous",$t="e-show-value",te="e-selected",ee="e-split-preview",ie="e-tile",se=["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"],ne=function(t){function e(e,i){return t.call(this,e,i)||this}return wt(e,t),e.prototype.preRender=function(){var t=this.element;this.formElement=(0,s.oq)(this.element,"form"),this.formElement&&s.bi.add(this.formElement,"reset",this.formResetHandler,this);this.l10n=new s.E7("colorpicker",{Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"},this.locale),t.getAttribute("ejs-for")&&!t.getAttribute("name")&&t.setAttribute("name",t.id)},e.prototype.render=function(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||(0,s.cn)([this.container.parentElement],Ft),this.renderComplete()},e.prototype.initWrapper=function(){var t=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(t,this.element),t.appendChild(this.element),(0,s.Y4)(this.element,{tabindex:"-1",spellcheck:"false"}),this.container=this.createElement("div",{className:"e-container"}),this.getWrapper().appendChild(this.container);var e=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.noColor&&"Palette"===this.mode&&""===this.value&&(e="");var i=e.slice(0,7);(0,s.le)(this.initialInputValue)&&(this.initialInputValue=i),this.element.value=i,this.enableOpacity?this.setProperties({value:e},!0):this.setProperties({value:i},!0),this.enableRtl&&t.classList.add("e-rtl"),this.cssClass&&(0,s.cn)([t],this.cssClass.split(" ")),this.tileRipple=(0,s.qx)(this.container,{selector:"."+ie}),this.ctrlBtnRipple=(0,s.qx)(this.container,{selector:".e-btn"})},e.prototype.getWrapper=function(){return this.element.parentElement},e.prototype.createWidget=function(){"Palette"===this.mode?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),s.AR.isDevice&&this.refreshPopupPos()},e.prototype.createSplitBtn=function(){var t=this,e=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(e),this.splitBtn=new p({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,createPopupOnClick:this.createPopupOnClick,open:this.onOpen.bind(this),click:function(){t.trigger("change",{currentValue:{hex:t.value.slice(0,7),rgba:t.convertToRgbString(t.hexToRgb(t.value))},previousValue:{hex:null,rgba:null},value:t.value})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(e);var i=this.createElement("span",{className:ee});(0,s.Ys)(".e-selected-color",e).appendChild(i),i.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));var n=this.getPopupEle();if((0,s.cn)([n],"e-colorpicker-popup"),this.cssClass&&(0,s.cn)([n],this.cssClass.split(" ")),s.AR.isDevice){var o=this.getPopupInst();o.relateTo=document.body,o.position={X:"center",Y:"center"},o.targetType="container",o.collision={X:"fit",Y:"fit"},o.offsetY=4,n.style.zIndex=(0,u.TE)(this.splitBtn.element).toString()}this.bindCallBackEvent()},e.prototype.onOpen=function(){this.trigger("open",{element:this.container})},e.prototype.getPopupInst=function(){return(0,s.s8)(this.getPopupEle(),u.GI)},e.prototype.bindCallBackEvent=function(){var t=this;this.splitBtn.beforeOpen=function(e){var i=new d;return t.trigger("beforeOpen",e,(function(n){if(!n.cancel){var o=t.getPopupEle();o.style.top=(0,s.Ac)(0+pageYOffset),o.style.left=(0,s.Ac)(0+pageXOffset),o.style.display="block",t.createWidget(),o.style.display="",s.AR.isDevice&&(t.modal=t.createElement("div"),t.modal.className="e-"+t.getModuleName()+" e-modal",t.modal.style.display="none",document.body.insertBefore(t.modal,o),document.body.className+=" e-colorpicker-overflow",t.modal.style.display="block",t.modal.style.zIndex=(Number(o.style.zIndex)-1).toString())}e.cancel=n.cancel,i.resolve(n)})),i},this.splitBtn.beforeClose=function(e){var i=new d;if((0,s.le)(e.event))i.resolve(e);else{var n={element:t.container,event:e.event,cancel:!1};t.trigger("beforeClose",n,(function(n){s.AR.isDevice&&e.event.target===t.modal&&(n.cancel=!0),n.cancel||t.onPopupClose(),e.cancel=n.cancel,i.resolve(n)}))}return i}},e.prototype.onPopupClose=function(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",(0,s.Ys)("."+ee,this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",(0,s.IV)([this.container],[Jt,Kt]),s.AR.isDevice&&this.modal&&((0,s.IV)([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},e.prototype.createPalette=function(){if((0,s.s1)(this.container,[Kt],[Jt]),this.presetColors){var t=this.createElement("div",{className:"e-custom-palette"});this.appendElement(t);var e=Object.keys(this.presetColors);if(1===e.length)this.appendPalette(this.presetColors[e[0]],e[0],t);else for(var i=0,n=e.length;i<n;i++)this.appendPalette(this.presetColors[e[i]],e[i],t);(0,s.td)(".e-row",t).length>10&&(0,s.cn)([t],"e-palette-group")}else this.appendPalette(se,"default");"Palette"===this.mode&&!this.modeSwitcher&&this.noColor&&this.setNoColor();var o=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=(0,s.Ac)(this.container.children[0].offsetWidth+o+o),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)},e.prototype.firstPaletteFocus=function(){(0,s.Ys)("."+te,this.container.children[0])||(0,s.td)(".e-palette",this.container)[0].focus()},e.prototype.appendPalette=function(t,e,i){var s,n,o,a=this.createElement("div",{className:Xt,attrs:{tabindex:"0"}});i?i.appendChild(a):this.appendElement(a);for(var r=0,l=t.length;r<l;r++)0!==r&&r%this.columns!==0||(s=this.createElement("div",{className:"e-row",attrs:{role:"presentation"}}),a.appendChild(s)),o=this.roundValue(t[r]).toLowerCase(),n=this.createElement("span",{className:ie,attrs:{role:"gridcell","aria-label":o,"aria-selected":"false"}}),this.trigger("beforeTileRender",{element:n,presetName:e,value:t[r]}),s.appendChild(n),this.value===o&&(this.addTileSelection(n),a.focus()),n.style.backgroundColor=this.convertToRgbString(this.hexToRgb(o))},e.prototype.setNoColor=function(){var t=this.container.querySelector(".e-row").children[0];t.classList.add(_t),this.value||(t.classList.add(te),(0,s.oq)(t,".e-palette").focus()),["aria-selected","aria-label"].forEach((function(e){t.removeAttribute(e)})),t.style.backgroundColor=""},e.prototype.appendElement=function(t,e){void 0===e&&(e=0);var i=this.container.children[e];i?this.container.insertBefore(t,i):this.container.appendChild(t)},e.prototype.addTileSelection=function(t){t.classList.add(te),t.setAttribute("aria-selected","true")},e.prototype.createPicker=function(){(0,s.s1)(this.container,[Jt],[Kt]);var t=this.createElement("div",{className:Zt});this.appendElement(t),t.appendChild(this.createElement("div",{className:Yt}));var e=this.createElement("span",{className:Mt,attrs:{tabindex:"0"}});t.appendChild(e),null===this.value&&(this.value="#008000ff"),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()},e.prototype.setHsvContainerBg=function(t){void 0===t&&(t=this.hsv[0]),this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(t,100,100,1))},e.prototype.getHsvContainer=function(){return(0,s.Ys)("."+Zt,this.container)},e.prototype.setHandlerPosition=function(){var t=this.getDragHandler(),e=(0,s.Ys)("."+Yt,this.container);this.enableRtl?t.style.left=(0,s.Ac)(e.offsetWidth*Math.abs(100-this.hsv[1])/100):t.style.left=(0,s.Ac)(e.offsetWidth*this.hsv[1]/100),t.style.top=(0,s.Ac)(e.offsetHeight*(100-this.hsv[2])/100)},e.prototype.createSlider=function(){var t=this.createElement("div",{className:"e-slider-preview"});this.appendElement(t,1),this.createPreview(t);var e=this.createElement("div",{className:"e-colorpicker-slider"});t.insertBefore(e,t.children[0]);var i=this.createElement("div",{className:"e-hue-slider"});e.appendChild(i),this.hueSlider=new Tt({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(i),this.enableOpacity&&(i=this.createElement("div",{className:"e-opacity-slider"}),e.appendChild(i),this.createOpacitySlider(i))},e.prototype.createOpacitySlider=function(t){this.opacitySlider=new Tt({value:100*this.rgb[3],min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(t);var e=this.createElement("div",{className:"e-opacity-empty-track"});t.appendChild(e),this.updateOpacitySliderBg()},e.prototype.updateOpacitySliderBg=function(){var t=this.enableRtl?"to left":"to right",e=(0,s.Ys)(".e-opacity-empty-track",this.opacitySlider.element);e&&(e.style.background="linear-gradient("+t+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)")},e.prototype.hueChange=function(t){this.hsv[0]=t.value,this.setHsvContainerBg(),this.convertToOtherFormat()},e.prototype.opacityChange=function(t){var e=t.value,i=this.rgbToHex(this.rgb);this.hsv[3]=e/100,this.rgb[3]=e/100;var s=this.rgbToHex(this.rgb);this.updateOpacityInput(e);var n=this.convertToRgbString(this.rgb);this.updatePreview(n),this.triggerEvent(s,i,n)},e.prototype.updateOpacityInput=function(t){if(this.enableOpacity&&!this.getWrapper().classList.contains(jt)){var e=(0,s.s8)((0,s.Ys)("."+qt,this.container),f.N);e.value=t,e.dataBind()}},e.prototype.createPreview=function(t){var e=this.createElement("div",{className:Gt});t.appendChild(e);var i=this.createElement("span",{className:"e-preview "+Rt});e.appendChild(i);var s=this.convertToRgbString(this.rgb);i.style.backgroundColor=s,i=this.createElement("span",{className:"e-preview "+Qt}),e.appendChild(i),i.style.backgroundColor=s},e.prototype.isPicker=function(){return!this.container.classList.contains(Kt)},e.prototype.getPopupEle=function(){return this.container.parentElement},e.prototype.createNumericInput=function(t,e,i,s){var n=this,o=new f.N({value:e,placeholder:i,min:0,max:s,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:function(t){t.event&&n.inputHandler(t.event)}});o.createElement=this.createElement,o.appendTo(t)},e.prototype.createInput=function(){var t=this.isPicker(),e=this.getWrapper();if(t&&!e.classList.contains(jt)||!t&&e.classList.contains($t)){var i=this.createElement("div",{className:Ut});t?this.appendElement(i,2):this.appendElement(i,1);var s=this.createElement("div",{className:"e-input-container"});if(i.appendChild(s),e.classList.contains(zt)||this.appendValueSwitchBtn(i),!e.classList.contains(Dt)){var n=this.createElement("input",{className:It,attrs:{maxlength:"7",spellcheck:"false"}});s.appendChild(n),g.I.createInput({element:n,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),g.I.setValue(this.value.slice(0,7),n),n.addEventListener("input",this.inputHandler.bind(this))}if(!e.classList.contains(Nt)){var o=void 0,a=void 0;this.isRgb?(o="RGB",a=this.rgb):(o="HSV",a=this.hsv);for(var r=["rh","gs","bv"],l=0;l<3;l++)this.createNumericInput(s.appendChild(this.createElement("input",{className:"e-"+r[l]+"-value"})),a[l],o[l],255);this.enableOpacity&&this.appendOpacityValue(s)}}},e.prototype.appendOpacityValue=function(t){this.createNumericInput(t.appendChild(this.createElement("input",{className:qt})),100*this.rgb[3],"A",100)},e.prototype.appendValueSwitchBtn=function(t){var e=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn "+At});t.appendChild(e),this.isPicker()&&!this.getWrapper().classList.contains(Nt)&&e.addEventListener("click",this.formatSwitchHandler.bind(this))},e.prototype.createCtrlBtn=function(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);var t=this.createElement("div",{className:Ot});if(this.container.appendChild(t),this.showButtons){var e=this.createElement("div",{className:xt});t.appendChild(e);var i=this.l10n.getConstant("Apply");e.appendChild(this.createElement("button",{innerHTML:i,className:"e-btn e-css e-flat e-primary e-small "+St,attrs:{title:i}}));var s=this.l10n.getConstant("Cancel");e.appendChild(this.createElement("button",{innerHTML:s,className:"e-btn e-css e-flat e-small "+Bt,attrs:{title:s}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}},e.prototype.appendModeSwitchBtn=function(){var t=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+Wt,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});(0,s.Ys)("."+Ot,this.container).insertBefore(t,(0,s.Ys)("."+xt,this.container))},e.prototype.createDragTooltip=function(){var t=this,e=new m.u({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",beforeOpen:function(e){t.tooltipEle=e.element},animation:{open:{effect:"None"},close:{effect:"None"}}});e.createElement=this.createElement,e.appendTo(this.container),e.open(this.container),this.tooltipEle.style.zIndex=(0,u.TE)(this.tooltipEle).toString(),(0,s.Ys)(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))},e.prototype.getTooltipInst=function(){return(0,s.s8)(this.container,m.u)},e.prototype.setTooltipOffset=function(t){this.getTooltipInst().offsetY=t},e.prototype.toggleDisabled=function(t){t?this.getWrapper().classList.add(Lt):this.getWrapper().classList.remove(Lt),this.showButtons&&[].slice.call((0,s.td)(".e-btn",this.container)).forEach((function(e){t?(0,s.Y4)(e,{disabled:""}):e.removeAttribute("disabled")}))},e.prototype.convertToRgbString=function(t){return t.length?4===t.length?"rgba("+t.join()+")":"rgb("+t.join()+")":""},e.prototype.convertToHsvString=function(t){return 4===t.length?"hsva("+t.join()+")":"hsv("+t.join()+")"},e.prototype.updateHsv=function(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()},e.prototype.convertToOtherFormat=function(t){void 0===t&&(t=!1);var e=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);var i=this.rgbToHex(this.rgb),s=this.convertToRgbString(this.rgb);this.updatePreview(s),this.updateInput(i),this.triggerEvent(i,e,s,t)},e.prototype.updateInput=function(t){var e=this.getWrapper();e.classList.contains(jt)||(e.classList.contains(Dt)||g.I.setValue(t.substr(0,7),(0,s.Ys)("."+It,this.container)),e.classList.contains(Nt)||(this.isRgb?this.updateValue(this.rgb,!1):this.updateValue(this.hsv,!1)))},e.prototype.updatePreview=function(t){this.enableOpacity&&this.updateOpacitySliderBg(),(0,s.Ys)(".e-tip-transparent",this.tooltipEle).style.backgroundColor=t,(0,s.Ys)("."+Gt+" ."+Rt,this.container).style.backgroundColor=t,(0,s.Ys)("."+Gt+" ."+Qt,this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))},e.prototype.getDragHandler=function(){return(0,s.Ys)("."+Mt,this.container)},e.prototype.removeTileSelection=function(){[].slice.call((0,s.td)("."+te,this.container.children[0])).forEach((function(t){t.classList.remove(te),t.setAttribute("aria-selected","false")}))},e.prototype.convertRgbToNumberArray=function(t){return t.slice(t.indexOf("(")+1,t.indexOf(")")).split(",").map((function(t,e){return 3!==e?parseInt(t,10):parseFloat(t)}))},e.prototype.getValue=function(t,e){if(t||(t=this.value),e=e?e.toLowerCase():"hex","r"===t[0]){var i=this.convertRgbToNumberArray(t);if("hex"===e||"hexa"===e){var s=this.rgbToHex(i);return"hex"===e?s.slice(0,7):s}return"hsv"===e?this.convertToHsvString(this.rgbToHsv.apply(this,i.slice(0,3))):"hsva"===e?this.convertToHsvString(this.rgbToHsv.apply(this,i)):"null"}if("h"===t[0]){i=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(t));if("rgba"===e)return this.convertToRgbString(i);if("hex"===e||"hexa"===e){s=this.rgbToHex(i);return"hex"===e?s.slice(0,7):s}return"rgb"===e?this.convertToRgbString(i.slice(0,3)):"null"}t=this.roundValue(t);var n=this.hexToRgb(t);return"rgb"!==e&&"hsv"!==e||(n=n.slice(0,3)),"rgba"===e||"rgb"===e?this.convertToRgbString(n):"hsva"===e||"hsv"===e?this.convertToHsvString(this.rgbToHsv.apply(this,n)):"hex"===e?t.slice(0,7):"a"===e?n[3].toString():"null"},e.prototype.toggle=function(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)},e.prototype.getModuleName=function(){return"colorpicker"},e.prototype.getPersistData=function(){return this.addOnPersist(["value"])},e.prototype.wireEvents=function(){if(this.isPicker()){var t=this.getDragHandler();s.bi.add(t,"keydown",this.pickerKeyDown,this),s.bi.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),s.bi.add((0,s.Ys)("."+Qt,this.container),"click",this.previewHandler,this)}else s.bi.add(this.container,"click",this.paletteClickHandler,this),s.bi.add(this.container,"keydown",this.paletteKeyDown,this)},e.prototype.formResetHandler=function(){this.value=this.initialInputValue,(0,s.Y4)(this.element,{value:this.initialInputValue})},e.prototype.addCtrlSwitchEvent=function(){var t=(0,s.Ys)("."+Ot,this.container);t&&s.bi.add(t,"click",this.btnClickHandler,this)},e.prototype.pickerKeyDown=function(t){switch(t.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,t);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,t);break;case 38:this.handlerDragPosition(2,1,t);break;case 40:this.handlerDragPosition(2,-1,t);break;case 13:t.preventDefault();var e=this.rgbToHex(this.rgb);this.enterKeyHandler(e,t)}},e.prototype.enterKeyHandler=function(t,e){this.triggerChangeEvent(t),this.inline||(this.closePopup(e),this.splitBtn.element.focus())},e.prototype.closePopup=function(t){var e=this,i={element:this.container,event:t,cancel:!1};this.trigger("beforeClose",i,(function(t){t.cancel||(e.splitBtn.toggle(),e.onPopupClose())}))},e.prototype.triggerChangeEvent=function(t){var e=t.slice(0,7);this.trigger("change",{currentValue:{hex:e,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:this.enableOpacity?t:e}),this.enableOpacity?this.setProperties({value:t},!0):this.setProperties({value:e},!0),this.element.value=e||"#000000"},e.prototype.handlerDragPosition=function(t,e,i){i.preventDefault(),this.hsv[t]+=e*(i.ctrlKey?1:3),this.hsv[t]<0&&(this.hsv[t]=0),this.updateHsv(),this.convertToOtherFormat(!0)},e.prototype.handlerDown=function(t){t.preventDefault(),"mousedown"===t.type?(this.clientX=Math.abs(t.pageX-pageXOffset),this.clientY=Math.abs(t.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(t.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(t.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(),this.getDragHandler().focus(),s.bi.add(document,"mousemove touchmove",this.handlerMove,this),s.bi.add(document,"mouseup touchend",this.handlerEnd,this)},e.prototype.handlerMove=function(t){var e,i;"touchmove"!==t.type&&t.preventDefault(),"mousemove"===t.type?(e=Math.abs(t.pageX-pageXOffset),i=Math.abs(t.pageY-pageYOffset)):(e=Math.abs(t.changedTouches[0].pageX-pageXOffset),i=Math.abs(t.changedTouches[0].pageY-pageYOffset)),this.setHsv(e,i);var n=this.getDragHandler();this.updateHsv(),this.convertToOtherFormat(),this.getTooltipInst().refresh(n),this.tooltipEle.style.transform||(Math.abs(this.clientX-e)>8||Math.abs(this.clientY-i)>8)&&((0,s.Ys)("."+Yt,this.container).style.cursor="pointer",n.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",n.classList.add("e-hide-handler"))},e.prototype.setHsv=function(t,e){var i=(0,s.Ys)("."+Yt,this.container),n=i.getBoundingClientRect();t=this.enableRtl?t>n.right?0:Math.abs(t-n.right):t>n.left?Math.abs(t-n.left):0,e=e>n.top?Math.abs(e-n.top):0,this.hsv[2]=Math.round(10*Number(100*(i.offsetHeight-Math.max(0,Math.min(i.offsetHeight,e-i.offsetTop)))/i.offsetHeight))/10,this.hsv[1]=Math.round(10*Number(100*Math.max(0,Math.min(i.offsetWidth,t-i.offsetLeft))/i.offsetWidth))/10},e.prototype.handlerEnd=function(t){"touchend"!==t.type&&t.preventDefault(),s.bi.remove(document,"mousemove touchmove",this.handlerMove),s.bi.remove(document,"mouseup touchend",this.handlerEnd);var e=this.getDragHandler();(0,s.Ys)("."+Yt,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",e.classList.remove("e-hide-handler")),this.inline||this.showButtons||this.closePopup(t)},e.prototype.btnClickHandler=function(t){var e=t.target;(0,s.oq)(e,"."+Wt)?(t.stopPropagation(),this.switchToPalette()):(e.classList.contains(St)||e.classList.contains(Bt))&&this.ctrlBtnClick(e,t)},e.prototype.switchToPalette=function(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),(0,s.og)((0,s.Ys)(".e-slider-preview",this.container)),this.getWrapper().classList.contains(jt)||(0,s.Od)((0,s.Ys)("."+Ut,this.container)),(0,s.og)(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Palette"})},e.prototype.refreshPopupPos=function(){if(!this.inline){var t=this.getPopupEle();t.style.left=(0,s.Ac)(0+pageXOffset),t.style.top=(0,s.Ac)(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}},e.prototype.formatSwitchHandler=function(){this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)},e.prototype.updateValue=function(t,e,i,n){for(var o,a=["e-rh-value","e-gs-value","e-bv-value"],r=0,l=a.length;r<l;r++)(o=(0,s.s8)((0,s.Ys)("."+a[r],this.container),f.N)).value=Math.round(t[r]),e&&(o.placeholder=a[r].substr(i,1).toUpperCase(),o.max=n?n[r]:255),o.dataBind()},e.prototype.previewHandler=function(t){var e=t.target,i=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(e.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);var n=this.rgbToHex(this.rgb),o=this.rgbToHsv.apply(this,this.rgb);o[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:o[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(o[0]),this.enableOpacity&&o[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:100*o[3]},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=o,this.setHandlerPosition(),this.updateInput(n),(0,s.Ys)("."+Gt+" ."+Rt,this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(n,i,this.convertToRgbString(this.rgb))},e.prototype.paletteClickHandler=function(t){t.preventDefault();var e=t.target;if(e.classList.contains(ie)){if(this.removeTileSelection(),this.addTileSelection(e),e.classList.contains(_t))this.noColorTile();else{var i=e.getAttribute("aria-label"),n=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(i)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains($t)&&this.updateInput(i),this.triggerEvent(i,n,this.convertToRgbString(this.rgb))}this.inline||this.showButtons||this.closePopup(t)}else(0,s.oq)(e,"."+Wt)?this.switchToPicker():e.classList.contains(St)||e.classList.contains(Bt)?this.ctrlBtnClick(e,t):this.getWrapper().classList.contains($t)&&(0,s.oq)(e,"."+At)&&this.formatSwitchHandler()},e.prototype.noColorTile=function(t){void 0===t&&(t=!1);var e=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",e,"",t)},e.prototype.switchToPicker=function(){var t=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call((0,s.td)(".e-palette",this.container)).forEach((function(t){(0,s.og)(t)})),t.classList.contains($t)&&(0,s.og)((0,s.Ys)("."+Ut,this.container)),this.container.style.width="";var e=(0,s.Ys)(".e-custom-palette",this.container);this.presetColors&&(0,s.Od)(e),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Picker"})},e.prototype.ctrlBtnClick=function(t,e){if(t.classList.contains(St)){var i=this.rgbToHex(this.rgb);this.triggerChangeEvent(i)}this.inline||(this.closePopup(e),this.splitBtn.element.focus())},e.prototype.paletteKeyDown=function(t){var e=t.target;if(e.classList.contains(Xt)){var i,n,o=[].slice.call((0,s.td)("."+ie,e)),a=o.filter((function(t){return t.classList.contains("e-selected")})).pop();switch(!t.altKey&&t.keyCode){case 39:t.preventDefault(),i=a?o[this.tilePosition(o,a,this.enableRtl?-1:1)]:o[this.enableRtl?o.length-1:0],this.keySelectionChanges(i);break;case 37:t.preventDefault(),i=a?o[this.tilePosition(o,a,this.enableRtl?1:-1)]:o[this.enableRtl?0:o.length-1],this.keySelectionChanges(i);break;case 38:t.preventDefault(),i=o[n=a?this.tilePosition(o,a,-this.columns):0]?o[n]:o[n-this.columns],this.keySelectionChanges(i);break;case 40:t.preventDefault(),o[n=a?this.tilePosition(o,a,this.columns):o.length-1]?i=o[n]:(n%=o.length,i=o[n+=o[o.length-1].parentElement.childElementCount]),this.keySelectionChanges(i);break;case 13:if(t.preventDefault(),a){var r=a.getAttribute("aria-label");this.enterKeyHandler(r||"",t)}}}},e.prototype.keySelectionChanges=function(t){if(this.removeTileSelection(),this.addTileSelection(t),t.classList.contains(_t))this.noColorTile(!0);else{var e=t.getAttribute("aria-label"),i=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(e),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains($t)&&this.updateInput(e),this.triggerEvent(e,i,this.convertToRgbString(this.rgb),!0)}},e.prototype.tilePosition=function(t,e,i){var s=(t=Array.prototype.slice.call(t)).length,n=this.columns-t[s-1].parentElement.childElementCount,o=t.indexOf(e);return(o+=i)<0?o+=s+n:o%=s+n,o},e.prototype.inputHandler=function(t){var e,i,n=t.target;if(n.value.length)switch((0,s.Ys)(".e-float-text",n.parentElement).textContent){case"HEX":var o="";if(("#"===n.value[0]&&5!==n.value.length||"#"!==n.value[0]&&4!==n.value.length)&&(o=this.roundValue(n.value)),9!==o.length)return;i=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(o+o.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),i,n.value);break;case"R":this.rgb[0]!==Number(n.value)&&(i=this.rgbToHex(this.rgb),this.rgb[0]=Number(n.value),e=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(e,i));break;case"G":this.rgb[1]!==Number(n.value)&&(i=this.rgbToHex(this.rgb),this.rgb[1]=Number(n.value),e=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(e,i));break;case"B":this.rgb[2]!==Number(n.value)&&(i=this.rgbToHex(this.rgb),this.rgb[2]=Number(n.value),e=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(e,i));break;case"H":this.hueSlider.value=Number(n.value);break;case"S":this.hsv[1]!==Number(n.value)&&(this.hsv[1]=Number(n.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(n.value)&&(this.hsv[2]=Number(n.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(n.value)}},e.prototype.inputValueChange=function(t,e,i){t[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:t[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(t[0])),this.hsv=t;var s=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(i||s);var n=this.convertToRgbString(this.rgb);this.updatePreview(n),this.triggerEvent(s,e,n)},e.prototype.triggerEvent=function(t,e,i,s){void 0===s&&(s=!1);var n=t.slice(0,7);this.showButtons||s?this.trigger("select",{currentValue:{hex:n,rgba:i},previousValue:{hex:e.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(e))}}):(this.trigger("change",{currentValue:{hex:n,rgba:i},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:t}),this.enableOpacity?this.setProperties({value:t},!0):this.setProperties({value:n},!0),this.element.value=n||"#000000")},e.prototype.destroy=function(){var e=this,i=this.getWrapper();t.prototype.destroy.call(this),["tabindex","spellcheck"].forEach((function(t){e.element.removeAttribute(t)})),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,this.element.nextElementSibling&&(0,s.og)(this.element.nextElementSibling),i&&(i.parentElement.insertBefore(this.element,i),(0,s.og)(i)),this.container=null,this.formElement&&s.bi.remove(this.formElement,"reset",this.formResetHandler)},e.prototype.destroyOtherComp=function(){if(this.isPicker()){this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;var t=this.getTooltipInst();t.close(),t.destroy(),this.tooltipEle=null}},e.prototype.isPopupOpen=function(){return this.getPopupEle().classList.contains("e-popup-open")},e.prototype.unWireEvents=function(){if(this.isPicker()){var t=this.getDragHandler();s.bi.remove(t,"keydown",this.pickerKeyDown),s.bi.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&s.bi.remove((0,s.Ys)("."+Ot,this.container),"click",this.btnClickHandler),s.bi.remove((0,s.Ys)("."+Qt,this.container),"click",this.previewHandler)}else s.bi.remove(this.container,"click",this.paletteClickHandler),s.bi.remove(this.container,"keydown",this.paletteKeyDown)},e.prototype.roundValue=function(t){if(!t)return"";"#"!==t[0]&&(t="#"+t);var e=t.length;if(4===e&&(t+="f",e=5),5===e){for(var i="",s=1,n=t.length;s<n;s++)i+=t.charAt(s)+t.charAt(s);t="#"+i,e=9}return 7===e&&(t+="ff"),t},e.prototype.hexToRgb=function(t){if(!t)return[];9!==(t=t.trim()).length&&(t=this.roundValue(t));var e=Number((parseInt(t.slice(-2),16)/255).toFixed(2));t=t.slice(1,7);var i=parseInt(t,16),s=[];return s.push(i>>16&255),s.push(i>>8&255),s.push(255&i),s.push(e),s},e.prototype.rgbToHsv=function(t,e,i,n){if(this.rgb&&!this.rgb.length)return[];t/=255,e/=255,i/=255;var o,a=Math.max(t,e,i),r=Math.min(t,e,i),l=a,h=a-r,c=0===a?0:h/a;if(a===r)o=0;else{switch(a){case t:o=(e-i)/h+(e<i?6:0);break;case e:o=(i-t)/h+2;break;case i:o=(t-e)/h+4}o/=6}var p=[Math.round(360*o),Math.round(1e3*c)/10,Math.round(1e3*l)/10];return(0,s.le)(n)||p.push(n),p},e.prototype.hsvToRgb=function(t,e,i,n){var o,a,r;if(i/=100,0===(e/=100))return o=a=r=i,[Math.round(255*o),Math.round(255*a),Math.round(255*r),n];t/=60;var l=Math.floor(t),h=t-l,c=i*(1-e),p=i*(1-e*h),d=i*(1-e*(1-h));switch(l){case 0:o=i,a=d,r=c;break;case 1:o=p,a=i,r=c;break;case 2:o=c,a=i,r=d;break;case 3:o=c,a=p,r=i;break;case 4:o=d,a=c,r=i;break;default:o=i,a=c,r=p}var u=[Math.round(255*o),Math.round(255*a),Math.round(255*r)];return(0,s.le)(n)||u.push(n),u},e.prototype.rgbToHex=function(t){return t.length?"#"+this.hex(t[0])+this.hex(t[1])+this.hex(t[2])+((0,s.le)(t[3])?"":0!==t[3]?(Math.round(255*t[3])+65536).toString(16).substr(-2):"00"):""},e.prototype.hex=function(t){return("0"+t.toString(16)).slice(-2)},e.prototype.changeModeSwitcherProp=function(t){var e=(0,s.Ys)("."+Ot,this.container);t?e?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):e&&(this.showButtons?(0,s.og)((0,s.Ys)("."+Wt,e)):(0,s.Od)(e))},e.prototype.changeShowBtnProps=function(t){var e=(0,s.Ys)("."+Ot,this.container);t?(e&&(0,s.Od)(e),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?(0,s.og)((0,s.Ys)("."+xt,e)):(0,s.Od)(e)},e.prototype.changeValueProp=function(t){if(this.isPicker())this.rgb=this.hexToRgb(t),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),(0,s.og)((0,s.oq)(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(t),4===this.rgb.length&&this.updateOpacityInput(100*this.rgb[3]);else{this.removeTileSelection();var e=this.container.querySelector('span[aria-label="'+this.roundValue(t)+'"]');e&&this.addTileSelection(e)}},e.prototype.setInputEleProps=function(){(0,s.Od)((0,s.Ys)("."+Ut,this.container)),this.createInput()},e.prototype.changeDisabledProp=function(t){this.isPicker()&&(this.hueSlider.enabled=!t,this.opacitySlider.enabled=!t,this.setInputEleProps()),t?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())},e.prototype.changeCssClassProps=function(t,e){var i=this.getWrapper(),n=this.getPopupEle();e&&(0,s.IV)([i,n],e.split(" ")),t&&(0,s.cn)([i,n],t.split(" "))},e.prototype.changeRtlProps=function(t){t?(0,s.cn)([this.getWrapper()],"e-rtl"):(0,s.IV)([this.getWrapper()],"e-rtl")},e.prototype.changePaletteProps=function(){(0,s.og)(this.container.children[0]),this.container.style.width="",this.createPalette()},e.prototype.changeOpacityProps=function(t){var e=this.getWrapper();t?((0,s.IV)([this.container.parentElement],Ft),this.createOpacitySlider((0,s.Ys)(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),e.classList.contains(jt)||e.classList.contains(Nt)||this.appendOpacityValue((0,s.Ys)(".e-input-container",this.container))):((0,s.cn)([this.container.parentElement],Ft),this.opacitySlider.destroy(),(0,s.Od)(this.opacitySlider.element),this.opacitySlider=null,e.classList.contains(jt)||e.classList.contains(Nt)||(0,s.Od)((0,s.Ys)("."+qt,this.container).parentElement))},e.prototype.onPropertyChanged=function(t,e){var i=this;if(!(0,s.le)(t.value)){var n=this.roundValue(t.value);if(9===n.length){this.element.value=this.roundValue(n).slice(0,7);var a=this.splitBtn&&(0,s.Ys)("."+ee,this.splitBtn.element);a&&(a.style.backgroundColor=this.convertToRgbString(this.hexToRgb(t.value)))}else this.value=e.value}if(!this.inline&&(0,s.le)(t.inline)){if(this.splitBtn.setProperties((0,o.PD)(t,["disabled","enableRtl"])),!this.isPopupOpen())return this.changeCssClassProps(t.cssClass,e.cssClass),void this.changeRtlProps(t.enableRtl)}for(var r=function(n){switch(n){case"inline":t.inline?(l.getWrapper().appendChild(l.container),l.splitBtn.destroy(),(0,s.og)(l.element.nextElementSibling),l.container.children.length||l.createWidget()):(l.destroyOtherComp(),l.unWireEvents(),l.container.innerHTML="",l.createSplitBtn());break;case"cssClass":l.changeCssClassProps(t.cssClass,e.cssClass);var o=t.cssClass.split(" ").concat(e.cssClass.split(" "));o=o.reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]);var a=0;o.forEach((function(t){0!==a||t!==jt&&t!==zt&&t!==$t&&t!==Dt&&t!==Nt||((0,s.Ys)("."+Ut,i.container)&&(0,s.Od)((0,s.Ys)("."+Ut,i.container)),i.createInput(),a++)}));break;case"enableRtl":l.isPicker()&&(l.hueSlider.enableRtl=t.enableRtl,l.enableOpacity&&(l.opacitySlider.enableRtl=t.enableRtl),l.setInputEleProps()),l.changeRtlProps(t.enableRtl);break;case"disabled":l.changeDisabledProp(t.disabled);break;case"value":l.value!==e.value&&l.changeValueProp(t.value);break;case"showButtons":l.changeShowBtnProps(t.showButtons);break;case"mode":"Picker"===t.mode?l.switchToPicker():l.switchToPalette();break;case"modeSwitcher":l.changeModeSwitcherProp(t.modeSwitcher);break;case"columns":case"presetColors":l.isPicker()||l.changePaletteProps();break;case"noColor":t.noColor?"Palette"!==l.mode||l.modeSwitcher||l.setNoColor():l.changePaletteProps();break;case"enableOpacity":l.changeOpacityProps(t.enableOpacity)}},l=this,h=0,c=Object.keys(t);h<c.length;h++){r(c[h])}},e.prototype.focusIn=function(){this.element.parentElement.focus()},Vt([(0,s.Z9)("#008000ff")],e.prototype,"value",void 0),Vt([(0,s.Z9)("")],e.prototype,"cssClass",void 0),Vt([(0,s.Z9)(!1)],e.prototype,"disabled",void 0),Vt([(0,s.Z9)("Picker")],e.prototype,"mode",void 0),Vt([(0,s.Z9)(!0)],e.prototype,"modeSwitcher",void 0),Vt([(0,s.Z9)(null)],e.prototype,"presetColors",void 0),Vt([(0,s.Z9)(!0)],e.prototype,"showButtons",void 0),Vt([(0,s.Z9)(10)],e.prototype,"columns",void 0),Vt([(0,s.Z9)(!1)],e.prototype,"inline",void 0),Vt([(0,s.Z9)(!1)],e.prototype,"noColor",void 0),Vt([(0,s.Z9)(!1)],e.prototype,"enablePersistence",void 0),Vt([(0,s.Z9)(!0)],e.prototype,"enableOpacity",void 0),Vt([(0,s.Z9)(!1)],e.prototype,"createPopupOnClick",void 0),Vt([(0,s.ju)()],e.prototype,"select",void 0),Vt([(0,s.ju)()],e.prototype,"change",void 0),Vt([(0,s.ju)()],e.prototype,"beforeTileRender",void 0),Vt([(0,s.ju)()],e.prototype,"beforeOpen",void 0),Vt([(0,s.ju)()],e.prototype,"open",void 0),Vt([(0,s.ju)()],e.prototype,"beforeClose",void 0),Vt([(0,s.ju)()],e.prototype,"beforeModeSwitch",void 0),Vt([(0,s.ju)()],e.prototype,"onModeSwitch",void 0),Vt([(0,s.ju)()],e.prototype,"created",void 0),e=Vt([s.Zl],e)}(s.wA)},3224:function(t,e,i){i.d(e,{ES:function(){return r},LA:function(){return h},PD:function(){return a},ck:function(){return c}});var s=i(9625),n=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),o=function(t,e,i,s){var n,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(o<3?n(a):o>3?n(e,i,a):n(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};function a(t,e){for(var i=(0,s.l7)({},t),n=0,o=Object.keys(i);n<o.length;n++){var a=o[n];e.indexOf(a)<0&&(0,s.ex)(i,a)}return i}function r(t,e){var i=40===e?0:t.childElementCount-1,n=i,o=t.querySelector(".e-selected");o&&o.classList.remove("e-selected");for(var a=0,r=t.children.length;a<r;a++)t.children[a].classList.contains("e-focused")&&(n=a,t.children[a].classList.remove("e-focused"),40===e?n++:n--,n===(40===e?t.childElementCount:-1)&&(n=i));-1!==(n=l(t,t.children[n],n,e))&&((0,s.cn)([t.children[n]],"e-focused"),t.children[n].focus())}function l(t,e,i,s,n){if(void 0===n&&(n=0),(e.classList.contains("e-separator")||e.classList.contains("e-disabled"))&&(i===(40===s?t.childElementCount-1:0)?i=40===s?0:t.childElementCount-1:40===s?i++:i--),(e=t.children[i]).classList.contains("e-separator")||e.classList.contains("e-disabled")){if(++n===t.childElementCount)return-1;i=l(t,e,i,s,n)}return i}function h(t){var e=[].slice.call(t.getElementsByClassName("e-blank-icon"));if(e.length){var i=t.querySelector(".e-item:not(.e-blank-icon):not(.e-separator)");if(!(0,s.le)(i)){i.classList.contains("e-url")&&(i=i.querySelector(".e-menu-url"));var n,o=i.querySelector(".e-menu-icon"),a=t.classList.contains("e-rtl");n=a?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"};var r=parseInt(getComputedStyle(o).fontSize,10)+parseInt(getComputedStyle(o)[n.margin],10)+parseInt(getComputedStyle(i).paddingLeft,10)+"px";e.forEach((function(t){t.classList.contains("e-url")?t.querySelector(".e-menu-url").style[n.padding]=r:t.style[n.padding]=r}))}}}var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),o([(0,s.Z9)("")],e.prototype,"iconCss",void 0),o([(0,s.Z9)("")],e.prototype,"id",void 0),o([(0,s.Z9)(!1)],e.prototype,"separator",void 0),o([(0,s.Z9)("")],e.prototype,"text",void 0),o([(0,s.Z9)("")],e.prototype,"url",void 0),o([(0,s.Z9)(!1)],e.prototype,"disabled",void 0),e}(s.rt)},4147:function(t,e,i){i.d(e,{u:function(){return m}});var s=i(9625),n=i(8215),o=i(2166),a=i(3224),r=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),l=function(t,e,i,s){var n,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(o<3?n(a):o>3?n(e,i,a):n(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},h="e-menu-icon",c="e-item",p="e-dropdown-popup",d="e-separator",u="e-vertical",m=function(t){function e(e,i){var s=t.call(this,e,i)||this;return s.isPopupCreated=!0,s}return r(e,t),e.prototype.preRender=function(){},e.prototype.getPersistData=function(){return this.addOnPersist([])},e.prototype.toggle=function(){this.canOpen()?this.openPopUp():this.closePopup()},e.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()},e.prototype.addItems=function(t,e){for(var i,s=this.items.length,n=0,o=this.items.length;n<o;n++)if(e===this.items[n].text){s=n;break}for(var r=t.length-1;r>=0;r--)i=new a.ck(this,"items",t[r],!0),this.items.splice(s,0,i);this.canOpen()||this.createItems()},e.prototype.removeItems=function(t,e){for(var i=!1,s=0,n=t.length;s<n;s++)for(var o=0,a=this.items.length;o<a;o++)if(t[s]===(e?this.items[o].id:this.items[o].text)){this.items.splice(o,1),i=!0;break}i&&this.getULElement()&&this.createItems()},e.prototype.createPopup=function(){var t,e=this.createElement("div",{className:p,id:this.element.id+"-popup"});document.body.appendChild(e),this.dropDown=new o.GI(e,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),"fixed"===this.dropDown.element.style.position&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),(0,s.Y4)(this.element,((t={})["aria-haspopup"]=this.items.length||this.target?"true":"false",t["aria-expanded"]="false",t["aria-owns"]=this.getPopUpElement().id,t.type="button",t["aria-label"]=this.element.textContent+" dropdownbutton",t)),this.cssClass&&(0,s.cn)([e],this.cssClass.split(" ")),this.isPopupCreated=!0},e.prototype.getTargetElement=function(){return"string"===typeof this.target?(0,s.Ys)(this.target):this.target},e.prototype.createItems=function(t){var e,i,n,o,r=this.items,l=this.hasIcon(this.items,"iconCss"),p=this.getULElement();p?p.innerHTML="":p=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(var u=0;u<r.length;u++){i=r[u];var m=this.enableHtmlSanitizer?s.pJ.sanitize(i.text):i.text;n=this.createElement("li",{innerHTML:i.url?"":m,className:i.separator?c+" "+d:c,attrs:{role:"menuItem",tabindex:"-1"},id:i.id?i.id:(0,s.QI)("e-"+this.getModuleName()+"-item")}),i.url&&(n.appendChild(this.createAnchor(i)),n.classList.add("e-url")),i.iconCss?(e=this.createElement("span",{className:h+" "+i.iconCss}),i.url?n.childNodes[0].appendChild(e):n.insertBefore(e,n.childNodes[0])):l&&!i.separator&&n.classList.add("e-blank-icon"),i.disabled&&n.classList.add("e-disabled"),o={item:i,element:n},this.trigger("beforeItemRender",o),p.appendChild(n)}t&&this.getPopUpElement().appendChild(p),l&&(0,a.LA)(this.getPopUpElement())},e.prototype.hasIcon=function(t,e){for(var i=0,s=t.length;i<s;i++)if(t[i][e])return!0;return!1},e.prototype.createAnchor=function(t){var e=this.enableHtmlSanitizer?s.pJ.sanitize(t.text):t.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:e,attrs:{href:t.url}})},e.prototype.initialize=function(){this.button=new n.z({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=(0,s.QI)("e-"+this.getModuleName())),this.appendArrowSpan(),this.setActiveElem([this.element]),this.target&&!this.isColorPicker()||!this.createPopupOnClick?this.createPopup():this.isPopupCreated=!1},e.prototype.isColorPicker=function(){if(!this.element)return!1;var t=this.element.previousSibling;return!!(t&&t.classList&&t.classList.contains("e-split-colorpicker"))},e.prototype.appendArrowSpan=function(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf(u)>-1?"bottom":"right")+" e-caret"}))},e.prototype.setActiveElem=function(t){this.activeElem=t},e.prototype.getModuleName=function(){return"dropdown-btn"},e.prototype.canOpen=function(){var t=!1;return this.isPopupCreated&&(t=this.getPopUpElement().classList.contains("e-popup-close")),t},e.prototype.destroy=function(){var e,i=this;(t.prototype.destroy.call(this),"dropdown-btn"===this.getModuleName())&&(this.element.querySelector("span.e-caret")&&(0,s.og)(this.element.querySelector("span.e-caret")),this.cssClass&&(e=this.cssClass.split(" ")),this.button.destroy(),e&&(0,s.IV)([this.element],e),(0,s.IV)(this.activeElem,["e-active"]),(this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"]).forEach((function(t){i.element.removeAttribute(t)})),this.popupUnWireEvents(),this.destroyPopup(),this.isPopupCreated=!1,this.disabled||this.unWireEvents())},e.prototype.destroyPopup=function(){if(this.isPopupCreated){if(this.dropDown.destroy(),this.getPopUpElement()){var t=document.getElementById(this.getPopUpElement().id);t&&((0,s.IV)([t],["e-popup-open","e-popup-close"]),(0,s.og)(t))}s.bi.remove(this.getPopUpElement(),"click",this.clickHandler),s.bi.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.isPopupCreated&&(this.dropDown=void 0)}this.isPopupCreated=!1},e.prototype.getPopUpElement=function(){var t=null;return this.dropDown&&(t=this.dropDown.element),t},e.prototype.getULElement=function(){var t=null;return this.getPopUpElement()&&(t=this.getPopUpElement().children[0]),t},e.prototype.wireEvents=function(){this.delegateMousedownHandler=this.mousedownHandler.bind(this),this.createPopupOnClick||s.bi.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),s.bi.add(this.element,"click",this.clickHandler,this),s.bi.add(this.element,"keydown",this.keyBoardHandler,this)},e.prototype.popupWireEvents=function(){var t=this.getPopUpElement();this.createPopupOnClick&&s.bi.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),t&&(s.bi.add(t,"click",this.clickHandler,this),s.bi.add(t,"keydown",this.keyBoardHandler,this)),this.rippleFn=(0,s.qx)(t,{selector:"."+c})},e.prototype.popupUnWireEvents=function(){var t=this.getPopUpElement();this.createPopupOnClick&&s.bi.remove(document,"mousedown touchstart",this.delegateMousedownHandler),t&&t.parentElement&&(s.bi.remove(t,"click",this.clickHandler),s.bi.remove(t,"keydown",this.keyBoardHandler))},e.prototype.keyBoardHandler=function(t){if(t.target!==this.element||9!==t.keyCode&&(t.altKey||40!==t.keyCode)&&38!==t.keyCode)switch(t.keyCode){case 38:case 40:!t.altKey||38!==t.keyCode&&40!==t.keyCode?this.upDownKeyHandler(t):this.keyEventHandler(t);break;case 9:case 13:case 27:case 32:this.keyEventHandler(t)}},e.prototype.upDownKeyHandler=function(t){(!this.target||38!==t.keyCode&&40!==t.keyCode)&&(t.preventDefault(),(0,a.ES)(this.getULElement(),t.keyCode))},e.prototype.keyEventHandler=function(t){(!this.target||13!==t.keyCode&&9!==t.keyCode)&&(t.target&&t.target.className.indexOf("e-edit-template")>-1&&32===t.keyCode||(9!==t.keyCode&&t.preventDefault(),27===t.keyCode||38===t.keyCode||9===t.keyCode?this.canOpen()||this.closePopup(t,this.element):this.clickHandler(t)))},e.prototype.getLI=function(t){return"LI"===t.tagName?t:(0,s.oq)(t,"li")},e.prototype.mousedownHandler=function(t){var e=t.target;!this.dropDown||this.canOpen()||(0,s.oq)(e,'[id="'+this.getPopUpElement().id+'"]')||(0,s.oq)(e,'[id="'+this.element.id+'"]')||this.closePopup(t)},e.prototype.clickHandler=function(t){var e=t.target;if((0,s.oq)(e,'[id="'+this.element.id+'"]'))!this.createPopupOnClick||this.target&&!this.isColorPicker()?this.getPopUpElement().classList.contains("e-popup-close")?this.openPopUp(t):this.closePopup(t):this.isPopupCreated?this.closePopup(t,this.activeElem[0]):(this.createPopup(),this.openPopUp(t));else if((0,s.oq)(e,'[id="'+this.getPopUpElement().id+'"]')){var i=void 0,n=void 0,o=void 0,a=this.getLI(e);a&&(n=Array.prototype.indexOf.call(this.getULElement().children,a),(o=this.items[n])&&(i={element:a,item:o},this.trigger("select",i)),this.closePopup(t,this.activeElem[0]))}},e.prototype.openPopUp=function(t){var e=this;void 0===t&&(t=null);var i=this.getPopUpElement();if(this.target)if(this.activeElem.length>1){var n=(0,s.Xr)(this.activeElem[0],"split-btn");n.isReact&&i.childNodes.length<1&&(!0,n.appendReactElement(this.getTargetElement(),this.getPopUpElement()))}else this.isReact&&i.childNodes.length<1&&(!0,this.appendReactElement(this.getTargetElement(),this.getPopUpElement()));else this.createItems(!0);var o=this.getULElement();this.popupWireEvents();var a={element:o,items:this.items,event:t,cancel:!1};this.trigger("beforeOpen",a,(function(t){if(!t.cancel){var i=e.getULElement();e.dropDown.show(null,e.element),(0,s.cn)([e.element],"e-active"),e.element.setAttribute("aria-expanded","true"),i.focus();var n={element:i,items:e.items};e.trigger("open",n)}}))},e.prototype.closePopup=function(t,e){var i=this;void 0===t&&(t=null);var n={element:this.getULElement(),items:this.items,event:t,cancel:!1},o=this.getPopUpElement();o&&s.bi.remove(o,"keydown",this.keyBoardHandler),this.trigger("beforeClose",n,(function(t){if(!t.cancel){i.popupUnWireEvents();var n=i.getULElement(),o=n.querySelector(".e-selected");o&&o.classList.remove("e-selected"),i.dropDown.hide(),(0,s.IV)(i.activeElem,"e-active"),i.element.setAttribute("aria-expanded","false"),e&&e.focus();var a={element:n,items:i.items};i.trigger("close",a),!i.target&&n&&(0,s.og)(n),i.target&&!i.isColorPicker()||i.createPopupOnClick&&i.destroyPopup(),i.target&&(i.isPopupCreated=!i.createPopupOnClick)}}))},e.prototype.unWireEvents=function(){this.createPopupOnClick||s.bi.remove(document,"mousedown touchstart",this.delegateMousedownHandler),s.bi.remove(this.element,"click",this.clickHandler),s.bi.remove(this.element,"keydown",this.keyBoardHandler),this.isPopupCreated&&(s.bi.remove(this.getPopUpElement(),"click",this.clickHandler),s.bi.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler))},e.prototype.onPropertyChanged=function(t,e){var i;this.button.setProperties((0,a.PD)(t,["content","cssClass","iconCss","iconPosition","disabled","enableRtl"])),this.isPopupCreated&&(i=this.getPopUpElement(),this.dropDown.setProperties((0,a.PD)(t,["enableRtl"])));for(var n=0,o=Object.keys(t);n<o.length;n++){switch(o[n]){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":t.disabled?(this.unWireEvents(),this.isPopupCreated&&!this.canOpen()&&this.closePopup()):this.wireEvents();break;case"cssClass":if(t.cssClass.indexOf(u)>-1){var r=this.element.querySelector("span.e-caret");(0,s.s1)(r,["e-icon-bottom"],["e-icon-right"])}this.isPopupCreated&&(e.cssClass&&(0,s.IV)([i],e.cssClass.split(" ")),t.cssClass&&(0,s.cn)([i],t.cssClass.split(" ")));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.isPopupCreated&&this.getULElement()&&this.createItems();break;case"createPopupOnClick":t.createPopupOnClick?this.destroyPopup():this.createPopup()}}},e.prototype.focusIn=function(){this.element.focus()},l([(0,s.Z9)("")],e.prototype,"content",void 0),l([(0,s.Z9)("")],e.prototype,"cssClass",void 0),l([(0,s.Z9)(!1)],e.prototype,"disabled",void 0),l([(0,s.Z9)("")],e.prototype,"iconCss",void 0),l([(0,s.Z9)("Left")],e.prototype,"iconPosition",void 0),l([(0,s.Z9)(!1)],e.prototype,"enableHtmlSanitizer",void 0),l([(0,s.FE)([],a.ck)],e.prototype,"items",void 0),l([(0,s.Z9)(!1)],e.prototype,"createPopupOnClick",void 0),l([(0,s.Z9)("")],e.prototype,"target",void 0),l([(0,s.ju)()],e.prototype,"beforeItemRender",void 0),l([(0,s.ju)()],e.prototype,"beforeOpen",void 0),l([(0,s.ju)()],e.prototype,"beforeClose",void 0),l([(0,s.ju)()],e.prototype,"close",void 0),l([(0,s.ju)()],e.prototype,"open",void 0),l([(0,s.ju)()],e.prototype,"select",void 0),l([(0,s.ju)()],e.prototype,"created",void 0),e=l([s.Zl],e)}(s.wA)}}]);
//# sourceMappingURL=851.321aabda.chunk.js.map