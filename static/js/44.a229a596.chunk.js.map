{"version":3,"file":"static/js/44.a229a596.chunk.js","mappings":"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","sources":["../node_modules/@syncfusion/ej2-grids/src/grid/actions/data.js","../node_modules/@syncfusion/ej2-grids/src/pager/numeric-container.js","../node_modules/@syncfusion/ej2-grids/src/pager/pager-message.js","../node_modules/@syncfusion/ej2-grids/src/pager/pager.js","../node_modules/@syncfusion/ej2-grids/src/pager/pager-dropdown.js","../node_modules/@syncfusion/ej2-grids/src/pager/external-message.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/page.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/print.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/search.js","../node_modules/@syncfusion/ej2-grids/src/grid/base/constant.js","../node_modules/@syncfusion/ej2-grids/src/grid/base/enum.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/content-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/header-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/header-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/stacked-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/indent-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/caption-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/expand-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/header-indent-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/detail-header-indent-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/detail-expand-cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/row-drag-drop-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/row-drag-header-indent-render.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/render.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/cell-render-factory.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/service-locator.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/renderer-factory.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/page-settings.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/column-chooser-settings.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/selection.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/show-hide.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/scroll.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/aggregate.js","../node_modules/@syncfusion/ej2-grids/src/grid/actions/clipboard.js","../node_modules/@syncfusion/ej2-grids/src/grid/base/grid.js","../node_modules/@syncfusion/ej2-grids/src/grid/base/string-literals.js","../node_modules/@syncfusion/ej2-grids/src/grid/base/util.js","../node_modules/@syncfusion/ej2-grids/src/grid/common/checkbox-filter-base.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/cell.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/column.js","../node_modules/@syncfusion/ej2-grids/src/grid/models/row.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/cell-merge-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/cell-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/responsive-dialog-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/renderer/row-renderer.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/aria-service.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/focus-strategy.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/group-model-generator.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/row-model-generator.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/summary-model-generator.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/value-formatter.js","../node_modules/@syncfusion/ej2-grids/src/grid/services/width-controller.js","../node_modules/@syncfusion/ej2-react-grids/src/grid/columns-directive.js","../node_modules/@syncfusion/ej2-react-grids/src/grid/grid.component.js"],"sourcesContent":["import { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { Query, DataManager, Predicate, Deferred, UrlAdaptor } from '@syncfusion/ej2-data';\nimport { setFormatter, isGroupAdaptive, getColumnByForeignKeyValue, refreshFilteredColsUid } from '../base/util';\nimport * as events from '../base/constant';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\n/**\n * Grid data module is used to generate query and data source.\n *\n * @hidden\n */\nvar Data = /** @class */ (function () {\n    /**\n     * Constructor for data module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the service locator\n     * @hidden\n     */\n    function Data(parent, serviceLocator) {\n        this.dataState = { isPending: false, resolver: null, group: [] };\n        this.foreignKeyDataState = { isPending: false, resolver: null };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.initDataManager();\n        if (this.parent.isDestroyed || this.getModuleName() === 'foreignKey') {\n            return;\n        }\n        this.parent.on(events.rowsAdded, this.addRows, this);\n        this.parent.on(events.rowPositionChanged, this.reorderRows, this);\n        this.parent.on(events.rowsRemoved, this.removeRows, this);\n        this.parent.on(events.dataSourceModified, this.initDataManager, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.updateData, this.crudActions, this);\n        this.parent.on(events.addDeleteAction, this.getData, this);\n        this.parent.on(events.autoCol, this.refreshFilteredCols, this);\n        this.parent.on(events.columnsPrepared, this.refreshFilteredCols, this);\n    }\n    Data.prototype.reorderRows = function (e) {\n        this.dataManager.dataSource.json.splice(e.toIndex, 0, this.dataManager.dataSource.json.splice(e.fromIndex, 1)[0]);\n    };\n    Data.prototype.getModuleName = function () {\n        return 'data';\n    };\n    /**\n     * The function used to initialize dataManager and external query\n     *\n     * @returns {void}\n     */\n    Data.prototype.initDataManager = function () {\n        var gObj = this.parent;\n        this.dataManager = gObj.dataSource instanceof DataManager ? gObj.dataSource :\n            (isNullOrUndefined(gObj.dataSource) ? new DataManager() : new DataManager(gObj.dataSource));\n        if (gObj.isAngular && !(gObj.query instanceof Query)) {\n            gObj.setProperties({ query: new Query() }, true);\n        }\n        else {\n            this.isQueryInvokedFromData = true;\n            gObj.query = gObj.query instanceof Query ? gObj.query : new Query();\n        }\n    };\n    /**\n     * The function is used to generate updated Query from Grid model.\n     *\n     * @param {boolean} skipPage - specifies the boolean to skip the page\n     * @returns {Query} returns the Query\n     * @hidden\n     */\n    Data.prototype.generateQuery = function (skipPage) {\n        var gObj = this.parent;\n        var query = gObj.getQuery().clone();\n        if (this.parent.columnQueryMode === 'ExcludeHidden') {\n            query.select(this.parent.getColumns().filter(function (column) { return !(column.isPrimaryKey !== true && column.visible === false || column.field === undefined); }).map(function (column) { return column.field; }));\n        }\n        else if (this.parent.columnQueryMode === 'Schema') {\n            var selectQueryFields = [];\n            var columns = this.parent.columns;\n            for (var i = 0; i < columns.length; i++) {\n                selectQueryFields.push(columns[i].field);\n            }\n            query.select(selectQueryFields);\n        }\n        this.filterQuery(query);\n        this.searchQuery(query);\n        this.aggregateQuery(query);\n        this.sortQuery(query);\n        if (isGroupAdaptive(this.parent)) {\n            this.virtualGroupPageQuery(query);\n        }\n        else {\n            this.pageQuery(query, skipPage);\n        }\n        this.groupQuery(query);\n        return query;\n    };\n    /**\n     * @param {Query} query - specifies the query\n     * @returns {Query} - returns the query\n     * @hidden\n     */\n    Data.prototype.aggregateQuery = function (query) {\n        var rows = this.parent.aggregates;\n        for (var i = 0; i < rows.length; i++) {\n            var row = rows[i];\n            for (var j = 0; j < row.columns.length; j++) {\n                var cols = row.columns[j];\n                var types = cols.type instanceof Array ? cols.type : [cols.type];\n                for (var k = 0; k < types.length; k++) {\n                    query.aggregate(types[k].toLowerCase(), cols.field);\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.virtualGroupPageQuery = function (query) {\n        var fName = 'fn';\n        if (query.queries.length) {\n            for (var i = 0; i < query.queries.length; i++) {\n                if (query.queries[i][fName] === 'onPage') {\n                    query.queries.splice(i, 1);\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.pageQuery = function (query, skipPage) {\n        var gObj = this.parent;\n        var fName = 'fn';\n        var args = { query: query, skipPage: false };\n        gObj.notify(events.setVirtualPageQuery, args);\n        if (args.skipPage) {\n            return query;\n        }\n        if ((gObj.allowPaging || gObj.enableVirtualization || gObj.enableInfiniteScrolling) && skipPage !== true) {\n            gObj.pageSettings.currentPage = Math.max(1, gObj.pageSettings.currentPage);\n            if (gObj.pageSettings.pageCount <= 0) {\n                gObj.pageSettings.pageCount = 8;\n            }\n            if (gObj.pageSettings.pageSize <= 0) {\n                gObj.pageSettings.pageSize = 12;\n            }\n            if (query.queries.length) {\n                for (var i = 0; i < query.queries.length; i++) {\n                    if (query.queries[i][fName] === 'onPage') {\n                        query.queries.splice(i, 1);\n                    }\n                }\n            }\n            if (!isNullOrUndefined(gObj.infiniteScrollModule) && gObj.enableInfiniteScrolling) {\n                this.parent.notify(events.infinitePageQuery, query);\n            }\n            else {\n                query.page(gObj.pageSettings.currentPage, gObj.allowPaging && gObj.pagerModule &&\n                    gObj.pagerModule.pagerObj.isAllPage && !this.dataManager.dataSource.offline ? null :\n                    gObj.pageSettings.pageSize);\n            }\n        }\n        return query;\n    };\n    Data.prototype.groupQuery = function (query) {\n        var gObj = this.parent;\n        if (gObj.allowGrouping && gObj.groupSettings.columns.length) {\n            if (this.parent.groupSettings.enableLazyLoading) {\n                query.lazyLoad.push({ key: 'isLazyLoad', value: this.parent.groupSettings.enableLazyLoading });\n            }\n            var columns = gObj.groupSettings.columns;\n            for (var i = 0, len = columns.length; i < len; i++) {\n                var column = this.getColumnByField(columns[i]);\n                if (!column) {\n                    this.parent.log('initial_action', { moduleName: 'group', columnName: columns[i] });\n                }\n                var isGrpFmt = column.enableGroupByFormat;\n                var format = column.format;\n                if (isGrpFmt) {\n                    query.group(columns[i], this.formatGroupColumn.bind(this), format);\n                }\n                else {\n                    query.group(columns[i], null);\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.sortQuery = function (query) {\n        var gObj = this.parent;\n        if ((gObj.allowSorting || gObj.allowGrouping) && gObj.sortSettings.columns.length) {\n            var columns = gObj.sortSettings.columns;\n            var sortGrp = [];\n            for (var i = columns.length - 1; i > -1; i--) {\n                var col = this.getColumnByField(columns[i].field);\n                if (col) {\n                    col.setSortDirection(columns[i].direction);\n                }\n                else {\n                    this.parent.log('initial_action', { moduleName: 'sort', columnName: columns[i].field });\n                    return query;\n                }\n                var fn = columns[i].direction;\n                if (col.sortComparer) {\n                    this.parent.log('grid_sort_comparer');\n                    fn = !this.isRemote() ? col.sortComparer.bind(col) : columns[i].direction;\n                }\n                if (gObj.groupSettings.columns.indexOf(columns[i].field) === -1) {\n                    if (col.isForeignColumn() || col.sortComparer) {\n                        query.sortByForeignKey(col.field, fn, undefined, columns[i].direction.toLowerCase());\n                    }\n                    else {\n                        query.sortBy(col.field, fn);\n                    }\n                }\n                else {\n                    sortGrp.push({ direction: fn, field: col.field });\n                }\n            }\n            for (var i = 0, len = sortGrp.length; i < len; i++) {\n                if (typeof sortGrp[i].direction === 'string') {\n                    query.sortBy(sortGrp[i].field, sortGrp[i].direction);\n                }\n                else {\n                    var col = this.getColumnByField(sortGrp[i].field);\n                    query.sortByForeignKey(sortGrp[i].field, sortGrp[i].direction, undefined, col.getSortDirection().toLowerCase());\n                }\n            }\n        }\n        return query;\n    };\n    Data.prototype.searchQuery = function (query, fcolumn, isForeignKey) {\n        var sSettings = this.parent.searchSettings;\n        var fields = sSettings.fields.length ? sSettings.fields : this.getSearchColumnFieldNames();\n        var predicateList = [];\n        var needForeignKeySearch = false;\n        if (this.parent.searchSettings.key.length) {\n            needForeignKeySearch = this.parent.getForeignKeyColumns().some(function (col) { return fields.indexOf(col.field) > -1; });\n            var adaptor = !isForeignKey ? this.dataManager.adaptor : fcolumn.dataSource.adaptor;\n            if (needForeignKeySearch || (adaptor.getModuleName &&\n                adaptor.getModuleName() === 'ODataV4Adaptor')) {\n                fields = isForeignKey ? [fcolumn.foreignKeyValue] : fields;\n                for (var i = 0; i < fields.length; i++) {\n                    var column = isForeignKey ? fcolumn : this.getColumnByField(fields[i]);\n                    if (column.isForeignColumn() && !isForeignKey) {\n                        predicateList = this.fGeneratePredicate(column, predicateList);\n                    }\n                    else {\n                        predicateList.push(new Predicate(fields[i], sSettings.operator, sSettings.key, sSettings.ignoreCase, sSettings.ignoreAccent));\n                    }\n                }\n                var predList = Predicate.or(predicateList);\n                predList.key = sSettings.key;\n                query.where(predList);\n            }\n            else {\n                query.search(sSettings.key, fields, sSettings.operator, sSettings.ignoreCase, sSettings.ignoreAccent);\n            }\n        }\n        return query;\n    };\n    Data.prototype.filterQuery = function (query, column, skipFoerign) {\n        var gObj = this.parent;\n        var predicateList = [];\n        var actualFilter = [];\n        var foreignColumn = this.parent.getForeignKeyColumns();\n        var foreignColEmpty;\n        if (gObj.allowFiltering && gObj.filterSettings.columns.length) {\n            var columns = column ? column : gObj.filterSettings.columns;\n            var colType = {};\n            for (var _i = 0, _a = gObj.getColumns(); _i < _a.length; _i++) {\n                var col = _a[_i];\n                colType[col.field] = col.filter.type ? col.filter.type : gObj.filterSettings.type;\n            }\n            var foreignCols = [];\n            var defaultFltrCols = [];\n            for (var _b = 0, columns_1 = columns; _b < columns_1.length; _b++) {\n                var col = columns_1[_b];\n                var gridColumn = gObj.getColumnByField(col.field);\n                if (isNullOrUndefined(col.type) && gridColumn && (gridColumn.type === 'date' || gridColumn.type === 'datetime')) {\n                    col.type = gObj.getColumnByField(col.field).type;\n                }\n                if (col.isForeignKey) {\n                    foreignCols.push(col);\n                }\n                else {\n                    defaultFltrCols.push(col);\n                }\n            }\n            if (defaultFltrCols.length) {\n                for (var i = 0, len = defaultFltrCols.length; i < len; i++) {\n                    defaultFltrCols[i].uid = defaultFltrCols[i].uid ||\n                        this.parent.grabColumnByFieldFromAllCols(defaultFltrCols[i].field).uid;\n                }\n                var excelPredicate = CheckBoxFilterBase.getPredicate(defaultFltrCols);\n                for (var _c = 0, _d = Object.keys(excelPredicate); _c < _d.length; _c++) {\n                    var prop = _d[_c];\n                    predicateList.push(excelPredicate[prop]);\n                }\n            }\n            if (foreignCols.length) {\n                for (var _e = 0, foreignCols_1 = foreignCols; _e < foreignCols_1.length; _e++) {\n                    var col = foreignCols_1[_e];\n                    col.uid = col.uid || this.parent.grabColumnByFieldFromAllCols(col.field).uid;\n                    var column_1 = this.parent.grabColumnByUidFromAllCols(col.uid);\n                    if (!column_1) {\n                        this.parent.log('initial_action', { moduleName: 'filter', columnName: col.field });\n                    }\n                    if (column_1.isForeignColumn() && getColumnByForeignKeyValue(col.field, foreignColumn) && !skipFoerign) {\n                        actualFilter.push(col);\n                        if (!column_1.columnData.length) {\n                            foreignColEmpty = true;\n                        }\n                        predicateList = this.fGeneratePredicate(column_1, predicateList);\n                    }\n                    else {\n                        var excelPredicate = CheckBoxFilterBase.getPredicate(columns);\n                        for (var _f = 0, _g = Object.keys(excelPredicate); _f < _g.length; _f++) {\n                            var prop = _g[_f];\n                            predicateList.push(excelPredicate[prop]);\n                        }\n                    }\n                }\n            }\n            if (predicateList.length && !foreignColEmpty) {\n                query.where(Predicate.and(predicateList));\n            }\n            else {\n                this.parent.notify(events.showEmptyGrid, {});\n            }\n        }\n        return query;\n    };\n    Data.prototype.fGeneratePredicate = function (col, predicateList) {\n        var fPredicate = {};\n        if (col) {\n            this.parent.notify(events.generateQuery, { predicate: fPredicate, column: col });\n            if (fPredicate.predicate.predicates.length) {\n                predicateList.push(fPredicate.predicate);\n            }\n        }\n        return predicateList;\n    };\n    /**\n     * The function is used to get dataManager promise by executing given Query.\n     *\n     * @param {object} args - specifies the object\n     * @param {string} args.requestType - Defines the request type\n     * @param {string[]} args.foreignKeyData - Defines the foreignKeyData.string\n     * @param {Object} args.data - Defines the data.\n     * @param {number} args.index - Defines the index .\n     * @param {Query} query - Defines the query which will execute along with data processing.\n     * @returns {Promise<Object>} - returns the object\n     * @hidden\n     */\n    Data.prototype.getData = function (args, query) {\n        var _this = this;\n        if (args === void 0) { args = { requestType: '' }; }\n        var key = this.getKey(args.foreignKeyData &&\n            Object.keys(args.foreignKeyData).length ?\n            args.foreignKeyData : this.parent.getPrimaryKeyFieldNames());\n        this.parent.log('datasource_syntax_mismatch', { dataState: this.parent });\n        if (this.parent.dataSource && 'result' in this.parent.dataSource) {\n            var def = this.eventPromise(args, query, key);\n            return def.promise;\n        }\n        else {\n            var crud = void 0;\n            switch (args.requestType) {\n                case 'delete':\n                    query = query ? query : this.generateQuery();\n                    // eslint-disable-next-line no-case-declarations\n                    var len = Object.keys(args.data).length;\n                    if (len === 1) {\n                        crud = this.dataManager.remove(key, args.data[0], query.fromTable, query);\n                    }\n                    else {\n                        var changes = {\n                            addedRecords: [],\n                            deletedRecords: [],\n                            changedRecords: []\n                        };\n                        changes.deletedRecords = args.data;\n                        crud = this.dataManager.saveChanges(changes, key, query.fromTable, query.requiresCount());\n                    }\n                    break;\n                case 'save':\n                    query = query ? query : this.generateQuery();\n                    args.index = isNullOrUndefined(args.index) ? 0 : args.index;\n                    crud = this.dataManager.insert(args.data, query.fromTable, query, args.index);\n                    break;\n            }\n            var promise = 'promise';\n            args[promise] = crud;\n            // eslint-disable-next-line no-prototype-builtins\n            if (crud && !Array.isArray(crud) && !crud.hasOwnProperty('deletedRecords')) {\n                return crud.then(function () {\n                    return _this.insert(query, args);\n                });\n            }\n            else {\n                return this.insert(query, args);\n            }\n        }\n    };\n    Data.prototype.insert = function (query, args) {\n        if (args.requestType === 'save') {\n            this.parent.notify(events.recordAdded, args);\n        }\n        return this.executeQuery(query);\n    };\n    Data.prototype.executeQuery = function (query) {\n        var _this = this;\n        if (this.dataManager.ready) {\n            var deferred_1 = new Deferred();\n            var ready = this.dataManager.ready;\n            ready.then(function () {\n                _this.dataManager.executeQuery(query).then(function (result) {\n                    deferred_1.resolve(result);\n                });\n            }).catch(function (e) {\n                deferred_1.reject(e);\n            });\n            return deferred_1.promise;\n        }\n        else {\n            return this.dataManager.executeQuery(query);\n        }\n    };\n    Data.prototype.formatGroupColumn = function (value, field) {\n        var serviceLocator = this.serviceLocator;\n        var column = this.getColumnByField(field);\n        var date = value;\n        if (!column.type) {\n            column.type = date.getDay ? (date.getHours() > 0 || date.getMinutes() > 0 ||\n                date.getSeconds() > 0 || date.getMilliseconds() > 0 ? 'datetime' : 'date') : typeof (value);\n        }\n        if (isNullOrUndefined(column.getFormatter())) {\n            setFormatter(serviceLocator, column);\n        }\n        var formatVal = ValueFormatter.prototype.toView(value, column.getFormatter());\n        return formatVal;\n    };\n    Data.prototype.crudActions = function (args) {\n        var query = this.generateQuery();\n        var promise = null;\n        var pr = 'promise';\n        var key = this.getKey(args.foreignKeyData &&\n            Object.keys(args.foreignKeyData).length ? args.foreignKeyData :\n            this.parent.getPrimaryKeyFieldNames());\n        if (this.parent.dataSource && 'result' in this.parent.dataSource) {\n            this.eventPromise(args, query, key);\n        }\n        switch (args.requestType) {\n            case 'save':\n                promise = this.dataManager.update(key, args.data, query.fromTable, query, args.previousData);\n                break;\n        }\n        args[pr] = promise ? promise : args[pr];\n        this.parent.notify(events.crudAction, args);\n    };\n    /**\n     * @param {object} changes - specifies the changes\n     * @param {string} key - specifies the key\n     * @param {object} original - specifies the original data\n     * @param {Query} query - specifies the query\n     * @returns {Promise<Object>} returns the object\n     * @hidden\n     */\n    Data.prototype.saveChanges = function (changes, key, original, query) {\n        if (query === void 0) { query = this.generateQuery(); }\n        query.requiresCount();\n        if ('result' in this.parent.dataSource) {\n            var deff = new Deferred();\n            var args = {\n                requestType: 'batchsave', changes: changes, key: key, query: query,\n                endEdit: deff.resolve\n            };\n            this.setState({ isPending: true, resolver: deff.resolve });\n            this.parent.trigger(events.dataSourceChanged, args);\n            return deff.promise;\n        }\n        else {\n            var promise = this.dataManager.saveChanges(changes, key, query.fromTable, query, original);\n            return promise;\n        }\n    };\n    Data.prototype.getKey = function (keys) {\n        if (keys && keys.length) {\n            return keys[0];\n        }\n        return undefined;\n    };\n    /**\n     * @returns {boolean} returns whether its remote data\n     * @hidden\n     */\n    Data.prototype.isRemote = function () {\n        return this.dataManager.dataSource.offline !== true && this.dataManager.dataSource.url !== undefined &&\n            this.dataManager.dataSource.url !== '';\n    };\n    Data.prototype.addRows = function (e) {\n        for (var i = e.records.length; i > 0; i--) {\n            this.dataManager.dataSource.json.splice(e.toIndex, 0, e.records[i - 1]);\n        }\n    };\n    Data.prototype.removeRows = function (e) {\n        var json = this.dataManager.dataSource.json;\n        this.dataManager.dataSource.json = json.filter(function (value) { return e.records.indexOf(value) === -1; });\n    };\n    Data.prototype.getColumnByField = function (field) {\n        var col;\n        return (this.parent.columnModel).some(function (column) {\n            col = column;\n            return column.field === field;\n        }) && col;\n    };\n    Data.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.rowsAdded, this.addRows);\n        this.parent.off(events.rowsRemoved, this.removeRows);\n        this.parent.off(events.dataSourceModified, this.initDataManager);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.updateData, this.crudActions);\n        this.parent.off(events.addDeleteAction, this.getData);\n        this.parent.off(events.autoCol, this.refreshFilteredCols);\n        this.parent.off(events.columnsPrepared, this.refreshFilteredCols);\n    };\n    Data.prototype.getState = function () {\n        return this.dataState;\n    };\n    Data.prototype.setState = function (state) {\n        return this.dataState = state;\n    };\n    Data.prototype.getForeignKeyDataState = function () {\n        return this.foreignKeyDataState;\n    };\n    Data.prototype.setForeignKeyDataState = function (state) {\n        this.foreignKeyDataState = state;\n    };\n    Data.prototype.getStateEventArgument = function (query) {\n        var adaptr = new UrlAdaptor();\n        var dm = new DataManager({ url: '', adaptor: new UrlAdaptor });\n        var state = adaptr.processQuery(dm, query);\n        var data = JSON.parse(state.data);\n        return extend(data, state.pvtData);\n    };\n    Data.prototype.eventPromise = function (args, query, key) {\n        var _this = this;\n        var dataArgs = args;\n        var state = this.getStateEventArgument(query);\n        var def = new Deferred();\n        var deff = new Deferred();\n        if (args.requestType !== undefined && this.dataState.isDataChanged !== false) {\n            state.action = args;\n            if (args.requestType === 'save' || args.requestType === 'delete') {\n                var editArgs_1 = args;\n                editArgs_1.key = key;\n                var promise = 'promise';\n                editArgs_1[promise] = deff.promise;\n                editArgs_1.state = state;\n                this.setState({ isPending: true, resolver: deff.resolve });\n                dataArgs.endEdit = deff.resolve;\n                dataArgs.cancelEdit = deff.reject;\n                this.parent.trigger(events.dataSourceChanged, editArgs_1);\n                deff.promise.then(function () {\n                    _this.setState({ isPending: true, resolver: def.resolve, group: state.group, aggregates: state.aggregates });\n                    if (editArgs_1.requestType === 'save') {\n                        _this.parent.notify(events.recordAdded, editArgs_1);\n                    }\n                    _this.parent.trigger(events.dataStateChange, state);\n                })\n                    .catch(function () { return void 0; });\n            }\n            else {\n                this.setState({ isPending: true, resolver: def.resolve, group: state.group, aggregates: state.aggregates });\n                this.parent.trigger(events.dataStateChange, state);\n            }\n        }\n        else {\n            this.setState({});\n            def.resolve(this.parent.dataSource);\n        }\n        return def;\n    };\n    /**\n     * Gets the columns where searching needs to be performed from the Grid.\n     *\n     * @returns {string[]} returns the searched column field names\n     */\n    Data.prototype.getSearchColumnFieldNames = function () {\n        var colFieldNames = [];\n        var columns = this.parent.getColumns();\n        for (var _i = 0, columns_2 = columns; _i < columns_2.length; _i++) {\n            var col = columns_2[_i];\n            if (col.allowSearching && !isNullOrUndefined(col.field)) {\n                colFieldNames.push(col.field);\n            }\n        }\n        return colFieldNames;\n    };\n    Data.prototype.refreshFilteredCols = function () {\n        if (this.parent.allowFiltering && this.parent.filterSettings.columns.length) {\n            refreshFilteredColsUid(this.parent, this.parent.filterSettings.columns);\n        }\n    };\n    return Data;\n}());\nexport { Data };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { createElement, classList, append } from '@syncfusion/ej2-base';\n/**\n * `NumericContainer` module handles rendering and refreshing numeric container.\n */\nvar NumericContainer = /** @class */ (function () {\n    /**\n     * Constructor for numericContainer module\n     *\n     * @param {Pager} pagerModule - specifies the pagerModule\n     * @hidden\n     */\n    function NumericContainer(pagerModule) {\n        this.pagerModule = pagerModule;\n    }\n    /**\n     * The function is used to render numericContainer\n     *\n     * @returns {void}\n     * @hidden\n     */\n    NumericContainer.prototype.render = function () {\n        this.pagerElement = this.pagerModule.element;\n        this.renderNumericContainer();\n        this.refreshNumericLinks();\n        this.wireEvents();\n    };\n    /**\n     * Refreshes the numeric container of Pager.\n     *\n     * @returns {void}\n     */\n    NumericContainer.prototype.refresh = function () {\n        this.pagerModule.updateTotalPages();\n        if (this.links.length) {\n            this.updateLinksHtml();\n        }\n        this.updateStyles();\n    };\n    /**\n     * The function is used to refresh refreshNumericLinks\n     *\n     * @returns {void}\n     * @hidden\n     */\n    NumericContainer.prototype.refreshNumericLinks = function () {\n        var link;\n        var pagerObj = this.pagerModule;\n        var div = pagerObj.element.querySelector('.e-numericcontainer');\n        var frag = document.createDocumentFragment();\n        div.innerHTML = '';\n        for (var i = 1; i <= pagerObj.pageCount; i++) {\n            link = createElement('a', {\n                className: 'e-link e-numericitem e-spacing e-pager-default',\n                attrs: { role: 'link', tabindex: '-1', 'aria-label': 'Goto Page ' + i,\n                    href: 'javascript:void(0);', name: 'Goto page' + i }\n            });\n            if (pagerObj.currentPage === i) {\n                classList(link, ['e-currentitem', 'e-active'], ['e-pager-default']);\n            }\n            frag.appendChild(link);\n        }\n        div.appendChild(frag);\n        this.links = [].slice.call(div.childNodes);\n    };\n    /**\n     * Binding events to the element while component creation\n     *\n     * @returns {void}\n     * @hidden\n     */\n    NumericContainer.prototype.wireEvents = function () {\n        EventHandler.add(this.pagerElement, 'click', this.clickHandler, this);\n    };\n    /**\n     * Unbinding events from the element while component destroy\n     *\n     * @returns {void}\n     * @hidden\n     */\n    NumericContainer.prototype.unwireEvents = function () {\n        EventHandler.remove(this.pagerModule.element, 'click', this.clickHandler);\n    };\n    /**\n     * To destroy the PagerMessage\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     */\n    NumericContainer.prototype.destroy = function () {\n        this.unwireEvents();\n    };\n    NumericContainer.prototype.renderNumericContainer = function () {\n        this.element = createElement('div', {\n            className: 'e-pagercontainer', attrs: { 'role': 'navigation' }\n        });\n        this.renderFirstNPrev(this.element);\n        this.renderPrevPagerSet(this.element);\n        this.element.appendChild(createElement('div', { className: 'e-numericcontainer' }));\n        this.renderNextPagerSet(this.element);\n        this.renderNextNLast(this.element);\n        this.pagerModule.element.appendChild(this.element);\n    };\n    NumericContainer.prototype.renderFirstNPrev = function (pagerContainer) {\n        this.first = createElement('div', {\n            className: 'e-first e-icons e-icon-first',\n            attrs: {\n                title: this.pagerModule.getLocalizedLabel('firstPageTooltip'),\n                'aria-label': this.pagerModule.getLocalizedLabel('firstPageTooltip'),\n                tabindex: '-1'\n            }\n        });\n        this.prev = createElement('div', {\n            className: 'e-prev e-icons e-icon-prev',\n            attrs: {\n                title: this.pagerModule.getLocalizedLabel('previousPageTooltip'),\n                'aria-label': this.pagerModule.getLocalizedLabel('previousPageTooltip'),\n                tabindex: '-1'\n            }\n        });\n        append([this.first, this.prev], pagerContainer);\n    };\n    NumericContainer.prototype.renderPrevPagerSet = function (pagerContainer) {\n        var prevPager = createElement('div');\n        this.PP = createElement('a', {\n            className: 'e-link e-pp e-spacing', innerHTML: '...',\n            attrs: {\n                title: this.pagerModule.getLocalizedLabel('previousPagerTooltip'), role: 'link',\n                'aria-label': this.pagerModule.getLocalizedLabel('previousPagerTooltip'),\n                tabindex: '-1',\n                name: this.pagerModule.getLocalizedLabel('previousPagerTooltip'),\n                href: 'javascript:void(0);'\n            }\n        });\n        prevPager.appendChild(this.PP);\n        pagerContainer.appendChild(prevPager);\n    };\n    NumericContainer.prototype.renderNextPagerSet = function (pagerContainer) {\n        var nextPager = createElement('div');\n        this.NP = createElement('a', {\n            className: 'e-link e-np e-spacing',\n            innerHTML: '...', attrs: {\n                title: this.pagerModule.getLocalizedLabel('nextPagerTooltip'), role: 'link',\n                'aria-label': this.pagerModule.getLocalizedLabel('nextPagerTooltip'),\n                tabindex: '-1',\n                name: this.pagerModule.getLocalizedLabel('nextPagerTooltip'),\n                href: 'javascript:void(0);'\n            }\n        });\n        nextPager.appendChild(this.NP);\n        pagerContainer.appendChild(nextPager);\n    };\n    NumericContainer.prototype.renderNextNLast = function (pagerContainer) {\n        this.next = createElement('div', {\n            className: 'e-next e-icons e-icon-next',\n            attrs: {\n                title: this.pagerModule.getLocalizedLabel('nextPageTooltip'),\n                'aria-label': this.pagerModule.getLocalizedLabel('nextPageTooltip'),\n                tabindex: '-1'\n            }\n        });\n        this.last = createElement('div', {\n            className: 'e-last e-icons e-icon-last',\n            attrs: {\n                title: this.pagerModule.getLocalizedLabel('lastPageTooltip'),\n                'aria-label': this.pagerModule.getLocalizedLabel('lastPageTooltip'),\n                tabindex: '-1'\n            }\n        });\n        append([this.next, this.last], pagerContainer);\n    };\n    NumericContainer.prototype.clickHandler = function (e) {\n        var pagerObj = this.pagerModule;\n        var target = e.target;\n        pagerObj.previousPageNo = pagerObj.currentPage;\n        if (!target.classList.contains('e-disable') && !isNullOrUndefined(target.getAttribute('index'))) {\n            pagerObj.currentPage = parseInt(target.getAttribute('index'), 10);\n            pagerObj.dataBind();\n        }\n        return false;\n    };\n    NumericContainer.prototype.updateLinksHtml = function () {\n        var pagerObj = this.pagerModule;\n        var currentPageSet;\n        var pageNo;\n        pagerObj.currentPage = pagerObj.totalPages === 1 ? 1 : pagerObj.currentPage;\n        if (pagerObj.currentPage > pagerObj.totalPages && pagerObj.totalPages) {\n            pagerObj.currentPage = pagerObj.totalPages;\n        }\n        currentPageSet = parseInt((pagerObj.currentPage / pagerObj.pageCount).toString(), 10);\n        if (pagerObj.currentPage % pagerObj.pageCount === 0 && currentPageSet > 0) {\n            currentPageSet = currentPageSet - 1;\n        }\n        for (var i = 0; i < pagerObj.pageCount; i++) {\n            pageNo = (currentPageSet * pagerObj.pageCount) + 1 + i;\n            if (pageNo <= pagerObj.totalPages) {\n                this.links[i].style.display = '';\n                this.links[i].setAttribute('index', pageNo.toString());\n                this.links[i].innerHTML = !pagerObj.customText ? pageNo.toString() : pagerObj.customText + pageNo;\n                if (pagerObj.currentPage !== pageNo) {\n                    this.links[i].classList.add('e-pager-default');\n                }\n                else {\n                    this.links[i].classList.remove('e-pager-default');\n                }\n            }\n            else {\n                this.links[i].innerHTML = !pagerObj.customText ? pageNo.toString() : pagerObj.customText + pageNo;\n                this.links[i].style.display = 'none';\n            }\n            classList(this.links[i], [], ['e-currentitem', 'e-active']);\n        }\n        this.first.setAttribute('index', '1');\n        this.last.setAttribute('index', pagerObj.totalPages.toString());\n        this.prev.setAttribute('index', (pagerObj.currentPage - 1).toString());\n        this.next.setAttribute('index', (pagerObj.currentPage + 1).toString());\n        this.pagerElement.querySelector('.e-mfirst').setAttribute('index', '1');\n        this.pagerElement.querySelector('.e-mlast').setAttribute('index', pagerObj.totalPages.toString());\n        this.pagerElement.querySelector('.e-mprev').setAttribute('index', (pagerObj.currentPage - 1).toString());\n        this.pagerElement.querySelector('.e-mnext').setAttribute('index', (pagerObj.currentPage + 1).toString());\n        this.PP.setAttribute('index', (parseInt(this.links[0].getAttribute('index'), 10) - pagerObj.pageCount).toString());\n        this.NP.setAttribute('index', (parseInt(this.links[this.links.length - 1].getAttribute('index'), 10) + 1).toString());\n    };\n    NumericContainer.prototype.updateStyles = function () {\n        this.updateFirstNPrevStyles();\n        this.updatePrevPagerSetStyles();\n        this.updateNextPagerSetStyles();\n        this.updateNextNLastStyles();\n        if (this.links.length) {\n            classList(this.links[(this.pagerModule.currentPage - 1) % this.pagerModule.pageCount], ['e-currentitem', 'e-active'], []);\n        }\n    };\n    NumericContainer.prototype.updateFirstNPrevStyles = function () {\n        var firstPage = ['e-firstpage', 'e-pager-default'];\n        var firstPageDisabled = ['e-firstpagedisabled', 'e-disable'];\n        var prevPage = ['e-prevpage', 'e-pager-default'];\n        var prevPageDisabled = ['e-prevpagedisabled', 'e-disable'];\n        if (this.pagerModule.totalPages > 0 && this.pagerModule.currentPage > 1) {\n            classList(this.prev, prevPage, prevPageDisabled);\n            classList(this.first, firstPage, firstPageDisabled);\n            classList(this.pagerElement.querySelector('.e-mfirst'), firstPage, firstPageDisabled);\n            classList(this.pagerElement.querySelector('.e-mprev'), prevPage, prevPageDisabled);\n        }\n        else {\n            classList(this.prev, prevPageDisabled, prevPage);\n            classList(this.first, firstPageDisabled, firstPage);\n            classList(this.pagerElement.querySelector('.e-mprev'), prevPageDisabled, prevPage);\n            classList(this.pagerElement.querySelector('.e-mfirst'), firstPageDisabled, firstPage);\n        }\n    };\n    NumericContainer.prototype.updatePrevPagerSetStyles = function () {\n        if (this.pagerModule.currentPage > this.pagerModule.pageCount) {\n            classList(this.PP, ['e-numericitem', 'e-pager-default'], ['e-nextprevitemdisabled', 'e-disable']);\n        }\n        else {\n            classList(this.PP, ['e-nextprevitemdisabled', 'e-disable'], ['e-numericitem', 'e-pager-default']);\n        }\n    };\n    NumericContainer.prototype.updateNextPagerSetStyles = function () {\n        var pagerObj = this.pagerModule;\n        var firstPage = this.links[0].innerHTML.replace(pagerObj.customText, '');\n        if (!firstPage.length || !this.links.length || (parseInt(firstPage, 10) + pagerObj.pageCount > pagerObj.totalPages)) {\n            classList(this.NP, ['e-nextprevitemdisabled', 'e-disable'], ['e-numericitem', 'e-pager-default']);\n        }\n        else {\n            classList(this.NP, ['e-numericitem', 'e-pager-default'], ['e-nextprevitemdisabled', 'e-disable']);\n        }\n    };\n    NumericContainer.prototype.updateNextNLastStyles = function () {\n        var lastPage = ['e-lastpage', 'e-pager-default'];\n        var lastPageDisabled = ['e-lastpagedisabled', 'e-disable'];\n        var nextPage = ['e-nextpage', 'e-pager-default'];\n        var nextPageDisabled = ['e-nextpagedisabled', 'e-disable'];\n        var pagerObj = this.pagerModule;\n        if (pagerObj.currentPage === pagerObj.totalPages || pagerObj.totalRecordsCount === 0) {\n            classList(this.last, lastPageDisabled, lastPage);\n            classList(this.next, nextPageDisabled, nextPage);\n            classList(this.pagerElement.querySelector('.e-mlast'), lastPageDisabled, lastPage);\n            classList(this.pagerElement.querySelector('.e-mnext'), nextPageDisabled, nextPage);\n        }\n        else {\n            classList(this.last, lastPage, lastPageDisabled);\n            classList(this.next, nextPage, nextPageDisabled);\n            classList(this.pagerElement.querySelector('.e-mlast'), lastPage, lastPageDisabled);\n            classList(this.pagerElement.querySelector('.e-mnext'), nextPage, nextPageDisabled);\n        }\n    };\n    return NumericContainer;\n}());\nexport { NumericContainer };\n","import { createElement, append } from '@syncfusion/ej2-base';\n/**\n * `PagerMessage` module is used to display pager information.\n */\nvar PagerMessage = /** @class */ (function () {\n    /**\n     * Constructor for externalMessage module\n     *\n     * @param {Pager} pagerModule - specifies the pager Module\n     * @hidden\n     */\n    function PagerMessage(pagerModule) {\n        this.pagerModule = pagerModule;\n    }\n    /**\n     * The function is used to render pager message\n     *\n     * @returns {void}\n     * @hidden\n     */\n    PagerMessage.prototype.render = function () {\n        var div = createElement('div', { className: 'e-parentmsgbar', attrs: { 'aria-label': 'Pager Information' } });\n        this.pageNoMsgElem = createElement('span', { className: 'e-pagenomsg', styles: 'textalign:right' });\n        this.pageCountMsgElem = createElement('span', { className: 'e-pagecountmsg', styles: 'textalign:right' });\n        append([this.pageNoMsgElem, this.pageCountMsgElem], div);\n        this.pagerModule.element.appendChild(div);\n        this.refresh();\n    };\n    /**\n     * Refreshes the pager information.\n     *\n     * @returns {void}\n     */\n    PagerMessage.prototype.refresh = function () {\n        var pagerObj = this.pagerModule;\n        this.pageNoMsgElem.textContent = this.format(pagerObj.getLocalizedLabel('currentPageInfo'), [pagerObj.totalRecordsCount === 0 ? 0 :\n                pagerObj.currentPage, pagerObj.totalPages || 0, pagerObj.totalRecordsCount || 0]) + ' ';\n        this.pageCountMsgElem.textContent = this.format(pagerObj.getLocalizedLabel(pagerObj.totalRecordsCount <= 1 ? 'totalItemInfo' : 'totalItemsInfo'), [pagerObj.totalRecordsCount || 0, pagerObj.totalRecordsCount ? (pagerObj.pageSize * (pagerObj.currentPage - 1)) + 1 : 0,\n            pagerObj.pageSize * pagerObj.currentPage > pagerObj.totalRecordsCount ? pagerObj.totalRecordsCount :\n                pagerObj.pageSize * pagerObj.currentPage]);\n        this.pageNoMsgElem.parentElement.setAttribute('aria-label', this.pageNoMsgElem.textContent + this.pageCountMsgElem.textContent);\n    };\n    /**\n     * Hides the Pager information.\n     *\n     * @returns {void}\n     */\n    PagerMessage.prototype.hideMessage = function () {\n        if (this.pageNoMsgElem) {\n            this.pageNoMsgElem.style.display = 'none';\n        }\n        if (this.pageCountMsgElem) {\n            this.pageCountMsgElem.style.display = 'none';\n        }\n    };\n    /**\n     * Shows the Pager information.\n     *\n     * @returns {void}\n     */\n    PagerMessage.prototype.showMessage = function () {\n        if (!this.pageNoMsgElem) {\n            this.render();\n        }\n        this.pageNoMsgElem.style.display = '';\n        this.pageCountMsgElem.style.display = '';\n    };\n    /**\n     * To destroy the PagerMessage\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     */\n    PagerMessage.prototype.destroy = function () {\n        //destroy\n    };\n    PagerMessage.prototype.format = function (str, args) {\n        var regx;\n        for (var i = 0; i < args.length; i++) {\n            regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n            str = str.replace(regx, args[i].toString());\n        }\n        return str;\n    };\n    return PagerMessage;\n}());\nexport { PagerMessage };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, L10n, Browser } from '@syncfusion/ej2-base';\nimport { createElement, compile as templateCompiler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Property, Event, NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { NumericContainer } from './numeric-container';\nimport { PagerMessage } from './pager-message';\nimport { appendChildren } from '../grid/base/util';\n/**\n * Represents the `Pager` component.\n * ```html\n * <div id=\"pager\"/>\n * ```\n * ```typescript\n * <script>\n *   var pagerObj = new Pager({ totalRecordsCount: 50, pageSize:10 });\n *   pagerObj.appendTo(\"#pager\");\n * </script>\n * ```\n */\nvar Pager = /** @class */ (function (_super) {\n    __extends(Pager, _super);\n    /**\n     * Constructor for creating the component.\n     *\n     * @param {PagerModel} options - specifies the options\n     * @param {string} element - specifies the element\n     * @hidden\n     */\n    function Pager(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /** @hidden */\n        _this.hasParent = false;\n        _this.pageRefresh = 'pager-refresh';\n        return _this;\n    }\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} returns the modules declaration\n     * @hidden\n     */\n    Pager.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableExternalMessage) {\n            modules.push({\n                member: 'externalMessage',\n                args: [this]\n            });\n        }\n        if (this.checkpagesizes()) {\n            modules.push({\n                member: 'pagerdropdown',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Pager.prototype.preRender = function () {\n        //preRender\n        this.defaultConstants = {\n            currentPageInfo: '{0} of {1} pages',\n            totalItemsInfo: '({0} items)',\n            totalItemInfo: '({0} item)',\n            firstPageTooltip: 'Go to first page',\n            lastPageTooltip: 'Go to last page',\n            nextPageTooltip: 'Go to next page',\n            previousPageTooltip: 'Go to previous page',\n            nextPagerTooltip: 'Go to next pager',\n            previousPagerTooltip: 'Go to previous pager',\n            pagerDropDown: 'Items per page',\n            pagerAllDropDown: 'Items',\n            CurrentPageInfo: '{0} of {1} pages',\n            TotalItemsInfo: '({0} items)',\n            FirstPageTooltip: 'Go to first page',\n            LastPageTooltip: 'Go to last page',\n            NextPageTooltip: 'Go to next page',\n            PreviousPageTooltip: 'Go to previous page',\n            NextPagerTooltip: 'Go to next pager',\n            PreviousPagerTooltip: 'Go to previous pager',\n            PagerDropDown: 'Items per page',\n            PagerAllDropDown: 'Items',\n            All: 'All'\n        };\n        this.containerModule = new NumericContainer(this);\n        this.pagerMessageModule = new PagerMessage(this);\n    };\n    /**\n     * To Initialize the component rendering\n     *\n     * @returns {void}\n     */\n    Pager.prototype.render = function () {\n        if (this.template) {\n            if (this.isReactTemplate()) {\n                this.on(this.pageRefresh, this.pagerTemplate, this);\n                this.notify(this.pageRefresh, {});\n            }\n            else {\n                this.pagerTemplate();\n            }\n        }\n        else {\n            this.initLocalization();\n            this.updateRTL();\n            this.totalRecordsCount = this.totalRecordsCount || 0;\n            this.renderFirstPrevDivForDevice();\n            this.containerModule.render();\n            if (this.enablePagerMessage) {\n                this.pagerMessageModule.render();\n            }\n            this.renderNextLastDivForDevice();\n            if (this.checkpagesizes() && this.pagerdropdownModule) {\n                this.pagerdropdownModule.render();\n            }\n            this.addAriaLabel();\n            if (this.enableExternalMessage && this.externalMessageModule) {\n                this.externalMessageModule.render();\n            }\n            this.refresh();\n            this.trigger('created', { 'currentPage': this.currentPage, 'totalRecordsCount': this.totalRecordsCount });\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} returns the persist data\n     * @hidden\n     */\n    Pager.prototype.getPersistData = function () {\n        var keyEntity = ['currentPage', 'pageSize'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To destroy the Pager component.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    Pager.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        ;\n        if (this.isReactTemplate()) {\n            this.off(this.pageRefresh, this.pagerTemplate);\n            if (!this.hasParent) {\n                this.destroyTemplate(['template']);\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.containerModule.destroy();\n        this.pagerMessageModule.destroy();\n        if (!this.isReactTemplate()) {\n            this.element.innerHTML = '';\n        }\n    };\n    /**\n     * Destroys the given template reference.\n     *\n     * @param {string[]} propertyNames - Defines the collection of template name.\n     * @param {any} index - Defines the index\n     */\n    // eslint-disable-next-line\n    Pager.prototype.destroyTemplate = function (propertyNames, index) {\n        this.clearTemplate(propertyNames, index);\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Pager.prototype.getModuleName = function () {\n        return 'pager';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {PagerModel} newProp - specifies the new property\n     * @param {PagerModel} oldProp - specifies the old propety\n     * @returns {void}\n     * @hidden\n     */\n    Pager.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (newProp.pageCount !== oldProp.pageCount) {\n            this.containerModule.refreshNumericLinks();\n            this.containerModule.refresh();\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'currentPage':\n                    if (this.checkGoToPage(newProp.currentPage, oldProp.currentPage)) {\n                        this.currentPageChanged(newProp, oldProp);\n                    }\n                    break;\n                case 'pageSize':\n                case 'totalRecordsCount':\n                case 'customText':\n                    if (this.checkpagesizes() && this.pagerdropdownModule) {\n                        if (oldProp.pageSize !== newProp.pageSize) {\n                            this.currentPage = 1;\n                        }\n                        this.pagerdropdownModule.setDropDownValue('value', this.pageSize);\n                    }\n                    if (newProp.pageSize !== oldProp.pageSize) {\n                        this.pageSize = newProp.pageSize;\n                        this.currentPageChanged(newProp, oldProp);\n                    }\n                    else {\n                        this.refresh();\n                    }\n                    break;\n                case 'pageSizes':\n                    if (this.checkpagesizes() && this.pagerdropdownModule) {\n                        this.pagerdropdownModule.destroy();\n                        this.pagerdropdownModule.render();\n                    }\n                    this.refresh();\n                    break;\n                case 'template':\n                    this.templateFn = this.compile(this.template);\n                    this.refresh();\n                    break;\n                case 'locale':\n                    this.initLocalization();\n                    this.refresh();\n                    break;\n                case 'enableExternalMessage':\n                    if (this.enableExternalMessage && this.externalMessageModule) {\n                        this.externalMessageModule.render();\n                    }\n                    break;\n                case 'externalMessage':\n                    if (this.externalMessageModule) {\n                        this.externalMessageModule.refresh();\n                    }\n                    break;\n                case 'enableRtl':\n                    this.updateRTL();\n                    break;\n                case 'enablePagerMessage':\n                    if (this.enablePagerMessage) {\n                        this.pagerMessageModule.showMessage();\n                    }\n                    else {\n                        this.pagerMessageModule.hideMessage();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Gets the localized label by locale keyword.\n     *\n     * @param  {string} key - specifies the key\n     * @returns {string} returns the localized label\n     */\n    Pager.prototype.getLocalizedLabel = function (key) {\n        return this.localeObj.getConstant(key);\n    };\n    /**\n     * Navigate to target page by given number.\n     *\n     * @param  {number} pageNo - Defines page number.\n     * @returns {void}\n     */\n    Pager.prototype.goToPage = function (pageNo) {\n        if (this.checkGoToPage(pageNo)) {\n            this.currentPage = pageNo;\n            this.dataBind();\n        }\n    };\n    /**\n     * @param {number} pageSize - specifies the pagesize\n     * @returns {void}\n     * @hidden\n     */\n    Pager.prototype.setPageSize = function (pageSize) {\n        this.pageSize = pageSize;\n        this.dataBind();\n    };\n    Pager.prototype.checkpagesizes = function () {\n        if (this.pageSizes === true || this.pageSizes.length) {\n            return true;\n        }\n        return false;\n    };\n    Pager.prototype.checkGoToPage = function (newPageNo, oldPageNo) {\n        if (newPageNo !== this.currentPage) {\n            this.previousPageNo = this.currentPage;\n        }\n        if (!isNullOrUndefined(oldPageNo)) {\n            this.previousPageNo = oldPageNo;\n        }\n        if (this.previousPageNo !== newPageNo && (newPageNo >= 1 && newPageNo <= this.totalPages)) {\n            return true;\n        }\n        return false;\n    };\n    Pager.prototype.currentPageChanged = function (newProp, oldProp) {\n        if (this.enableQueryString) {\n            this.updateQueryString(this.currentPage);\n        }\n        if (newProp.currentPage !== oldProp.currentPage || newProp.pageSize !== oldProp.pageSize) {\n            var args = {\n                currentPage: this.currentPage,\n                newProp: newProp, oldProp: oldProp, cancel: false\n            };\n            this.trigger('click', args);\n            if (!args.cancel) {\n                this.refresh();\n            }\n        }\n    };\n    Pager.prototype.pagerTemplate = function () {\n        if (this.isReactTemplate() && this.hasParent) {\n            return;\n        }\n        var result;\n        this.element.classList.add('e-pagertemplate');\n        this.compile(this.template);\n        var data = {\n            currentPage: this.currentPage, pageSize: this.pageSize, pageCount: this.pageCount,\n            totalRecordsCount: this.totalRecordsCount, totalPages: this.totalPages\n        };\n        var tempId = this.element.parentElement.id + '_template';\n        if (this.isReactTemplate() && !this.isVue) {\n            this.getPagerTemplate()(data, this, 'template', tempId, null, null, this.element);\n            this.renderReactTemplates();\n        }\n        else {\n            result = this.isVue ? this.getPagerTemplate()(data, this, 'template') : this.getPagerTemplate()(data);\n            appendChildren(this.element, result);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Pager.prototype.updateTotalPages = function () {\n        this.totalPages = this.isAllPage ? 1 : (this.totalRecordsCount % this.pageSize === 0) ? (this.totalRecordsCount / this.pageSize) :\n            (parseInt((this.totalRecordsCount / this.pageSize).toString(), 10) + 1);\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden\n     */\n    Pager.prototype.getPagerTemplate = function () {\n        return this.templateFn;\n    };\n    /**\n     * @param {string} template - specifies the template\n     * @returns {Function} returns the function\n     * @hidden\n     */\n    Pager.prototype.compile = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    this.templateFn = templateCompiler(document.querySelector(template).innerHTML.trim());\n                }\n            }\n            catch (e) {\n                this.templateFn = templateCompiler(template);\n            }\n        }\n        return undefined;\n    };\n    /**\n     * Refreshes page count, pager information and external message.\n     *\n     * @returns {void}\n     */\n    Pager.prototype.refresh = function () {\n        if (this.template) {\n            if (this.isReactTemplate()) {\n                this.updateTotalPages();\n                this.notify(this.pageRefresh, {});\n            }\n            else {\n                this.element.innerHTML = '';\n                this.updateTotalPages();\n                this.pagerTemplate();\n            }\n        }\n        else {\n            this.updateRTL();\n            this.containerModule.refresh();\n            if (this.enablePagerMessage) {\n                this.pagerMessageModule.refresh();\n            }\n            if (this.pagerdropdownModule) {\n                this.pagerdropdownModule.refresh();\n            }\n            if (this.enableExternalMessage && this.externalMessageModule) {\n                this.externalMessageModule.refresh();\n            }\n        }\n    };\n    Pager.prototype.updateRTL = function () {\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        else {\n            this.element.classList.remove('e-rtl');\n        }\n    };\n    Pager.prototype.initLocalization = function () {\n        this.localeObj = new L10n(this.getModuleName(), this.defaultConstants, this.locale);\n    };\n    Pager.prototype.updateQueryString = function (value) {\n        var updatedUrl = this.getUpdatedURL(window.location.href, 'page', value.toString());\n        window.history.pushState({ path: updatedUrl }, '', updatedUrl);\n    };\n    Pager.prototype.getUpdatedURL = function (uri, key, value) {\n        var regx = new RegExp('([?|&])' + key + '=.*?(&|#|$)', 'i');\n        if (uri.match(regx)) {\n            return uri.replace(regx, '$1' + key + '=' + value + '$2');\n        }\n        else {\n            var hash = '';\n            if (uri.indexOf('#') !== -1) {\n                hash = uri.replace(/.*#/, '#');\n                uri = uri.replace(/#.*/, '');\n            }\n            return uri + (uri.indexOf('?') !== -1 ? '&' : '?') + key + '=' + value + hash;\n        }\n    };\n    Pager.prototype.renderFirstPrevDivForDevice = function () {\n        this.element.appendChild(createElement('div', {\n            className: 'e-mfirst e-icons e-icon-first',\n            attrs: { title: this.getLocalizedLabel('firstPageTooltip'), tabindex: '-1' }\n        }));\n        this.element.appendChild(createElement('div', {\n            className: 'e-mprev e-icons e-icon-prev',\n            attrs: { title: this.getLocalizedLabel('previousPageTooltip'), tabindex: '-1' }\n        }));\n    };\n    Pager.prototype.renderNextLastDivForDevice = function () {\n        this.element.appendChild(createElement('div', {\n            className: 'e-mnext e-icons e-icon-next',\n            attrs: { title: this.getLocalizedLabel('nextPageTooltip'), tabindex: '-1' }\n        }));\n        this.element.appendChild(createElement('div', {\n            className: 'e-mlast e-icons e-icon-last',\n            attrs: { title: this.getLocalizedLabel('lastPageTooltip'), tabindex: '-1' }\n        }));\n    };\n    Pager.prototype.addAriaLabel = function () {\n        var classList = ['.e-mfirst', '.e-mprev', '.e-mnext', '.e-mlast'];\n        if (!Browser.isDevice) {\n            for (var i = 0; i < classList.length; i++) {\n                var element = this.element.querySelector(classList[i]);\n                element.setAttribute('aria-label', element.getAttribute('title'));\n            }\n        }\n    };\n    Pager.prototype.isReactTemplate = function () {\n        return (this.isReact || this.isVue) && this.template && typeof (this.template) !== 'string';\n    };\n    __decorate([\n        Property(false)\n    ], Pager.prototype, \"enableQueryString\", void 0);\n    __decorate([\n        Property(false)\n    ], Pager.prototype, \"enableExternalMessage\", void 0);\n    __decorate([\n        Property(true)\n    ], Pager.prototype, \"enablePagerMessage\", void 0);\n    __decorate([\n        Property(12)\n    ], Pager.prototype, \"pageSize\", void 0);\n    __decorate([\n        Property(10)\n    ], Pager.prototype, \"pageCount\", void 0);\n    __decorate([\n        Property(1)\n    ], Pager.prototype, \"currentPage\", void 0);\n    __decorate([\n        Property()\n    ], Pager.prototype, \"totalRecordsCount\", void 0);\n    __decorate([\n        Property()\n    ], Pager.prototype, \"externalMessage\", void 0);\n    __decorate([\n        Property(false)\n    ], Pager.prototype, \"pageSizes\", void 0);\n    __decorate([\n        Property()\n    ], Pager.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], Pager.prototype, \"customText\", void 0);\n    __decorate([\n        Event()\n    ], Pager.prototype, \"click\", void 0);\n    __decorate([\n        Event()\n    ], Pager.prototype, \"dropDownChanged\", void 0);\n    __decorate([\n        Event()\n    ], Pager.prototype, \"created\", void 0);\n    Pager = __decorate([\n        NotifyPropertyChanges\n    ], Pager);\n    return Pager;\n}(Component));\nexport { Pager };\n","import { createElement, remove } from '@syncfusion/ej2-base';\nimport { DropDownList } from '@syncfusion/ej2-dropdowns';\n/**\n * `PagerDropDown` module handles selected pageSize from DropDownList.\n */\nvar PagerDropDown = /** @class */ (function () {\n    /**\n     * Constructor for pager module\n     *\n     * @param {Pager} pagerModule - specifies the pagermodule\n     * @hidden\n     */\n    function PagerDropDown(pagerModule) {\n        this.pagerModule = pagerModule;\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     * @hidden\n     */\n    PagerDropDown.prototype.getModuleName = function () {\n        return 'pagerdropdown';\n    };\n    /**\n     * The function is used to render pager dropdown\n     *\n     * @returns {void}\n     * @hidden\n     */\n    PagerDropDown.prototype.render = function () {\n        var pagerObj = this.pagerModule;\n        this.pagerDropDownDiv = createElement('div', { className: 'e-pagesizes' });\n        var dropDownDiv = createElement('div', { className: 'e-pagerdropdown' });\n        var defaultTextDiv = createElement('div', { className: 'e-pagerconstant' });\n        var input = createElement('input', { attrs: { type: 'text', tabindex: '1' } });\n        this.pagerCons = createElement('span', {\n            className: 'e-constant', innerHTML: this.pagerModule.getLocalizedLabel('pagerDropDown')\n        });\n        dropDownDiv.appendChild(input);\n        defaultTextDiv.appendChild(this.pagerCons);\n        this.pagerDropDownDiv.appendChild(dropDownDiv);\n        this.pagerDropDownDiv.appendChild(defaultTextDiv);\n        this.pagerModule.element.appendChild(this.pagerDropDownDiv);\n        var pageSizesModule = this.pagerModule.pageSizes;\n        var pageSizesArray = (pageSizesModule.length ? this.convertValue(pageSizesModule) :\n            [this.pagerModule.getLocalizedLabel('All'), '5', '10', '12', '20']);\n        var defaultValue = this.pagerModule.pageSize;\n        this.dropDownListObject = new DropDownList({\n            dataSource: pageSizesArray,\n            value: defaultValue.toString(),\n            change: this.onChange.bind(this),\n            cssClass: 'e-alldrop'\n        });\n        this.dropDownListObject.appendTo(input);\n        if (pageSizesModule.length) {\n            this.dropDownListObject.element.value = this.pagerModule.pageSize.toString();\n        }\n        pagerObj.pageSize = defaultValue;\n        pagerObj.dataBind();\n        pagerObj.trigger('dropDownChanged', { pageSize: defaultValue });\n        this.addEventListener();\n    };\n    /**\n     * For internal use only - Get the pagesize.\n     *\n     * @param {ChangeEventArgs} e - specifies the changeeventargs\n     * @returns {void}\n     * @private\n     * @hidden\n     */\n    PagerDropDown.prototype.onChange = function (e) {\n        if (this.dropDownListObject.value === this.pagerModule.getLocalizedLabel('All')) {\n            this.pagerModule.pageSize = this.pagerModule.totalRecordsCount;\n            this.pagerModule.isAllPage = true;\n            this.refresh();\n            e.value = this.pagerModule.pageSize;\n            if (document.getElementsByClassName('e-popup-open e-alldrop').length) {\n                document.getElementsByClassName('e-popup-open e-alldrop')[0].style.display = 'none';\n            }\n        }\n        else {\n            this.pagerModule.pageSize = parseInt(this.dropDownListObject.value, 10);\n            this.pagerModule.isAllPage = false;\n            if (this.pagerCons.innerHTML !== this.pagerModule.getLocalizedLabel('pagerDropDown')) {\n                this.refresh();\n            }\n        }\n        this.pagerModule.dataBind();\n        this.pagerModule.trigger('dropDownChanged', { pageSize: this.pagerModule.isAllPage ? this.pagerModule.totalRecordsCount :\n                parseInt(this.dropDownListObject.value, 10) });\n    };\n    PagerDropDown.prototype.refresh = function () {\n        if (this.pagerCons) {\n            if (this.pagerModule.pageSize === this.pagerModule.totalRecordsCount) {\n                this.pagerCons.innerHTML = this.pagerModule.getLocalizedLabel('pagerAllDropDown');\n            }\n            else {\n                this.pagerCons.innerHTML = this.pagerModule.getLocalizedLabel('pagerDropDown');\n            }\n        }\n    };\n    PagerDropDown.prototype.beforeValueChange = function (prop) {\n        if (typeof prop.newProp.value === 'number') {\n            var val = prop.newProp.value.toString();\n            prop.newProp.value = val;\n        }\n    };\n    PagerDropDown.prototype.convertValue = function (pageSizeValue) {\n        var item = pageSizeValue;\n        for (var i = 0; i < item.length; i++) {\n            item[i] = parseInt(item[i], 10) ? item[i].toString() : (this.pagerModule.getLocalizedLabel(item[i]) !== '')\n                ? this.pagerModule.getLocalizedLabel(item[i]) : item[i];\n        }\n        return item;\n    };\n    PagerDropDown.prototype.setDropDownValue = function (prop, value) {\n        if (this.dropDownListObject) {\n            this.dropDownListObject[prop] = this.pagerModule.isAllPage ? this.pagerModule.getLocalizedLabel('All') : value;\n        }\n    };\n    PagerDropDown.prototype.addEventListener = function () {\n        this.dropDownListObject.on('beforeValueChange', this.beforeValueChange, this);\n    };\n    PagerDropDown.prototype.removeEventListener = function () {\n        this.dropDownListObject.off('beforeValueChange', this.beforeValueChange);\n    };\n    /**\n     * To destroy the Pagerdropdown\n     *\n     * @param {string} args - specifies the arguments\n     * @param {string} args.requestType - specfies the request type\n     * @returns {void}\n     * @hidden\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    PagerDropDown.prototype.destroy = function (args) {\n        if (this.dropDownListObject && !this.dropDownListObject.isDestroyed) {\n            this.removeEventListener();\n            this.dropDownListObject.destroy();\n            remove(this.pagerDropDownDiv);\n        }\n    };\n    return PagerDropDown;\n}());\nexport { PagerDropDown };\n","import { createElement, remove, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * `ExternalMessage` module is used to display user provided message.\n */\nvar ExternalMessage = /** @class */ (function () {\n    /**\n     * Constructor for externalMessage module\n     *\n     * @param {Pager} pagerModule - specifies the pagermodule\n     * @hidden\n     */\n    function ExternalMessage(pagerModule) {\n        this.pagerModule = pagerModule;\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    ExternalMessage.prototype.getModuleName = function () {\n        return 'externalMessage';\n    };\n    /**\n     * The function is used to render pager externalMessage\n     *\n     * @returns {void}\n     * @hidden\n     */\n    ExternalMessage.prototype.render = function () {\n        this.element = createElement('div', { className: 'e-pagerexternalmsg', attrs: { 'aria-label': 'Pager external message' } });\n        this.pagerModule.element.appendChild(this.element);\n        this.refresh();\n    };\n    /**\n     * Refreshes the external message of Pager.\n     *\n     * @returns {void}\n     */\n    ExternalMessage.prototype.refresh = function () {\n        if (this.pagerModule.externalMessage && this.pagerModule.externalMessage.toString().length) {\n            this.showMessage();\n            this.element.innerHTML = this.pagerModule.externalMessage;\n        }\n        else {\n            this.hideMessage();\n        }\n    };\n    /**\n     * Hides the external message of Pager.\n     *\n     * @returns {void}\n     */\n    ExternalMessage.prototype.hideMessage = function () {\n        if (!isNullOrUndefined(this.element)) {\n            this.element.style.display = 'none';\n        }\n    };\n    /**\n     * Shows the external message of the Pager.\n     *\n     * @returns {void}s\n     */\n    ExternalMessage.prototype.showMessage = function () {\n        this.element.style.display = '';\n    };\n    /**\n     * To destroy the PagerMessage\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     */\n    ExternalMessage.prototype.destroy = function () {\n        remove(this.element);\n    };\n    return ExternalMessage;\n}());\nexport { ExternalMessage };\n","import { extend } from '@syncfusion/ej2-base';\nimport { remove, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Pager } from '../../pager/pager';\nimport { PagerDropDown } from '../../pager/pager-dropdown';\nimport { ExternalMessage } from '../../pager/external-message';\nimport { extend as gridExtend, getActualProperties, isActionPrevent, addRemoveEventListener, appendChildren } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * The `Page` module is used to render pager and handle paging action.\n */\nvar Page = /** @class */ (function () {\n    /**\n     * Constructor for the Grid paging module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {PageSettingsModel} pageSettings - specifies the PageSettingsModel\n     * @hidden\n     */\n    function Page(parent, pageSettings) {\n        this.isInitialRender = true;\n        this.isCancel = false;\n        Pager.Inject(ExternalMessage, PagerDropDown);\n        this.parent = parent;\n        this.pageSettings = pageSettings;\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Page.prototype.getModuleName = function () {\n        return 'pager';\n    };\n    /**\n     * The function used to render pager from grid pageSettings\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.render = function () {\n        var gObj = this.parent;\n        this.pagerDestroy();\n        if (!isNullOrUndefined(this.parent.pagerTemplate)) {\n            this.pageSettings.template = this.parent.pagerTemplate;\n            this.parent.pageTemplateChange = true;\n        }\n        this.element = this.parent.createElement('div', { className: 'e-gridpager' });\n        var pagerObj = gridExtend({}, extend({}, getActualProperties(this.pageSettings)), {\n            click: this.clickHandler.bind(this),\n            dropDownChanged: this.onSelect.bind(this),\n            enableRtl: gObj.enableRtl, locale: gObj.locale,\n            created: this.addAriaAttr.bind(this)\n        }, ['parentObj', 'propName']);\n        this.pagerObj = new Pager(pagerObj);\n        this.pagerObj.hasParent = true;\n        this.pagerObj.on(events.pagerRefresh, this.renderReactPagerTemplate, this);\n        this.pagerObj.allowServerDataBinding = false;\n    };\n    Page.prototype.onSelect = function (e) {\n        this.pageSettings.pageSize = e.pageSize;\n        if (!this.isInitialLoad) {\n            this.pageSettings.currentPage = 1;\n        }\n    };\n    Page.prototype.addAriaAttr = function () {\n        if (!(this.pageSettings.template)) {\n            var numericContainerNew = this.parent.createElement('div', { className: 'e-numericcontainer' });\n            var pagerContainer = this.element.querySelector('.e-pagercontainer');\n            var frag = document.createDocumentFragment();\n            var numericContainer = this.element.querySelector('.e-numericcontainer');\n            var links = numericContainer.querySelectorAll('a');\n            for (var i = 0; i < links.length; i++) {\n                if (this.parent.getContentTable()) {\n                    links[i].setAttribute('aria-owns', this.parent.getContentTable().id);\n                }\n                else {\n                    links[i].setAttribute('aria-owns', this.parent.element.getAttribute('id') + '_content_table');\n                }\n                var numericContainerDiv = this.parent.createElement('div');\n                numericContainerDiv.appendChild(links[i]);\n                frag.appendChild(numericContainerDiv);\n            }\n            numericContainerNew.appendChild(frag);\n            pagerContainer.replaceChild(numericContainerNew, numericContainer);\n            var classList = ['.e-mfirst', '.e-mprev', '.e-first', '.e-prev', '.e-next', '.e-last', '.e-mnext', '.e-mlast'];\n            for (var j = 0; j < classList.length; j++) {\n                var element = this.element.querySelector(classList[j]);\n                if (this.parent.getContentTable()) {\n                    element.setAttribute('aria-owns', this.parent.getContentTable().id);\n                }\n            }\n        }\n    };\n    Page.prototype.dataReady = function (e) {\n        this.updateModel(e);\n    };\n    /**\n     * Refreshes the page count, pager information, and external message.\n     *\n     * @returns {void}\n     */\n    Page.prototype.refresh = function () {\n        this.pagerObj.refresh();\n    };\n    /**\n     * Navigates to the target page according to the given number.\n     *\n     * @param  {number} pageNo - Defines the page number to navigate.\n     * @returns {void}\n     */\n    Page.prototype.goToPage = function (pageNo) {\n        this.pagerObj.goToPage(pageNo);\n    };\n    /**\n     * @param {number} pageSize - specifies the page size\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.setPageSize = function (pageSize) {\n        this.pagerObj.setPageSize(pageSize);\n    };\n    /**\n     * The function used to update pageSettings model\n     *\n     * @param {NotifyArgs} e - specfies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.updateModel = function (e) {\n        this.parent.pageSettings.totalRecordsCount = e.count;\n        this.parent.dataBind();\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.onActionComplete = function (e) {\n        this.parent.trigger(events.actionComplete, extend(e, {\n            currentPage: this.parent.pageSettings.currentPage, requestType: 'paging',\n            type: events.actionComplete\n        }));\n    };\n    /**\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        var newProp = e.properties;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            this.pagerObj[prop] = newProp[prop];\n        }\n        this.pagerObj.dataBind();\n    };\n    Page.prototype.clickHandler = function (e) {\n        var gObj = this.parent;\n        if (this.isForceCancel || isActionPrevent(gObj) && !gObj.prevPageMoving && !this.isCancel) {\n            if (!this.isForceCancel) {\n                if (!isNullOrUndefined(e.newProp) && !isNullOrUndefined(e.newProp.pageSize)) {\n                    gObj.notify(events.preventBatch, { instance: this, handler: this.setPageSize, arg1: e.newProp.pageSize });\n                    this.pagerObj.pageSize = e.oldProp.pageSize;\n                    gObj.pageSettings.pageSize = e.newProp.pageSize;\n                }\n                else if (e.currentPage) {\n                    gObj.notify(events.preventBatch, { instance: this, handler: this.goToPage, arg1: e.currentPage });\n                    this.pagerObj.currentPage = gObj.pageSettings.currentPage === this.pagerObj.currentPage ?\n                        this.pagerObj.previousPageNo : gObj.pageSettings.currentPage;\n                }\n                this.isForceCancel = true;\n                this.pagerObj.dataBind();\n            }\n            else {\n                this.isForceCancel = false;\n            }\n            e.cancel = true;\n            return;\n        }\n        gObj.pageSettings.pageSize = this.pagerObj.pageSize;\n        gObj.prevPageMoving = false;\n        var prevPage = this.pageSettings.currentPage;\n        this.pageSettings.currentPage = e.currentPage;\n        var args = {\n            cancel: false, requestType: 'paging', previousPage: prevPage,\n            currentPage: e.currentPage, type: events.actionBegin\n        };\n        if (!this.isCancel) {\n            this.parent.notify(events.modelChanged, args);\n        }\n        if (args.cancel) {\n            e.cancel = true;\n            this.pagerObj.currentPage = prevPage;\n            this.isCancel = true;\n            return;\n        }\n        this.isCancel = false;\n        this.parent.requestTypeAction = 'paging';\n    };\n    Page.prototype.keyPressHandler = function (e) {\n        if (e.action in keyActions) {\n            e.preventDefault();\n            this.element.querySelector(keyActions[e.action]).click();\n        }\n    };\n    /**\n     * Defines the text of the external message.\n     *\n     * @param  {string} message - Defines the message to update.\n     * @returns {void}\n     */\n    Page.prototype.updateExternalMessage = function (message) {\n        if (!this.pagerObj.enableExternalMessage) {\n            this.pagerObj.enableExternalMessage = true;\n            this.pagerObj.dataBind();\n        }\n        this.pagerObj.externalMessage = message;\n        this.pagerObj.dataBind();\n    };\n    Page.prototype.appendToElement = function () {\n        this.isInitialLoad = true;\n        this.parent.element.appendChild(this.element);\n        this.parent.setGridPager(this.element);\n        this.pagerObj.isReact = this.parent.isReact;\n        this.pagerObj.isVue = this.parent.isVue;\n        this.pagerObj.appendTo(this.element);\n        this.isInitialLoad = false;\n    };\n    Page.prototype.enableAfterRender = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.render();\n            this.appendToElement();\n            if (this.isReactTemplate()) {\n                this.pagerObj.updateTotalPages();\n                this.created();\n            }\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.addEventListener = function () {\n        this.handlers = {\n            load: this.render,\n            end: this.appendToElement,\n            ready: this.dataReady,\n            complete: this.onActionComplete,\n            updateLayout: this.enableAfterRender,\n            inboundChange: this.onPropertyChanged,\n            keyPress: this.keyPressHandler,\n            created: this.created\n        };\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.parent.isReact || this.parent.isVue) {\n            this.parent.addEventListener(literals.create, this.handlers.created.bind(this));\n        }\n        this.evtHandlers = [{ event: events.initialLoad, handler: this.handlers.load },\n            { event: events.initialEnd, handler: this.handlers.end },\n            { event: events.dataReady, handler: this.handlers.ready },\n            { event: events.pageComplete, handler: this.handlers.complete },\n            { event: events.uiUpdate, handler: this.handlers.updateLayout },\n            { event: events.inBoundModelChanged, handler: this.handlers.inboundChange },\n            { event: events.keyPressed, handler: this.handlers.keyPress },\n            { event: events.destroy, handler: this.destroy }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    };\n    Page.prototype.created = function () {\n        if (this.isInitialRender && this.isReactTemplate()) {\n            this.isInitialRender = false;\n            this.renderReactPagerTemplate();\n        }\n    };\n    Page.prototype.isReactTemplate = function () {\n        return (this.parent.isReact || this.parent.isVue) && this.pagerObj.template && typeof (this.pagerObj.template) !== 'string';\n    };\n    Page.prototype.renderReactPagerTemplate = function () {\n        if (!this.isInitialRender && this.isReactTemplate()) {\n            var result = void 0;\n            this.parent.destroyTemplate(['pagerTemplate']);\n            this.element.classList.add('e-pagertemplate');\n            this.pagerObj.compile(this.pagerObj.template);\n            var page = this.parent.pageSettings;\n            var data = {\n                currentPage: page.currentPage, pageSize: page.pageSize, pageCount: page.pageCount,\n                totalRecordsCount: page.totalRecordsCount, totalPages: this.pagerObj.totalPages\n            };\n            var tempId = this.parent.id + '_pagertemplate';\n            if (this.parent.isReact) {\n                this.pagerObj.templateFn(data, this.parent, 'pagerTemplate', tempId, null, null, this.pagerObj.element);\n                this.parent.renderTemplates();\n            }\n            else {\n                result = this.pagerObj.templateFn(data, this.parent, 'pagerTemplate');\n                appendChildren(this.pagerObj.element, result);\n            }\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.parent.isReact || this.parent.isVue) {\n            this.parent.removeEventListener(literals.create, this.handlers.created);\n        }\n        this.parent.off(events.pagerRefresh, this.renderReactPagerTemplate);\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n    };\n    /**\n     * To destroy the pager\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Page.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.isReactTemplate()) {\n            this.parent.destroyTemplate(['pagerTemplate']);\n        }\n        this.pagerObj.destroy();\n    };\n    Page.prototype.pagerDestroy = function () {\n        if (this.pagerObj && !this.pagerObj.isDestroyed) {\n            this.pagerObj.destroy();\n            remove(this.element);\n        }\n    };\n    return Page;\n}());\nexport { Page };\n/**\n * @hidden\n */\nvar keyActions = {\n    pageUp: '.e-prev',\n    pageDown: '.e-next',\n    ctrlAltPageDown: '.e-last',\n    ctrlAltPageUp: '.e-first',\n    altPageUp: '.e-pp',\n    altPageDown: '.e-np'\n};\n","import { print as printWindow, createElement, detach, classList, selectAll, extend } from '@syncfusion/ej2-base';\nimport { getPrintGridModel } from '../base/util';\nimport { Grid } from '../base/grid';\nimport * as events from '../base/constant';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport * as literals from '../base/string-literals';\n/**\n * @returns {string[]} returns the cloned property\n * @hidden\n */\nexport function getCloneProperties() {\n    return ['aggregates', 'allowGrouping', 'allowFiltering', 'allowMultiSorting', 'allowReordering', 'allowSorting',\n        'allowTextWrap', 'childGrid', 'columns', 'currentViewData', 'dataSource', 'detailTemplate', 'enableAltRow',\n        'enableColumnVirtualization', 'filterSettings', 'gridLines',\n        'groupSettings', 'height', 'locale', 'pageSettings', 'printMode', 'query', 'queryString', 'enableRtl',\n        'rowHeight', 'rowTemplate', 'sortSettings', 'textWrapSettings', 'allowPaging', 'hierarchyPrintMode', 'searchSettings',\n        'queryCellInfo', 'beforeDataBound'];\n}\n/**\n *\n * The `Print` module is used to handle print action.\n */\nvar Print = /** @class */ (function () {\n    /**\n     * Constructor for the Grid print module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {Scroll} scrollModule - specifies the scroll module\n     * @hidden\n     */\n    function Print(parent, scrollModule) {\n        this.isAsyncPrint = false;\n        this.defered = new Deferred();\n        this.parent = parent;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.contentReady, this.isContentReady(), this);\n        this.actionBeginFunction = this.actionBegin.bind(this);\n        this.parent.addEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.on(events.onEmpty, this.onEmpty.bind(this));\n        this.parent.on(events.hierarchyPrint, this.hierarchyPrint, this);\n        this.scrollModule = scrollModule;\n    }\n    Print.prototype.isContentReady = function () {\n        var _this = this;\n        if (this.isPrintGrid() && (this.parent.hierarchyPrintMode === 'None' || !this.parent.childGrid)) {\n            return this.contentReady;\n        }\n        return function () {\n            _this.defered.promise.then(function () {\n                _this.contentReady();\n            });\n            if (_this.isPrintGrid()) {\n                _this.hierarchyPrint();\n            }\n        };\n    };\n    Print.prototype.hierarchyPrint = function () {\n        this.removeColGroup(this.parent);\n        var printGridObj = window.printGridObj;\n        if (printGridObj && !printGridObj.element.querySelector('[aria-busy=true')) {\n            printGridObj.printModule.defered.resolve();\n        }\n    };\n    /**\n     * By default, prints all the Grid pages and hides the pager.\n     * > You can customize print options using the\n     * [`printMode`](grid/#printmode-string/).\n     *\n     * @returns {void}\n     */\n    Print.prototype.print = function () {\n        this.renderPrintGrid();\n    };\n    Print.prototype.onEmpty = function () {\n        if (this.isPrintGrid()) {\n            this.contentReady();\n        }\n    };\n    Print.prototype.actionBegin = function () {\n        if (this.isPrintGrid()) {\n            this.isAsyncPrint = true;\n        }\n    };\n    Print.prototype.renderPrintGrid = function () {\n        var gObj = this.parent;\n        var element = createElement('div', {\n            id: this.parent.element.id + '_print', className: gObj.element.className + ' e-print-grid'\n        });\n        element.classList.remove('e-gridhover');\n        document.body.appendChild(element);\n        var printGrid = new Grid(getPrintGridModel(gObj, gObj.hierarchyPrintMode));\n        for (var i = 0; i < printGrid.columns.length; i++) {\n            printGrid.columns[i] = extend({}, printGrid.columns[i]);\n            if (gObj.isFrozenGrid() && !gObj.getFrozenColumns()) {\n                printGrid.columns[i].freeze = undefined;\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.parent.isAngular) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            printGrid.viewContainerRef = this.parent.viewContainerRef;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        printGrid.load = function () { };\n        printGrid.query = gObj.getQuery().clone();\n        window.printGridObj = printGrid;\n        printGrid.isPrinting = true;\n        var modules = printGrid.getInjectedModules();\n        var injectedModues = gObj.getInjectedModules();\n        if (!modules || modules.length !== injectedModues.length) {\n            printGrid.setInjectedModules(injectedModues);\n        }\n        gObj.notify(events.printGridInit, { element: element, printgrid: printGrid });\n        this.parent.log('exporting_begin', this.getModuleName());\n        printGrid.registeredTemplate = this.parent.registeredTemplate;\n        printGrid.isVue = this.parent.isVue;\n        printGrid.appendTo(element);\n        printGrid.trigger = gObj.trigger;\n    };\n    Print.prototype.contentReady = function () {\n        if (this.isPrintGrid()) {\n            var gObj = this.parent;\n            if (this.isAsyncPrint) {\n                this.printGrid();\n                return;\n            }\n            var args = {\n                requestType: 'print',\n                element: gObj.element,\n                selectedRows: gObj.getContentTable().querySelectorAll('tr[aria-selected=\"true\"]'),\n                cancel: false,\n                hierarchyPrintMode: gObj.hierarchyPrintMode\n            };\n            if (!this.isAsyncPrint) {\n                gObj.trigger(events.beforePrint, args);\n            }\n            if (args.cancel) {\n                detach(gObj.element);\n                return;\n            }\n            if (!this.isAsyncPrint) {\n                this.printGrid();\n            }\n        }\n    };\n    Print.prototype.printGrid = function () {\n        var gObj = this.parent;\n        // Height adjustment on print grid\n        if (gObj.height !== 'auto') { // if scroller enabled\n            var cssProps = this.scrollModule.getCssProperties();\n            var contentDiv = gObj.element.querySelector('.' + literals.content);\n            var headerDiv = gObj.element.querySelector('.' + literals.gridHeader);\n            contentDiv.style.height = 'auto';\n            contentDiv.style.overflowY = 'auto';\n            headerDiv.style[cssProps.padding] = '';\n            headerDiv.firstElementChild.style[cssProps.border] = '';\n        }\n        // Grid alignment adjustment on grouping\n        if (gObj.allowGrouping) {\n            if (!gObj.groupSettings.columns.length) {\n                gObj.element.querySelector('.e-groupdroparea').style.display = 'none';\n            }\n            else {\n                this.removeColGroup(gObj);\n            }\n        }\n        // hide horizontal scroll\n        for (var _i = 0, _a = [].slice.call(gObj.element.getElementsByClassName(literals.content)); _i < _a.length; _i++) {\n            var element = _a[_i];\n            element.style.overflowX = 'hidden';\n        }\n        // Hide the waiting popup\n        var waitingPop = [].slice.call(gObj.element.getElementsByClassName('e-spin-show'));\n        for (var _b = 0, _c = [].slice.call(waitingPop); _b < _c.length; _b++) {\n            var element = _c[_b];\n            classList(element, ['e-spin-hide'], ['e-spin-show']);\n        }\n        this.printGridElement(gObj);\n        gObj.isPrinting = false;\n        delete window.printGridObj;\n        var args = {\n            element: gObj.element\n        };\n        gObj.trigger(events.printComplete, args);\n        gObj.destroy();\n        this.parent.log('exporting_complete', this.getModuleName());\n    };\n    Print.prototype.printGridElement = function (gObj) {\n        classList(gObj.element, ['e-print-grid-layout'], ['e-print-grid']);\n        if (gObj.isPrinting) {\n            detach(gObj.element);\n        }\n        this.printWind = window.open('', 'print', 'height=' + window.outerHeight + ',width=' + window.outerWidth + ',tabbar=no');\n        this.printWind.moveTo(0, 0);\n        this.printWind.resizeTo(screen.availWidth, screen.availHeight);\n        this.printWind = printWindow(gObj.element, this.printWind);\n    };\n    Print.prototype.removeColGroup = function (gObj) {\n        var depth = gObj.groupSettings.columns.length;\n        var element = gObj.element;\n        var id = '#' + gObj.element.id;\n        if (!depth) {\n            return;\n        }\n        var groupCaption = selectAll(id + \"captioncell.e-groupcaption\", element);\n        var colSpan = groupCaption[depth - 1].getAttribute('colspan');\n        for (var i = 0; i < groupCaption.length; i++) {\n            groupCaption[i].setAttribute('colspan', colSpan);\n        }\n        var colGroups = selectAll(\"colgroup\" + id + \"colgroup\", element);\n        var contentColGroups = selectAll('.e-content colgroup', element);\n        this.hideColGroup(colGroups, depth);\n        this.hideColGroup(contentColGroups, depth);\n    };\n    Print.prototype.hideColGroup = function (colGroups, depth) {\n        for (var i = 0; i < colGroups.length; i++) {\n            for (var j = 0; j < depth; j++) {\n                colGroups[i].children[j].style.display = 'none';\n            }\n        }\n    };\n    /**\n     * To destroy the print\n     *\n     * @returns {boolean} returns the isPrintGrid or not\n     * @hidden\n     */\n    Print.prototype.isPrintGrid = function () {\n        return this.parent.element.id.indexOf('_print') > 0 && this.parent.isPrinting;\n    };\n    /**\n     * To destroy the print\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Print.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.contentReady, this.contentReady.bind(this));\n        this.parent.removeEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.off(events.onEmpty, this.onEmpty.bind(this));\n        this.parent.off(events.hierarchyPrint, this.hierarchyPrint);\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Print.prototype.getModuleName = function () {\n        return 'print';\n    };\n    Print.printGridProp = getCloneProperties().concat([events.beforePrint, events.printComplete, events.load]);\n    return Print;\n}());\nexport { Print };\n","import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { isActionPrevent } from '../base/util';\n/**\n * The `Search` module is used to handle search action.\n */\nvar Search = /** @class */ (function () {\n    /**\n     * Constructor for Grid search module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Search(parent) {\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * Searches Grid records by given key.\n     *\n     * > You can customize the default search action by using [`searchSettings`](grid/#searchsettings/).\n     *\n     * @param  {string} searchString - Defines the key.\n     * @returns {void}\n     */\n    Search.prototype.search = function (searchString) {\n        var gObj = this.parent;\n        searchString = isNullOrUndefined(searchString) ? '' : searchString;\n        if (isActionPrevent(gObj)) {\n            gObj.notify(events.preventBatch, { instance: this, handler: this.search, arg1: searchString });\n            return;\n        }\n        if (searchString !== gObj.searchSettings.key) {\n            gObj.searchSettings.key = searchString.toString();\n            gObj.dataBind();\n        }\n        else if (this.refreshSearch) {\n            gObj.refresh();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.inBoundModelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.searchComplete, this.onSearchComplete, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.actionCompleteFunc = this.onActionComplete.bind(this);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.on(events.cancelBegin, this.cancelBeginEvent, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.inBoundModelChanged, this.onPropertyChanged);\n        this.parent.off(events.searchComplete, this.onSearchComplete);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.off(events.cancelBegin, this.cancelBeginEvent);\n    };\n    /**\n     * To destroy the print\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * @param {NotifyArgs} e - specfies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        if (!isNullOrUndefined(e.properties.key)) {\n            this.parent.notify(events.modelChanged, {\n                requestType: 'searching', type: events.actionBegin, searchString: this.parent.searchSettings.key\n            });\n        }\n        else {\n            this.parent.notify(events.modelChanged, {\n                requestType: 'searching', type: events.actionBegin\n            });\n        }\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onSearchComplete = function (e) {\n        this.parent.trigger(events.actionComplete, extend(e, {\n            searchString: this.parent.searchSettings.key, requestType: 'searching', type: events.actionComplete\n        }));\n    };\n    /**\n     * The function used to store the requestType\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Search.prototype.onActionComplete = function (e) {\n        this.refreshSearch = e.requestType !== 'searching';\n    };\n    Search.prototype.cancelBeginEvent = function (e) {\n        if (e.requestType === 'searching') {\n            this.parent.setProperties({ searchSettings: { key: '' } }, true);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Search.prototype.getModuleName = function () {\n        return 'search';\n    };\n    return Search;\n}());\nexport { Search };\n","/** @hidden */\nexport var created = 'create';\n/** @hidden */\nexport var destroyed = 'destroy';\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var headerCellInfo = 'headerCellInfo';\n/** @hidden */\nexport var actionBegin = 'actionBegin';\n/** @hidden */\nexport var actionComplete = 'actionComplete';\n/** @hidden */\nexport var actionFailure = 'actionFailure';\n/** @hidden */\nexport var dataBound = 'dataBound';\n/** @hidden */\nexport var rowSelecting = 'rowSelecting';\n/** @hidden */\nexport var rowSelected = 'rowSelected';\n/** @hidden */\nexport var rowDeselecting = 'rowDeselecting';\n/** @hidden */\nexport var rowDeselected = 'rowDeselected';\n/** @hidden */\nexport var cellSelecting = 'cellSelecting';\n/** @hidden */\nexport var cellSelected = 'cellSelected';\n/** @hidden */\nexport var cellDeselecting = 'cellDeselecting';\n/** @hidden */\nexport var cellDeselected = 'cellDeselected';\n/** @hidden */\nexport var columnSelecting = 'columnSelecting';\n/** @hidden */\nexport var columnSelected = 'columnSelected';\n/** @hidden */\nexport var columnDeselecting = 'columnDeselecting';\n/** @hidden */\nexport var columnDeselected = 'columnDeselected';\n/** @hidden */\nexport var columnDragStart = 'columnDragStart';\n/** @hidden */\nexport var columnDrag = 'columnDrag';\n/** @hidden */\nexport var columnDrop = 'columnDrop';\n/** @hidden */\nexport var rowDragStartHelper = 'rowDragStartHelper';\n/** @hidden */\nexport var rowDragStart = 'rowDragStart';\n/** @hidden */\nexport var rowDrag = 'rowDrag';\n/** @hidden */\nexport var rowDrop = 'rowDrop';\n/** @hidden */\nexport var beforePrint = 'beforePrint';\n/** @hidden */\nexport var printComplete = 'printComplete';\n/** @hidden */\nexport var detailDataBound = 'detailDataBound';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var batchAdd = 'batchAdd';\n/** @hidden */\nexport var batchCancel = 'batchCancel';\n/** @hidden */\nexport var batchDelete = 'batchDelete';\n/** @hidden */\nexport var beforeBatchAdd = 'beforeBatchAdd';\n/** @hidden */\nexport var beforeBatchDelete = 'beforeBatchDelete';\n/** @hidden */\nexport var beforeBatchSave = 'beforeBatchSave';\n/** @hidden */\nexport var beginEdit = 'beginEdit';\n/** @hidden */\nexport var cellEdit = 'cellEdit';\n/** @hidden */\nexport var cellSave = 'cellSave';\n/** @hidden */\nexport var cellSaved = 'cellSaved';\n/** @hidden */\nexport var endAdd = 'endAdd';\n/** @hidden */\nexport var endDelete = 'endDelete';\n/** @hidden */\nexport var endEdit = 'endEdit';\n/** @hidden */\nexport var recordDoubleClick = 'recordDoubleClick';\n/** @hidden */\nexport var recordClick = 'recordClick';\n/** @hidden */\nexport var beforeDataBound = 'beforeDataBound';\n/** @hidden */\nexport var beforeOpenColumnChooser = 'beforeOpenColumnChooser';\n/** @hidden */\nexport var beforeOpenAdaptiveDialog = 'beforeOpenAdaptiveDialog';\n/** @hidden */\nexport var resizeStart = 'resizeStart';\n/** @hidden */\nexport var onResize = 'resizing';\n/** @hidden */\nexport var resizeStop = 'resizeStop';\n/** @hidden */\nexport var checkBoxChange = 'checkBoxChange';\n/** @hidden */\nexport var beforeCopy = 'beforeCopy';\n/** @hidden */\nexport var beforePaste = 'beforePaste';\n/** @hidden */\nexport var beforeAutoFill = 'beforeAutoFill';\n/** @hidden */\nexport var filterChoiceRequest = 'filterchoicerequest';\n/** @hidden */\nexport var filterAfterOpen = 'filterafteropen';\n/** @hidden */\nexport var filterBeforeOpen = 'filterbeforeopen';\n/** @hidden */\nexport var filterSearchBegin = 'filtersearchbegin';\n/** @hidden */\nexport var commandClick = 'commandClick';\n/** @hidden */\nexport var exportGroupCaption = 'exportGroupCaption';\n/** @hidden */\nexport var lazyLoadGroupExpand = 'lazyLoadGroupExpand';\n/** @hidden */\nexport var lazyLoadGroupCollapse = 'lazyLoadGroupCollapse';\n/**\n * Specifies grid internal events\n */\n/** @hidden */\nexport var initialLoad = 'initial-load';\n/** @hidden */\nexport var initialEnd = 'initial-end';\n/** @hidden */\nexport var dataReady = 'data-ready';\n/** @hidden */\nexport var contentReady = 'content-ready';\n/** @hidden */\nexport var uiUpdate = 'ui-update';\n/** @hidden */\nexport var onEmpty = 'on-empty';\n/** @hidden */\nexport var inBoundModelChanged = 'inbound-model-changed';\n/** @hidden */\nexport var modelChanged = 'model-changed';\n/** @hidden */\nexport var colGroupRefresh = 'colgroup-refresh';\n/** @hidden */\nexport var headerRefreshed = 'header-refreshed';\n/** @hidden */\nexport var pageBegin = 'paging-begin';\n/** @hidden */\nexport var pageComplete = 'paging-complete';\n/** @hidden */\nexport var sortBegin = 'sorting-begin';\n/** @hidden */\nexport var sortComplete = 'sorting-complete';\n/** @hidden */\nexport var filterBegin = 'filtering-begin';\n/** @hidden */\nexport var filterComplete = 'filtering-complete';\n/** @hidden */\nexport var searchBegin = 'searching-begin';\n/** @hidden */\nexport var searchComplete = 'searching-complete';\n/** @hidden */\nexport var reorderBegin = 'reorder-begin';\n/** @hidden */\nexport var reorderComplete = 'reorder-complete';\n/** @hidden */\nexport var rowDragAndDropBegin = 'rowdraganddrop-begin';\n/** @hidden */\nexport var rowDragAndDropComplete = 'rowdraganddrop-complete';\n/** @hidden */\nexport var groupBegin = 'grouping-begin';\n/** @hidden */\nexport var groupComplete = 'grouping-complete';\n/** @hidden */\nexport var ungroupBegin = 'ungrouping-begin';\n/** @hidden */\nexport var ungroupComplete = 'ungrouping-complete';\n/** @hidden */\nexport var groupAggregates = 'group-aggregates';\n/** @hidden */\nexport var refreshFooterRenderer = 'refresh-footer-rendered';\n/** @hidden */\nexport var refreshAggregateCell = 'refresh-aggregate-cell';\n/** @hidden */\nexport var refreshAggregates = 'refresh-aggregates';\n/** @hidden */\nexport var rowSelectionBegin = 'rowselecting';\n/** @hidden */\nexport var rowSelectionComplete = 'rowselected';\n/** @hidden */\nexport var columnSelectionBegin = 'columnselecting';\n/** @hidden */\nexport var columnSelectionComplete = 'columnselected';\n/** @hidden */\nexport var cellSelectionBegin = 'cellselecting';\n/** @hidden */\nexport var cellSelectionComplete = 'cellselected';\n/** @hidden */\nexport var beforeCellFocused = 'beforecellfocused';\n/** @hidden */\nexport var cellFocused = 'cellfocused';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n/** @hidden */\nexport var click = 'click';\n/** @hidden */\nexport var destroy = 'destroy';\n/** @hidden */\nexport var columnVisibilityChanged = 'column-visible-changed';\n/** @hidden */\nexport var scroll = 'scroll';\n/** @hidden */\nexport var columnWidthChanged = 'column-width-changed';\n/** @hidden */\nexport var columnPositionChanged = 'column-position-changed';\n/** @hidden */\nexport var rowDragAndDrop = 'row-drag-and-drop';\n/** @hidden */\nexport var rowsAdded = 'rows-added';\n/** @hidden */\nexport var rowsRemoved = 'rows-removed';\n/** @hidden */\nexport var columnDragStop = 'column-drag-stop';\n/** @hidden */\nexport var headerDrop = 'header-drop';\n/** @hidden */\nexport var dataSourceModified = 'datasource-modified';\n/** @hidden */\nexport var refreshComplete = 'refresh-complete';\n/** @hidden */\nexport var refreshVirtualBlock = 'refresh-virtual-block';\n/** @hidden */\nexport var dblclick = 'dblclick';\n/** @hidden */\nexport var toolbarRefresh = 'toolbar-refresh';\n/** @hidden */\nexport var bulkSave = 'bulk-save';\n/** @hidden */\nexport var autoCol = 'auto-col';\n/** @hidden */\nexport var tooltipDestroy = 'tooltip-destroy';\n/** @hidden */\nexport var updateData = 'update-data';\n/** @hidden */\nexport var editBegin = 'edit-begin';\n/** @hidden */\nexport var editComplete = 'edit-complete';\n/** @hidden */\nexport var addBegin = 'add-begin';\n/** @hidden */\nexport var addComplete = 'add-complete';\n/** @hidden */\nexport var saveComplete = 'save-complete';\n/** @hidden */\nexport var deleteBegin = 'delete-begin';\n/** @hidden */\nexport var deleteComplete = 'delete-complete';\n/** @hidden */\nexport var preventBatch = 'prevent-batch';\n/** @hidden */\nexport var dialogDestroy = 'dialog-destroy';\n/** @hidden */\nexport var crudAction = 'crud-Action';\n/** @hidden */\nexport var addDeleteAction = 'add-delete-Action';\n/** @hidden */\nexport var destroyForm = 'destroy-form';\n/** @hidden */\nexport var doubleTap = 'double-tap';\n/** @hidden */\nexport var beforeExcelExport = 'beforeExcelExport';\n/** @hidden */\nexport var excelExportComplete = 'excelExportComplete';\n/** @hidden */\nexport var excelQueryCellInfo = 'excelQueryCellInfo';\n/** @hidden */\nexport var excelHeaderQueryCellInfo = 'excelHeaderQueryCellInfo';\n/** @hidden */\nexport var exportDetailDataBound = 'exportDetailDataBound';\n/** @hidden */\nexport var beforePdfExport = 'beforePdfExport';\n/** @hidden */\nexport var pdfExportComplete = 'pdfExportComplete';\n/** @hidden */\nexport var pdfQueryCellInfo = 'pdfQueryCellInfo';\n/** @hidden */\nexport var pdfHeaderQueryCellInfo = 'pdfHeaderQueryCellInfo';\n/** @hidden */\nexport var accessPredicate = 'access-predicate';\n/** @hidden */\nexport var contextMenuClick = 'contextMenuClick';\n/** @hidden */\nexport var freezeRender = 'freezerender';\n/** @hidden */\nexport var freezeRefresh = 'freezerefresh';\n/** @hidden */\nexport var contextMenuOpen = 'contextMenuOpen';\n/** @hidden */\nexport var columnMenuClick = 'columnMenuClick';\n/** @hidden */\nexport var columnMenuOpen = 'columnMenuOpen';\n/** @hidden */\nexport var filterOpen = 'filterOpen';\n/** @hidden */\nexport var filterDialogCreated = 'filterDialogCreated';\n/** @hidden */\nexport var filterMenuClose = 'filter-menu-close';\n/** @hidden */\nexport var initForeignKeyColumn = 'initForeignKeyColumn';\n/** @hidden */\nexport var getForeignKeyData = 'getForeignKeyData';\n/** @hidden */\nexport var generateQuery = 'generateQuery';\n/** @hidden */\nexport var showEmptyGrid = 'showEmptyGrid';\n/** @hidden */\nexport var foreignKeyData = 'foreignKeyData';\n/** @hidden */\nexport var columnDataStateChange = 'columnDataStateChange';\n/** @hidden */\nexport var dataStateChange = 'dataStateChange';\n/** @hidden */\nexport var dataSourceChanged = 'dataSourceChanged';\n/** @hidden */\nexport var rtlUpdated = 'rtl-updated';\n/** @hidden */\nexport var beforeFragAppend = 'beforeFragAppend';\n/** @hidden */\nexport var frozenHeight = 'frozenHeight';\n/** @hidden */\nexport var textWrapRefresh = 'textWrapRefresh';\n/** @hidden */\nexport var recordAdded = 'recordAdded';\n/** @hidden */\nexport var cancelBegin = 'cancel-Begin';\n/** @hidden */\nexport var editNextValCell = 'editNextValCell';\n/** @hidden */\nexport var hierarchyPrint = 'hierarchyprint';\n/** @hidden */\nexport var expandChildGrid = 'expandchildgrid';\n/** @hidden */\nexport var printGridInit = 'printGrid-Init';\n/** @hidden */\nexport var exportRowDataBound = 'export-RowDataBound';\n/** @hidden */\nexport var exportDataBound = 'export-DataBound';\n/** @hidden */\nexport var rowPositionChanged = 'row-position-changed';\n/** @hidden */\nexport var columnChooserOpened = 'columnChooserOpened';\n/** @hidden */\nexport var batchForm = 'batchedit-form';\n/** @hidden */\nexport var beforeStartEdit = 'edit-form';\n/** @hidden */\nexport var beforeBatchCancel = 'before-batch-cancel';\n/** @hidden */\nexport var batchEditFormRendered = 'batcheditform-rendered';\n/** @hidden */\nexport var partialRefresh = 'partial-refresh';\n/** @hidden */\nexport var beforeCustomFilterOpen = 'beforeCustomFilterOpen';\n/** @hidden */\nexport var selectVirtualRow = 'select-virtual-Row';\n/** @hidden */\nexport var columnsPrepared = 'columns-prepared';\n/** @hidden */\nexport var cBoxFltrBegin = 'cbox-filter-begin';\n/** @hidden */\nexport var cBoxFltrComplete = 'cbox-filter-complete';\n/** @hidden */\nexport var fltrPrevent = 'filter-Prevent';\n/** @hidden */\nexport var beforeFltrcMenuOpen = 'before-filter-cmenu-open';\n/** @hidden */\nexport var valCustomPlacement = 'validation-custom-placement';\n/** @hidden */\nexport var filterCboxValue = 'filter-cbox-value';\n/** @hidden */\nexport var componentRendered = 'component-rendered';\n/** @hidden */\nexport var restoreFocus = 'restore-Focus';\n/** @hidden */\nexport var detailStateChange = 'detail-state-change';\n/** @hidden */\nexport var detailIndentCellInfo = 'detail-indentcell-info';\n/** @hidden */\nexport var virtaulKeyHandler = 'virtaul-key-handler';\n/** @hidden */\nexport var virtaulCellFocus = 'virtaul-cell-focus';\n/** @hidden */\nexport var virtualScrollEditActionBegin = 'virtual-scroll-edit-action-begin';\n/** @hidden */\nexport var virtualScrollEditSuccess = 'virtual-scroll-edit-success';\n/** @hidden */\nexport var virtualScrollEditCancel = 'virtual-scroll-edit-cancel';\n/** @hidden */\nexport var virtualScrollEdit = 'virtual-scroll-edit';\n/** @hidden */\nexport var refreshVirtualCache = 'refresh-virtual-cache';\n/** @hidden */\nexport var editReset = 'edit-reset';\n/** @hidden */\nexport var virtualScrollAddActionBegin = 'virtual-scroll-add-action-begin';\n/** @hidden */\nexport var getVirtualData = 'get-virtual-data';\n/** @hidden */\nexport var refreshInfiniteModeBlocks = 'refresh-infinite-mode-blocks';\n/** @hidden */\nexport var resetInfiniteBlocks = 'reset-infinite-blocks';\n/** @hidden */\nexport var infiniteScrollHandler = 'infinite-scroll-handler';\n/** @hidden */\nexport var infinitePageQuery = 'infinite-page-query';\n/** @hidden */\nexport var infiniteShowHide = 'infinite-show-hide';\n/** @hidden */\nexport var appendInfiniteContent = 'append-infinite-content';\n/** @hidden */\nexport var removeInfiniteRows = 'remove-infinite-rows';\n/** @hidden */\nexport var setInfiniteCache = 'set-infinite-cache';\n/** @hidden */\nexport var infiniteEditHandler = 'infinite-edit-handler';\n/** @hidden */\nexport var initialCollapse = 'initial-collapse';\n/** @hidden */\nexport var getAggregateQuery = 'get-aggregate-query';\n/** @hidden */\nexport var closeFilterDialog = 'close-filter-dialog';\n/** @hidden */\nexport var columnChooserCancelBtnClick = 'columnChooserCancelBtnClick';\n/** @hidden */\nexport var getFilterBarOperator = 'get-filterbar-operator';\n/** @hidden */\nexport var resetColumns = 'reset-columns';\n/** @hidden */\nexport var pdfAggregateQueryCellInfo = 'pdfAggregateQueryCellInfo';\n/** @hidden */\nexport var excelAggregateQueryCellInfo = 'excelAggregateQueryCellInfo';\n/** @hidden */\nexport var setGroupCache = 'group-cache';\n/** @hidden */\nexport var lazyLoadScrollHandler = 'lazy-load-scroll-handler';\n/** @hidden */\nexport var groupCollapse = 'group-collapse';\n/** @hidden */\nexport var beforeCheckboxRenderer = 'beforeCheckboxRenderer';\n/** @hidden */\nexport var refreshHandlers = 'refreshResizeHandlers';\n/** @hidden */\nexport var refreshFrozenColumns = 'refresh-frozen-columns';\n/** @hidden */\nexport var setReorderDestinationElement = 'set-reorder-destination-element';\n/** @hidden */\nexport var refreshVirtualFrozenHeight = 'refresh-virtual-frozen-height';\n/** @hidden */\nexport var setFreezeSelection = 'set-freeze-selection';\n/** @hidden */\nexport var setInfiniteFrozenHeight = 'set-infinite-frozen-height';\n/** @hidden */\nexport var setInfiniteColFrozenHeight = 'set-infinite-col-frozen-height';\n/** @hidden */\nexport var beforeRefreshOnDataChange = 'before-refresh-on-data-change';\n/** @hidden */\nexport var immutableBatchCancel = 'immutable-batch-cancel';\n/** @hidden */\nexport var refreshVirtualFrozenRows = 'refresh-virtual-frozenrows';\n/** @hidden */\nexport var checkScrollReset = 'check-scroll-reset';\n/** @hidden */\nexport var refreshFrozenHeight = 'refresh-frozen-height';\n/** @hidden */\nexport var setHeightToFrozenElement = 'set-height-to-frozen-element';\n/** @hidden */\nexport var preventFrozenScrollRefresh = 'prevent-frozen-scroll-refresh';\n/** @hidden */\nexport var nextCellIndex = 'next-cell-index';\n/** @hidden */\nexport var refreshInfiniteCurrentViewData = 'refresh-infinite-current-view-data';\n/** @hidden */\nexport var infiniteCrudCancel = 'infinite-crud-cancel';\n/** @hidden */\nexport var filterDialogClose = 'filter-dialog-close';\n/** @hidden */\nexport var refreshCustomFilterOkBtn = 'refresh-cutsom-filter-ok-button';\n/** @hidden */\nexport var refreshCustomFilterClearBtn = 'refresh-cutsom-filter-clear-button';\n/** @hidden */\nexport var renderResponsiveCmenu = 'render-responsive-cmenu';\n/** @hidden */\nexport var filterCmenuSelect = 'filter-cmenu-select';\n/** @hidden */\nexport var customFilterClose = 'custom-filter-close';\n/** @hidden */\nexport var setFullScreenDialog = 'set-fullscreen-dialog';\n/** @hidden */\nexport var refreshExpandandCollapse = 'refresh-Expand-and-Collapse';\n/** @hidden */\nexport var rowModeChange = 'row-mode-change';\n/** @hidden */\nexport var enterKeyHandler = 'enter-key-handler';\n/** @hidden */\nexport var refreshVirtualMaxPage = 'refresh-virtual-max-page';\n/** @hidden */\nexport var setVirtualPageQuery = 'set-virtual-page-query';\n/** @hidden */\nexport var selectRowOnContextOpen = 'select-row-on-context-open';\n/** @hidden */\nexport var pagerRefresh = 'pager-refresh';\n/** @hidden */\nexport var closeInline = 'closeinline';\n/** @hidden */\nexport var closeBatch = 'closebatch';\n/** @hidden */\nexport var closeEdit = 'close-edit';\n/** @hidden */\nexport var resetVirtualFocus = 'reset-virtual-focus';\n/** @hidden */\nexport var afterContentRender = 'after-content-renderer';\n/** @hidden */\nexport var refreshVirtualEditFormCells = 'refresh-virtual-editform-cells';\n/** @hidden */\nexport var scrollToEdit = 'scroll-to-edit';\n/** @hidden */\nexport var beforeCheckboxRendererQuery = 'before-checkbox-renderer-query';\n/** @hidden */\nexport var createVirtualValidationForm = 'create-virtual-validation-form';\n/** @hidden */\nexport var validateVirtualForm = 'validate-virtual-form';\n/** @hidden */\nexport var destroyChildGrid = 'destroy-child-grid';\n/** @hidden */\nexport var stickyScrollComplete = 'sticky-scroll-complete';\n/** @hidden */\nexport var captionActionComplete = 'infinite-group-collapse';\n/** @hidden */\nexport var refreshInfinitePersistSelection = 'refresh-infinite-persist-selection';\n/** @hidden */\nexport var refreshInfiniteEditrowindex = 'refresh-infinite-editrowindex';\n/** @hidden */\nexport var afterFilterColumnMenuClose = 'after-filter-column-menu-close';\n","/**\n * Defines types of Cell\n *\n * @hidden\n */\nexport var CellType;\n(function (CellType) {\n    /**  Defines CellType as Data */\n    CellType[CellType[\"Data\"] = 0] = \"Data\";\n    /**  Defines CellType as Header */\n    CellType[CellType[\"Header\"] = 1] = \"Header\";\n    /**  Defines CellType as Summary */\n    CellType[CellType[\"Summary\"] = 2] = \"Summary\";\n    /**  Defines CellType as GroupSummary */\n    CellType[CellType[\"GroupSummary\"] = 3] = \"GroupSummary\";\n    /**  Defines CellType as CaptionSummary */\n    CellType[CellType[\"CaptionSummary\"] = 4] = \"CaptionSummary\";\n    /**  Defines CellType as Filter */\n    CellType[CellType[\"Filter\"] = 5] = \"Filter\";\n    /**  Defines CellType as Indent */\n    CellType[CellType[\"Indent\"] = 6] = \"Indent\";\n    /**  Defines CellType as GroupCaption */\n    CellType[CellType[\"GroupCaption\"] = 7] = \"GroupCaption\";\n    /**  Defines CellType as GroupCaptionEmpty */\n    CellType[CellType[\"GroupCaptionEmpty\"] = 8] = \"GroupCaptionEmpty\";\n    /**  Defines CellType as Expand */\n    CellType[CellType[\"Expand\"] = 9] = \"Expand\";\n    /**  Defines CellType as HeaderIndent */\n    CellType[CellType[\"HeaderIndent\"] = 10] = \"HeaderIndent\";\n    /**  Defines CellType as StackedHeader */\n    CellType[CellType[\"StackedHeader\"] = 11] = \"StackedHeader\";\n    /**  Defines CellType as DetailHeader */\n    CellType[CellType[\"DetailHeader\"] = 12] = \"DetailHeader\";\n    /**  Defines CellType as DetailExpand */\n    CellType[CellType[\"DetailExpand\"] = 13] = \"DetailExpand\";\n    /**  Defines CellType as CommandColumn */\n    CellType[CellType[\"CommandColumn\"] = 14] = \"CommandColumn\";\n    /**  Defines CellType as DetailFooterIntent */\n    CellType[CellType[\"DetailFooterIntent\"] = 15] = \"DetailFooterIntent\";\n    /**  Defines CellType as RowDrag */\n    CellType[CellType[\"RowDragIcon\"] = 16] = \"RowDragIcon\";\n    /**  Defines CellType as RowDragHeader */\n    CellType[CellType[\"RowDragHIcon\"] = 17] = \"RowDragHIcon\";\n})(CellType || (CellType = {}));\n/**\n * Defines types of Render\n *\n * @hidden\n */\nexport var RenderType;\n(function (RenderType) {\n    /**  Defines RenderType as Header */\n    RenderType[RenderType[\"Header\"] = 0] = \"Header\";\n    /**  Defines RenderType as Content */\n    RenderType[RenderType[\"Content\"] = 1] = \"Content\";\n    /**  Defines RenderType as Summary */\n    RenderType[RenderType[\"Summary\"] = 2] = \"Summary\";\n})(RenderType || (RenderType = {}));\n/**\n * Defines Predefined toolbar items.\n *\n * @hidden\n */\nexport var ToolbarItem;\n(function (ToolbarItem) {\n    ToolbarItem[ToolbarItem[\"Add\"] = 0] = \"Add\";\n    ToolbarItem[ToolbarItem[\"Edit\"] = 1] = \"Edit\";\n    ToolbarItem[ToolbarItem[\"Update\"] = 2] = \"Update\";\n    ToolbarItem[ToolbarItem[\"Delete\"] = 3] = \"Delete\";\n    ToolbarItem[ToolbarItem[\"Cancel\"] = 4] = \"Cancel\";\n    ToolbarItem[ToolbarItem[\"Print\"] = 5] = \"Print\";\n    ToolbarItem[ToolbarItem[\"Search\"] = 6] = \"Search\";\n    ToolbarItem[ToolbarItem[\"ColumnChooser\"] = 7] = \"ColumnChooser\";\n    ToolbarItem[ToolbarItem[\"PdfExport\"] = 8] = \"PdfExport\";\n    ToolbarItem[ToolbarItem[\"ExcelExport\"] = 9] = \"ExcelExport\";\n    ToolbarItem[ToolbarItem[\"CsvExport\"] = 10] = \"CsvExport\";\n    ToolbarItem[ToolbarItem[\"WordExport\"] = 11] = \"WordExport\";\n})(ToolbarItem || (ToolbarItem = {}));\n/**\n * Defines types of responsive dialogs\n *\n * @hidden\n */\nexport var ResponsiveDialogAction;\n(function (ResponsiveDialogAction) {\n    /**  Defines dialog type as Edit */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isEdit\"] = 0] = \"isEdit\";\n    /**  Defines dialog type as Add */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isAdd\"] = 1] = \"isAdd\";\n    /**  Defines dialog type as Sort */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isSort\"] = 2] = \"isSort\";\n    /**  Defines dialog type as Filter */\n    ResponsiveDialogAction[ResponsiveDialogAction[\"isFilter\"] = 3] = \"isFilter\";\n})(ResponsiveDialogAction || (ResponsiveDialogAction = {}));\n/**\n * Defines responsive toolbar actions\n *\n * @hidden\n */\nexport var ResponsiveToolbarAction;\n(function (ResponsiveToolbarAction) {\n    /**  Defines initial responsive toolbar buttons */\n    ResponsiveToolbarAction[ResponsiveToolbarAction[\"isInitial\"] = 0] = \"isInitial\";\n    /**  Defines responsive toolbar search */\n    ResponsiveToolbarAction[ResponsiveToolbarAction[\"isSearch\"] = 1] = \"isSearch\";\n})(ResponsiveToolbarAction || (ResponsiveToolbarAction = {}));\n","import { Droppable } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, remove, updateBlazorTemplate } from '@syncfusion/ej2-base';\nimport { getUpdateUsingRaf, appendChildren, setDisplayValue, clearReactVueTemplates } from '../base/util';\nimport * as events from '../base/constant';\nimport { RowRenderer } from './row-renderer';\nimport { CellMergeRender } from './cell-merge-renderer';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { GroupModelGenerator } from '../services/group-model-generator';\nimport { isGroupAdaptive } from '../base/util';\nimport * as literals from '../base/string-literals';\n// eslint-disable-next-line valid-jsdoc\n/**\n * Content module is used to render grid content\n *\n * @hidden\n */\nvar ContentRender = /** @class */ (function () {\n    /**\n     * Constructor for content renderer module\n     *\n     * @param {IGrid} parent - specifies the Igrid\n     * @param {ServiceLocator} serviceLocator - specifies the service locator\n     */\n    function ContentRender(parent, serviceLocator) {\n        var _this = this;\n        this.rows = [];\n        this.freezeRows = [];\n        this.movableRows = [];\n        this.freezeRowElements = [];\n        /** @hidden */\n        this.currentInfo = {};\n        /** @hidden */\n        this.prevCurrentView = [];\n        this.isLoaded = true;\n        this.viewColIndexes = [];\n        this.drop = function (e) {\n            _this.parent.notify(events.columnDrop, { target: e.target, droppedElement: e.droppedElement });\n            remove(e.droppedElement);\n        };\n        this.infiniteCache = {};\n        this.isRemove = false;\n        this.visibleRows = [];\n        this.visibleFrozenRows = [];\n        this.rightFreezeRows = [];\n        this.isAddRows = false;\n        this.isInfiniteFreeze = false;\n        this.useGroupCache = false;\n        this.rafCallback = function (args) {\n            var arg = args;\n            return function () {\n                if (_this.parent.isFrozenGrid() && _this.parent.enableVirtualization) {\n                    var tableName = args.tableName;\n                    _this.isLoaded = _this.parent.getFrozenMode() === literals.leftRight ? tableName === 'frozen-right' : tableName === 'movable';\n                    if (_this.parent.enableColumnVirtualization && args.requestType === 'virtualscroll' && _this.isLoaded) {\n                        var mHdr = [].slice.call(_this.parent.getMovableVirtualHeader().getElementsByClassName(literals.row));\n                        var fHdr = [].slice.call(_this.parent.getFrozenVirtualHeader().getElementsByClassName(literals.row));\n                        _this.isLoaded = mHdr.length === fHdr.length;\n                    }\n                }\n                _this.ariaService.setBusy(_this.getPanel().querySelector('.' + literals.content), false);\n                if (_this.parent.isDestroyed) {\n                    return;\n                }\n                var rows = _this.rows.slice(0);\n                if (_this.parent.enableInfiniteScrolling) {\n                    rows = _this.parent.getRowsObject();\n                    var prevPage = arg.prevPage;\n                    if (_this.parent.infiniteScrollSettings.enableCache && prevPage) {\n                        var maxBlock = _this.parent.infiniteScrollSettings.maxBlocks;\n                        rows = [];\n                        var rowIdx = (parseInt(_this.rowElements[0].getAttribute('aria-rowindex'), 10) + 1);\n                        var startIdx = Math.ceil(rowIdx / _this.parent.pageSettings.pageSize);\n                        for (var i = 0, count = startIdx; i < maxBlock; i++, count++) {\n                            if (_this.infiniteCache[count]) {\n                                rows = rows.concat(_this.infiniteCache[count]);\n                            }\n                        }\n                    }\n                }\n                if (_this.parent.isFrozenGrid()) {\n                    rows = args.isFrozen ? _this.freezeRows : args.renderFrozenRightContent ? _this.parent.getFrozenRightRowsObject()\n                        : _this.movableRows;\n                }\n                _this.parent.notify(events.contentReady, { rows: rows, args: arg });\n                if (_this.isLoaded) {\n                    _this.parent.isManualRefresh = false;\n                    _this.parent.trigger(events.dataBound, {}, function () {\n                        if (_this.parent.allowTextWrap) {\n                            _this.parent.notify(events.freezeRender, { case: 'textwrap' });\n                        }\n                    });\n                }\n                if (arg) {\n                    var action = (arg.requestType || '').toLowerCase() + '-complete';\n                    _this.parent.notify(action, arg);\n                    if (args.requestType === 'batchsave') {\n                        args.cancel = false;\n                        _this.parent.trigger(events.actionComplete, args);\n                    }\n                }\n                if (_this.isLoaded) {\n                    _this.parent.hideSpinner();\n                }\n            };\n        };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.ariaService = this.serviceLocator.getService('ariaService');\n        this.parent.enableDeepCompare = this.parent.getDataModule().isRemote();\n        this.generator = this.getModelGenerator();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (!this.parent.enableColumnVirtualization && !this.parent.enableVirtualization\n            && !this.parent.groupSettings.enableLazyLoading) {\n            this.parent.on(events.columnVisibilityChanged, this.setVisible, this);\n        }\n        this.parent.on(events.colGroupRefresh, this.colGroupRefresh, this);\n        this.parent.on(events.uiUpdate, this.enableAfterRender, this);\n        this.parent.on(events.refreshInfiniteModeBlocks, this.refreshContentRows, this);\n        this.parent.on(events.beforeCellFocused, this.beforeCellFocused, this);\n        this.parent.on(events.destroy, this.droppableDestroy, this);\n    }\n    ContentRender.prototype.beforeCellFocused = function (e) {\n        if (e.byKey && (e.keyArgs.action === 'upArrow' || e.keyArgs.action === 'downArrow')) {\n            this.pressedKey = e.keyArgs.action;\n        }\n        else {\n            this.pressedKey = undefined;\n        }\n    };\n    /**\n     * The function is used to render grid content div\n     *\n     * @returns {void}\n     */\n    ContentRender.prototype.renderPanel = function () {\n        var gObj = this.parent;\n        var div = this.parent.element.querySelector('.' + literals.gridContent);\n        if (div) {\n            this.ariaService.setOptions(this.parent.element.querySelector('.' + literals.content), { busy: false });\n            this.setPanel(div);\n            return;\n        }\n        div = this.parent.createElement('div', { className: literals.gridContent });\n        var innerDiv = this.parent.createElement('div', {\n            className: literals.content\n        });\n        this.ariaService.setOptions(innerDiv, { busy: false });\n        div.appendChild(innerDiv);\n        this.setPanel(div);\n        gObj.element.appendChild(div);\n    };\n    /**\n     * The function is used to render grid content table\n     *\n     * @returns {void}\n     */\n    ContentRender.prototype.renderTable = function () {\n        var contentDiv = this.getPanel();\n        var virtualTable = contentDiv.querySelector('.e-virtualtable');\n        var virtualTrack = contentDiv.querySelector('.e-virtualtrack');\n        if (this.parent.enableVirtualization && !isNullOrUndefined(virtualTable) && !isNullOrUndefined(virtualTrack)) {\n            remove(virtualTable);\n            remove(virtualTrack);\n        }\n        contentDiv.appendChild(this.createContentTable('_content_table'));\n        this.setTable(contentDiv.querySelector('.' + literals.table));\n        this.ariaService.setOptions(this.getTable(), {\n            multiselectable: this.parent.selectionSettings.type === 'Multiple'\n        });\n        this.initializeContentDrop();\n        if (this.parent.frozenRows) {\n            this.parent.getHeaderContent().classList.add('e-frozenhdrcont');\n        }\n    };\n    /**\n     * The function is used to create content table elements\n     *\n     * @param {string} id - specifies the id\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    ContentRender.prototype.createContentTable = function (id) {\n        var innerDiv = this.getPanel().firstElementChild;\n        if (this.getTable()) {\n            remove(this.getTable());\n        }\n        var table = innerDiv.querySelector('.' + literals.table) ? innerDiv.querySelector('.' + literals.table) :\n            this.parent.createElement('table', {\n                className: literals.table, attrs: {\n                    cellspacing: '0.25px', role: 'grid',\n                    id: this.parent.element.id + id\n                }\n            });\n        this.setColGroup(this.parent.getHeaderTable().querySelector(literals.colGroup).cloneNode(true));\n        table.appendChild(this.getColGroup());\n        table.appendChild(this.parent.createElement(literals.tbody));\n        innerDiv.appendChild(table);\n        return innerDiv;\n    };\n    /**\n     * Refresh the content of the Grid.\n     *\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     */\n    // tslint:disable-next-line:max-func-body-length\n    ContentRender.prototype.refreshContentRows = function (args) {\n        var _this = this;\n        if (args === void 0) { args = {}; }\n        var gObj = this.parent;\n        if (gObj.currentViewData.length === 0) {\n            return;\n        }\n        var dataSource = this.currentMovableRows || gObj.currentViewData;\n        var contentModule = this.parent.contentModule;\n        var isReact = gObj.isReact && !isNullOrUndefined(gObj.rowTemplate);\n        var frag = isReact ? gObj.createElement(literals.tbody) : document.createDocumentFragment();\n        if (!this.initialPageRecords) {\n            this.initialPageRecords = extend([], dataSource);\n        }\n        var hdrfrag = isReact ? gObj.createElement(literals.tbody) : document.createDocumentFragment();\n        var columns = gObj.getColumns();\n        var tr;\n        var hdrTbody;\n        var frzCols = gObj.getFrozenColumns();\n        var isFrozenGrid = this.parent.isFrozenGrid();\n        var trElement;\n        var row = new RowRenderer(this.serviceLocator, null, this.parent);\n        var isInfiniteScroll = this.parent.enableInfiniteScrolling\n            && args.requestType === 'infiniteScroll';\n        gObj.notify(events.destroyChildGrid, {});\n        this.rowElements = [];\n        this.rows = [];\n        var fCont = this.getPanel().querySelector('.' + literals.frozenContent);\n        var mCont = this.getPanel().querySelector('.' + literals.movableContent);\n        var cont = this.getPanel().querySelector('.' + literals.content);\n        var tbdy;\n        var tableName;\n        if (isGroupAdaptive(gObj)) {\n            if (['sorting', 'filtering', 'searching', 'grouping', 'ungrouping', 'reorder']\n                .some(function (value) { return args.requestType === value; })) {\n                this.emptyVcRows();\n            }\n        }\n        var modelData;\n        if (this.parent.enableVirtualization && this.parent.isFrozenGrid()) {\n            if (this.parent.enableColumnVirtualization && args.requestType === 'virtualscroll'\n                && args.virtualInfo.sentinelInfo.axis === 'X') {\n                modelData = this.parent.contentModule.generateRows(dataSource, args);\n                args.renderMovableContent = true;\n            }\n            modelData = this.parent.contentModule.generateRows(dataSource, args);\n        }\n        else {\n            modelData = this.checkCache(modelData, args);\n            if (!this.isAddRows && !this.useGroupCache) {\n                modelData = this.generator.generateRows(dataSource, args);\n            }\n        }\n        this.setGroupCache(modelData, args);\n        this.parent.notify(events.setInfiniteCache, { isInfiniteScroll: isInfiniteScroll, modelData: modelData, args: args });\n        var idx = modelData[0].cells[0].index;\n        if (isFrozenGrid) {\n            tableName = contentModule.setTbody(modelData, args);\n            tbdy = contentModule.getTbody(tableName);\n        }\n        var isFrozenLeft = this.parent.getFrozenMode() === literals.leftRight && tableName === literals.frozenRight;\n        /* eslint-disable */\n        if (args.requestType !== 'infiniteScroll' && this.parent.registeredTemplate\n            && this.parent.registeredTemplate.template && !args.isFrozen && !isFrozenLeft) {\n            var templatetoclear = [];\n            for (var i = 0; i < this.parent.registeredTemplate.template.length; i++) {\n                for (var j = 0; j < this.parent.registeredTemplate.template[i].rootNodes.length; j++) {\n                    if (isNullOrUndefined(this.parent.registeredTemplate.template[i].rootNodes[j].parentNode)) {\n                        templatetoclear.push(this.parent.registeredTemplate.template[i]);\n                        /* eslint-enable */\n                    }\n                }\n            }\n            this.parent.destroyTemplate(['template'], templatetoclear);\n        }\n        if ((this.parent.isReact || this.parent.isVue) && args.requestType !== 'infiniteScroll' && !args.isFrozen) {\n            var templates = [\n                this.parent.isVue ? 'template' : 'columnTemplate', 'rowTemplate', 'detailTemplate',\n                'captionTemplate', 'commandsTemplate', 'groupFooterTemplate', 'groupCaptionTemplate'\n            ];\n            clearReactVueTemplates(this.parent, templates);\n        }\n        if (this.parent.enableColumnVirtualization) {\n            var cellMerge = new CellMergeRender(this.serviceLocator, this.parent);\n            cellMerge.updateVirtualCells(modelData);\n        }\n        if (!isFrozenGrid) {\n            this.tbody = this.getTable().querySelector(literals.tbody);\n        }\n        var startIndex = 0;\n        var blockLoad = true;\n        if (isGroupAdaptive(gObj) && gObj.vcRows.length) {\n            var top_1 = 'top';\n            var scrollTop = !isNullOrUndefined(args.virtualInfo.offsets) ? args.virtualInfo.offsets.top :\n                (!isNullOrUndefined(args.scrollTop) ? args.scrollTop[top_1] : 0);\n            if (scrollTop !== 0) {\n                var offsets_1 = gObj.vGroupOffsets;\n                var bSize = gObj.pageSettings.pageSize / 2;\n                var values = Object.keys(offsets_1).map(function (key) { return offsets_1[key]; });\n                for (var m = 0; m < values.length; m++) {\n                    if (scrollTop < values[m]) {\n                        if (!isNullOrUndefined(args.virtualInfo) && args.virtualInfo.direction === 'up') {\n                            startIndex = m > 0 ? ((m - 1) * bSize) : (m * bSize);\n                            break;\n                        }\n                        else {\n                            startIndex = m * bSize;\n                            if (this.parent.contentModule.isEndBlock(m) || this.parent.contentModule.isEndBlock(m + 1)) {\n                                args.virtualInfo.blockIndexes = [m, m + 1];\n                            }\n                            break;\n                        }\n                    }\n                }\n                if (Math.round(scrollTop + this.contentPanel.firstElementChild.offsetHeight) >=\n                    this.contentPanel.firstElementChild.scrollHeight && !args.rowObject) {\n                    blockLoad = false;\n                }\n            }\n        }\n        var isVFFrozenOnly = gObj.frozenRows && !gObj.isFrozenGrid() && this.parent.enableVirtualization\n            && args.requestType === 'reorder';\n        if ((gObj.frozenRows && args.requestType === 'virtualscroll' && args.virtualInfo.sentinelInfo.axis === 'X') || isVFFrozenOnly) {\n            var bIndex = args.virtualInfo.blockIndexes;\n            var page = args.virtualInfo.page;\n            args.virtualInfo.blockIndexes = [1, 2];\n            if (isVFFrozenOnly) {\n                args.virtualInfo.page = 1;\n            }\n            var data = isVFFrozenOnly ? this.initialPageRecords : dataSource;\n            var mhdrData = this.vgenerator\n                .generateRows(data, args);\n            mhdrData.splice(this.parent.frozenRows);\n            for (var i = 0; i < this.parent.frozenRows; i++) {\n                mhdrData[i].cells.splice(0, this.parent.getFrozenColumns());\n                tr = row.render(mhdrData[i], columns);\n                hdrfrag.appendChild(tr);\n            }\n            args.virtualInfo.blockIndexes = bIndex;\n            args.virtualInfo.page = page;\n            if (isVFFrozenOnly && args.virtualInfo.page === 1) {\n                modelData.splice(0, this.parent.frozenRows);\n            }\n        }\n        this.virtualFrozenHdrRefresh(hdrfrag, modelData, row, args, dataSource, columns);\n        for (var i = startIndex, len = modelData.length; i < len; i++) {\n            this.rows.push(modelData[i]);\n            if (this.parent.groupSettings.enableLazyLoading && !this.useGroupCache && this.parent.groupSettings.columns.length) {\n                this.setRowsInLazyGroup(modelData[i], i);\n                if (isNullOrUndefined(modelData[i].indent)) {\n                    continue;\n                }\n            }\n            this.setInfiniteVisibleRows(args, modelData[i], tableName);\n            if (isGroupAdaptive(gObj) && args.virtualInfo && args.virtualInfo.blockIndexes\n                && (this.rowElements.length >= (args.virtualInfo.blockIndexes.length * this.parent.contentModule.getBlockSize()))\n                && blockLoad) {\n                this.parent.currentViewData['records'] = this.rows.map(function (m) { return m.data; });\n                break;\n            }\n            if (!gObj.rowTemplate) {\n                tr = row.render(modelData[i], columns);\n                var isVFreorder = this.ensureFrozenHeaderRender(args);\n                if (gObj.frozenRows && i < gObj.frozenRows && !isInfiniteScroll && args.requestType !== 'virtualscroll' && isVFreorder\n                    && this.ensureVirtualFrozenHeaderRender(args)) {\n                    hdrfrag.appendChild(tr);\n                }\n                else {\n                    frag.appendChild(tr);\n                }\n                if (modelData[i].isExpand) {\n                    gObj.notify(events.expandChildGrid, tr.cells[gObj.groupSettings.columns.length]);\n                }\n            }\n            else {\n                var rowTemplateID = gObj.element.id + 'rowTemplate';\n                var elements = void 0;\n                if (gObj.isReact) {\n                    var isHeader = gObj.frozenRows && i < gObj.frozenRows;\n                    var copied = extend({ index: i }, dataSource[i]);\n                    gObj.getRowTemplate()(copied, gObj, 'rowTemplate', rowTemplateID, null, null, isHeader ? hdrfrag : frag);\n                    gObj.renderTemplates();\n                }\n                else {\n                    elements = gObj.getRowTemplate()(extend({ index: i }, dataSource[i]), gObj, 'rowTemplate', rowTemplateID);\n                }\n                if (!gObj.isReact && elements[0].tagName === 'TBODY') {\n                    for (var j = 0; j < elements.length; j++) {\n                        var isTR = elements[j].nodeName.toLowerCase() === 'tr';\n                        if (isTR || (elements[j].querySelectorAll && elements[j].querySelectorAll('tr').length)) {\n                            tr = isTR ? elements[j] : elements[j].querySelector('tr');\n                        }\n                    }\n                    if (gObj.frozenRows && i < gObj.frozenRows) {\n                        hdrfrag.appendChild(tr);\n                    }\n                    else {\n                        frag.appendChild(tr);\n                    }\n                }\n                else {\n                    if (gObj.frozenRows && i < gObj.frozenRows) {\n                        tr = !gObj.isReact ? appendChildren(hdrfrag, elements) : hdrfrag.lastElementChild;\n                    }\n                    else {\n                        // frag.appendChild(tr);\n                        if (!gObj.isReact) {\n                            tr = appendChildren(frag, elements);\n                        }\n                        trElement = gObj.isReact ? frag.lastElementChild : tr.lastElementChild;\n                    }\n                }\n                var arg = { data: modelData[i].data, row: trElement ? trElement : tr };\n                this.parent.trigger(events.rowDataBound, arg);\n            }\n            if (modelData[i].isDataRow) {\n                this.rowElements.push(tr);\n            }\n            this.ariaService.setOptions(this.getTable(), { colcount: gObj.getColumns().length.toString() });\n        }\n        if (isFrozenGrid) {\n            contentModule.splitRows(tableName);\n        }\n        if ((gObj.frozenRows && args.requestType !== 'virtualscroll' && !isInfiniteScroll && this.ensureVirtualFrozenHeaderRender(args))\n            || (args.requestType === 'virtualscroll' && args.virtualInfo.sentinelInfo && args.virtualInfo.sentinelInfo.axis === 'X')) {\n            hdrTbody = isFrozenGrid ? contentModule.getFrozenHeader(tableName) : gObj.getHeaderTable().querySelector(literals.tbody);\n            if (isReact) {\n                var parentTable = hdrTbody.parentElement;\n                remove(hdrTbody);\n                parentTable.appendChild(hdrfrag);\n            }\n            else {\n                hdrTbody.innerHTML = '';\n                hdrTbody.appendChild(hdrfrag);\n            }\n        }\n        if (!gObj.enableVirtualization && gObj.frozenRows && idx === 0 && cont.offsetHeight === Number(gObj.height)) {\n            cont.style.height = (cont.offsetHeight - hdrTbody.offsetHeight) + 'px';\n        }\n        args.rows = this.rows.slice(0);\n        if (isFrozenGrid) {\n            contentModule.setIsFrozen(args, tableName);\n        }\n        this.index = idx;\n        getUpdateUsingRaf(function () {\n            _this.parent.notify(events.beforeFragAppend, args);\n            var isVFTable = _this.parent.enableVirtualization && _this.parent.isFrozenGrid();\n            if (!_this.parent.enableVirtualization && !isInfiniteScroll) {\n                if (_this.parent.isFrozenGrid()) {\n                    remove(contentModule.getTbody(tableName));\n                    tbdy = _this.parent.createElement(literals.tbody);\n                }\n                else {\n                    _this.tbody.innerHTML = '';\n                    remove(_this.tbody);\n                    _this.tbody = _this.parent.createElement(literals.tbody);\n                }\n            }\n            if (isFrozenGrid && !isVFTable && !_this.parent.enableInfiniteScrolling) {\n                _this.appendContent(tbdy, frag, args, tableName);\n            }\n            else {\n                if (gObj.rowTemplate) {\n                    updateBlazorTemplate(gObj.element.id + 'rowTemplate', 'RowTemplate', gObj);\n                }\n                if (isVFTable) {\n                    if (args.renderFrozenRightContent) {\n                        var frCont = gObj.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody);\n                        _this.appendContent(frCont, frag, args);\n                    }\n                    else if (!args.renderMovableContent) {\n                        _this.appendContent(fCont.querySelector(literals.tbody), frag, args);\n                    }\n                    else {\n                        _this.appendContent(mCont.querySelector(literals.tbody), frag, args);\n                        args.renderMovableContent = false;\n                    }\n                    if (!_this.parent.getFrozenColumns()) {\n                        contentModule.renderNextFrozentPart(args, tableName);\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(_this.parent.infiniteScrollModule) && _this.parent.enableInfiniteScrolling) {\n                        _this.isAddRows = false;\n                        _this.parent.notify(events.removeInfiniteRows, { args: args });\n                        _this.parent.notify(events.appendInfiniteContent, {\n                            tbody: tbdy ? tbdy : _this.tbody, frag: frag, args: args, rows: _this.rows,\n                            rowElements: _this.rowElements, visibleRows: _this.visibleRows,\n                            tableName: tableName\n                        });\n                        if (!frzCols && isFrozenGrid) {\n                            if ((gObj.getFrozenMode() !== literals.leftRight\n                                && (tableName === literals.frozenLeft || tableName === literals.frozenRight))\n                                || (gObj.getFrozenMode() === literals.leftRight\n                                    && (tableName === literals.frozenLeft || tableName === 'movable'))) {\n                                _this.refreshContentRows(extend({}, args));\n                            }\n                        }\n                    }\n                    else {\n                        _this.useGroupCache = false;\n                        _this.appendContent(_this.tbody, frag, args);\n                    }\n                }\n            }\n            if (frzCols) {\n                contentModule.renderNextFrozentPart(args, tableName);\n            }\n            frag = null;\n        }, this.rafCallback(extend({}, args)));\n    };\n    ContentRender.prototype.emptyVcRows = function () {\n        this.parent.vcRows = [];\n        this.parent.vRows = [];\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ContentRender.prototype.appendContent = function (tbody, frag, args, tableName) {\n        var isReact = this.parent.isReact && !isNullOrUndefined(this.parent.rowTemplate);\n        if (isReact) {\n            this.getTable().appendChild(frag);\n        }\n        else {\n            tbody.appendChild(frag);\n            this.getTable().appendChild(tbody);\n        }\n    };\n    ContentRender.prototype.setRowsInLazyGroup = function (row, index) {\n        if (this.parent.groupSettings.enableLazyLoading && !this.useGroupCache && this.parent.groupSettings.columns.length) {\n            this.parent.contentModule.maintainRows(row, index);\n        }\n    };\n    ContentRender.prototype.setGroupCache = function (data, args) {\n        if (!this.useGroupCache && this.parent.groupSettings.enableLazyLoading) {\n            this.parent.notify(events.setGroupCache, { args: args, data: data });\n        }\n    };\n    ContentRender.prototype.ensureFrozenHeaderRender = function (args) {\n        return !((this.parent.enableVirtualization\n            && (args.requestType === 'reorder' || args.requestType === 'refresh')) || (this.parent.infiniteScrollSettings.enableCache\n            && this.parent.frozenRows && this.parent.infiniteScrollModule.requestType === 'delete'\n            && this.parent.pageSettings.currentPage !== 1));\n    };\n    ContentRender.prototype.ensureVirtualFrozenHeaderRender = function (args) {\n        return !(this.parent.enableVirtualization && args.requestType === 'delete');\n    };\n    ContentRender.prototype.checkCache = function (modelData, args) {\n        if (this.parent.infiniteScrollSettings.enableCache && args.requestType === 'infiniteScroll') {\n            var index = args.isFrozen ? 1 : 0;\n            var frozenCols = this.parent.isFrozenGrid();\n            this.isAddRows = !isNullOrUndefined(this.infiniteCache[this.parent.pageSettings.currentPage]);\n            if (frozenCols && !isNullOrUndefined(this.infiniteCache[this.parent.pageSettings.currentPage])) {\n                this.isAddRows = this.infiniteCache[this.parent.pageSettings.currentPage][index].length !== 0;\n            }\n            if (this.isAddRows) {\n                var data = !frozenCols ? this.infiniteCache[this.parent.pageSettings.currentPage]\n                    : this.infiniteCache[this.parent.pageSettings.currentPage][index];\n                modelData = this.parent.pageSettings.currentPage === 1 ? data.slice(this.parent.frozenRows) : data;\n            }\n            return modelData;\n        }\n        if (this.parent.groupSettings.enableLazyLoading && this.parent.groupSettings.columns.length &&\n            (args.requestType === 'paging' || args.requestType === 'columnstate' || args.requestType === 'reorder')\n            && this.parent.contentModule.getGroupCache()[this.parent.pageSettings.currentPage]) {\n            this.useGroupCache = true;\n            return this.parent.contentModule.initialGroupRows(args.requestType === 'reorder');\n        }\n        return null;\n    };\n    ContentRender.prototype.setInfiniteVisibleRows = function (args, data, tableName) {\n        var frozenCols = this.parent.isFrozenGrid();\n        if (this.parent.enableInfiniteScrolling && !this.parent.infiniteScrollSettings.enableCache) {\n            if (frozenCols) {\n                if (tableName === literals.frozenLeft || (this.parent.getFrozenMode() === 'Right' && tableName === literals.frozenRight)) {\n                    this.visibleFrozenRows.push(data);\n                }\n                else if (tableName === 'movable') {\n                    this.visibleRows.push(data);\n                }\n                else {\n                    this.rightFreezeRows.push(data);\n                }\n            }\n            else if (!this.parent.infiniteScrollSettings.enableCache) {\n                this.visibleRows.push(data);\n            }\n        }\n    };\n    ContentRender.prototype.getCurrentBlockInfiniteRecords = function (isFreeze) {\n        var data = [];\n        if (this.parent.infiniteScrollSettings.enableCache) {\n            if (!Object.keys(this.infiniteCache).length) {\n                return [];\n            }\n            var frozenCols = this.parent.isFrozenGrid();\n            var rows = this.parent.getRows();\n            var index = parseInt(rows[this.parent.frozenRows].getAttribute(literals.ariaRowIndex), 10);\n            var first = Math.ceil((index + 1) / this.parent.pageSettings.pageSize);\n            index = parseInt(rows[rows.length - 1].getAttribute(literals.ariaRowIndex), 10);\n            var last = Math.ceil(index / this.parent.pageSettings.pageSize);\n            if (frozenCols) {\n                var idx = isFreeze ? 0 : 1;\n                for (var i = first; i <= last; i++) {\n                    data = !data.length ? this.infiniteCache[i][idx]\n                        : data.concat(this.infiniteCache[i][idx]);\n                }\n                if (this.parent.frozenRows && this.parent.pageSettings.currentPage > 1) {\n                    data = this.infiniteCache[1][idx].slice(0, this.parent.frozenRows).concat(data);\n                }\n            }\n            else {\n                for (var i = first; i <= last; i++) {\n                    data = !data.length ? this.infiniteCache[i] : data.concat(this.infiniteCache[i]);\n                }\n                if (this.parent.frozenRows && this.parent.pageSettings.currentPage > 1) {\n                    data = this.infiniteCache[1].slice(0, this.parent.frozenRows).concat(data);\n                }\n            }\n        }\n        return data;\n    };\n    ContentRender.prototype.getReorderedVFRows = function (args) {\n        return this.parent.contentModule.getReorderedFrozenRows(args);\n    };\n    ContentRender.prototype.getReorderedRows = function (args) {\n        return this.parent.contentModule.getReorderedFrozenRows(args);\n    };\n    ContentRender.prototype.virtualFrozenHdrRefresh = function (hdrfrag, modelData, row, args, dataSource, columns) {\n        if (this.parent.frozenRows && this.parent.enableVirtualization\n            && (args.requestType === 'reorder' || args.requestType === 'refresh')) {\n            var tr = void 0;\n            var fhdrData = [];\n            if (this.parent.isFrozenGrid()) {\n                this.currentMovableRows = dataSource;\n                fhdrData = this.getReorderedVFRows(args);\n            }\n            else {\n                fhdrData = this.getReorderedRows(args);\n            }\n            for (var i = 0; i < fhdrData.length; i++) {\n                tr = row.render(fhdrData[i], columns);\n                hdrfrag.appendChild(tr);\n            }\n            if (args.virtualInfo.page === 1) {\n                modelData.splice(0, this.parent.frozenRows);\n            }\n            if (args.renderMovableContent) {\n                this.parent.currentViewData = this.currentMovableRows;\n                this.currentMovableRows = null;\n            }\n        }\n    };\n    ContentRender.prototype.getInfiniteRows = function () {\n        var rows = [];\n        var frozenCols = this.parent.isFrozenGrid();\n        if (this.parent.enableInfiniteScrolling) {\n            if (this.parent.infiniteScrollSettings.enableCache) {\n                var keys = Object.keys(this.infiniteCache);\n                for (var i = 0; i < keys.length; i++) {\n                    rows = !frozenCols ? rows.concat(this.infiniteCache[keys[i]]) : rows.concat(this.infiniteCache[keys[i]][0]);\n                }\n            }\n            else {\n                rows = frozenCols ? this.visibleFrozenRows : this.visibleRows;\n            }\n        }\n        return rows;\n    };\n    ContentRender.prototype.getInfiniteMovableRows = function () {\n        var infiniteCacheRows = this.getCurrentBlockInfiniteRecords();\n        var infiniteRows = this.parent.enableInfiniteScrolling ? infiniteCacheRows.length ? infiniteCacheRows\n            : this.visibleRows : [];\n        return infiniteRows;\n    };\n    /**\n     * Get the content div element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getPanel = function () {\n        return this.contentPanel;\n    };\n    /**\n     * Set the content div element of grid\n     *\n     * @param  {Element} panel - specifies the panel\n     * @returns {void}\n     */\n    ContentRender.prototype.setPanel = function (panel) {\n        this.contentPanel = panel;\n    };\n    /**\n     * Get the content table element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getTable = function () {\n        return this.contentTable;\n    };\n    /**\n     * Set the content table element of grid\n     *\n     * @param  {Element} table - specifies the table\n     * @returns {void}\n     */\n    ContentRender.prototype.setTable = function (table) {\n        this.contentTable = table;\n    };\n    /**\n     * Get the Movable Row collection in the Freeze pane Grid.\n     *\n     * @returns {Row[] | HTMLCollectionOf<HTMLTableRowElement>} returns the row\n     */\n    ContentRender.prototype.getRows = function () {\n        var infiniteRows = this.getInfiniteRows();\n        return infiniteRows.length ? infiniteRows : this.parent.getFrozenColumns() ? this.freezeRows : this.rows;\n    };\n    /**\n     * Get the Movable Row collection in the Freeze pane Grid.\n     *\n     * @returns {Row[] | HTMLCollectionOf<HTMLTableRowElement>} returns the row\n     */\n    ContentRender.prototype.getMovableRows = function () {\n        var infiniteRows = this.getInfiniteMovableRows();\n        return infiniteRows.length ? infiniteRows : this.movableRows;\n    };\n    /**\n     * Get the content table data row elements\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getRowElements = function () {\n        return this.parent.getFrozenColumns() ? this.freezeRowElements : this.rowElements;\n    };\n    /**\n     * Get the Freeze pane movable content table data row elements\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getMovableRowElements = function () {\n        return this.rowElements;\n    };\n    /**\n     * Get the content table data row elements\n     *\n     * @param {Element[]} elements - specifies the elements\n     * @returns {void}\n     */\n    ContentRender.prototype.setRowElements = function (elements) {\n        this.rowElements = elements;\n    };\n    /**\n     * Get the header colgroup element\n     *\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.getColGroup = function () {\n        return this.colgroup;\n    };\n    /**\n     * Set the header colgroup element\n     *\n     * @param {Element} colGroup - specifies the colgroup\n     * @returns {Element} returns the element\n     */\n    ContentRender.prototype.setColGroup = function (colGroup) {\n        if (!isNullOrUndefined(colGroup)) {\n            colGroup.id = 'content-' + colGroup.id;\n        }\n        return this.colgroup = colGroup;\n    };\n    /**\n     * Function to hide content table column based on visible property\n     *\n     * @param {Column[]} columns - specifies the column\n     * @returns {void}\n     */\n    ContentRender.prototype.setVisible = function (columns) {\n        var gObj = this.parent;\n        var isFrozenGrid = this.parent.isFrozenGrid();\n        var frzCols = gObj.getFrozenColumns();\n        var rows = [];\n        if (isFrozenGrid) {\n            var fRows = this.freezeRows;\n            var mRows = this.movableRows;\n            var rowLen = fRows.length;\n            var cellLen = void 0;\n            var rightRows = [];\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                rightRows = gObj.getFrozenRightRowsObject();\n            }\n            for (var i = 0, row = void 0; i < rowLen; i++) {\n                cellLen = mRows[i].cells.length;\n                var rightLen = rightRows.length ? rightRows[i].cells.length : 0;\n                row = fRows[i].clone();\n                for (var j = 0; j < cellLen; j++) {\n                    row.cells.push(mRows[i].cells[j]);\n                }\n                for (var k = 0; k < rightLen; k++) {\n                    row.cells.push(rightRows[i].cells[k]);\n                }\n                rows.push(row);\n            }\n        }\n        else {\n            rows = this.getRows();\n        }\n        var testRow;\n        rows.some(function (r) { if (r.isDataRow) {\n            testRow = r;\n        } return r.isDataRow; });\n        var needFullRefresh = true;\n        if (!gObj.groupSettings.columns.length && testRow) {\n            needFullRefresh = false;\n        }\n        var tr = gObj.getDataRows();\n        var args = {};\n        var infiniteData = this.infiniteRowVisibility();\n        var contentrows = infiniteData ? infiniteData\n            : this.rows.filter(function (row) { return !row.isDetailRow; });\n        for (var c = 0, clen = columns.length; c < clen; c++) {\n            var column = columns[c];\n            var idx = this.parent.getNormalizedColumnIndex(column.uid);\n            var colIdx = this.parent.getColumnIndexByUid(column.uid);\n            var displayVal = column.visible === true ? '' : 'none';\n            if (idx !== -1 && testRow && idx < testRow.cells.length) {\n                if (isFrozenGrid) {\n                    if (column.getFreezeTableName() !== 'movable') {\n                        if (column.getFreezeTableName() === literals.frozenRight) {\n                            var left = this.parent.getFrozenLeftColumnsCount();\n                            var movable = this.parent.getMovableColumnsCount();\n                            colIdx = idx = idx - (left + movable);\n                            var colG = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector(literals.colGroup);\n                            setStyleAttribute(colG.childNodes[idx], { 'display': displayVal });\n                            contentrows = gObj.getFrozenRightRowsObject();\n                            tr = gObj.getFrozenRightDataRows();\n                        }\n                        else {\n                            setStyleAttribute(this.getColGroup().childNodes[idx], { 'display': displayVal });\n                            var infiniteFreezeData = this.infiniteRowVisibility(true);\n                            contentrows = infiniteFreezeData ? infiniteFreezeData : this.freezeRows;\n                            tr = gObj.getDataRows();\n                        }\n                    }\n                    else {\n                        var mTable = gObj.getContent().querySelector('.' + literals.movableContent).querySelector(literals.colGroup);\n                        colIdx = idx = idx - frzCols - this.parent.getFrozenLeftColumnsCount();\n                        setStyleAttribute(mTable.childNodes[idx], { 'display': displayVal });\n                        tr = gObj.getMovableDataRows();\n                        var infiniteMovableData = this.infiniteRowVisibility();\n                        contentrows = infiniteMovableData ? infiniteMovableData : this.movableRows;\n                    }\n                }\n                else {\n                    setStyleAttribute(this.getColGroup().childNodes[idx], { 'display': displayVal });\n                }\n            }\n            if (!needFullRefresh) {\n                this.setDisplayNone(tr, colIdx, displayVal, contentrows);\n                if (contentrows[0].cells[colIdx].isTemplate) {\n                    needFullRefresh = true;\n                }\n            }\n            if (!this.parent.invokedFromMedia && column.hideAtMedia) {\n                this.parent.updateMediaColumns(column);\n            }\n            this.parent.invokedFromMedia = false;\n        }\n        if (needFullRefresh) {\n            this.refreshContentRows({ requestType: 'refresh' });\n        }\n        else {\n            if (!this.parent.getFrozenColumns()) {\n                this.parent.notify(events.partialRefresh, { rows: contentrows, args: args });\n            }\n            else {\n                this.parent.notify(events.partialRefresh, { rows: this.freezeRows, args: { isFrozen: true, rows: this.freezeRows } });\n                this.parent.notify(events.partialRefresh, { rows: this.movableRows, args: { isFrozen: false, rows: this.movableRows } });\n            }\n        }\n    };\n    /**\n     * @param {Object} tr - specifies the trr\n     * @param {number} idx - specifies the idx\n     * @param {string} displayVal - specifies the displayval\n     * @param {Row<Column>} rows - specifies the rows\n     * @returns {void}\n     * @hidden\n     */\n    ContentRender.prototype.setDisplayNone = function (tr, idx, displayVal, rows) {\n        setDisplayValue(tr, idx, displayVal, rows, this.parent, this.parent.isRowDragable());\n        this.parent.notify(events.infiniteShowHide, { visible: displayVal, index: idx, isFreeze: this.isInfiniteFreeze });\n    };\n    ContentRender.prototype.infiniteRowVisibility = function (isFreeze) {\n        var infiniteData;\n        if (this.parent.enableInfiniteScrolling) {\n            this.isInfiniteFreeze = isFreeze;\n            if (this.parent.infiniteScrollSettings.enableCache) {\n                infiniteData = isFreeze ? this.getCurrentBlockInfiniteRecords(true) : this.getCurrentBlockInfiniteRecords();\n            }\n            else {\n                infiniteData = isFreeze ? this.visibleFrozenRows : this.visibleRows;\n            }\n        }\n        return infiniteData;\n    };\n    ContentRender.prototype.colGroupRefresh = function () {\n        if (this.getColGroup()) {\n            var colGroup = void 0;\n            if (this.parent.enableColumnVirtualization && this.parent.getFrozenColumns()\n                && this.parent.contentModule.isXaxis()) {\n                colGroup = this.parent.getMovableVirtualHeader().querySelector(literals.colGroup).cloneNode(true);\n            }\n            else {\n                colGroup = this.getHeaderColGroup();\n            }\n            this.getTable().replaceChild(colGroup, this.getColGroup());\n            this.setColGroup(colGroup);\n        }\n    };\n    ContentRender.prototype.getHeaderColGroup = function () {\n        return this.parent.element.querySelector('.' + literals.gridHeader).querySelector(literals.colGroup).cloneNode(true);\n    };\n    ContentRender.prototype.initializeContentDrop = function () {\n        var gObj = this.parent;\n        this.droppable = new Droppable(gObj.element, {\n            accept: '.e-dragclone',\n            drop: this.drop\n        });\n    };\n    ContentRender.prototype.droppableDestroy = function () {\n        if (this.droppable && !this.droppable.isDestroyed) {\n            this.droppable.destroy();\n        }\n    };\n    ContentRender.prototype.canSkip = function (column, row, index) {\n        /**\n         * Skip the toggle visiblity operation when one of the following success\n         * 1. Grid has empty records\n         * 2. column visible property is unchanged\n         * 3. cell`s isVisible property is same as column`s visible property.\n         */\n        return isNullOrUndefined(row) || //(1)\n            isNullOrUndefined(column.visible) || //(2)\n            row.cells[index].visible === column.visible; //(3)\n    };\n    ContentRender.prototype.getModelGenerator = function () {\n        return this.generator = this.parent.allowGrouping ? new GroupModelGenerator(this.parent) : new RowModelGenerator(this.parent);\n    };\n    ContentRender.prototype.renderEmpty = function (tbody) {\n        this.getTable().appendChild(tbody);\n        if (this.parent.frozenRows) {\n            this.parent.getHeaderContent().querySelector(literals.tbody).innerHTML = '';\n        }\n    };\n    ContentRender.prototype.setSelection = function (uid, set, clearAll) {\n        this.parent.notify(events.setFreezeSelection, { uid: uid, set: set, clearAll: clearAll });\n        var isFrozen = this.parent.isFrozenGrid();\n        if (isFrozen && this.parent.enableVirtualization) {\n            return;\n        }\n        if (isFrozen) {\n            var rows = this.getMovableRows().filter(function (row) { return clearAll || uid === row.uid; });\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].isSelected = set;\n            }\n        }\n        var row = this.getRows().filter(function (row) { return clearAll || uid === row.uid; });\n        for (var j = 0; j < row.length; j++) {\n            row[j].isSelected = set;\n            var cells = row[j].cells;\n            for (var k = 0; k < cells.length; k++) {\n                cells[k].isSelected = set;\n            }\n        }\n    };\n    ContentRender.prototype.getRowByIndex = function (index) {\n        index = this.getInfiniteRowIndex(index);\n        return this.parent.getDataRows()[index];\n    };\n    ContentRender.prototype.getInfiniteRowIndex = function (index) {\n        if (this.parent.infiniteScrollSettings.enableCache) {\n            var fRows = this.parent.frozenRows;\n            var idx = fRows > index ? 0 : fRows;\n            var firstRowIndex = parseInt(this.parent.getRows()[idx].getAttribute(literals.ariaRowIndex), 10);\n            index = fRows > index ? index : (index - firstRowIndex) + fRows;\n        }\n        return index;\n    };\n    ContentRender.prototype.getVirtualRowIndex = function (index) {\n        return index;\n    };\n    ContentRender.prototype.getMovableRowByIndex = function (index) {\n        index = this.getInfiniteRowIndex(index);\n        return this.parent.getMovableDataRows()[index];\n    };\n    ContentRender.prototype.enableAfterRender = function (e) {\n        if (e.module === 'group' && e.enable) {\n            this.generator = this.getModelGenerator();\n        }\n    };\n    ContentRender.prototype.setRowObjects = function (rows) {\n        this.rows = rows;\n    };\n    /**\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     * @hidden\n     */\n    ContentRender.prototype.immutableModeRendering = function (args) {\n        var _this = this;\n        if (args === void 0) { args = {}; }\n        var gObj = this.parent;\n        gObj.hideSpinner();\n        var key = gObj.getPrimaryKeyFieldNames()[0];\n        var oldKeys = {};\n        var newKeys = {};\n        var newRowObjs = [];\n        var oldIndexes = {};\n        var oldRowObjs = gObj.getRowsObject().slice();\n        var batchChangeKeys = this.getBatchEditedRecords(key, oldRowObjs);\n        var newIndexes = {};\n        var hasBatch = Object.keys(batchChangeKeys).length !== 0;\n        if (gObj.getContent().querySelector('.e-emptyrow') || args.requestType === 'reorder'\n            || this.parent.groupSettings.columns.length) {\n            this.refreshContentRows(args);\n        }\n        else {\n            if (gObj.currentViewData.length === 0) {\n                return;\n            }\n            var oldRowElements = {};\n            var tbody = gObj.createElement(literals.tbody);\n            var dataSource = gObj.currentViewData;\n            var trs = [].slice.call(this.getTable().querySelector(literals.tbody).children);\n            if (this.prevCurrentView.length) {\n                var prevLen = this.prevCurrentView.length;\n                var currentLen = dataSource.length;\n                if (prevLen === currentLen) {\n                    for (var i = 0; i < currentLen; i++) {\n                        if (this.parent.editSettings.mode === 'Batch'\n                            && trs[i].classList.contains('e-insertedrow')) {\n                            trs.splice(i, 1);\n                            --i;\n                            continue;\n                        }\n                        newKeys[dataSource[i][key]] = oldKeys[this.prevCurrentView[i][key]] = i;\n                        newIndexes[i] = dataSource[i][key];\n                        oldRowElements[oldRowObjs[i].uid] = trs[i];\n                        oldIndexes[i] = this.prevCurrentView[i][key];\n                    }\n                }\n                else {\n                    for (var i = 0; i < currentLen; i++) {\n                        newKeys[dataSource[i][key]] = i;\n                        newIndexes[i] = dataSource[i][key];\n                    }\n                    for (var i = 0; i < prevLen; i++) {\n                        if (this.parent.editSettings.mode === 'Batch'\n                            && trs[i].classList.contains('e-insertedrow')) {\n                            trs.splice(i, 1);\n                            --i;\n                            continue;\n                        }\n                        oldRowElements[oldRowObjs[i].uid] = trs[i];\n                        oldKeys[this.prevCurrentView[i][key]] = i;\n                        oldIndexes[i] = this.prevCurrentView[i][key];\n                    }\n                }\n            }\n            for (var i = 0; i < dataSource.length; i++) {\n                var oldIndex = oldKeys[dataSource[i][key]];\n                if (!isNullOrUndefined(oldIndex)) {\n                    var isEqual = false;\n                    if (this.parent.enableDeepCompare) {\n                        isEqual = this.objectEqualityChecker(this.prevCurrentView[oldIndex], dataSource[i]);\n                    }\n                    var tr = oldRowElements[oldRowObjs[oldIndex].uid];\n                    newRowObjs.push(oldRowObjs[oldIndex]);\n                    if (this.rowElements[oldIndex] && this.rowElements[oldIndex].getAttribute('data-uid') === newRowObjs[i].uid\n                        && ((hasBatch && isNullOrUndefined(batchChangeKeys[newIndexes[i]]))\n                            || (!hasBatch && (isEqual || this.prevCurrentView[oldIndex] === dataSource[i])))) {\n                        if (oldIndex !== i) {\n                            this.refreshImmutableContent(i, tr, newRowObjs[i]);\n                        }\n                        tbody.appendChild(tr);\n                        continue;\n                    }\n                    if ((hasBatch && !isNullOrUndefined(batchChangeKeys[newIndexes[i]]))\n                        || (!this.parent.enableDeepCompare && dataSource[i] !== this.prevCurrentView[oldIndex])\n                        || (this.parent.enableDeepCompare && !isEqual)) {\n                        oldRowObjs[oldIndex].setRowValue(dataSource[i]);\n                    }\n                    tbody.appendChild(tr);\n                    this.refreshImmutableContent(i, tr, newRowObjs[i]);\n                }\n                else {\n                    var row = new RowRenderer(this.serviceLocator, null, gObj);\n                    var modelData = this.generator.generateRows([dataSource[i]]);\n                    newRowObjs.push(modelData[0]);\n                    var tr = row.render(modelData[0], gObj.getColumns());\n                    tbody.appendChild(tr);\n                    this.refreshImmutableContent(i, tr, newRowObjs[i]);\n                }\n            }\n            this.rows = newRowObjs;\n            this.rowElements = [].slice.call(tbody.children);\n            remove(this.getTable().querySelector(literals.tbody));\n            this.getTable().appendChild(tbody);\n            this.parent.trigger(events.dataBound, {}, function () {\n                if (_this.parent.allowTextWrap) {\n                    _this.parent.notify(events.freezeRender, { case: 'textwrap' });\n                }\n            });\n            if (args) {\n                var action = (args.requestType || '').toLowerCase() + '-complete';\n                this.parent.notify(action, args);\n            }\n        }\n    };\n    ContentRender.prototype.objectEqualityChecker = function (old, next) {\n        var keys = Object.keys(old);\n        var isEqual = true;\n        for (var i = 0; i < keys.length; i++) {\n            if (old[keys[i]] !== next[keys[i]]) {\n                var isDate = old[keys[i]] instanceof Date && next[keys[i]] instanceof Date;\n                if (!isDate || (old[keys[i]].getTime() !== next[keys[i]].getTime())) {\n                    isEqual = false;\n                    break;\n                }\n            }\n        }\n        return isEqual;\n    };\n    ContentRender.prototype.getBatchEditedRecords = function (primaryKey, rows) {\n        var keys = {};\n        var changes = this.parent.getBatchChanges();\n        var changedRecords = [];\n        var addedRecords = [];\n        if (Object.keys(changes).length) {\n            changedRecords = changes.changedRecords;\n            addedRecords = changes.addedRecords;\n        }\n        var args = { cancel: false };\n        this.parent.notify(events.immutableBatchCancel, { rows: rows, args: args });\n        if (addedRecords.length) {\n            if (this.parent.editSettings.newRowPosition === 'Bottom') {\n                rows.splice(rows.length - 1, addedRecords.length);\n            }\n            else {\n                if (!args.cancel) {\n                    rows.splice(0, addedRecords.length);\n                }\n            }\n        }\n        for (var i = 0; i < changedRecords.length; i++) {\n            keys[changedRecords[i][primaryKey]] = i;\n        }\n        return keys;\n    };\n    ContentRender.prototype.refreshImmutableContent = function (index, tr, row) {\n        row.isAltRow = this.parent.enableAltRow ? index % 2 !== 0 : false;\n        if (row.isAltRow) {\n            tr.classList.add('e-altrow');\n        }\n        else {\n            tr.classList.remove('e-altrow');\n        }\n        row.index = index;\n        row.edit = undefined;\n        row.isDirty = false;\n        tr.setAttribute(literals.ariaRowIndex, index.toString());\n        this.updateCellIndex(tr, index);\n    };\n    ContentRender.prototype.updateCellIndex = function (rowEle, index) {\n        for (var i = 0; i < rowEle.cells.length; i++) {\n            rowEle.cells[i].setAttribute('index', index.toString());\n        }\n    };\n    return ContentRender;\n}());\nexport { ContentRender };\n","import { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, closest as getClosest, remove } from '@syncfusion/ej2-base';\nimport { classList } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowRenderer } from './row-renderer';\nimport { Cell } from '../models/cell';\nimport { Row } from '../models/row';\nimport * as events from '../base/constant';\nimport { Draggable, Droppable } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { parentsUntil, wrap, measureColumnDepth, appendChildren } from '../base/util';\nimport * as literals from '../base/string-literals';\n// eslint-disable-next-line valid-jsdoc\n/**\n * Content module is used to render grid content\n *\n * @hidden\n */\nvar HeaderRender = /** @class */ (function () {\n    /**\n     * Constructor for header renderer module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} serviceLocator - specifies the serviceLocator\n     */\n    function HeaderRender(parent, serviceLocator) {\n        var _this = this;\n        this.frzIdx = 0;\n        this.notfrzIdx = 0;\n        this.isFirstCol = false;\n        this.isReplaceDragEle = true;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        this.helper = function (e) {\n            var gObj = _this.parent;\n            var target = _this.draggable.currentStateTarget;\n            var parentEle = parentsUntil(target, 'e-headercell');\n            if (!(gObj.allowReordering || gObj.allowGrouping) || (!isNullOrUndefined(parentEle)\n                && parentEle.getElementsByClassName('e-checkselectall').length > 0)) {\n                return false;\n            }\n            var visualElement = _this.parent.createElement('div', { className: 'e-cloneproperties e-dragclone e-headerclone' });\n            var element = target.classList.contains('e-headercell') ? target : parentEle;\n            if (!element || (!gObj.allowReordering && element.classList.contains('e-stackedheadercell'))) {\n                return false;\n            }\n            var height = element.offsetHeight;\n            var headercelldiv = element.querySelector('.e-headercelldiv') || element.querySelector('.e-stackedheadercelldiv');\n            var col;\n            if (headercelldiv) {\n                if (element.querySelector('.e-stackedheadercelldiv')) {\n                    col = gObj.getStackedHeaderColumnByHeaderText(headercelldiv.innerText.trim(), gObj.columns);\n                }\n                else {\n                    col = gObj.getColumnByUid(headercelldiv.getAttribute('e-mappinguid'));\n                }\n                _this.column = col;\n                if (_this.column.lockColumn) {\n                    return false;\n                }\n                visualElement.setAttribute('e-mappinguid', _this.column.uid);\n            }\n            if (col && !isNullOrUndefined(col.headerTemplate)) {\n                if (!isNullOrUndefined(col.headerTemplate)) {\n                    var colIndex = gObj.getColumnIndexByField(col.field);\n                    var result = col.getHeaderTemplate()(extend({ 'index': colIndex }, col), gObj, 'headerTemplate');\n                    appendChildren(visualElement, result);\n                }\n                else {\n                    visualElement.innerHTML = col.headerTemplate;\n                }\n            }\n            else {\n                visualElement.innerHTML = headercelldiv ?\n                    col.headerText : element.firstElementChild.innerHTML;\n            }\n            visualElement.style.width = element.offsetWidth + 'px';\n            visualElement.style.height = element.offsetHeight + 'px';\n            visualElement.style.lineHeight = (height - 6).toString() + 'px';\n            gObj.element.appendChild(visualElement);\n            return visualElement;\n        };\n        this.dragStart = function (e) {\n            var gObj = _this.parent;\n            gObj.element.querySelector('.e-gridpopup').style.display = 'none';\n            gObj.notify(events.columnDragStart, { target: _this.draggable.currentStateTarget, column: _this.column, event: e.event });\n        };\n        this.drag = function (e) {\n            var gObj = _this.parent;\n            var target = e.target;\n            if (target) {\n                var closest = getClosest(target, '.e-grid');\n                var cloneElement = _this.parent.element.querySelector('.e-cloneproperties');\n                if (!closest || closest.getAttribute('id') !== gObj.element.getAttribute('id')) {\n                    classList(cloneElement, ['e-notallowedcur'], ['e-defaultcur']);\n                    if (gObj.allowReordering) {\n                        gObj.element.querySelector('.e-reorderuparrow').style.display = 'none';\n                        gObj.element.querySelector('.e-reorderdownarrow').style.display = 'none';\n                    }\n                    if (!gObj.groupSettings.allowReordering) {\n                        return;\n                    }\n                }\n                gObj.notify(events.columnDrag, { target: e.target, column: _this.column, event: e.event });\n            }\n        };\n        this.dragStop = function (e) {\n            var gObj = _this.parent;\n            var cancel;\n            gObj.element.querySelector('.e-gridpopup').style.display = 'none';\n            if ((!parentsUntil(e.target, 'e-headercell') && !parentsUntil(e.target, 'e-groupdroparea')) ||\n                (!gObj.allowReordering && parentsUntil(e.target, 'e-headercell')) ||\n                (!e.helper.getAttribute('e-mappinguid') && parentsUntil(e.target, 'e-groupdroparea'))) {\n                remove(e.helper);\n                cancel = true;\n            }\n            gObj.notify(events.columnDragStop, { target: e.target, event: e.event, column: _this.column, cancel: cancel });\n        };\n        this.drop = function (e) {\n            var gObj = _this.parent;\n            var uid = e.droppedElement.getAttribute('e-mappinguid');\n            var closest = getClosest(e.target, '.e-grid');\n            remove(e.droppedElement);\n            if (closest && closest.getAttribute('id') !== gObj.element.getAttribute('id') ||\n                !(gObj.allowReordering || gObj.allowGrouping)) {\n                return;\n            }\n            gObj.notify(events.headerDrop, { target: e.target, uid: uid, droppedElement: e.droppedElement });\n        };\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.ariaService = this.serviceLocator.getService('ariaService');\n        this.widthService = this.serviceLocator.getService('widthService');\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (!this.parent.enableColumnVirtualization\n            && !this.parent.getFrozenLeftColumnsCount() && !this.parent.getFrozenRightColumnsCount()) {\n            this.parent.on(events.columnVisibilityChanged, this.setVisible, this);\n        }\n        this.parent.on(events.columnPositionChanged, this.colPosRefresh, this);\n        this.parent.on(events.initialEnd, this.renderCustomToolbar, this);\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            this.parent.on(events.uiUpdate, this.updateCustomResponsiveToolbar, this);\n        }\n    }\n    /**\n     * The function is used to render grid header div\n     *\n     * @returns {void}\n     */\n    HeaderRender.prototype.renderPanel = function () {\n        var div = this.parent.element.querySelector('.' + literals.gridHeader);\n        var isRendered = (div != null);\n        div = isRendered ? div : this.parent.createElement('div', { className: 'e-gridheader' });\n        var innerDiv = isRendered ? div.querySelector('.' + literals.headerContent) :\n            this.parent.createElement('div', { className: literals.headerContent });\n        this.toggleStackClass(div);\n        div.appendChild(innerDiv);\n        this.setPanel(div);\n        if (!isRendered) {\n            this.parent.element.appendChild(div);\n        }\n    };\n    /**\n     * The function is used to render grid header div\n     *\n     * @returns {void}\n     */\n    HeaderRender.prototype.renderTable = function () {\n        var headerDiv = this.getPanel();\n        headerDiv.appendChild(this.createHeaderTable());\n        this.setTable(headerDiv.querySelector('.' + literals.table));\n        if (!this.parent.getFrozenColumns() && !this.parent.getFrozenRightColumnsCount() && !this.parent.getFrozenLeftColumnsCount()) {\n            this.initializeHeaderDrag();\n            this.initializeHeaderDrop();\n        }\n        this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: this.parent.isFrozenGrid() } });\n    };\n    /**\n     * Get the header content div element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.getPanel = function () {\n        return this.headerPanel;\n    };\n    /**\n     * Set the header content div element of grid\n     *\n     * @param  {Element} panel - specifies the panel element\n     * @returns {void}\n     */\n    HeaderRender.prototype.setPanel = function (panel) {\n        this.headerPanel = panel;\n    };\n    /**\n     * Get the header table element of grid\n     *\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.getTable = function () {\n        return this.headerTable;\n    };\n    /**\n     * Set the header table element of grid\n     *\n     * @param  {Element} table - specifies the table element\n     * @returns {void}\n     */\n    HeaderRender.prototype.setTable = function (table) {\n        this.headerTable = table;\n    };\n    /**\n     * Get the header colgroup element\n     *\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.getColGroup = function () {\n        return this.colgroup;\n    };\n    /**\n     * Set the header colgroup element\n     *\n     * @param {Element} colGroup - specifies the colgroup\n     * @returns {Element} returns the element\n     */\n    HeaderRender.prototype.setColGroup = function (colGroup) {\n        return this.colgroup = colGroup;\n    };\n    /**\n     * Get the header row element collection.\n     *\n     * @returns {Element[]} returns the element\n     */\n    HeaderRender.prototype.getRows = function () {\n        var table = this.getTable();\n        return table.tHead.rows;\n    };\n    /**\n     * The function is used to create header table elements\n     *\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    HeaderRender.prototype.createHeaderTable = function () {\n        var table = this.createTable();\n        var innerDiv = this.getPanel().querySelector('.' + literals.headerContent);\n        innerDiv.appendChild(table);\n        return innerDiv;\n    };\n    /**\n     * The function is used to create header table elements\n     *\n     * @param {Element} tableEle - specifies the table Element\n     * @param {freezeTable} tableName - specifies the table name\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderRender.prototype.createHeader = function (tableEle, tableName) {\n        if (tableEle === void 0) { tableEle = null; }\n        var gObj = this.parent;\n        var isFrozen = gObj.isFrozenGrid();\n        if (this.getTable() && !isFrozen) {\n            remove(this.getTable());\n        }\n        var table = this.parent.createElement('table', { className: literals.table, attrs: { cellspacing: '0.25px', role: 'grid' } });\n        var tblName = tableName ? tableName : gObj.getFrozenLeftCount() ? 'frozen-left' : 'frozen-right';\n        var findHeaderRow = this.createHeaderContent(tblName);\n        var thead = findHeaderRow.thead;\n        var tbody = this.parent.createElement(literals.tbody, { className: this.parent.frozenRows ? '' : 'e-hide' });\n        this.caption = this.parent.createElement('caption', { innerHTML: this.parent.element.id + '_header_table', className: 'e-hide' });\n        var colGroup = this.parent.createElement(literals.colGroup);\n        var rowBody = this.parent.createElement('tr');\n        var bodyCell;\n        var rows = this.rows = findHeaderRow.rows;\n        for (var i = 0, len = rows.length; i < len; i++) {\n            for (var j = 0, len_1 = rows[i].cells.length; j < len_1; j++) {\n                bodyCell = this.parent.createElement('td');\n                rowBody.appendChild(bodyCell);\n            }\n        }\n        if (gObj.allowFiltering || gObj.allowSorting || gObj.allowGrouping) {\n            table.classList.add('e-sortfilter');\n        }\n        this.updateColGroup(colGroup);\n        tbody.appendChild(rowBody);\n        table.appendChild(this.setColGroup(colGroup));\n        table.appendChild(thead);\n        table.appendChild(tbody);\n        table.appendChild(this.caption);\n        this.ariaService.setOptions(table, { colcount: gObj.getColumns().length.toString() });\n        return table;\n    };\n    /**\n     * @param {Element} tableEle - specifies the column\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    HeaderRender.prototype.createTable = function (tableEle) {\n        if (tableEle === void 0) { tableEle = null; }\n        return this.createHeader(tableEle);\n    };\n    HeaderRender.prototype.createHeaderContent = function (tableName) {\n        var gObj = this.parent;\n        var index = 1;\n        var frozenMode = gObj.getFrozenMode();\n        var columns = gObj.getColumns();\n        var thead = this.parent.createElement('thead');\n        var colHeader = this.parent.createElement('tr', { className: 'e-columnheader' });\n        var rowRenderer = new RowRenderer(this.serviceLocator, CellType.Header, gObj);\n        rowRenderer.element = colHeader;\n        var rows = [];\n        var headerRow;\n        this.colDepth = measureColumnDepth(gObj.columns);\n        for (var i = 0, len = this.colDepth; i < len; i++) {\n            rows[i] = this.generateRow(i);\n            rows[i].cells = [];\n        }\n        if (frozenMode !== 'Right') {\n            rows = this.ensureColumns(rows);\n        }\n        rows = this.getHeaderCells(rows, tableName);\n        if (frozenMode === 'Right') {\n            index = 0;\n            rows = this.ensureColumns(rows);\n        }\n        var frzCols = this.parent.getFrozenColumns();\n        if (this.parent.isRowDragable() && this.parent.isFrozenGrid() && rows[0].cells[index]) {\n            var colFreezeMode = rows[0].cells[index].column.getFreezeTableName();\n            if (colFreezeMode === 'movable' || (frozenMode === literals.leftRight && colFreezeMode === literals.frozenRight)) {\n                if (frozenMode === 'Right') {\n                    rows[0].cells.pop();\n                }\n                else {\n                    rows[0].cells.shift();\n                }\n            }\n            else if (!frzCols && colFreezeMode === literals.frozenLeft) {\n                rows[0].cells[0].column.freeze = colFreezeMode === literals.frozenLeft ? 'Left' : 'Right';\n            }\n            else if (frozenMode === 'Right' && colFreezeMode === literals.frozenRight) {\n                rows[0].cells[rows[0].cells.length - 1].column.freeze = 'Right';\n            }\n        }\n        for (var i = 0, len = this.colDepth; i < len; i++) {\n            headerRow = rowRenderer.render(rows[i], columns);\n            if (this.parent.rowHeight && headerRow.querySelector('.e-headercell')) {\n                headerRow.style.height = this.parent.rowHeight + 'px';\n            }\n            thead.appendChild(headerRow);\n        }\n        var findHeaderRow = {\n            thead: thead,\n            rows: rows\n        };\n        return findHeaderRow;\n    };\n    HeaderRender.prototype.updateColGroup = function (colGroup) {\n        var cols = this.parent.getColumns();\n        var col;\n        var indexes = this.parent.getColumnIndexesInView();\n        if (this.parent.enableColumnVirtualization && this.parent.getFrozenColumns()\n            && this.parent.contentModule.isXaxis()) {\n            cols = extend([], this.parent.getColumns());\n            cols.splice(0, this.parent.getFrozenColumns());\n        }\n        colGroup.id = this.parent.element.id + literals.colGroup;\n        if (this.parent.allowGrouping) {\n            for (var i = 0, len = this.parent.groupSettings.columns.length; i < len; i++) {\n                if (this.parent.enableColumnVirtualization && indexes.indexOf(i) === -1) {\n                    continue;\n                }\n                col = this.parent.createElement('col', { className: 'e-group-intent' });\n                colGroup.appendChild(col);\n            }\n        }\n        if (this.parent.detailTemplate || this.parent.childGrid) {\n            col = this.parent.createElement('col', { className: 'e-detail-intent' });\n            colGroup.appendChild(col);\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() !== 'Right') {\n            col = this.parent.createElement('col', { className: 'e-drag-intent' });\n            colGroup.appendChild(col);\n        }\n        for (var i = 0, len = cols.length; i < len; i++) {\n            col = this.parent.createElement('col');\n            if (cols[i].visible === false) {\n                setStyleAttribute(col, { 'display': 'none' });\n            }\n            colGroup.appendChild(col);\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() === 'Right') {\n            col = this.parent.createElement('col', { className: 'e-drag-intent' });\n            colGroup.appendChild(col);\n        }\n        return colGroup;\n    };\n    HeaderRender.prototype.ensureColumns = function (rows) {\n        //TODO: generate dummy column for group, detail, stacked row here; ensureColumns here\n        var gObj = this.parent;\n        var indexes = this.parent.getColumnIndexesInView();\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if (gObj.allowGrouping) {\n                for (var c = 0, len_2 = gObj.groupSettings.columns.length; c < len_2; c++) {\n                    if (this.parent.enableColumnVirtualization && indexes.indexOf(c) === -1) {\n                        continue;\n                    }\n                    rows[i].cells.push(this.generateCell({}, CellType.HeaderIndent));\n                }\n            }\n            if (gObj.detailTemplate || gObj.childGrid) {\n                var args = {};\n                this.parent.notify(events.detailIndentCellInfo, args);\n                rows[i].cells.push(this.generateCell(args, CellType.DetailHeader));\n            }\n            if (gObj.isRowDragable()) {\n                rows[i].cells.push(this.generateCell({}, CellType.RowDragHIcon));\n            }\n        }\n        return rows;\n    };\n    HeaderRender.prototype.getHeaderCells = function (rows, tableName) {\n        var thead = this.parent.getHeaderTable() && this.parent.getHeaderTable().querySelector('thead');\n        var cols = this.parent.enableColumnVirtualization ?\n            this.parent.getColumns(this.parent.enablePersistence) : this.parent.columns;\n        this.frzIdx = 0;\n        this.notfrzIdx = 0;\n        if (this.parent.lockcolPositionCount) {\n            for (var i = 0; i < cols.length; i++) {\n                this.lockColsRendered = false;\n                rows = this.appendCells(cols[i], rows, 0, i === 0, false, i === (cols.length - 1), thead, tableName, false);\n            }\n        }\n        for (var i = 0, len = cols.length; i < len; i++) {\n            this.notfrzIdx = 0;\n            this.lockColsRendered = true;\n            rows = this.appendCells(cols[i], rows, 0, i === 0, false, i === (len - 1), thead, tableName, false);\n        }\n        return rows;\n    };\n    HeaderRender.prototype.appendCells = function (cols, rows, index, isFirstObj, isFirstCol, isLastCol, isMovable, tableName, isStackLastCol) {\n        var lastCol = isLastCol ? isStackLastCol ? 'e-laststackcell' : 'e-lastcell' : '';\n        var isFrozen = this.parent.isFrozenGrid();\n        var isLockColumn = !this.parent.lockcolPositionCount\n            || (cols.lockColumn && !this.lockColsRendered) || (!cols.lockColumn && this.lockColsRendered);\n        var isFrozenLockColumn = !this.parent.lockcolPositionCount || (cols.lockColumn && !this.lockColsRendered)\n            || (!cols.lockColumn && this.lockColsRendered);\n        var scrollbar = this.parent.getContent().querySelector('.e-movablescrollbar');\n        var left;\n        if (isFrozen && scrollbar && this.parent.enableColumnVirtualization) {\n            left = scrollbar.scrollLeft;\n        }\n        if (!cols.columns) {\n            if (left && left > 0 && this.parent.contentModule.isXaxis()\n                && this.parent.inViewIndexes[0] !== 0 && cols.getFreezeTableName() === 'movable') {\n                rows[index].cells.push(this.generateCell(cols, CellType.Header, this.colDepth - index, (isFirstObj ? '' : (isFirstCol ? 'e-firstcell' : '')) + lastCol, index, this.parent.getColumnIndexByUid(cols.uid)));\n            }\n            else {\n                if ((!isFrozen && isLockColumn) || (isFrozen && cols.getFreezeTableName() === tableName && isFrozenLockColumn)) {\n                    rows[index].cells.push(this.generateCell(cols, CellType.Header, this.colDepth - index, (isFirstObj ? '' : (isFirstCol ? 'e-firstcell' : '')) + lastCol, index, this.parent.getColumnIndexByUid(cols.uid)));\n                }\n            }\n            if (this.parent.lockcolPositionCount) {\n                if ((this.frzIdx + this.notfrzIdx < this.parent.frozenColumns) &&\n                    ((cols.lockColumn && !this.lockColsRendered) || (!cols.lockColumn && this.lockColsRendered))) {\n                    this.frzIdx++;\n                }\n                else {\n                    this.notfrzIdx++;\n                }\n            }\n            else {\n                this.frzIdx++;\n            }\n        }\n        else {\n            this.isFirstCol = false;\n            var colSpan = this.getCellCnt(cols, 0);\n            if (colSpan) {\n                var stackedLockColsCount = this.getStackedLockColsCount(cols, 0);\n                var isStackedLockColumn = this.parent.lockcolPositionCount === 0\n                    || (!this.lockColsRendered && stackedLockColsCount !== 0)\n                    || (this.lockColsRendered && (colSpan - stackedLockColsCount) !== 0);\n                var isFrozenStack = isFrozen && this.ensureStackedFrozen(cols.columns, tableName, false);\n                if ((!isFrozen && isStackedLockColumn) || isFrozenStack) {\n                    rows[index].cells.push(new Cell({\n                        cellType: CellType.StackedHeader, column: cols,\n                        colSpan: this.getColSpan(colSpan, stackedLockColsCount, cols.columns, tableName, isFrozen),\n                        className: isFirstObj ? '' : (isFirstCol ? 'e-firstcell' : '')\n                    }));\n                }\n            }\n            if (this.parent.lockcolPositionCount && !this.lockColsRendered) {\n                for (var i = 0; i < cols.columns.length; i++) {\n                    rows = this.appendCells(cols.columns[i], rows, index + 1, isFirstObj, i === 0, i === (cols.columns.length - 1) && isLastCol, isMovable, tableName, false);\n                }\n            }\n            if (this.lockColsRendered) {\n                for (var i = 0, len = cols.columns.length; i < len; i++) {\n                    isFirstObj = isFirstObj && i === 0;\n                    var isFirstCol_1 = this.isFirstCol = cols.columns[i].visible && !isFirstObj;\n                    var isLaststackedCol = i === (len - 1) && isLastCol;\n                    rows = this.appendCells(cols.columns[i], rows, index + 1, isFirstObj, isFirstCol_1 && !isLaststackedCol, isLaststackedCol, isMovable, tableName, true);\n                }\n            }\n        }\n        return rows;\n    };\n    HeaderRender.prototype.ensureStackedFrozen = function (columns, tableName, isTrue) {\n        var length = columns.length;\n        for (var i = 0; i < length; i++) {\n            if (columns[i].columns) {\n                isTrue = this.ensureStackedFrozen(columns[i].columns, tableName, isTrue);\n            }\n            else if (columns[i].getFreezeTableName() === tableName) {\n                isTrue = true;\n                break;\n            }\n        }\n        return isTrue;\n    };\n    HeaderRender.prototype.getStackedLockColsCount = function (col, lockColsCount) {\n        if (col.columns) {\n            for (var i = 0; i < col.columns.length; i++) {\n                lockColsCount = this.getStackedLockColsCount(col.columns[i], lockColsCount);\n            }\n        }\n        else if (col.lockColumn) {\n            lockColsCount++;\n        }\n        return lockColsCount;\n    };\n    HeaderRender.prototype.getColSpan = function (colSpan, stackedLockColsCount, columns, tableName, isFrozen) {\n        if (isFrozen) {\n            colSpan = this.getFrozenColSpan(columns, tableName, 0);\n        }\n        else if (this.parent.lockcolPositionCount) {\n            colSpan = !this.lockColsRendered ? stackedLockColsCount : colSpan - stackedLockColsCount;\n        }\n        return colSpan;\n    };\n    HeaderRender.prototype.getFrozenColSpan = function (columns, tableName, count) {\n        var length = columns.length;\n        for (var i = 0; i < length; i++) {\n            if (columns[i].columns) {\n                count = this.getFrozenColSpan(columns[i].columns, tableName, count);\n            }\n            else if (columns[i].getFreezeTableName() === tableName && columns[i].visible) {\n                count++;\n            }\n        }\n        return count;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderRender.prototype.generateRow = function (index) {\n        return new Row({});\n    };\n    HeaderRender.prototype.generateCell = function (column, cellType, rowSpan, className, rowIndex, colIndex) {\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': false,\n            'isTemplate': !isNullOrUndefined(column.headerTemplate),\n            'rowID': '',\n            'column': column,\n            'cellType': cellType,\n            'rowSpan': rowSpan,\n            'className': className,\n            'index': rowIndex,\n            'colIndex': colIndex\n        };\n        if (!opt.rowSpan || opt.rowSpan < 2) {\n            delete opt.rowSpan;\n        }\n        return new Cell(opt);\n    };\n    /**\n     * Function to hide header table column based on visible property\n     *\n     * @param {Column[]} columns - specifies the column\n     * @returns {void}\n     */\n    HeaderRender.prototype.setVisible = function (columns) {\n        var gObj = this.parent;\n        var displayVal;\n        var idx;\n        var frzCols = gObj.getFrozenColumns();\n        for (var c = 0, clen = columns.length; c < clen; c++) {\n            var column = columns[c];\n            idx = gObj.getNormalizedColumnIndex(column.uid);\n            displayVal = column.visible ? '' : 'none';\n            if (frzCols) {\n                var normalizedfrzCols = this.parent.isRowDragable() ? frzCols + 1 : frzCols;\n                if (idx < normalizedfrzCols) {\n                    setStyleAttribute(this.getColGroup().children[idx], { 'display': displayVal });\n                }\n                else {\n                    var mTblColGrp = gObj.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.colGroup);\n                    setStyleAttribute(mTblColGrp.children[idx - normalizedfrzCols], { 'display': displayVal });\n                }\n            }\n            else {\n                setStyleAttribute(this.getColGroup().children[idx], { 'display': displayVal });\n            }\n        }\n        this.refreshUI();\n    };\n    HeaderRender.prototype.colPosRefresh = function () {\n        this.refreshUI();\n    };\n    /**\n     * Refresh the header of the Grid.\n     *\n     * @returns {void}\n     */\n    HeaderRender.prototype.refreshUI = function () {\n        var frzCols = this.parent.isFrozenGrid();\n        var isVFTable = this.parent.enableColumnVirtualization && frzCols;\n        var headerDiv = this.getPanel();\n        this.toggleStackClass(headerDiv);\n        var table = this.freezeReorder ? this.headerPanel.querySelector('.' + literals.movableHeader).querySelector('.' + literals.table)\n            : this.getTable();\n        var tableName = this.parent.isFrozenGrid() ? this.parent.getFrozenLeftCount() ? 'frozen-left'\n            : 'frozen-right' : undefined;\n        if (isVFTable) {\n            table = this.parent.contentModule.getVirtualFreezeHeader();\n            tableName = this.parent.contentModule.isXaxis() ? 'movable' : tableName;\n        }\n        if (table) {\n            remove(table);\n            table.removeChild(table.firstChild);\n            table.removeChild(table.childNodes[0]);\n            var colGroup = this.parent.createElement(literals.colGroup);\n            var findHeaderRow = this.createHeaderContent(tableName);\n            this.rows = findHeaderRow.rows;\n            table.insertBefore(findHeaderRow.thead, table.firstChild);\n            this.updateColGroup(colGroup);\n            table.insertBefore(this.setColGroup(colGroup), table.firstChild);\n            if (!isVFTable) {\n                this.setTable(table);\n            }\n            this.appendContent(table);\n            this.parent.notify(events.colGroupRefresh, {});\n            this.widthService.setWidthToColumns();\n            this.parent.updateDefaultCursor();\n            if (!frzCols || (this.parent.enableColumnVirtualization && frzCols)) {\n                this.initializeHeaderDrag();\n            }\n            var rows = [].slice.call(headerDiv.querySelectorAll('tr.e-columnheader'));\n            for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n                var row = rows_1[_i];\n                var gCells = [].slice.call(row.getElementsByClassName('e-grouptopleftcell'));\n                if (gCells.length) {\n                    gCells[gCells.length - 1].classList.add('e-lastgrouptopleftcell');\n                }\n            }\n            if (!frzCols) {\n                this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: frzCols } });\n            }\n            if (this.parent.enableColumnVirtualization && parentsUntil(table, literals.movableHeader)) {\n                this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: false, isXaxis: true } });\n            }\n            if (this.parent.allowTextWrap && this.parent.textWrapSettings.wrapMode === 'Header') {\n                wrap(rows, true);\n            }\n        }\n    };\n    HeaderRender.prototype.toggleStackClass = function (div) {\n        var column = this.parent.columns;\n        var stackedHdr = column.some(function (column) { return !isNullOrUndefined(column.columns); });\n        if (stackedHdr) {\n            div.classList.add('e-stackedheader');\n        }\n        else {\n            div.classList.remove('e-stackedheader');\n        }\n    };\n    HeaderRender.prototype.appendContent = function (table) {\n        this.getPanel().querySelector('.' + literals.headerContent).appendChild(table);\n    };\n    HeaderRender.prototype.getCellCnt = function (col, cnt) {\n        if (col.columns) {\n            for (var i = 0, len = col.columns.length; i < len; i++) {\n                cnt = this.getCellCnt(col.columns[i], cnt);\n            }\n        }\n        else {\n            if (col.visible) {\n                cnt++;\n            }\n        }\n        return cnt;\n    };\n    HeaderRender.prototype.initializeHeaderDrag = function () {\n        var gObj = this.parent;\n        if (!(this.parent.allowReordering || (this.parent.allowGrouping && this.parent.groupSettings.showDropArea))) {\n            return;\n        }\n        this.draggable = new Draggable(gObj.getHeaderContent(), {\n            dragTarget: '.e-headercell',\n            distance: 5,\n            helper: this.helper,\n            dragStart: this.dragStart,\n            drag: this.drag,\n            dragStop: this.dragStop,\n            abort: '.e-rhandler',\n            isReplaceDragEle: this.isReplaceDragEle\n        });\n    };\n    HeaderRender.prototype.initializeHeaderDrop = function () {\n        var gObj = this.parent;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var drop = new Droppable(gObj.getHeaderContent(), {\n            accept: '.e-dragclone',\n            drop: this.drop\n        });\n    };\n    HeaderRender.prototype.renderCustomToolbar = function () {\n        var _this = this;\n        var gObj = this.parent;\n        if (gObj.rowRenderingMode === 'Vertical' && !gObj.toolbar\n            && (gObj.allowSorting || (gObj.allowFiltering && gObj.filterSettings.type !== 'FilterBar'))) {\n            var div = gObj.createElement('div', { className: 'e-res-toolbar e-toolbar' });\n            var toolbarItems = gObj.createElement('div', { className: 'e-toolbar-items' });\n            var toolbarLeft = gObj.createElement('div', { className: 'e-toolbar-left' });\n            var count = this.parent.allowFiltering && this.parent.allowSorting ? 2 : 1;\n            for (var i = 0; i < count; i++) {\n                var toolbarItem = gObj.createElement('div', { className: 'e-toolbar-item e-gridresponsiveicons e-icons e-tbtn-align' });\n                var cls = count === 1 ? this.parent.allowSorting ? 'sort'\n                    : 'filter' : i === 1 ? 'sort' : 'filter';\n                var button = gObj.createElement('button', { className: 'e-tbar-btn e-control e-btn e-lib e-icon-btn' });\n                var span = gObj.createElement('span', { className: 'e-btn-icon e-res' + cls + '-icon e-icons' });\n                button.appendChild(span);\n                var btnObj = new Button({});\n                btnObj.appendTo(button);\n                button.onclick = function (e) {\n                    if (e.target.classList.contains('e-ressort-btn')\n                        || e.target.classList.contains('e-ressort-icon')) {\n                        _this.parent.showResponsiveCustomSort();\n                    }\n                    else {\n                        _this.parent.showResponsiveCustomFilter();\n                    }\n                };\n                toolbarItem.appendChild(button);\n                toolbarLeft.appendChild(toolbarItem);\n            }\n            toolbarItems.appendChild(toolbarLeft);\n            div.appendChild(toolbarItems);\n            gObj.element.insertBefore(div, this.parent.element.querySelector('.' + literals.gridHeader));\n        }\n        else {\n            if (gObj.enableAdaptiveUI && !gObj.toolbar) {\n                gObj.getContent().classList.add('e-responsive-header');\n            }\n        }\n    };\n    HeaderRender.prototype.updateCustomResponsiveToolbar = function (args) {\n        var resToolbar = this.parent.element.querySelector('.e-responsive-toolbar');\n        if (args.module === 'toolbar') {\n            if (resToolbar) {\n                remove(resToolbar);\n            }\n            else {\n                this.renderCustomToolbar();\n            }\n        }\n    };\n    return HeaderRender;\n}());\nexport { HeaderRender };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { attributes } from '@syncfusion/ej2-base';\nimport { setStyleAndAttributes, appendChildren } from '../base/util';\nimport { CellRenderer } from './cell-renderer';\nimport { AriaService } from '../services/aria-service';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { headerCellInfo } from '../base/constant';\n/**\n * HeaderCellRenderer class which responsible for building header cell content.\n *\n * @hidden\n */\nvar HeaderCellRenderer = /** @class */ (function (_super) {\n    __extends(HeaderCellRenderer, _super);\n    function HeaderCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent\n            .createElement('TH', { className: 'e-headercell', attrs: { role: 'columnheader', tabindex: '-1' } });\n        _this.ariaService = new AriaService();\n        _this.hTxtEle = _this.parent.createElement('span', { className: 'e-headertext' });\n        _this.sortEle = _this.parent.createElement('div', { className: 'e-sortfilterdiv e-icons' });\n        _this.gui = _this.parent.createElement('div');\n        _this.chkAllBox = _this.parent.createElement('input', { className: 'e-checkselectall', attrs: { 'type': 'checkbox', 'aria-label': 'checkbox' } });\n        return _this;\n    }\n    /**\n     * Function to return the wrapper for the TH content.\n     *\n     * @returns {string | Element} returns the element\n     */\n    HeaderCellRenderer.prototype.getGui = function () {\n        return this.gui.cloneNode();\n    };\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell} cell - specifies the column\n     * @param {Object} data - specifies the data\n     * @param {object} attributes - specifies the aattributes\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderCellRenderer.prototype.render = function (cell, data, attributes) {\n        var node = this.element.cloneNode();\n        var fltrMenuEle = this.parent.createElement('div', { className: 'e-filtermenudiv e-icons e-icon-filter' });\n        return this.prepareHeader(cell, node, fltrMenuEle);\n    };\n    /**\n     * Function to refresh the cell content based on Column object.\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Element} node - specifies the noe\n     * @returns {Element} returns the element\n     */\n    HeaderCellRenderer.prototype.refresh = function (cell, node) {\n        this.clean(node);\n        var fltrMenuEle = this.parent.createElement('div', { className: 'e-filtermenudiv e-icons e-icon-filter' });\n        return this.prepareHeader(cell, node, fltrMenuEle);\n    };\n    HeaderCellRenderer.prototype.clean = function (node) {\n        node.innerHTML = '';\n    };\n    /* tslint:disable-next-line:max-func-body-length */\n    HeaderCellRenderer.prototype.prepareHeader = function (cell, node, fltrMenuEle) {\n        var column = cell.column;\n        var ariaAttr = {};\n        //Prepare innerHtml\n        var innerDIV = this.getGui();\n        var hValueAccer;\n        attributes(innerDIV, {\n            'e-mappinguid': column.uid,\n            'class': 'e-headercelldiv'\n        });\n        if (!isNullOrUndefined(column.headerValueAccessor)) {\n            hValueAccer = this.getValue(column.headerText, column);\n        }\n        if (column.type !== 'checkbox') {\n            var value = column.headerText;\n            if (!isNullOrUndefined(hValueAccer)) {\n                value = hValueAccer;\n            }\n            var headerText = this.hTxtEle.cloneNode();\n            headerText[column.getDomSetter()] = value;\n            innerDIV.appendChild(headerText);\n        }\n        else {\n            column.editType = 'booleanedit';\n            var checkAllWrap = createCheckBox(this.parent.createElement, false, { checked: false, label: ' ' });\n            this.chkAllBox.id = 'checkbox-' + column.uid;\n            checkAllWrap.insertBefore(this.chkAllBox.cloneNode(), checkAllWrap.firstChild);\n            innerDIV.appendChild(checkAllWrap);\n            innerDIV.classList.add('e-headerchkcelldiv');\n        }\n        this.buildAttributeFromCell(node, cell);\n        this.appendHtml(node, innerDIV);\n        node.appendChild(this.sortEle.cloneNode());\n        if ((this.parent.allowFiltering && this.parent.filterSettings.type !== 'FilterBar') &&\n            (column.allowFiltering && !isNullOrUndefined(column.field)) &&\n            !(this.parent.showColumnMenu && column.showColumnMenu)) {\n            attributes(fltrMenuEle, {\n                'e-mappinguid': 'e-flmenu-' + column.uid\n            });\n            node.classList.add('e-fltr-icon');\n            var matchFlColumns = [];\n            if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFlColumns.length) {\n                var foreignColumn = this.parent.getForeignKeyColumns();\n                for (var index = 0; index < this.parent.columns.length; index++) {\n                    for (var count = 0; count < this.parent.filterSettings.columns.length; count++) {\n                        if (this.parent.filterSettings.columns[count].field === column.field || (foreignColumn.length\n                            && column.foreignKeyValue === this.parent.filterSettings.columns[count].field)) {\n                            fltrMenuEle.classList.add('e-filtered');\n                            matchFlColumns.push(column.field);\n                            break;\n                        }\n                    }\n                }\n            }\n            node.appendChild(fltrMenuEle.cloneNode());\n        }\n        if (cell.className) {\n            node.classList.add(cell.className);\n        }\n        if (column.customAttributes) {\n            setStyleAndAttributes(node, column.customAttributes);\n        }\n        if (column.allowSorting) {\n            ariaAttr.sort = 'none';\n        }\n        if (column.allowGrouping) {\n            ariaAttr.grabbed = false;\n        }\n        node = this.extendPrepareHeader(column, node);\n        var result;\n        var gridObj = this.parent;\n        var colIndex = gridObj.getColumnIndexByField(column.field);\n        if (!isNullOrUndefined(column.headerTemplate)) {\n            //need to pass the template id for blazor headertemplate\n            var headerTempID = gridObj.element.id + column.uid + 'headerTemplate';\n            var str = 'isStringTemplate';\n            var col = column;\n            var isReactCompiler = this.parent.isReact && typeof (column.headerTemplate) !== 'string';\n            if (isReactCompiler) {\n                var copied = { 'index': colIndex };\n                node.firstElementChild.innerHTML = '';\n                column.getHeaderTemplate()(extend(copied, col), gridObj, 'headerTemplate', headerTempID, this.parent[str], null, node.firstElementChild);\n                this.parent.renderTemplates();\n            }\n            else {\n                result = column.getHeaderTemplate()(extend({ 'index': colIndex }, col), gridObj, 'headerTemplate', headerTempID, this.parent[str]);\n                node.firstElementChild.innerHTML = '';\n                appendChildren(node.firstElementChild, result);\n            }\n        }\n        this.ariaService.setOptions(node, ariaAttr);\n        if (!isNullOrUndefined(column.headerTextAlign) || !isNullOrUndefined(column.textAlign)) {\n            var alignment = column.headerTextAlign || column.textAlign;\n            innerDIV.style.textAlign = alignment;\n            if (alignment === 'Right' || alignment === 'Left') {\n                node.classList.add(alignment === 'Right' ? 'e-rightalign' : 'e-leftalign');\n            }\n            else if (alignment === 'Center') {\n                node.classList.add('e-centeralign');\n            }\n        }\n        if (column.clipMode === 'Clip' || (!column.clipMode && this.parent.clipMode === 'Clip')) {\n            node.classList.add('e-gridclip');\n        }\n        else if (column.clipMode === 'EllipsisWithTooltip' || (!column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip')) {\n            if (column.type !== 'checkbox') {\n                node.classList.add('e-ellipsistooltip');\n            }\n        }\n        node.setAttribute('aria-rowspan', (!isNullOrUndefined(cell.rowSpan) ? cell.rowSpan : 1).toString());\n        node.setAttribute('aria-colspan', '1');\n        this.parent.trigger(headerCellInfo, { cell: cell, node: node });\n        return node;\n    };\n    HeaderCellRenderer.prototype.getValue = function (field, column) {\n        return column.headerValueAccessor(field, column);\n    };\n    HeaderCellRenderer.prototype.extendPrepareHeader = function (column, node) {\n        if (this.parent.showColumnMenu && column.showColumnMenu && !isNullOrUndefined(column.field)) {\n            var element = (this.parent.createElement('div', { className: 'e-icons e-columnmenu' }));\n            var matchFilteredColumns = [];\n            if (this.parent.filterSettings.columns.length && this.parent.filterSettings.columns.length !== matchFilteredColumns.length) {\n                for (var i = 0; i < this.parent.columns.length; i++) {\n                    for (var j = 0; j < this.parent.filterSettings.columns.length; j++) {\n                        if (this.parent.filterSettings.columns[j].field === column.field) {\n                            element.classList.add('e-filtered');\n                            matchFilteredColumns.push(column.field);\n                            break;\n                        }\n                    }\n                }\n            }\n            node.classList.add('e-fltr-icon');\n            node.appendChild(element);\n        }\n        if (this.parent.allowResizing) {\n            var handler = this.parent.createElement('div');\n            handler.className = column.allowResizing ? 'e-rhandler e-rcursor' : 'e-rsuppress';\n            node.appendChild(handler);\n        }\n        return node;\n    };\n    /**\n     * Function to specifies how the result content to be placed in the cell.\n     *\n     * @param  {Element} node - specifies the node\n     * @param  {string|Element} innerHtml - specifies the innerHtml\n     * @returns {Element} returns the element\n     */\n    HeaderCellRenderer.prototype.appendHtml = function (node, innerHtml) {\n        node.appendChild(innerHtml);\n        return node;\n    };\n    return HeaderCellRenderer;\n}(CellRenderer));\nexport { HeaderCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\nimport { headerCellInfo } from '../base/constant';\nimport { setStyleAndAttributes, appendChildren } from '../base/util';\n/**\n * StackedHeaderCellRenderer class which responsible for building stacked header cell content.\n *\n * @hidden\n */\nvar StackedHeaderCellRenderer = /** @class */ (function (_super) {\n    __extends(StackedHeaderCellRenderer, _super);\n    function StackedHeaderCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', {\n            className: 'e-headercell e-stackedheadercell', attrs: {\n                role: 'columnheader',\n                tabindex: '-1'\n            }\n        });\n        return _this;\n    }\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {object} attributes - specifies the attributes\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    StackedHeaderCellRenderer.prototype.render = function (cell, data, attributes) {\n        var node = this.element.cloneNode();\n        var div = this.parent.createElement('div', {\n            className: 'e-stackedheadercelldiv',\n            attrs: { 'e-mappinguid': cell.column.uid }\n        });\n        var column = cell.column;\n        node.appendChild(div);\n        if (!isNullOrUndefined(column.headerTemplate)) {\n            appendChildren(div, column.getHeaderTemplate()(column, this.parent, 'headerTemplate'));\n        }\n        else {\n            this.appendHtml(div, column.headerText, column.getDomSetter());\n        }\n        if (cell.column.toolTip) {\n            node.setAttribute('title', cell.column.toolTip);\n        }\n        if (column.clipMode === 'Clip' || (!column.clipMode && this.parent.clipMode === 'Clip')) {\n            node.classList.add('e-gridclip');\n        }\n        else if (column.clipMode === 'EllipsisWithTooltip' || (!column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip')) {\n            node.classList.add('e-ellipsistooltip');\n        }\n        if (!isNullOrUndefined(cell.column.textAlign)) {\n            div.style.textAlign = cell.column.textAlign;\n        }\n        if (cell.column.customAttributes) {\n            setStyleAndAttributes(node, cell.column.customAttributes);\n        }\n        node.setAttribute('colspan', cell.colSpan.toString());\n        node.setAttribute('aria-colspan', cell.colSpan.toString());\n        node.setAttribute('aria-rowspan', '1');\n        if (this.parent.allowResizing) {\n            var handler = this.parent.createElement('div');\n            handler.className = cell.column.allowResizing ? 'e-rhandler e-rcursor' : 'e-rsuppress';\n            node.appendChild(handler);\n        }\n        if (cell.className) {\n            node.classList.add(cell.className);\n        }\n        this.parent.trigger(headerCellInfo, { cell: cell, node: node });\n        return node;\n    };\n    return StackedHeaderCellRenderer;\n}(CellRenderer));\nexport { StackedHeaderCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { setStyleAndAttributes } from '../base/util';\nimport { CellRenderer } from './cell-renderer';\n/**\n * IndentCellRenderer class which responsible for building group indent cell.\n *\n * @hidden\n */\nvar IndentCellRenderer = /** @class */ (function (_super) {\n    __extends(IndentCellRenderer, _super);\n    function IndentCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', { className: 'e-indentcell' });\n        return _this;\n    }\n    /**\n     * Function to render the indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    IndentCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        setStyleAndAttributes(node, cell.attributes);\n        return node;\n    };\n    return IndentCellRenderer;\n}(CellRenderer));\nexport { IndentCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\nimport { appendChildren, templateCompiler } from '../base/util';\n/**\n * GroupCaptionCellRenderer class which responsible for building group caption cell.\n *\n * @hidden\n */\nvar GroupCaptionCellRenderer = /** @class */ (function (_super) {\n    __extends(GroupCaptionCellRenderer, _super);\n    function GroupCaptionCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent\n            .createElement('TD', { className: 'e-groupcaption',\n            attrs: { id: _this.parent.element.id + 'captioncell', role: 'gridcell', tabindex: '-1' } });\n        return _this;\n    }\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the GroupedData\n     * @returns {Element} returns the element\n     */\n    GroupCaptionCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        var gObj = this.parent;\n        var result;\n        var fKeyValue;\n        data.headerText = cell.column.headerText;\n        if (cell.isForeignKey) {\n            fKeyValue = this.format(cell.column, cell.column.valueAccessor('foreignKey', data, cell.column));\n        }\n        var value = cell.isForeignKey ? fKeyValue : cell.column.enableGroupByFormat ? data.key :\n            this.format(cell.column, cell.column.valueAccessor('key', data, cell.column));\n        if (!isNullOrUndefined(gObj.groupSettings.captionTemplate)) {\n            var isReactCompiler = this.parent.isReact && typeof (gObj.groupSettings.captionTemplate) !== 'string';\n            if (isReactCompiler) {\n                var tempID = gObj.element.id + 'captionTemplate';\n                templateCompiler(gObj.groupSettings.captionTemplate)(data, this.parent, 'captionTemplate', tempID, null, null, node);\n                this.parent.renderTemplates();\n            }\n            else if (this.parent.isVue) {\n                result = templateCompiler(gObj.groupSettings.captionTemplate)(data, this.parent);\n            }\n            else {\n                result = templateCompiler(gObj.groupSettings.captionTemplate)(data);\n            }\n            if (!isReactCompiler) {\n                appendChildren(node, result);\n            }\n        }\n        else {\n            if (gObj.groupSettings.enableLazyLoading) {\n                node.innerHTML = cell.column.headerText + ': ' + value;\n            }\n            else {\n                node.innerHTML = cell.column.headerText + ': ' + value + ' - ' + data.count + ' ' +\n                    (data.count < 2 ? this.localizer.getConstant('Item') : this.localizer.getConstant('Items'));\n            }\n        }\n        node.setAttribute('colspan', cell.colSpan.toString());\n        node.setAttribute('aria-label', node.innerHTML + ' is groupcaption cell');\n        node.setAttribute('title', node.innerHTML);\n        return node;\n    };\n    return GroupCaptionCellRenderer;\n}(CellRenderer));\nexport { GroupCaptionCellRenderer };\n/**\n * GroupCaptionEmptyCellRenderer class which responsible for building group caption empty cell.\n *\n * @hidden\n */\nvar GroupCaptionEmptyCellRenderer = /** @class */ (function (_super) {\n    __extends(GroupCaptionEmptyCellRenderer, _super);\n    function GroupCaptionEmptyCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', { className: 'e-groupcaption' });\n        return _this;\n    }\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell} cell - specifies the cell\n     * @param {Object} data - specifies the Object\n     * @param {string} data.field - Defines the field\n     * @param {string} data.key - Defines the key\n     * @param {number} data.count - Defines the count\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    GroupCaptionEmptyCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.innerHTML = '&nbsp;';\n        node.setAttribute('colspan', cell.colSpan.toString());\n        return node;\n    };\n    return GroupCaptionEmptyCellRenderer;\n}(CellRenderer));\nexport { GroupCaptionEmptyCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { IndentCellRenderer } from './indent-cell-renderer';\n/**\n * ExpandCellRenderer class which responsible for building group expand cell.\n *\n * @hidden\n */\nvar ExpandCellRenderer = /** @class */ (function (_super) {\n    __extends(ExpandCellRenderer, _super);\n    function ExpandCellRenderer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Function to render the expand cell\n     *\n     * @param {Cell} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {string} data.field - Defines the field\n     * @param {string} data.key - Defines the key\n     * @param {Object} attr - specifies the attribute\n     * @param {boolean} isExpand - specifies isexpand\n     * @returns {Element} returns the element\n     */\n    ExpandCellRenderer.prototype.render = function (cell, data, attr, isExpand) {\n        var node = this.element.cloneNode();\n        node.className = isExpand ? 'e-recordplusexpand' : 'e-recordpluscollapse';\n        node.setAttribute('ej-mappingname', data.field);\n        node.setAttribute('ej-mappingvalue', data.key);\n        node.setAttribute('aria-expanded', isExpand ? 'true' : 'false');\n        node.setAttribute('tabindex', '-1');\n        node.appendChild(this.parent.createElement('div', {\n            className: isExpand ? 'e-icons e-gdiagonaldown e-icon-gdownarrow' : 'e-icons e-gnextforward e-icon-grightarrow'\n        }));\n        return node;\n    };\n    return ExpandCellRenderer;\n}(IndentCellRenderer));\nexport { ExpandCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CellRenderer } from './cell-renderer';\n/**\n * HeaderIndentCellRenderer class which responsible for building header indent cell.\n *\n * @hidden\n */\nvar HeaderIndentCellRenderer = /** @class */ (function (_super) {\n    __extends(HeaderIndentCellRenderer, _super);\n    function HeaderIndentCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', { className: 'e-grouptopleftcell' });\n        return _this;\n    }\n    /**\n     * Function to render the indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    HeaderIndentCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.appendChild(this.parent.createElement('div', { className: 'e-headercelldiv e-emptycell', innerHTML: '' }));\n        return node;\n    };\n    return HeaderIndentCellRenderer;\n}(CellRenderer));\nexport { HeaderIndentCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CellRenderer } from './cell-renderer';\n/**\n * DetailHeaderIndentCellRenderer class which responsible for building detail header indent cell.\n *\n * @hidden\n */\nvar DetailHeaderIndentCellRenderer = /** @class */ (function (_super) {\n    __extends(DetailHeaderIndentCellRenderer, _super);\n    function DetailHeaderIndentCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', { className: 'e-detailheadercell' });\n        return _this;\n    }\n    /**\n     * Function to render the detail indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DetailHeaderIndentCellRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.appendChild(this.parent.createElement('div', { className: 'e-emptycell' }));\n        return node;\n    };\n    return DetailHeaderIndentCellRenderer;\n}(CellRenderer));\nexport { DetailHeaderIndentCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\n/**\n * ExpandCellRenderer class which responsible for building group expand cell.\n *\n * @hidden\n */\nvar DetailExpandCellRenderer = /** @class */ (function (_super) {\n    __extends(DetailExpandCellRenderer, _super);\n    function DetailExpandCellRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', {\n            className: 'e-detailrowcollapse',\n            attrs: { 'aria-expanded': 'false', role: 'gridcell', tabindex: '-1' }\n        });\n        return _this;\n    }\n    /**\n     * Function to render the detail expand cell\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {Object} attributes - specifies the attributes\n     * @returns {Element} returns the element\n     */\n    DetailExpandCellRenderer.prototype.render = function (cell, data, attributes) {\n        var node = this.element.cloneNode();\n        if (attributes && !isNullOrUndefined(attributes['class'])) {\n            node.className = '';\n            node.className = attributes['class'];\n            node.appendChild(this.parent.createElement('div', { className: 'e-icons e-dtdiagonaldown e-icon-gdownarrow' }));\n        }\n        else {\n            node.appendChild(this.parent.createElement('div', { className: 'e-icons e-dtdiagonalright e-icon-grightarrow' }));\n        }\n        return node;\n    };\n    return DetailExpandCellRenderer;\n}(CellRenderer));\nexport { DetailExpandCellRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CellRenderer } from './cell-renderer';\n/**\n * ExpandCellRenderer class which responsible for building group expand cell.\n *\n * @hidden\n */\nvar RowDragDropRenderer = /** @class */ (function (_super) {\n    __extends(RowDragDropRenderer, _super);\n    function RowDragDropRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TD', {\n            className: 'e-rowdragdrop e-rowdragdropcell',\n            attrs: { role: 'gridcell', tabindex: '-1' }\n        });\n        return _this;\n    }\n    /**\n     * Function to render the detail expand cell\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    RowDragDropRenderer.prototype.render = function (cell, data) {\n        var nodeElement = this.element.cloneNode();\n        nodeElement.appendChild(this.parent.createElement('div', {\n            className: 'e-icons e-rowcelldrag e-dtdiagonalright e-icon-rowdragicon'\n        }));\n        if (cell.isSelected) {\n            nodeElement.classList.add('e-selectionbackground');\n            nodeElement.classList.add('e-active');\n        }\n        return nodeElement;\n    };\n    return RowDragDropRenderer;\n}(CellRenderer));\nexport { RowDragDropRenderer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement } from '@syncfusion/ej2-base';\nimport { CellRenderer } from './cell-renderer';\n/**\n * DetailHeaderIndentCellRenderer class which responsible for building detail header indent cell.\n *\n * @hidden\n */\nvar RowDragDropHeaderRenderer = /** @class */ (function (_super) {\n    __extends(RowDragDropHeaderRenderer, _super);\n    function RowDragDropHeaderRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.element = _this.parent.createElement('TH', { className: 'e-rowdragheader' });\n        return _this;\n    }\n    /**\n     * Function to render the detail indent cell\n     *\n     * @param  {Cell} cell - specifies the cell\n     * @param  {Object} data - specifies the data\n     * @returns {Element} returns the element\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    RowDragDropHeaderRenderer.prototype.render = function (cell, data) {\n        var node = this.element.cloneNode();\n        node.appendChild(createElement('div', { className: 'e-emptycell' }));\n        return node;\n    };\n    return RowDragDropHeaderRenderer;\n}(CellRenderer));\nexport { RowDragDropHeaderRenderer };\n","import { remove, resetBlazorTemplate, blazorTemplates, getValue } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { DataManager, Query, Deferred, Predicate, DataUtil } from '@syncfusion/ej2-data';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { RenderType, CellType } from '../base/enum';\nimport { Data } from '../actions/data';\nimport { Column } from '../models/column';\nimport { Row } from '../models/row';\nimport { Cell } from '../models/cell';\nimport * as events from '../base/constant';\nimport { prepareColumns, setFormatter, isGroupAdaptive, getDatePredicate, getObject, clearReactVueTemplates } from '../base/util';\nimport { ContentRender } from '../renderer/content-renderer';\nimport { HeaderRender } from '../renderer/header-renderer';\nimport { CellRenderer } from '../renderer/cell-renderer';\nimport { HeaderCellRenderer } from '../renderer/header-cell-renderer';\nimport { StackedHeaderCellRenderer } from '../renderer/stacked-cell-renderer';\nimport { IndentCellRenderer } from '../renderer/indent-cell-renderer';\nimport { GroupCaptionCellRenderer, GroupCaptionEmptyCellRenderer } from '../renderer/caption-cell-renderer';\nimport { ExpandCellRenderer } from '../renderer/expand-cell-renderer';\nimport { HeaderIndentCellRenderer } from '../renderer/header-indent-renderer';\nimport { DetailHeaderIndentCellRenderer } from '../renderer/detail-header-indent-renderer';\nimport { DetailExpandCellRenderer } from '../renderer/detail-expand-cell-renderer';\nimport { RowDragDropRenderer } from './row-drag-drop-renderer';\nimport { RowDragDropHeaderRenderer } from '../renderer/row-drag-header-indent-render';\nimport * as literals from '../base/string-literals';\n/**\n * Content module is used to render grid content\n *\n * @hidden\n */\nvar Render = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} locator - specifies the serviceLocator\n     */\n    function Render(parent, locator) {\n        this.emptyGrid = false;\n        this.counter = 0;\n        this.parent = parent;\n        this.locator = locator;\n        this.data = new Data(parent, locator);\n        this.l10n = locator.getService('localization');\n        this.ariaService = this.locator.getService('ariaService');\n        this.renderer = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    /**\n     * To initialize grid header, content and footer rendering\n     *\n     * @returns {void}\n     */\n    Render.prototype.render = function () {\n        var gObj = this.parent;\n        this.headerRenderer = this.renderer.getRenderer(RenderType.Header);\n        this.contentRenderer = this.renderer.getRenderer(RenderType.Content);\n        this.headerRenderer.renderPanel();\n        this.contentRenderer.renderPanel();\n        if (gObj.getColumns().length) {\n            this.isLayoutRendered = true;\n            this.headerRenderer.renderTable();\n            this.contentRenderer.renderTable();\n            this.emptyRow(false);\n        }\n        this.parent.scrollModule.setWidth();\n        this.parent.scrollModule.setHeight();\n        if (this.parent.height !== 'auto') {\n            this.parent.scrollModule.setPadding();\n        }\n        this.refreshDataManager();\n    };\n    /**\n     * Refresh the entire Grid.\n     *\n     * @param {NotifyArgs} e - specifies the NotifyArgs\n     * @returns {void}\n     */\n    Render.prototype.refresh = function (e) {\n        var _this = this;\n        if (e === void 0) { e = { requestType: 'refresh' }; }\n        var gObj = this.parent;\n        gObj.notify(e.requestType + \"-begin\", e);\n        gObj.trigger(events.actionBegin, e, function (args) {\n            if (args === void 0) { args = { requestType: 'refresh' }; }\n            if (args.cancel) {\n                gObj.notify(events.cancelBegin, args);\n                return;\n            }\n            if (args.requestType === 'delete' && gObj.allowPaging) {\n                var dataLength = args.data.length;\n                var count = gObj.pageSettings.totalRecordsCount - dataLength;\n                var currentViewData = gObj.getCurrentViewRecords().length;\n                // eslint-disable-next-line max-len\n                if (!(currentViewData - dataLength) && count && ((gObj.pageSettings.currentPage - 1) * gObj.pageSettings.pageSize) === count) {\n                    gObj.prevPageMoving = true;\n                    gObj.setProperties({\n                        pageSettings: {\n                            totalRecordsCount: count, currentPage: Math.ceil(count / gObj.pageSettings.pageSize)\n                        }\n                    }, true);\n                    gObj.pagerModule.pagerObj.totalRecordsCount = count;\n                }\n            }\n            if (args.requestType === 'reorder' && _this.parent.dataSource && 'result' in _this.parent.dataSource) {\n                _this.contentRenderer.refreshContentRows(args);\n            }\n            else if ((args.requestType === 'paging' || args.requestType === 'columnstate' || args.requestType === 'reorder')\n                && _this.parent.groupSettings.enableLazyLoading && _this.parent.groupSettings.columns.length\n                && _this.parent.contentModule.getGroupCache()[_this.parent.pageSettings.currentPage]) {\n                _this.contentRenderer.refreshContentRows(args);\n            }\n            else {\n                _this.refreshDataManager(args);\n            }\n        });\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Render.prototype.resetTemplates = function () {\n        var gObj = this.parent;\n        var gridColumns = gObj.getColumns();\n        if (gObj.detailTemplate) {\n            var detailTemplateID = gObj.element.id + 'detailTemplate';\n            blazorTemplates[detailTemplateID] = [];\n            resetBlazorTemplate(detailTemplateID, 'DetailTemplate');\n        }\n        if (gObj.groupSettings.captionTemplate) {\n            resetBlazorTemplate(gObj.element.id + 'captionTemplate', 'CaptionTemplate');\n        }\n        if (gObj.rowTemplate) {\n            resetBlazorTemplate(gObj.element.id + 'rowTemplate', 'RowTemplate');\n        }\n        if (gObj.toolbarTemplate) {\n            resetBlazorTemplate(gObj.element.id + 'toolbarTemplate', 'ToolbarTemplate');\n        }\n        if (gObj.pageSettings.template) {\n            resetBlazorTemplate(gObj.element.id + '_template', 'pageSettings');\n        }\n        for (var i = 0; i < gridColumns.length; i++) {\n            if (gridColumns[i].template) {\n                blazorTemplates[gObj.element.id + gridColumns[i].uid] = [];\n                resetBlazorTemplate(gObj.element.id + gridColumns[i].uid, 'Template');\n            }\n            if (gridColumns[i].headerTemplate) {\n                resetBlazorTemplate(gObj.element.id + gridColumns[i].uid + 'headerTemplate', 'HeaderTemplate');\n            }\n            if (gridColumns[i].filterTemplate) {\n                resetBlazorTemplate(gObj.element.id + gridColumns[i].uid + 'filterTemplate', 'FilterTemplate');\n            }\n        }\n        var guid = 'guid';\n        for (var k = 0; k < gObj.aggregates.length; k++) {\n            for (var j = 0; j < gObj.aggregates[k].columns.length; j++) {\n                if (gObj.aggregates[k].columns[j].footerTemplate) {\n                    var tempID = gObj.element.id + gObj.aggregates[k].columns[j][guid] + 'footerTemplate';\n                    resetBlazorTemplate(tempID, 'FooterTemplate');\n                }\n                if (gObj.aggregates[k].columns[j].groupFooterTemplate) {\n                    var tempID = gObj.element.id + gObj.aggregates[k].columns[j][guid] + 'groupFooterTemplate';\n                    resetBlazorTemplate(tempID, 'GroupFooterTemplate');\n                }\n                if (gObj.aggregates[k].columns[j].groupCaptionTemplate) {\n                    var tempID = gObj.element.id + gObj.aggregates[k].columns[j][guid] + 'groupCaptionTemplate';\n                    resetBlazorTemplate(tempID, 'GroupCaptionTemplate');\n                }\n            }\n        }\n    };\n    Render.prototype.refreshComplete = function (e) {\n        this.parent.trigger(events.actionComplete, e);\n    };\n    /**\n     * The function is used to refresh the dataManager\n     *\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     */\n    Render.prototype.refreshDataManager = function (args) {\n        var _this = this;\n        if (args === void 0) { args = {}; }\n        if (args.requestType !== 'virtualscroll' && !args.isCaptionCollapse) {\n            this.parent.showSpinner();\n        }\n        this.parent.notify(events.resetInfiniteBlocks, args);\n        this.emptyGrid = false;\n        var dataManager;\n        var isFActon = this.isNeedForeignAction();\n        this.ariaService.setBusy(this.parent.getContent().querySelector('.' + literals.content), true);\n        if (isFActon) {\n            var deffered = new Deferred();\n            dataManager = this.getFData(deffered, args);\n        }\n        if (!dataManager) {\n            dataManager = this.data.getData(args, this.data.generateQuery().requiresCount());\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            dataManager = dataManager.then(function (e) {\n                var query = _this.data.generateQuery().requiresCount();\n                if (_this.emptyGrid) {\n                    var def = new Deferred();\n                    def.resolve({ result: [], count: 0 });\n                    return def.promise;\n                }\n                return _this.data.getData(args, query);\n            });\n        }\n        if (this.parent.getForeignKeyColumns().length && (!isFActon || this.parent.searchSettings.key.length)) {\n            var deffered_1 = new Deferred();\n            dataManager = dataManager.then(function (e) {\n                _this.parent.notify(events.getForeignKeyData, { dataManager: dataManager, result: e, promise: deffered_1, action: args });\n                return deffered_1.promise;\n            });\n        }\n        if (this.parent.groupSettings.disablePageWiseAggregates && this.parent.groupSettings.columns.length) {\n            dataManager = dataManager.then(function (e) { return _this.validateGroupRecords(e); });\n        }\n        dataManager.then(function (e) { return _this.dataManagerSuccess(e, args); })\n            .catch(function (e) { return _this.dataManagerFailure(e, args); });\n    };\n    Render.prototype.getFData = function (deferred, args) {\n        this.parent.notify(events.getForeignKeyData, { isComplex: true, promise: deferred, action: args });\n        return deferred.promise;\n    };\n    Render.prototype.isNeedForeignAction = function () {\n        var gObj = this.parent;\n        return !!((gObj.allowFiltering && gObj.filterSettings.columns.length) ||\n            (gObj.searchSettings.key.length)) && this.foreignKey(this.parent.getForeignKeyColumns());\n    };\n    Render.prototype.foreignKey = function (columns) {\n        var _this = this;\n        return columns.some(function (col) {\n            var fbool = false;\n            fbool = _this.parent.filterSettings.columns.some(function (value) {\n                return col.uid === value.uid;\n            });\n            return !!(fbool || _this.parent.searchSettings.key.length);\n        });\n    };\n    Render.prototype.sendBulkRequest = function (args) {\n        var _this = this;\n        args.requestType = 'batchsave';\n        var promise = this.data.saveChanges(args.changes, this.parent.getPrimaryKeyFieldNames()[0], args.original);\n        var query = this.data.generateQuery().requiresCount();\n        if (this.data.dataManager.dataSource.offline) {\n            this.refreshDataManager({ requestType: 'batchsave' });\n            return;\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            promise.then(function (e) {\n                _this.data.getData(args, query)\n                    .then(function (e) { return _this.dmSuccess(e, args); })\n                    .catch(function (e) { return _this.dmFailure(e, args); });\n            })\n                .catch(function (e) { return _this.dmFailure(e, args); });\n        }\n    };\n    Render.prototype.dmSuccess = function (e, args) {\n        this.dataManagerSuccess(e, args);\n    };\n    Render.prototype.dmFailure = function (e, args) {\n        this.dataManagerFailure(e, args);\n    };\n    /**\n     * Render empty row to Grid which is used at the time to represent to no records.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Render.prototype.renderEmptyRow = function () {\n        this.emptyRow(true);\n    };\n    Render.prototype.emptyRow = function (isTrigger) {\n        var gObj = this.parent;\n        var tbody = this.contentRenderer.getTable().querySelector(literals.tbody);\n        if (!isNullOrUndefined(tbody)) {\n            remove(tbody);\n        }\n        tbody = this.parent.createElement(literals.tbody);\n        var spanCount = 0;\n        if (gObj.detailTemplate || gObj.childGrid) {\n            ++spanCount;\n        }\n        var tr = this.parent.createElement('tr', { className: 'e-emptyrow' });\n        tr.appendChild(this.parent.createElement('td', {\n            innerHTML: this.l10n.getConstant('EmptyRecord'),\n            attrs: { colspan: (gObj.getVisibleColumns().length + spanCount + gObj.groupSettings.columns.length).toString() }\n        }));\n        tbody.appendChild(tr);\n        this.contentRenderer.renderEmpty(tbody);\n        if (isTrigger) {\n            this.parent.trigger(events.dataBound, {});\n            this.parent.notify(events.onEmpty, { rows: [new Row({ isDataRow: true, cells: [new Cell({ isDataCell: true, visible: true })] })] });\n        }\n    };\n    Render.prototype.dynamicColumnChange = function () {\n        if (this.parent.getCurrentViewRecords().length) {\n            this.updateColumnType(this.parent.getCurrentViewRecords()[0]);\n        }\n    };\n    Render.prototype.updateColumnType = function (record) {\n        var columns = this.parent.getColumns();\n        var value;\n        var cFormat = 'customFormat';\n        var equalTo = 'equalTo';\n        var data = record && record.items ? record.items[0] : record;\n        var fmtr = this.locator.getService('valueFormatter');\n        for (var i = 0, len = columns.length; i < len; i++) {\n            value = getObject(columns[i].field || '', data);\n            if (!isNullOrUndefined(columns[i][cFormat])) {\n                columns[i].format = columns[i][cFormat];\n            }\n            if (!isNullOrUndefined(columns[i].validationRules) && !isNullOrUndefined(columns[i].validationRules[equalTo])) {\n                columns[i].validationRules[equalTo][0] = this.parent.element.id + columns[i].validationRules[equalTo][0];\n            }\n            if (columns[i].isForeignColumn() && columns[i].columnData) {\n                value = getObject(columns[i].foreignKeyValue || '', columns[i].columnData[0]);\n            }\n            if (!isNullOrUndefined(value)) {\n                this.isColTypeDef = true;\n                if (!columns[i].type) {\n                    columns[i].type = value.getDay ? (value.getHours() > 0 || value.getMinutes() > 0 ||\n                        value.getSeconds() > 0 || value.getMilliseconds() > 0 ? 'datetime' : 'date') : typeof (value);\n                }\n            }\n            else {\n                columns[i].type = columns[i].type || null;\n            }\n            var valueFormatter = new ValueFormatter();\n            if (columns[i].format && (columns[i].format.skeleton || (columns[i].format.format &&\n                typeof columns[i].format.format === 'string'))) {\n                columns[i].setFormatter(valueFormatter.getFormatFunction(extend({}, columns[i].format)));\n                columns[i].setParser(valueFormatter.getParserFunction(columns[i].format));\n            }\n            if (typeof (columns[i].format) === 'string') {\n                setFormatter(this.locator, columns[i]);\n            }\n            else if (!columns[i].format && columns[i].type === 'number') {\n                columns[i].setParser(fmtr.getParserFunction({ format: 'n2' }));\n            }\n        }\n    };\n    /**\n     * @param {ReturnType} e - specifies the return type\n     * @param {NotifyArgs} args - specifies the Notifyargs\n     * @returns {void}\n     * @hidden\n     */\n    // tslint:disable-next-line:max-func-body-length\n    Render.prototype.dataManagerSuccess = function (e, args) {\n        var _this = this;\n        var gObj = this.parent;\n        this.contentRenderer = this.renderer.getRenderer(RenderType.Content);\n        this.headerRenderer = this.renderer.getRenderer(RenderType.Header);\n        e.actionArgs = args;\n        var isInfiniteDelete = this.parent.enableInfiniteScrolling && !this.parent.infiniteScrollSettings.enableCache\n            && (args.requestType === 'delete' || (args.requestType === 'save' && this.parent.infiniteScrollModule.requestType === 'add'));\n        // tslint:disable-next-line:max-func-body-length\n        gObj.trigger(events.beforeDataBound, e, function (dataArgs) {\n            if (dataArgs.cancel) {\n                return;\n            }\n            dataArgs.result = isNullOrUndefined(dataArgs.result) ? [] : dataArgs.result;\n            var len = Object.keys(dataArgs.result).length;\n            if (_this.parent.isDestroyed) {\n                return;\n            }\n            if ((!gObj.getColumns().length && !len) && !(gObj.columns.length && gObj.columns[0] instanceof Column)) {\n                gObj.hideSpinner();\n                return;\n            }\n            if (_this.isInfiniteEnd(args) && !len) {\n                _this.parent.notify(events.infiniteEditHandler, { e: args, result: e.result, count: e.count, agg: e.aggregates });\n                return;\n            }\n            _this.parent.isEdit = false;\n            _this.parent.notify(events.editReset, {});\n            _this.parent.notify(events.tooltipDestroy, {});\n            _this.contentRenderer.prevCurrentView = _this.parent.currentViewData.slice();\n            gObj.currentViewData = dataArgs.result;\n            gObj.notify(events.refreshInfiniteCurrentViewData, { args: args, data: dataArgs.result });\n            if (!len && dataArgs.count && gObj.allowPaging && args && args.requestType !== 'delete') {\n                if (_this.parent.groupSettings.enableLazyLoading\n                    && (args.requestType === 'grouping' || args.requestType === 'ungrouping')) {\n                    _this.parent.notify(events.groupComplete, args);\n                }\n                gObj.prevPageMoving = true;\n                gObj.pageSettings.totalRecordsCount = dataArgs.count;\n                if (args.requestType !== 'paging') {\n                    gObj.pageSettings.currentPage = Math.ceil(dataArgs.count / gObj.pageSettings.pageSize);\n                }\n                gObj.dataBind();\n                return;\n            }\n            if ((!gObj.getColumns().length && len || !_this.isLayoutRendered) && !isGroupAdaptive(gObj)) {\n                _this.updatesOnInitialRender(dataArgs);\n            }\n            if (!_this.isColTypeDef && gObj.getCurrentViewRecords()) {\n                if (_this.data.dataManager.dataSource.offline && gObj.dataSource && gObj.dataSource.length) {\n                    _this.updateColumnType(gObj.dataSource[0]);\n                }\n                else {\n                    _this.updateColumnType(gObj.getCurrentViewRecords()[0]);\n                }\n            }\n            if (!_this.parent.isInitialLoad && _this.parent.groupSettings.disablePageWiseAggregates &&\n                !_this.parent.groupSettings.columns.length) {\n                dataArgs.result = _this.parent.dataSource instanceof Array ? _this.parent.dataSource : _this.parent.currentViewData;\n            }\n            if ((_this.parent.isReact || _this.parent.isVue) && !isNullOrUndefined(args) && args.requestType !== 'infiniteScroll' && !args.isFrozen) {\n                clearReactVueTemplates(_this.parent, ['footerTemplate']);\n            }\n            _this.parent.notify(events.dataReady, extend({ count: dataArgs.count, result: dataArgs.result, aggregates: dataArgs.aggregates }, args));\n            if ((gObj.groupSettings.columns.length || (args && args.requestType === 'ungrouping'))\n                && (args && args.requestType !== 'filtering')) {\n                _this.headerRenderer.refreshUI();\n            }\n            if (len) {\n                if (isGroupAdaptive(gObj)) {\n                    var content = 'content';\n                    args.scrollTop = { top: _this.contentRenderer[content].scrollTop };\n                }\n                if (!isInfiniteDelete) {\n                    if (_this.parent.enableImmutableMode) {\n                        _this.contentRenderer.immutableModeRendering(args);\n                    }\n                    else {\n                        _this.contentRenderer.refreshContentRows(args);\n                    }\n                }\n                else {\n                    _this.parent.notify(events.infiniteEditHandler, { e: args, result: e.result, count: e.count, agg: e.aggregates });\n                }\n            }\n            else {\n                if (args && args.isCaptionCollapse) {\n                    return;\n                }\n                if (!gObj.getColumns().length) {\n                    gObj.element.innerHTML = '';\n                    alert(_this.l10n.getConstant('EmptyDataSourceError')); //ToDO: change this alert as dialog\n                    return;\n                }\n                _this.contentRenderer.setRowElements([]);\n                _this.contentRenderer.setRowObjects([]);\n                _this.ariaService.setBusy(_this.parent.getContent().querySelector('.' + literals.content), false);\n                _this.renderEmptyRow();\n                if (args) {\n                    var action = (args.requestType || '').toLowerCase() + '-complete';\n                    _this.parent.notify(action, args);\n                    if (args.requestType === 'batchsave') {\n                        args.cancel = false;\n                        args.rows = [];\n                        args.isFrozen = _this.parent.getFrozenColumns() !== 0 && !args.isFrozen;\n                        _this.parent.trigger(events.actionComplete, args);\n                    }\n                }\n                _this.parent.hideSpinner();\n            }\n            _this.parent.notify(events.toolbarRefresh, {});\n            _this.setRowCount(_this.parent.getCurrentViewRecords().length);\n            _this.parent.getDataModule().isQueryInvokedFromData = false;\n        });\n    };\n    /**\n     * @param {object} e - specifies the object\n     * @param {Object[]} e.result - specifies the result\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {void}\n     * @hidden\n     */\n    Render.prototype.dataManagerFailure = function (e, args) {\n        this.ariaService.setOptions(this.parent.getContent().querySelector('.' + literals.content), { busy: false, invalid: true });\n        this.setRowCount(1);\n        this.parent.trigger(events.actionFailure, { error: e });\n        this.parent.hideSpinner();\n        if (args.requestType === 'save' || args.requestType === 'delete'\n            || args.name === 'bulk-save') {\n            return;\n        }\n        this.parent.currentViewData = [];\n        this.renderEmptyRow();\n        this.parent.log('actionfailure', { error: e });\n    };\n    Render.prototype.setRowCount = function (dataRowCount) {\n        this.ariaService.setOptions(this.parent.getHeaderTable(), {\n            rowcount: dataRowCount ? dataRowCount.toString() : '1'\n        });\n    };\n    Render.prototype.isInfiniteEnd = function (args) {\n        return this.parent.enableInfiniteScrolling && !this.parent.infiniteScrollSettings.enableCache && args.requestType === 'delete';\n    };\n    Render.prototype.updatesOnInitialRender = function (e) {\n        this.isLayoutRendered = true;\n        if (this.parent.columns.length < 1) {\n            this.buildColumns(e.result[0]);\n        }\n        prepareColumns(this.parent.columns, null, this.parent);\n        this.headerRenderer.renderTable();\n        this.contentRenderer.renderTable();\n        this.parent.isAutoGen = true;\n        this.parent.notify(events.autoCol, {});\n    };\n    Render.prototype.iterateComplexColumns = function (obj, field, split) {\n        var keys = Object.keys(obj);\n        for (var i = 0; i < keys.length; i++) {\n            var childKeys = typeof obj[keys[i]] === 'object' && obj[keys[i]] && !(obj[keys[i]] instanceof Date) ?\n                Object.keys(obj[keys[i]]) : [];\n            if (childKeys.length) {\n                this.iterateComplexColumns(obj[keys[i]], field + (keys[i] + '.'), split);\n            }\n            else {\n                split[this.counter] = field + keys[i];\n                this.counter++;\n            }\n        }\n    };\n    Render.prototype.buildColumns = function (record) {\n        var cols = [];\n        var complexCols = {};\n        this.iterateComplexColumns(record, '', complexCols);\n        var columns = Object.keys(complexCols).filter(function (e) { return complexCols[e] !== 'BlazId'; }).\n            map(function (field) { return complexCols[field]; });\n        for (var i = 0, len = columns.length; i < len; i++) {\n            cols[i] = { 'field': columns[i] };\n            if (this.parent.enableColumnVirtualization) {\n                cols[i].width = !isNullOrUndefined(cols[i].width) ? cols[i].width : 200;\n            }\n        }\n        this.parent.setProperties({ 'columns': cols }, true);\n    };\n    Render.prototype.instantiateRenderer = function () {\n        this.renderer.addRenderer(RenderType.Header, new HeaderRender(this.parent, this.locator));\n        this.renderer.addRenderer(RenderType.Content, new ContentRender(this.parent, this.locator));\n        var cellrender = this.locator.getService('cellRendererFactory');\n        cellrender.addCellRenderer(CellType.Header, new HeaderCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.Data, new CellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.StackedHeader, new StackedHeaderCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.Indent, new IndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.GroupCaption, new GroupCaptionCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.GroupCaptionEmpty, new GroupCaptionEmptyCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.Expand, new ExpandCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.HeaderIndent, new HeaderIndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.StackedHeader, new StackedHeaderCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.DetailHeader, new DetailHeaderIndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.RowDragHIcon, new RowDragDropHeaderRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.DetailExpand, new DetailExpandCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.DetailFooterIntent, new IndentCellRenderer(this.parent, this.locator));\n        cellrender.addCellRenderer(CellType.RowDragIcon, new RowDragDropRenderer(this.parent, this.locator));\n    };\n    Render.prototype.addEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialLoad, this.instantiateRenderer, this);\n        this.parent.on('refreshdataSource', this.dataManagerSuccess, this);\n        this.parent.on(events.modelChanged, this.refresh, this);\n        this.parent.on(events.refreshComplete, this.refreshComplete, this);\n        this.parent.on(events.bulkSave, this.sendBulkRequest, this);\n        this.parent.on(events.showEmptyGrid, function () { _this.emptyGrid = true; }, this);\n        this.parent.on(events.autoCol, this.dynamicColumnChange, this);\n    };\n    /**\n     * @param {ReturnType} e - specifies the Return type\n     * @returns {Promise<Object>} returns the object\n     * @hidden\n     */\n    Render.prototype.validateGroupRecords = function (e) {\n        var _this = this;\n        var index = e.result.length - 1;\n        if (index < 0) {\n            return Promise.resolve(e);\n        }\n        var group0 = e.result[0];\n        var groupN = e.result[index];\n        var predicate = [];\n        var addWhere = function (input) {\n            var groups = [group0, groupN];\n            for (var i = 0; i < groups.length; i++) {\n                predicate.push(new Predicate('field', '==', groups[i].field).and(_this.getPredicate('key', 'equal', groups[i].key)));\n            }\n            input.where(Predicate.or(predicate));\n        };\n        var query = new Query();\n        addWhere(query);\n        var curDm = new DataManager(e.result);\n        var curFilter = curDm.executeLocal(query);\n        var newQuery = this.data.generateQuery(true);\n        var rPredicate = [];\n        if (this.data.isRemote()) {\n            var groups = [group0, groupN];\n            for (var i = 0; i < groups.length; i++) {\n                rPredicate.push(this.getPredicate(groups[i].field, 'equal', groups[i].key));\n            }\n            newQuery.where(Predicate.or(rPredicate));\n        }\n        else {\n            addWhere(newQuery);\n        }\n        var deferred = new Deferred();\n        this.data.getData({}, newQuery).then(function (r) {\n            _this.updateGroupInfo(curFilter, r.result);\n            deferred.resolve(e);\n        }).catch(function (e) { return deferred.reject(e); });\n        return deferred.promise;\n    };\n    Render.prototype.getPredicate = function (key, operator, value) {\n        if (value instanceof Date) {\n            return getDatePredicate({ field: key, operator: operator, value: value });\n        }\n        return new Predicate(key, operator, value);\n    };\n    Render.prototype.updateGroupInfo = function (current, untouched) {\n        var dm = new DataManager(untouched);\n        var elements = current;\n        for (var i = 0; i < elements.length; i++) {\n            var uGroup = dm.executeLocal(new Query()\n                .where(new Predicate('field', '==', elements[i].field).and(this.getPredicate('key', 'equal', elements[i].key))))[0];\n            elements[i].count = uGroup.count;\n            var itemGroup = elements[i].items;\n            var uGroupItem = uGroup.items;\n            if (itemGroup.GroupGuid) {\n                elements[i].items = this.updateGroupInfo(elements[i].items, uGroup.items);\n            }\n            var rows = this.parent.aggregates;\n            for (var j = 0; j < rows.length; j++) {\n                var row = rows[j];\n                for (var k = 0; k < row.columns.length; k++) {\n                    var types = row.columns[k].type instanceof Array ? (row.columns[k].type) :\n                        [(row.columns[k].type)];\n                    for (var l = 0; l < types.length; l++) {\n                        var key = row.columns[k].field + ' - ' + types[l].toLowerCase();\n                        var data = itemGroup.level ? uGroupItem.records : uGroup.items;\n                        var context = this.parent;\n                        if (types[l] === 'Custom') {\n                            var data_1 = itemGroup.level ? uGroupItem : uGroup;\n                            var temp = row.columns[k].customAggregate;\n                            if (typeof temp === 'string') {\n                                temp = getValue(temp, window);\n                            }\n                            elements[i].aggregates[key] = temp ? temp.call(context, data_1, row.columns[k]) : '';\n                        }\n                        else {\n                            // eslint-disable-next-line max-len\n                            elements[i].aggregates[key] = DataUtil.aggregates[types[l].toLowerCase()](data, row.columns[k].field);\n                        }\n                    }\n                }\n            }\n        }\n        return current;\n    };\n    return Render;\n}());\nexport { Render };\n","import { isNullOrUndefined, getEnumValue } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\n/**\n * CellRendererFactory\n *\n * @hidden\n */\nvar CellRendererFactory = /** @class */ (function () {\n    function CellRendererFactory() {\n        this.cellRenderMap = {};\n    }\n    CellRendererFactory.prototype.addCellRenderer = function (name, type) {\n        name = typeof name === 'string' ? name : getEnumValue(CellType, name);\n        if (isNullOrUndefined(this.cellRenderMap[name])) {\n            this.cellRenderMap[name] = type;\n        }\n    };\n    CellRendererFactory.prototype.getCellRenderer = function (name) {\n        name = typeof name === 'string' ? name : getEnumValue(CellType, name);\n        if (isNullOrUndefined(this.cellRenderMap[name])) {\n            // eslint-disable-next-line no-throw-literal\n            throw \"The cellRenderer \" + name + \" is not found\";\n        }\n        else {\n            return this.cellRenderMap[name];\n        }\n    };\n    return CellRendererFactory;\n}());\nexport { CellRendererFactory };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ResponsiveDialogRenderer } from '../renderer/responsive-dialog-renderer';\n/**\n * ServiceLocator\n *\n * @hidden\n */\nvar ServiceLocator = /** @class */ (function () {\n    function ServiceLocator() {\n        this.services = {};\n    }\n    ServiceLocator.prototype.register = function (name, type) {\n        if (isNullOrUndefined(this.services[name])) {\n            this.services[name] = type;\n        }\n    };\n    ServiceLocator.prototype.getService = function (name) {\n        if (isNullOrUndefined(this.services[name])) {\n            // eslint-disable-next-line no-throw-literal\n            throw \"The service \" + name + \" is not registered\";\n        }\n        return this.services[name];\n    };\n    ServiceLocator.prototype.registerAdaptiveService = function (type, isAdaptiveUI, action) {\n        if (isAdaptiveUI) {\n            type.responsiveDialogRenderer = new ResponsiveDialogRenderer(type.parent, type.serviceLocator);\n            type.responsiveDialogRenderer.action = action;\n        }\n        else {\n            if (type.responsiveDialogRenderer) {\n                type.responsiveDialogRenderer.removeEventListener();\n                type.responsiveDialogRenderer = undefined;\n            }\n        }\n    };\n    return ServiceLocator;\n}());\nexport { ServiceLocator };\n","import { isNullOrUndefined, getEnumValue } from '@syncfusion/ej2-base';\nimport { RenderType } from '../base/enum';\n/**\n * RendererFactory\n *\n * @hidden\n */\nvar RendererFactory = /** @class */ (function () {\n    function RendererFactory() {\n        this.rendererMap = {};\n    }\n    RendererFactory.prototype.addRenderer = function (name, type) {\n        var rName = getEnumValue(RenderType, name);\n        if (isNullOrUndefined(this.rendererMap[rName])) {\n            this.rendererMap[rName] = type;\n        }\n    };\n    RendererFactory.prototype.getRenderer = function (name) {\n        var rName = getEnumValue(RenderType, name);\n        if (isNullOrUndefined(this.rendererMap[rName])) {\n            // eslint-disable-next-line no-throw-literal\n            throw \"The renderer \" + rName + \" is not found\";\n        }\n        else {\n            return this.rendererMap[rName];\n        }\n    };\n    return RendererFactory;\n}());\nexport { RendererFactory };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the paging behavior of the Grid.\n */\nvar PageSettings = /** @class */ (function (_super) {\n    __extends(PageSettings, _super);\n    function PageSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(12)\n    ], PageSettings.prototype, \"pageSize\", void 0);\n    __decorate([\n        Property(8)\n    ], PageSettings.prototype, \"pageCount\", void 0);\n    __decorate([\n        Property(1)\n    ], PageSettings.prototype, \"currentPage\", void 0);\n    __decorate([\n        Property()\n    ], PageSettings.prototype, \"totalRecordsCount\", void 0);\n    __decorate([\n        Property(false)\n    ], PageSettings.prototype, \"enableQueryString\", void 0);\n    __decorate([\n        Property(false)\n    ], PageSettings.prototype, \"pageSizes\", void 0);\n    __decorate([\n        Property(null)\n    ], PageSettings.prototype, \"template\", void 0);\n    return PageSettings;\n}(ChildProperty));\nexport { PageSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the column chooser behavior of the Grid.\n */\nvar ColumnChooserSettings = /** @class */ (function (_super) {\n    __extends(ColumnChooserSettings, _super);\n    function ColumnChooserSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('startsWith')\n    ], ColumnChooserSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property(false)\n    ], ColumnChooserSettings.prototype, \"ignoreAccent\", void 0);\n    return ColumnChooserSettings;\n}(ChildProperty));\nexport { ColumnChooserSettings };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Browser, EventHandler, createElement } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, isUndefined, addClass, removeClass } from '@syncfusion/ej2-base';\nimport { remove, closest, select } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { setCssInGridPopUp, getPosition, isGroupAdaptive, addRemoveActiveClasses, removeAddCboxClasses } from '../base/util';\nimport { getCellsByTableName, getCellByColAndRowIndex, parentsUntil, gridActionHandler } from '../base/util';\nimport * as events from '../base/constant';\nimport { RenderType } from '../base/enum';\nimport { iterateExtend, setChecked } from '../base/util';\nimport { addRemoveEventListener } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * The `Selection` module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    /**\n     * Constructor for the Grid selection module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {SelectionSettings} selectionSettings - specifies the selectionsettings\n     * @param {ServiceLocator} locator - specifies the ServiceLocator\n     * @hidden\n     */\n    function Selection(parent, selectionSettings, locator) {\n        //Internal letiables\n        /**\n         * @hidden\n         */\n        this.selectedRowIndexes = [];\n        /**\n         * @hidden\n         */\n        this.selectedRowCellIndexes = [];\n        /**\n         * @hidden\n         */\n        this.selectedRecords = [];\n        /**\n         * @hidden\n         */\n        this.preventFocus = false;\n        /**\n         *  @hidden\n         */\n        this.selectedColumnsIndexes = [];\n        this.checkBoxState = false;\n        this.isMultiShiftRequest = false;\n        this.isMultiCtrlRequest = false;\n        this.enableSelectMultiTouch = false;\n        this.clearRowCheck = false;\n        this.selectRowCheck = false;\n        this.selectedRowState = {};\n        this.totalRecordsCount = 0;\n        this.chkAllCollec = [];\n        this.isCheckedOnAdd = false;\n        this.persistSelectedData = [];\n        this.deSelectedData = [];\n        this.needColumnSelection = false;\n        this.isCancelDeSelect = false;\n        this.isPreventCellSelect = false;\n        this.disableUI = false;\n        this.isPersisted = false;\n        this.cmdKeyPressed = false;\n        this.cellselected = false;\n        this.isMultiSelection = false;\n        this.isAddRowsToSelection = false;\n        this.initialRowSelection = false;\n        this.isPrevRowSelection = false;\n        this.isKeyAction = false;\n        this.isRowDragSelected = false;\n        /**\n         * @hidden\n         */\n        this.autoFillRLselection = true;\n        this.bottom = '0 0 2px 0';\n        this.top = '2px 0 0 0';\n        /* eslint-disable */\n        this.right_bottom = '0 2px 2px 0';\n        this.bottom_left = '0 0 2px 2px';\n        this.top_right = '2px 2px 0 0';\n        this.top_left = '2px 0 0 2px';\n        this.top_bottom = '2px 0 2px 0';\n        this.top_right_bottom = '2px 2px 2px 0';\n        this.top_bottom_left = '2px 0 2px 2px';\n        this.top_right_left = '2px 2px 0 2px';\n        this.right_bottom_left = '0 2px 2px 2px';\n        this.all_border = '2px';\n        this.parent = parent;\n        this.selectionSettings = selectionSettings;\n        this.factory = locator.getService('rendererFactory');\n        this.focus = locator.getService('focus');\n        this.addEventListener();\n        this.wireEvents();\n    }\n    Selection.prototype.initializeSelection = function () {\n        this.parent.log('selection_key_missing');\n        this.render();\n    };\n    /**\n     * The function used to trigger onActionBegin\n     *\n     * @param {Object} args - specifies the args\n     * @param {string} type - specifies the type\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.onActionBegin = function (args, type) {\n        this.parent.trigger(type, this.fDataUpdate(args));\n    };\n    Selection.prototype.fDataUpdate = function (args) {\n        if (!this.isMultiSelection && (!isNullOrUndefined(args.cellIndex) || !isNullOrUndefined(args.rowIndex))) {\n            var rowObj = this.getRowObj(isNullOrUndefined(args.rowIndex) ? isNullOrUndefined(args.cellIndex) ?\n                this.currentIndex : args.cellIndex.rowIndex : args.rowIndex);\n            args.foreignKeyData = rowObj.foreignKeyData;\n        }\n        return args;\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {Object} args - specifies the args\n     * @param {string} type - specifies the type\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.onActionComplete = function (args, type) {\n        this.parent.trigger(type, this.fDataUpdate(args));\n        this.isMultiSelection = false;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    /**\n     * To destroy the selection\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.hidePopUp();\n        this.clearSelection();\n        this.removeEventListener();\n        this.unWireEvents();\n        EventHandler.remove(this.parent.getContent(), 'mousedown', this.mouseDownHandler);\n        EventHandler.remove(this.parent.getHeaderContent(), 'mousedown', this.mouseDownHandler);\n    };\n    Selection.prototype.isEditing = function () {\n        return (this.parent.editSettings.mode === 'Normal' || (this.parent.editSettings.mode === 'Batch' && this.parent.editModule &&\n            this.parent.editModule.formObj && !this.parent.editModule.formObj.validate())) &&\n            this.parent.isEdit && !this.parent.isPersistSelection;\n    };\n    Selection.prototype.getSelectedMovableRow = function (index) {\n        var gObj = this.parent;\n        if (gObj.isFrozenGrid() && this.parent.getContent().querySelector('.' + literals.movableContent)) {\n            return gObj.getMovableRowByIndex(index);\n        }\n        return null;\n    };\n    Selection.prototype.getSelectedFrozenRightRow = function (index) {\n        var gObj = this.parent;\n        if (gObj.isFrozenGrid() && gObj.getFrozenMode() === literals.leftRight && gObj.getFrozenRightContent()) {\n            return gObj.getFrozenRightRowByIndex(index);\n        }\n        return null;\n    };\n    Selection.prototype.getCurrentBatchRecordChanges = function () {\n        var gObj = this.parent;\n        if (gObj.editSettings.mode === 'Batch' && gObj.editModule) {\n            var currentRecords = iterateExtend(this.parent.getCurrentViewRecords());\n            currentRecords = gObj.editSettings.newRowPosition === 'Bottom' ?\n                currentRecords.concat(this.parent.editModule.getBatchChanges()[literals.addedRecords]) :\n                this.parent.editModule.getBatchChanges()[literals.addedRecords].concat(currentRecords);\n            var deletedRecords = this.parent.editModule.getBatchChanges()[literals.deletedRecords];\n            var primaryKey = this.parent.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < (deletedRecords.length); i++) {\n                for (var j = 0; j < currentRecords.length; j++) {\n                    if (deletedRecords[i][primaryKey] === currentRecords[j][primaryKey]) {\n                        currentRecords.splice(j, 1);\n                        break;\n                    }\n                }\n            }\n            return currentRecords;\n        }\n        else {\n            return gObj.getCurrentViewRecords();\n        }\n    };\n    /**\n     * Selects a row by the given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Selection.prototype.selectRow = function (index, isToggle) {\n        if (this.selectedRowIndexes.length && this.selectionSettings.enableSimpleMultiRowSelection) {\n            this.addRowsToSelection([index]);\n            return;\n        }\n        var gObj = this.parent;\n        var selectedRow = gObj.getRowByIndex(index);\n        var selectedMovableRow = this.getSelectedMovableRow(index);\n        var selectedFrozenRightRow = this.getSelectedFrozenRightRow(index);\n        var selectData;\n        var isRemoved = false;\n        if (gObj.enableVirtualization && index > -1) {\n            var e = { selectedIndex: index, isAvailable: true };\n            this.parent.notify(events.selectVirtualRow, e);\n            var frozenData = gObj.isFrozenGrid() ? gObj.contentModule.getRowObjectByIndex(index)\n                : null;\n            if (selectedRow && (gObj.getRowObjectFromUID(selectedRow.getAttribute('data-uid')) || frozenData)) {\n                selectData = frozenData ? frozenData : gObj.getRowObjectFromUID(selectedRow.getAttribute('data-uid')).data;\n            }\n            else {\n                if (e.isAvailable && !gObj.selectionSettings.persistSelection) {\n                    var prevSelectedData = this.parent.getSelectedRecords();\n                    if (prevSelectedData.length > 0) {\n                        this.clearRowSelection();\n                    }\n                }\n                return;\n            }\n        }\n        else {\n            selectData = this.getRowObj(index).data;\n        }\n        if (!this.isRowType() || !selectedRow || this.isEditing()) {\n            // if (this.isEditing()) {\n            //     gObj.selectedRowIndex = index;\n            // }\n            return;\n        }\n        var isRowSelected = selectedRow.hasAttribute('aria-selected');\n        this.activeTarget();\n        isToggle = !isToggle ? isToggle :\n            !this.selectedRowIndexes.length ? false :\n                (this.selectedRowIndexes.length === 1 ? (this.isKeyAction && this.parent.isCheckBoxSelection ?\n                    false : index === this.selectedRowIndexes[0]) : false);\n        this.isKeyAction = false;\n        var args;\n        var can = 'cancel';\n        if (!isToggle) {\n            args = {\n                data: selectData, rowIndex: index, isCtrlPressed: this.isMultiCtrlRequest,\n                isShiftPressed: this.isMultiShiftRequest, row: selectedRow,\n                previousRow: gObj.getRowByIndex(this.prevRowIndex),\n                previousRowIndex: this.prevRowIndex, target: this.actualTarget, cancel: false, isInteracted: this.isInteracted,\n                isHeaderCheckboxClicked: this.isHeaderCheckboxClicked\n            };\n            args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n            this.parent.trigger(events.rowSelecting, this.fDataUpdate(args), this.rowSelectingCallBack(args, isToggle, index, selectData, isRemoved, isRowSelected, can));\n        }\n        else {\n            this.rowSelectingCallBack(args, isToggle, index, selectData, isRemoved, isRowSelected, can)(args);\n        }\n    };\n    Selection.prototype.rowSelectingCallBack = function (args, isToggle, index, selectData, isRemoved, isRowSelected, can) {\n        var _this = this;\n        return function (args) {\n            if (!isNullOrUndefined(args) && args[can] === true) {\n                _this.disableInteracted();\n                return;\n            }\n            _this.index = index;\n            _this.toggle = isToggle;\n            _this.data = selectData;\n            _this.removed = isRemoved;\n            if (isRowSelected && _this.selectionSettings.persistSelection && !(_this.selectionSettings.checkboxMode === 'ResetOnRowClick')) {\n                _this.clearSelectedRow(index);\n                _this.selectRowCallBack();\n            }\n            else if (!isRowSelected && _this.selectionSettings.persistSelection &&\n                _this.selectionSettings.checkboxMode !== 'ResetOnRowClick') {\n                _this.selectRowCallBack();\n            }\n            if (_this.selectionSettings.checkboxMode === 'ResetOnRowClick') {\n                _this.clearSelection();\n            }\n            if (!_this.selectionSettings.persistSelection || _this.selectionSettings.checkboxMode === 'ResetOnRowClick' ||\n                (!_this.parent.isCheckBoxSelection && _this.selectionSettings.persistSelection)) {\n                _this.selectRowCheck = true;\n                _this.clearRow();\n            }\n        };\n    };\n    Selection.prototype.selectRowCallBack = function () {\n        var gObj = this.parent;\n        var args;\n        var index = this.index;\n        var isToggle = this.toggle;\n        var selectData = this.data;\n        var isRemoved = this.removed;\n        var selectedRow = gObj.getRowByIndex(index);\n        var selectedMovableRow = this.getSelectedMovableRow(index);\n        var selectedFrozenRightRow = this.getSelectedFrozenRightRow(index);\n        if (!isToggle && !isRemoved) {\n            if (this.selectedRowIndexes.indexOf(index) <= -1) {\n                this.updateRowSelection(selectedRow, index);\n                this.selectMovableRow(selectedMovableRow, selectedFrozenRightRow, index);\n            }\n            this.selectRowIndex(index);\n        }\n        if (!isToggle) {\n            args = {\n                data: selectData, rowIndex: index,\n                row: selectedRow, previousRow: gObj.getRowByIndex(this.prevRowIndex),\n                previousRowIndex: this.prevRowIndex, target: this.actualTarget, isInteracted: this.isInteracted,\n                isHeaderCheckBoxClicked: this.isHeaderCheckboxClicked\n            };\n            args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n            this.onActionComplete(args, events.rowSelected);\n        }\n        this.isInteracted = false;\n        this.updateRowProps(index);\n    };\n    Selection.prototype.selectMovableRow = function (selectedMovableRow, selectedFrozenRightRow, index) {\n        if (this.parent.isFrozenGrid()) {\n            this.updateRowSelection(selectedMovableRow, index);\n            if (this.parent.getFrozenMode() === literals.leftRight && selectedFrozenRightRow) {\n                this.updateRowSelection(selectedFrozenRightRow, index);\n            }\n        }\n    };\n    Selection.prototype.addMovableArgs = function (targetObj, mRow, frRow) {\n        if (this.parent.isFrozenGrid()) {\n            var mObj = { mRow: mRow, previousMovRow: this.parent.getMovableRows()[this.prevRowIndex] };\n            var frozenRightRow = 'frozenRightRow';\n            var previousFrozenRightRow = 'previousFrozenRightRow';\n            if (this.parent.getFrozenMode() === literals.leftRight && frRow) {\n                mObj[frozenRightRow] = frRow;\n                mObj[previousFrozenRightRow] = this.parent.getFrozenRightDataRows()[this.prevRowIndex];\n            }\n            targetObj = __assign({}, targetObj, mObj);\n        }\n        return targetObj;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Specifies the start row index.\n     * @param  {number} endIndex - Specifies the end row index.\n     * @returns {void}\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.selectRows(this.getCollectionFromIndexes(startIndex, endIndex));\n        this.selectRowIndex(endIndex);\n    };\n    Selection.prototype.selectedDataUpdate = function (selectedData, foreignKeyData, selectedRows, rowIndexes) {\n        for (var i = 0, len = rowIndexes.length; i < len; i++) {\n            var currentRow = this.parent.getDataRows()[rowIndexes[i]];\n            var rowObj = this.getRowObj(currentRow);\n            if (rowObj) {\n                selectedData.push(rowObj.data);\n                selectedRows.push(currentRow);\n                foreignKeyData.push(rowObj.foreignKeyData);\n            }\n        }\n    };\n    /**\n     * Selects a collection of rows by index.\n     *\n     * @param  {number[]} rowIndexes - Specifies an array of row indexes.\n     * @returns {void}\n     */\n    Selection.prototype.selectRows = function (rowIndexes) {\n        var _this = this;\n        var gObj = this.parent;\n        var rowIndex = !this.isSingleSel() ? rowIndexes[0] : rowIndexes[rowIndexes.length - 1];\n        this.isMultiSelection = true;\n        var selectedRows = [];\n        var foreignKeyData = [];\n        var selectedMovableRow = this.getSelectedMovableRow(rowIndex);\n        var selectedFrozenRightRow = this.getSelectedFrozenRightRow(rowIndex);\n        var can = 'cancel';\n        var selectedData = [];\n        if (!this.isRowType() || this.isEditing()) {\n            return;\n        }\n        this.selectedDataUpdate(selectedData, foreignKeyData, selectedRows, rowIndexes);\n        this.activeTarget();\n        var args = {\n            cancel: false,\n            rowIndexes: rowIndexes, row: selectedRows, rowIndex: rowIndex, target: this.actualTarget,\n            prevRow: gObj.getRows()[this.prevRowIndex], previousRowIndex: this.prevRowIndex,\n            isInteracted: this.isInteracted, isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n            data: selectedData, isHeaderCheckboxClicked: this.isHeaderCheckboxClicked, foreignKeyData: foreignKeyData\n        };\n        args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n        this.parent.trigger(events.rowSelecting, this.fDataUpdate(args), function (args) {\n            if (!isNullOrUndefined(args) && args[can] === true) {\n                _this.disableInteracted();\n                return;\n            }\n            _this.clearRow();\n            _this.selectRowIndex(rowIndexes.slice(-1)[0]);\n            var selectRowFn = function (index) {\n                _this.updateRowSelection(gObj.getRowByIndex(index), index);\n                if (gObj.isFrozenGrid()) {\n                    var rightEle = _this.parent.getFrozenMode() === literals.leftRight ? gObj.getFrozenRightRowByIndex(index)\n                        : undefined;\n                    _this.selectMovableRow(gObj.getMovableRowByIndex(index), rightEle, index);\n                }\n                _this.updateRowProps(rowIndex);\n            };\n            if (!_this.isSingleSel()) {\n                for (var _i = 0, rowIndexes_1 = rowIndexes; _i < rowIndexes_1.length; _i++) {\n                    var rowIdx = rowIndexes_1[_i];\n                    selectRowFn(rowIdx);\n                }\n            }\n            else {\n                selectRowFn(rowIndex);\n            }\n            args = {\n                rowIndexes: rowIndexes, row: selectedRows, rowIndex: rowIndex, target: _this.actualTarget,\n                prevRow: gObj.getRows()[_this.prevRowIndex], previousRowIndex: _this.prevRowIndex,\n                data: _this.getSelectedRecords(), isInteracted: _this.isInteracted,\n                isHeaderCheckboxClicked: _this.isHeaderCheckboxClicked, foreignKeyData: foreignKeyData\n            };\n            args = _this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n            if (_this.isRowSelected) {\n                _this.onActionComplete(args, events.rowSelected);\n            }\n            _this.isInteracted = false;\n        });\n    };\n    /**\n     * Select rows with existing row selection by passing row indexes.\n     *\n     * @param {number} rowIndexes - Specifies the row indexes.\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.addRowsToSelection = function (rowIndexes) {\n        var gObj = this.parent;\n        var can = 'cancel';\n        var target = this.target;\n        this.isMultiSelection = true;\n        var selectedRows = [];\n        var foreignKeyData = [];\n        var selectedData = [];\n        var indexes = gObj.getSelectedRowIndexes().concat(rowIndexes);\n        var selectedRow = !this.isSingleSel() ? gObj.getRowByIndex(rowIndexes[0]) :\n            gObj.getRowByIndex(rowIndexes[rowIndexes.length - 1]);\n        var selectedMovableRow = !this.isSingleSel() ? this.getSelectedMovableRow(rowIndexes[0]) :\n            this.getSelectedMovableRow(rowIndexes[rowIndexes.length - 1]);\n        var selectedFrozenRightRow = !this.isSingleSel() ? this.getSelectedFrozenRightRow(rowIndexes[0]) :\n            this.getSelectedFrozenRightRow(rowIndexes[rowIndexes.length - 1]);\n        if ((!this.isRowType() || this.isEditing()) && !this.selectionSettings.checkboxOnly) {\n            return;\n        }\n        var args;\n        var checkboxColumn = this.parent.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (this.isMultiCtrlRequest && !checkboxColumn.length) {\n            this.selectedDataUpdate(selectedData, foreignKeyData, selectedRows, indexes);\n        }\n        for (var _i = 0, rowIndexes_2 = rowIndexes; _i < rowIndexes_2.length; _i++) {\n            var rowIndex = rowIndexes_2[_i];\n            var rowObj = this.getRowObj(rowIndex);\n            var isUnSelected = this.selectedRowIndexes.indexOf(rowIndex) > -1;\n            this.selectRowIndex(rowIndex);\n            if (isUnSelected && ((checkboxColumn.length ? true : this.selectionSettings.enableToggle) || this.isMultiCtrlRequest)) {\n                this.isAddRowsToSelection = true;\n                this.rowDeselect(events.rowDeselecting, [rowIndex], [rowObj.data], [selectedRow], [rowObj.foreignKeyData], target);\n                if (this.isCancelDeSelect) {\n                    return;\n                }\n                this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(rowIndex), 1);\n                this.selectedRecords.splice(this.selectedRecords.indexOf(selectedRow), 1);\n                this.selectRowIndex(this.selectedRowIndexes.length ? this.selectedRowIndexes[this.selectedRowIndexes.length - 1] : -1);\n                selectedRow.removeAttribute('aria-selected');\n                this.addRemoveClassesForRow(selectedRow, false, null, 'e-selectionbackground', 'e-active');\n                if (selectedMovableRow) {\n                    this.selectedRecords.splice(this.selectedRecords.indexOf(selectedMovableRow), 1);\n                    selectedMovableRow.removeAttribute('aria-selected');\n                    this.addRemoveClassesForRow(selectedMovableRow, false, null, 'e-selectionbackground', 'e-active');\n                }\n                if (selectedFrozenRightRow) {\n                    this.selectedRecords.splice(this.selectedRecords.indexOf(selectedFrozenRightRow), 1);\n                    selectedFrozenRightRow.removeAttribute('aria-selected');\n                    this.addRemoveClassesForRow(selectedFrozenRightRow, false, null, 'e-selectionbackground', 'e-active');\n                }\n                this.rowDeselect(events.rowDeselected, [rowIndex], [rowObj.data], [selectedRow], [rowObj.foreignKeyData], target, [selectedMovableRow], undefined, [selectedFrozenRightRow]);\n                this.isInteracted = false;\n                this.isMultiSelection = false;\n                this.isAddRowsToSelection = false;\n            }\n            else {\n                this.activeTarget();\n                args = {\n                    cancel: false,\n                    data: selectedData.length ? selectedData : rowObj.data, rowIndex: rowIndex, row: selectedRows.length ? selectedRows :\n                        selectedRow, target: this.actualTarget, prevRow: gObj.getRows()[this.prevRowIndex],\n                    previousRowIndex: this.prevRowIndex, isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n                    foreignKeyData: foreignKeyData.length ? foreignKeyData : rowObj.foreignKeyData, isInteracted: this.isInteracted,\n                    isHeaderCheckboxClicked: this.isHeaderCheckboxClicked, rowIndexes: indexes\n                };\n                args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n                this.parent.trigger(events.rowSelecting, this.fDataUpdate(args));\n                if (!isNullOrUndefined(args) && args[can] === true) {\n                    this.disableInteracted();\n                    return;\n                }\n                if (this.isSingleSel()) {\n                    this.clearRow();\n                }\n                this.updateRowSelection(selectedRow, rowIndex);\n                this.selectMovableRow(selectedMovableRow, selectedFrozenRightRow, rowIndex);\n            }\n            if (!isUnSelected) {\n                args = {\n                    data: selectedData.length ? selectedData : rowObj.data, rowIndex: rowIndex, row: selectedRows.length ? selectedRows :\n                        selectedRow, target: this.actualTarget, prevRow: gObj.getRows()[this.prevRowIndex],\n                    previousRowIndex: this.prevRowIndex, foreignKeyData: foreignKeyData.length ? foreignKeyData : rowObj.foreignKeyData,\n                    isInteracted: this.isInteracted, isHeaderCheckboxClicked: this.isHeaderCheckboxClicked, rowIndexes: indexes\n                };\n                args = this.addMovableArgs(args, selectedMovableRow, selectedFrozenRightRow);\n                this.onActionComplete(args, events.rowSelected);\n            }\n            this.isInteracted = false;\n            this.updateRowProps(rowIndex);\n            if (this.isSingleSel()) {\n                break;\n            }\n        }\n    };\n    Selection.prototype.getCollectionFromIndexes = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line prefer-const\n        var _a = (startIndex <= endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        return indexes;\n    };\n    Selection.prototype.clearRow = function () {\n        this.clearRowCheck = true;\n        this.clearRowSelection();\n    };\n    Selection.prototype.clearRowCallBack = function () {\n        if (this.isCancelDeSelect && this.parent.checkAllRows !== 'Check') {\n            return;\n        }\n        this.selectedRowIndexes = [];\n        this.selectedRecords = [];\n        this.selectRowIndex(-1);\n        if (this.isSingleSel() && this.parent.isPersistSelection) {\n            this.selectedRowState = {};\n        }\n    };\n    Selection.prototype.clearSelectedRow = function (index) {\n        if (this.toggle) {\n            var selectedEle = this.parent.getRowByIndex(index);\n            if (!this.disableUI) {\n                selectedEle.removeAttribute('aria-selected');\n                this.addRemoveClassesForRow(selectedEle, false, true, 'e-selectionbackground', 'e-active');\n            }\n            this.removed = true;\n            this.updatePersistCollection(selectedEle, false);\n            this.updateCheckBoxes(selectedEle);\n            this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(index), 1);\n            this.selectedRecords.splice(this.selectedRecords.indexOf(this.parent.getRowByIndex(index)), 1);\n        }\n    };\n    Selection.prototype.updateRowProps = function (startIndex) {\n        this.prevRowIndex = startIndex;\n        this.isRowSelected = this.selectedRowIndexes.length && true;\n    };\n    Selection.prototype.updatePersistCollection = function (selectedRow, chkState) {\n        var _this = this;\n        if ((this.parent.isPersistSelection || this.parent.selectionSettings.persistSelection &&\n            this.parent.getPrimaryKeyFieldNames().length > 0) && !isNullOrUndefined(selectedRow)) {\n            if (!this.parent.isPersistSelection) {\n                this.ensureCheckboxFieldSelection();\n            }\n            var rowObj = this.getRowObj(selectedRow);\n            var pKey_1 = rowObj.data ? rowObj.data[this.primaryKey] : null;\n            if (pKey_1 === null) {\n                return;\n            }\n            rowObj.isSelected = chkState;\n            if (chkState) {\n                this.selectedRowState[pKey_1] = chkState;\n                if (!this.persistSelectedData.some(function (data) { return data[_this.primaryKey] === pKey_1; })) {\n                    this.persistSelectedData.push(rowObj.data);\n                }\n            }\n            else {\n                this.updatePersistDelete(pKey_1);\n            }\n        }\n    };\n    Selection.prototype.updatePersistDelete = function (pKey) {\n        var _this = this;\n        delete (this.selectedRowState[pKey]);\n        var index;\n        var isPresent = this.persistSelectedData.some(function (data, i) {\n            index = i;\n            return data[_this.primaryKey] === pKey;\n        });\n        if (isPresent) {\n            this.persistSelectedData.splice(index, 1);\n        }\n    };\n    Selection.prototype.updateCheckBoxes = function (row, chkState, rowIndex) {\n        if (!isNullOrUndefined(row)) {\n            var chkBox = row.querySelector('.e-checkselect');\n            if (!isNullOrUndefined(chkBox)) {\n                removeAddCboxClasses(chkBox.nextElementSibling, chkState);\n                setChecked(chkBox, chkState);\n                if (isNullOrUndefined(this.checkedTarget) || (!isNullOrUndefined(this.checkedTarget)\n                    && !this.checkedTarget.classList.contains('e-checkselectall'))) {\n                    this.setCheckAllState(rowIndex);\n                }\n            }\n        }\n    };\n    Selection.prototype.updateRowSelection = function (selectedRow, startIndex) {\n        if (!selectedRow) {\n            return;\n        }\n        this.selectedRowIndexes.push(startIndex);\n        var len = this.selectedRowIndexes.length;\n        if (this.parent.isFrozenGrid() && len > 1) {\n            if ((this.selectedRowIndexes[len - 2] === this.selectedRowIndexes[len - 1])) {\n                this.selectedRowIndexes.pop();\n            }\n        }\n        this.selectedRecords.push(selectedRow);\n        selectedRow.setAttribute('aria-selected', 'true');\n        this.updatePersistCollection(selectedRow, true);\n        this.updateCheckBoxes(selectedRow, true);\n        this.addRemoveClassesForRow(selectedRow, true, null, 'e-selectionbackground', 'e-active');\n        if (!this.preventFocus) {\n            var target = this.focus.getPrevIndexes().cellIndex ?\n                selectedRow.cells[this.focus.getPrevIndexes().cellIndex] :\n                selectedRow.querySelector('.e-selectionbackground:not(.e-hide):not(.e-detailrowcollapse):not(.e-detailrowexpand)');\n            if (this.parent.contextMenuModule && this.mouseButton === 2) {\n                target = this.parent.contextMenuModule.cell;\n            }\n            if (!target) {\n                return;\n            }\n            this.focus.onClick({ target: target }, true);\n        }\n    };\n    /**\n     * Deselects the currently selected rows and cells.\n     *\n     * @returns {void}\n     */\n    Selection.prototype.clearSelection = function () {\n        this.checkSelectAllClicked = true;\n        if (this.selectionSettings.persistSelection && this.persistSelectedData.length) {\n            this.deSelectedData = iterateExtend(this.persistSelectedData);\n        }\n        if (!this.parent.isPersistSelection || (this.parent.isPersistSelection && !this.parent.isEdit) ||\n            (!isNullOrUndefined(this.checkedTarget) && this.checkedTarget.classList.contains('e-checkselectall'))) {\n            var span = this.parent.element.querySelector('.e-gridpopup').querySelector('span');\n            if (span.classList.contains('e-rowselect')) {\n                span.classList.remove('e-spanclicked');\n            }\n            if (this.parent.isPersistSelection) {\n                this.persistSelectedData = [];\n                this.selectedRowState = {};\n            }\n            this.clearRowSelection();\n            this.clearCellSelection();\n            this.clearColumnSelection();\n            this.prevRowIndex = undefined;\n            this.prevCIdxs = undefined;\n            this.prevECIdxs = undefined;\n            this.enableSelectMultiTouch = false;\n            this.isInteracted = false;\n            this.checkSelectAllClicked = false;\n        }\n    };\n    /**\n     * Deselects the currently selected rows.\n     *\n     * @returns {void}\n     */\n    Selection.prototype.clearRowSelection = function () {\n        var _this = this;\n        if (this.isRowSelected) {\n            var gObj = this.parent;\n            var rows_1 = this.parent.getDataRows();\n            var data_1 = [];\n            var row_1 = [];\n            var mRow_1 = [];\n            var fRightRow_1 = [];\n            var rowIndex_1 = [];\n            var foreignKeyData_1 = [];\n            var target_1 = this.target;\n            for (var i = 0, len = this.selectedRowIndexes.length; i < len; i++) {\n                var currentRow = this.parent.editSettings.mode === 'Batch' ?\n                    this.parent.getRows()[this.selectedRowIndexes[i]]\n                    : this.parent.getDataRows()[this.selectedRowIndexes[i]];\n                var rowObj = this.getRowObj(currentRow);\n                if (rowObj) {\n                    data_1.push(rowObj.data);\n                    row_1.push(currentRow);\n                    rowIndex_1.push(this.selectedRowIndexes[i]);\n                    foreignKeyData_1.push(rowObj.foreignKeyData);\n                }\n                if (gObj.isFrozenGrid()) {\n                    var mRows = gObj.getMovableRows();\n                    if (mRows && mRows.length) {\n                        mRow_1.push(mRows[this.selectedRowIndexes[i]]);\n                    }\n                    if (gObj.getFrozenMode() === literals.leftRight) {\n                        var frRows = gObj.getFrozenRightRows();\n                        if (frRows && frRows.length) {\n                            fRightRow_1.push(frRows[this.selectedRowIndexes[i]]);\n                        }\n                    }\n                }\n            }\n            if (this.selectionSettings.persistSelection && this.selectionSettings.checkboxMode !== 'ResetOnRowClick') {\n                this.isRowClicked = this.checkSelectAllClicked ? true : false;\n            }\n            this.rowDeselect(events.rowDeselecting, rowIndex_1, data_1, row_1, foreignKeyData_1, target_1, mRow_1, function () {\n                if (_this.isCancelDeSelect && (_this.isRowClicked || _this.checkSelectAllClicked || (_this.isInteracted &&\n                    !_this.parent.isPersistSelection))) {\n                    if (_this.parent.isPersistSelection) {\n                        if (_this.getCheckAllStatus(_this.parent.element.querySelector('.e-checkselectall')) === 'Intermediate') {\n                            for (var i = 0; i < _this.selectedRecords.length; i++) {\n                                _this.updatePersistCollection(_this.selectedRecords[i], true);\n                            }\n                        }\n                        else {\n                            _this.parent.checkAllRows = 'Check';\n                            _this.updatePersistSelectedData(true);\n                        }\n                    }\n                    if (_this.clearRowCheck) {\n                        _this.clearRowCallBack();\n                        _this.clearRowCheck = false;\n                        if (_this.selectRowCheck) {\n                            _this.selectRowCallBack();\n                            _this.selectRowCheck = false;\n                        }\n                    }\n                    return;\n                }\n                var element = [].slice.call(rows_1.filter(function (record) { return record.hasAttribute('aria-selected'); }));\n                for (var j = 0; j < element.length; j++) {\n                    if (!_this.disableUI) {\n                        element[j].removeAttribute('aria-selected');\n                        _this.addRemoveClassesForRow(element[j], false, true, 'e-selectionbackground', 'e-active');\n                    }\n                    // tslint:disable-next-line:align\n                    if (!_this.isPrevRowSelection) {\n                        _this.updatePersistCollection(element[j], false);\n                    }\n                    _this.updateCheckBoxes(element[j]);\n                }\n                for (var i = 0, len = _this.selectedRowIndexes.length; i < len; i++) {\n                    var movableRow = _this.getSelectedMovableRow(_this.selectedRowIndexes[i]);\n                    if (movableRow) {\n                        if (!_this.disableUI) {\n                            movableRow.removeAttribute('aria-selected');\n                            _this.addRemoveClassesForRow(movableRow, false, true, 'e-selectionbackground', 'e-active');\n                        }\n                        _this.updateCheckBoxes(movableRow);\n                        if (!_this.isPrevRowSelection) {\n                            _this.updatePersistCollection(movableRow, false);\n                        }\n                    }\n                    var frRow = _this.getSelectedFrozenRightRow(_this.selectedRowIndexes[i]);\n                    if (frRow) {\n                        if (!_this.disableUI) {\n                            frRow.removeAttribute('aria-selected');\n                            _this.addRemoveClassesForRow(frRow, false, true, 'e-selectionbackground', 'e-active');\n                        }\n                        _this.updateCheckBoxes(frRow);\n                        if (!_this.isPrevRowSelection) {\n                            _this.updatePersistCollection(frRow, false);\n                        }\n                    }\n                }\n                _this.selectedRowIndexes = [];\n                _this.selectedRecords = [];\n                _this.isRowSelected = false;\n                _this.selectRowIndex(-1);\n                _this.isPrevRowSelection = false;\n                _this.rowDeselect(events.rowDeselected, rowIndex_1, data_1, row_1, foreignKeyData_1, target_1, mRow_1, undefined, fRightRow_1);\n                if (_this.clearRowCheck) {\n                    _this.clearRowCallBack();\n                    _this.clearRowCheck = false;\n                    if (_this.selectRowCheck) {\n                        _this.selectRowCallBack();\n                        _this.selectRowCheck = false;\n                    }\n                }\n            }, fRightRow_1);\n        }\n        else {\n            if (this.clearRowCheck) {\n                this.clearRowCallBack();\n                this.clearRowCheck = false;\n                if (this.selectRowCheck) {\n                    this.selectRowCallBack();\n                    this.selectRowCheck = false;\n                }\n            }\n        }\n    };\n    Selection.prototype.rowDeselect = function (type, rowIndex, data, row, foreignKeyData, target, mRow, rowDeselectCallBack, frozenRightRow) {\n        var _this = this;\n        if ((this.selectionSettings.persistSelection && (this.isRowClicked || this.checkSelectAllClicked)) ||\n            !this.selectionSettings.persistSelection) {\n            var cancl_1 = 'cancel';\n            var isSingleDeSel = rowIndex.length === 1 && this.deSelectedData.length === 1;\n            var rowDeselectObj = {\n                rowIndex: rowIndex[0], data: this.selectionSettings.persistSelection && (this.parent.checkAllRows === 'Uncheck' &&\n                    !isSingleDeSel) && this.selectionSettings.checkboxMode !== 'ResetOnRowClick' ? this.deSelectedData : data,\n                foreignKeyData: foreignKeyData, cancel: false, isInteracted: this.isInteracted,\n                isHeaderCheckboxClicked: this.isHeaderCheckboxClicked\n            };\n            if (type === 'rowDeselected') {\n                delete rowDeselectObj.cancel;\n            }\n            var rowInString = 'row';\n            var target_2 = 'target';\n            var rowidx = 'rowIndex';\n            var rowidxex = 'rowIndexes';\n            var dataTxt = 'data';\n            var foreignKey = 'foreignKeyData';\n            rowDeselectObj[rowInString] = row;\n            rowDeselectObj[target_2] = this.actualTarget;\n            var isHeaderCheckBxClick = this.actualTarget && !isNullOrUndefined(closest(this.actualTarget, 'thead'));\n            if (isHeaderCheckBxClick || rowIndex.length > 1) {\n                rowDeselectObj[rowidx] = rowIndex[0];\n                rowDeselectObj[rowidxex] = rowIndex;\n            }\n            else if (rowIndex.length === 1) {\n                rowDeselectObj[dataTxt] = rowDeselectObj[dataTxt][0];\n                rowDeselectObj[rowInString] = rowDeselectObj[rowInString][0];\n                rowDeselectObj[foreignKey] = rowDeselectObj[foreignKey][0];\n                if (this.isAddRowsToSelection) {\n                    rowDeselectObj[rowidxex] = rowIndex;\n                }\n            }\n            this.parent.trigger(type, this.parent.isFrozenGrid() ? __assign({}, rowDeselectObj, { mRow: mRow, frozenRightRow: frozenRightRow }) : rowDeselectObj, function (args) {\n                _this.isCancelDeSelect = args[cancl_1];\n                if (!_this.isCancelDeSelect || (!_this.isRowClicked && !_this.isInteracted && !_this.checkSelectAllClicked)) {\n                    _this.updatePersistCollection(row[0], false);\n                    _this.updateCheckBoxes(row[0], undefined, rowIndex[0]);\n                    if (mRow) {\n                        _this.updateCheckBoxes(mRow[0], undefined, rowIndex[0]);\n                    }\n                    if (frozenRightRow) {\n                        _this.updateCheckBoxes(frozenRightRow[0], undefined, rowIndex[0]);\n                    }\n                }\n                if (rowDeselectCallBack !== undefined) {\n                    rowDeselectCallBack();\n                }\n            });\n        }\n        else if (this.selectionSettings.persistSelection && !this.isInteracted) {\n            if (rowDeselectCallBack !== undefined) {\n                rowDeselectCallBack();\n            }\n        }\n    };\n    Selection.prototype.getRowObj = function (row) {\n        if (row === void 0) { row = this.currentIndex; }\n        if (isNullOrUndefined(row)) {\n            return {};\n        }\n        if (typeof row === 'number') {\n            row = this.parent.getRowByIndex(row);\n        }\n        if (row) {\n            return this.parent.getRowObjectFromUID(row.getAttribute('data-uid')) || {};\n        }\n        return {};\n    };\n    Selection.prototype.getSelectedMovableCell = function (cellIndex) {\n        var gObj = this.parent;\n        var col = gObj.getColumnByIndex(cellIndex.cellIndex);\n        var frzCols = gObj.isFrozenGrid();\n        if (frzCols) {\n            if (col.getFreezeTableName() === 'movable') {\n                return gObj.getMovableCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex));\n            }\n            return null;\n        }\n        return null;\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell = this.getSelectedMovableCell(cellIndex);\n        var args;\n        if (!selectedCell) {\n            selectedCell = gObj.getCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex));\n        }\n        this.currentIndex = cellIndex.rowIndex;\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        if (!this.isCellType() || !selectedCell || this.isEditing()) {\n            return;\n        }\n        var isCellSelected = selectedCell.classList.contains('e-cellselectionbackground');\n        isToggle = !isToggle ? isToggle : (!isUndefined(this.prevCIdxs) &&\n            cellIndex.rowIndex === this.prevCIdxs.rowIndex && cellIndex.cellIndex === this.prevCIdxs.cellIndex &&\n            isCellSelected);\n        if (!isToggle) {\n            args = {\n                data: selectedData, cellIndex: cellIndex,\n                isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n                previousRowCell: this.prevECIdxs ?\n                    this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined,\n                cancel: false\n            };\n            var currentCell = 'currentCell';\n            args[currentCell] = selectedCell;\n            var previousRowCellIndex = 'previousRowCellIndex';\n            args[previousRowCellIndex] = this.prevECIdxs;\n            this.parent.trigger(events.cellSelecting, this.fDataUpdate(args), this.successCallBack(args, isToggle, cellIndex, selectedCell, selectedData));\n            this.cellselected = true;\n        }\n        else {\n            this.successCallBack(args, isToggle, cellIndex, selectedCell, selectedData)(args);\n        }\n    };\n    Selection.prototype.successCallBack = function (cellSelectingArgs, isToggle, cellIndex, selectedCell, selectedData) {\n        var _this = this;\n        return function (cellSelectingArgs) {\n            var cncl = 'cancel';\n            var currentCell = 'currentCell';\n            if (!isNullOrUndefined(cellSelectingArgs) && cellSelectingArgs[cncl] === true) {\n                return;\n            }\n            if (!isToggle) {\n                cellSelectingArgs[currentCell] = cellSelectingArgs[currentCell] ? cellSelectingArgs[currentCell] : selectedCell;\n            }\n            _this.clearCell();\n            if (!isToggle) {\n                _this.updateCellSelection(selectedCell, cellIndex.rowIndex, cellIndex.cellIndex);\n            }\n            if (!isToggle) {\n                var args = {\n                    data: selectedData, cellIndex: cellIndex, currentCell: selectedCell,\n                    selectedRowCellIndex: _this.selectedRowCellIndexes,\n                    previousRowCell: _this.prevECIdxs ?\n                        _this.getCellIndex(_this.prevECIdxs.rowIndex, _this.prevECIdxs.cellIndex) : undefined\n                };\n                var previousRowCellIndex = 'previousRowCellIndex';\n                args[previousRowCellIndex] = _this.prevECIdxs;\n                _this.updateCellProps(cellIndex, cellIndex);\n                _this.onActionComplete(args, events.cellSelected);\n            }\n        };\n    };\n    Selection.prototype.getCellIndex = function (rIdx, cIdx) {\n        return (this.parent.getFrozenColumns() ? (cIdx >= this.parent.getFrozenColumns() ? this.parent.getMovableCellFromIndex(rIdx, cIdx)\n            : this.parent.getCellFromIndex(rIdx, cIdx)) : this.parent.getCellFromIndex(rIdx, cIdx));\n    };\n    /**\n     * Selects a range of cells from start and end indexes.\n     *\n     * @param  {IIndex} startIndex - Specifies the row and column's start index.\n     * @param  {IIndex} endIndex - Specifies the row and column's end index.\n     * @returns {void}\n     */\n    Selection.prototype.selectCellsByRange = function (startIndex, endIndex) {\n        var _this = this;\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell = this.getSelectedMovableCell(startIndex);\n        var frzCols = gObj.getFrozenColumns();\n        if (!selectedCell) {\n            selectedCell = gObj.getCellFromIndex(startIndex.rowIndex, startIndex.cellIndex);\n        }\n        var min;\n        var max;\n        var stIndex = startIndex;\n        var edIndex = endIndex = endIndex ? endIndex : startIndex;\n        var cellIndexes;\n        this.currentIndex = startIndex.rowIndex;\n        var cncl = 'cancel';\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        if (this.isSingleSel() || !this.isCellType() || this.isEditing()) {\n            return;\n        }\n        var args = {\n            data: selectedData, cellIndex: startIndex, currentCell: selectedCell,\n            isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest,\n            previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n        };\n        var previousRowCellIndex = 'previousRowCellIndex';\n        args[previousRowCellIndex] = this.prevECIdxs;\n        this.parent.trigger(events.cellSelecting, this.fDataUpdate(args), function (cellSelectingArgs) {\n            if (!isNullOrUndefined(cellSelectingArgs) && cellSelectingArgs[cncl] === true) {\n                return;\n            }\n            _this.clearCell();\n            if (startIndex.rowIndex > endIndex.rowIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex.rowIndex; i <= endIndex.rowIndex; i++) {\n                if (_this.selectionSettings.cellSelectionMode.indexOf('Box') < 0) {\n                    min = i === startIndex.rowIndex ? (startIndex.cellIndex) : 0;\n                    max = i === endIndex.rowIndex ? (endIndex.cellIndex) : _this.getLastColIndex(i);\n                }\n                else {\n                    min = startIndex.cellIndex;\n                    max = endIndex.cellIndex;\n                }\n                cellIndexes = [];\n                for (var j = min < max ? min : max, len = min > max ? min : max; j <= len; j++) {\n                    if (frzCols) {\n                        if (j < frzCols) {\n                            selectedCell = gObj.getCellFromIndex(i, j);\n                        }\n                        else {\n                            selectedCell = gObj.getMovableCellFromIndex(i, j);\n                        }\n                    }\n                    else {\n                        selectedCell = gObj.getCellFromIndex(i, j);\n                    }\n                    if (!selectedCell) {\n                        continue;\n                    }\n                    cellIndexes.push(j);\n                    _this.updateCellSelection(selectedCell);\n                    _this.addAttribute(selectedCell);\n                }\n                _this.selectedRowCellIndexes.push({ rowIndex: i, cellIndexes: cellIndexes });\n            }\n            var cellSelectedArgs = {\n                data: selectedData, cellIndex: edIndex, currentCell: gObj.getCellFromIndex(edIndex.rowIndex, edIndex.cellIndex),\n                selectedRowCellIndex: _this.selectedRowCellIndexes,\n                previousRowCell: _this.prevECIdxs ? _this.getCellIndex(_this.prevECIdxs.rowIndex, _this.prevECIdxs.cellIndex) : undefined\n            };\n            var previousRowCellIndex = 'previousRowCellIndex';\n            cellSelectedArgs[previousRowCellIndex] = _this.prevECIdxs;\n            if (!_this.isDragged) {\n                _this.onActionComplete(cellSelectedArgs, events.cellSelected);\n                _this.cellselected = true;\n            }\n            _this.updateCellProps(stIndex, edIndex);\n        });\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void}\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell = this.getSelectedMovableCell(rowCellIndexes[0]);\n        var frzCols = gObj.getFrozenColumns();\n        if (!selectedCell) {\n            selectedCell = gObj.getCellFromIndex(rowCellIndexes[0].rowIndex, rowCellIndexes[0].cellIndexes[0]);\n        }\n        this.currentIndex = rowCellIndexes[0].rowIndex;\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        if (this.isSingleSel() || !this.isCellType() || this.isEditing()) {\n            return;\n        }\n        var cellSelectArgs = {\n            data: selectedData, cellIndex: rowCellIndexes[0].cellIndexes[0],\n            currentCell: selectedCell, isCtrlPressed: this.isMultiCtrlRequest,\n            isShiftPressed: this.isMultiShiftRequest,\n            previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n        };\n        var previousRowCellIndex = 'previousRowCellIndex';\n        cellSelectArgs[previousRowCellIndex] = this.prevECIdxs;\n        this.onActionBegin(cellSelectArgs, events.cellSelecting);\n        for (var i = 0, len = rowCellIndexes.length; i < len; i++) {\n            for (var j = 0, cellLen = rowCellIndexes[i].cellIndexes.length; j < cellLen; j++) {\n                if (frzCols) {\n                    if (rowCellIndexes[i].cellIndexes[j] < frzCols) {\n                        selectedCell = gObj.getCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j]);\n                    }\n                    else {\n                        selectedCell = gObj.getMovableCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j]);\n                    }\n                }\n                else {\n                    selectedCell = gObj.getCellFromIndex(rowCellIndexes[i].rowIndex, rowCellIndexes[i].cellIndexes[j]);\n                }\n                if (!selectedCell) {\n                    continue;\n                }\n                this.updateCellSelection(selectedCell);\n                this.addAttribute(selectedCell);\n                this.addRowCellIndex({ rowIndex: rowCellIndexes[i].rowIndex, cellIndex: rowCellIndexes[i].cellIndexes[j] });\n            }\n        }\n        this.updateCellProps({ rowIndex: rowCellIndexes[0].rowIndex, cellIndex: rowCellIndexes[0].cellIndexes[0] }, { rowIndex: rowCellIndexes[0].rowIndex, cellIndex: rowCellIndexes[0].cellIndexes[0] });\n        var cellSelectedArgs = {\n            data: selectedData, cellIndex: rowCellIndexes[0].cellIndexes[0],\n            currentCell: selectedCell, selectedRowCellIndex: this.selectedRowCellIndexes,\n            previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n        };\n        var prvRowCellIndex = 'previousRowCellIndex';\n        cellSelectedArgs[prvRowCellIndex] = this.prevECIdxs;\n        this.onActionComplete(cellSelectedArgs, events.cellSelected);\n    };\n    /**\n     * Select cells with existing cell selection by passing row and column index.\n     *\n     * @param {IIndex} cellIndexes - Defines the collection of row and column index.\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.addCellsToSelection = function (cellIndexes) {\n        if (!this.isCellType()) {\n            return;\n        }\n        var gObj = this.parent;\n        var selectedCell;\n        var index;\n        this.currentIndex = cellIndexes[0].rowIndex;\n        var cncl = 'cancel';\n        var selectedData = this.getCurrentBatchRecordChanges()[this.currentIndex];\n        var left = gObj.getFrozenLeftCount();\n        var movable = gObj.getMovableColumnsCount();\n        if (this.isSingleSel() || !this.isCellType() || this.isEditing()) {\n            return;\n        }\n        this.hideAutoFill();\n        var col = gObj.getColumnByIndex(cellIndexes[0].cellIndex);\n        var rowObj;\n        gridActionHandler(this.parent, function (tableName, rows) {\n            rowObj = rows[cellIndexes[0].rowIndex];\n        }, [\n            !col.getFreezeTableName() || col.getFreezeTableName() === literals.frozenLeft ? gObj.getRowsObject() : [],\n            col.getFreezeTableName() === 'movable' ? gObj.getMovableRowsObject() : [],\n            col.getFreezeTableName() === literals.frozenRight ? gObj.getFrozenRightRowsObject() : []\n        ]);\n        var foreignKeyData = [];\n        for (var _i = 0, cellIndexes_1 = cellIndexes; _i < cellIndexes_1.length; _i++) {\n            var cellIndex = cellIndexes_1[_i];\n            for (var i = 0, len = this.selectedRowCellIndexes.length; i < len; i++) {\n                if (this.selectedRowCellIndexes[i].rowIndex === cellIndex.rowIndex) {\n                    index = i;\n                    break;\n                }\n            }\n            selectedCell = this.getSelectedMovableCell(cellIndex);\n            if (!selectedCell) {\n                selectedCell = gObj.getCellFromIndex(cellIndex.rowIndex, this.getColIndex(cellIndex.rowIndex, cellIndex.cellIndex));\n            }\n            var idx = col.getFreezeTableName() === 'movable' ? cellIndex.cellIndex - left\n                : col.getFreezeTableName() === literals.frozenRight ? cellIndex.cellIndex - (left + movable) : cellIndex.cellIndex;\n            foreignKeyData.push(rowObj.cells[idx].foreignKeyData);\n            var args = {\n                cancel: false, data: selectedData, cellIndex: cellIndexes[0],\n                isShiftPressed: this.isMultiShiftRequest,\n                currentCell: selectedCell, isCtrlPressed: this.isMultiCtrlRequest,\n                previousRowCell: this.prevECIdxs ?\n                    gObj.getCellFromIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) : undefined\n            };\n            var prvRowCellIndex = 'previousRowCellIndex';\n            args[prvRowCellIndex] = this.prevECIdxs;\n            var isUnSelected = index > -1;\n            if (isUnSelected) {\n                var selectedCellIdx = this.selectedRowCellIndexes[index].cellIndexes;\n                if (selectedCellIdx.indexOf(cellIndex.cellIndex) > -1) {\n                    this.cellDeselect(events.cellDeselecting, [{ rowIndex: cellIndex.rowIndex, cellIndexes: [cellIndex.cellIndex] }], selectedData, [selectedCell], foreignKeyData);\n                    selectedCellIdx.splice(selectedCellIdx.indexOf(cellIndex.cellIndex), 1);\n                    if (selectedCellIdx.length === 0) {\n                        this.selectedRowCellIndexes.splice(index, 1);\n                    }\n                    selectedCell.classList.remove('e-cellselectionbackground');\n                    selectedCell.removeAttribute('aria-selected');\n                    this.cellDeselect(events.cellDeselected, [{ rowIndex: cellIndex.rowIndex, cellIndexes: [cellIndex.cellIndex] }], selectedData, [selectedCell], foreignKeyData);\n                }\n                else {\n                    isUnSelected = false;\n                    this.onActionBegin(args, events.cellSelecting);\n                    this.addRowCellIndex({ rowIndex: cellIndex.rowIndex, cellIndex: cellIndex.cellIndex });\n                    this.updateCellSelection(selectedCell);\n                    this.addAttribute(selectedCell);\n                }\n            }\n            else {\n                this.onActionBegin(args, events.cellSelecting);\n                if (!isNullOrUndefined(args) && args[cncl] === true) {\n                    return;\n                }\n                this.updateCellSelection(selectedCell, cellIndex.rowIndex, cellIndex.cellIndex);\n            }\n            if (!isUnSelected) {\n                var cellSelectedArgs = {\n                    data: selectedData, cellIndex: cellIndexes[0], currentCell: selectedCell,\n                    previousRowCell: this.prevECIdxs ? this.getCellIndex(this.prevECIdxs.rowIndex, this.prevECIdxs.cellIndex) :\n                        undefined, selectedRowCellIndex: this.selectedRowCellIndexes\n                };\n                cellSelectedArgs[prvRowCellIndex] = this.prevECIdxs;\n                this.onActionComplete(cellSelectedArgs, events.cellSelected);\n                this.cellselected = true;\n            }\n            this.updateCellProps(cellIndex, cellIndex);\n        }\n    };\n    Selection.prototype.getColIndex = function (rowIndex, index) {\n        var frzCols = this.parent.isFrozenGrid();\n        var col = this.parent.getColumnByIndex(index);\n        var cells = getCellsByTableName(this.parent, col, rowIndex);\n        if (cells) {\n            for (var m = 0; m < cells.length; m++) {\n                var colIndex = parseInt(cells[m].getAttribute(literals.ariaColIndex), 10);\n                if (colIndex === index) {\n                    if (frzCols) {\n                        if (col.getFreezeTableName() === 'movable') {\n                            m += this.parent.getFrozenLeftCount();\n                        }\n                        else if (col.getFreezeTableName() === literals.frozenRight) {\n                            m += (this.parent.getFrozenLeftColumnsCount() + this.parent.getMovableColumnsCount());\n                        }\n                    }\n                    return m;\n                }\n            }\n        }\n        return -1;\n    };\n    Selection.prototype.getLastColIndex = function (rowIndex) {\n        var cells = this.parent.getFrozenColumns() ? this.parent.getMovableDataRows()[rowIndex].querySelectorAll('td.e-rowcell')\n            : this.parent.getDataRows()[rowIndex].querySelectorAll('td.e-rowcell');\n        return parseInt(cells[cells.length - 1].getAttribute(literals.ariaColIndex), 10);\n    };\n    Selection.prototype.clearCell = function () {\n        this.clearCellSelection();\n    };\n    Selection.prototype.cellDeselect = function (type, cellIndexes, data, cells, foreignKeyData) {\n        var cancl = 'cancel';\n        if (cells[0] && cells[0].classList.contains(literals.gridChkBox)) {\n            this.updateCheckBoxes(closest(cells[0], 'tr'));\n        }\n        var args = {\n            cells: cells, data: data, cellIndexes: cellIndexes, foreignKeyData: foreignKeyData, cancel: false\n        };\n        this.parent.trigger(type, args);\n        this.isPreventCellSelect = args[cancl];\n    };\n    Selection.prototype.updateCellSelection = function (selectedCell, rowIndex, cellIndex) {\n        if (!isNullOrUndefined(rowIndex)) {\n            this.addRowCellIndex({ rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        selectedCell.classList.add('e-cellselectionbackground');\n        if (selectedCell.classList.contains(literals.gridChkBox)) {\n            this.updateCheckBoxes(closest(selectedCell, 'tr'), true);\n        }\n        this.addAttribute(selectedCell);\n    };\n    Selection.prototype.addAttribute = function (cell) {\n        this.target = cell;\n        if (!isNullOrUndefined(cell)) {\n            cell.setAttribute('aria-selected', 'true');\n            if (!this.preventFocus) {\n                this.focus.onClick({ target: cell }, true);\n            }\n        }\n    };\n    Selection.prototype.updateCellProps = function (startIndex, endIndex) {\n        this.prevCIdxs = startIndex;\n        this.prevECIdxs = endIndex;\n        this.isCellSelected = this.selectedRowCellIndexes.length && true;\n    };\n    Selection.prototype.addRowCellIndex = function (rowCellIndex) {\n        var isRowAvail;\n        var index;\n        for (var i = 0, len = this.selectedRowCellIndexes.length; i < len; i++) {\n            if (this.selectedRowCellIndexes[i].rowIndex === rowCellIndex.rowIndex) {\n                isRowAvail = true;\n                index = i;\n                break;\n            }\n        }\n        if (isRowAvail) {\n            if (this.selectedRowCellIndexes[index].cellIndexes.indexOf(rowCellIndex.cellIndex) < 0) {\n                this.selectedRowCellIndexes[index].cellIndexes.push(rowCellIndex.cellIndex);\n            }\n        }\n        else {\n            this.selectedRowCellIndexes.push({ rowIndex: rowCellIndex.rowIndex, cellIndexes: [rowCellIndex.cellIndex] });\n        }\n    };\n    /**\n     * Deselects the currently selected cells.\n     *\n     * @returns {void}\n     */\n    Selection.prototype.clearCellSelection = function () {\n        if (this.isCellSelected) {\n            var gObj = this.parent;\n            var selectedCells = this.getSelectedCellsElement();\n            var rowCell = this.selectedRowCellIndexes;\n            var data = [];\n            var cells = [];\n            var foreignKeyData = [];\n            var currentViewData = this.getCurrentBatchRecordChanges();\n            var frzCols = gObj.isFrozenGrid();\n            this.hideAutoFill();\n            for (var i = 0, len = rowCell.length; i < len; i++) {\n                data.push(currentViewData[rowCell[i].rowIndex]);\n                var rowObj = this.getRowObj(rowCell[i].rowIndex);\n                for (var j = 0, cLen = rowCell[i].cellIndexes.length; j < cLen; j++) {\n                    if (frzCols) {\n                        var col = gObj.getColumnByIndex(rowCell[i].cellIndexes[j]);\n                        cells.push(getCellByColAndRowIndex(this.parent, col, rowCell[i].rowIndex, rowCell[i].cellIndexes[j]));\n                    }\n                    else {\n                        if (rowObj.cells) {\n                            foreignKeyData.push(rowObj.cells[rowCell[i].cellIndexes[j]].foreignKeyData);\n                        }\n                        cells.push(gObj.getCellFromIndex(rowCell[i].rowIndex, rowCell[i].cellIndexes[j]));\n                    }\n                }\n            }\n            this.cellDeselect(events.cellDeselecting, rowCell, data, cells, foreignKeyData);\n            if (this.isPreventCellSelect === true) {\n                return;\n            }\n            for (var i = 0, len = selectedCells.length; i < len; i++) {\n                selectedCells[i].classList.remove('e-cellselectionbackground');\n                selectedCells[i].removeAttribute('aria-selected');\n            }\n            if (this.bdrElement) {\n                this.showHideBorders('none');\n            }\n            this.selectedRowCellIndexes = [];\n            this.isCellSelected = false;\n            if (!this.isDragged && this.cellselected) {\n                this.cellDeselect(events.cellDeselected, rowCell, data, cells, foreignKeyData);\n            }\n        }\n    };\n    Selection.prototype.getSelectedCellsElement = function () {\n        var gObj = this.parent;\n        var rows = gObj.getDataRows();\n        var mRows;\n        if (gObj.isFrozenGrid()) {\n            mRows = gObj.getMovableDataRows();\n            rows = gObj.addMovableRows(rows, mRows);\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                rows = gObj.addMovableRows(rows, gObj.getFrozenRightDataRows());\n            }\n        }\n        var cells = [];\n        for (var i = 0, len = rows.length; i < len; i++) {\n            cells = cells.concat([].slice.call(rows[i].getElementsByClassName('e-cellselectionbackground')));\n        }\n        return cells;\n    };\n    Selection.prototype.mouseMoveHandler = function (e) {\n        e.preventDefault();\n        var gBRect = this.parent.element.getBoundingClientRect();\n        var x1 = this.x;\n        var y1 = this.y;\n        var position = getPosition(e);\n        var x2 = position.x - gBRect.left;\n        var y2 = position.y - gBRect.top;\n        var tmp;\n        var target = closest(e.target, 'tr');\n        this.isDragged = true;\n        if (!this.isCellDrag) {\n            if (!target) {\n                target = closest(document.elementFromPoint(this.parent.element.offsetLeft + 2, e.clientY), 'tr');\n            }\n            if (x1 > x2) {\n                tmp = x2;\n                x2 = x1;\n                x1 = tmp;\n            }\n            if (y1 > y2) {\n                tmp = y2;\n                y2 = y1;\n                y1 = tmp;\n            }\n            this.element.style.left = x1 + 'px';\n            this.element.style.top = y1 + 'px';\n            this.element.style.width = x2 - x1 + 'px';\n            this.element.style.height = y2 - y1 + 'px';\n        }\n        if (target && !e.ctrlKey && !e.shiftKey) {\n            var rowIndex = parseInt(target.getAttribute(literals.ariaRowIndex), 10);\n            if (!this.isCellDrag) {\n                this.hideAutoFill();\n                this.selectRowsByRange(this.startDIndex, rowIndex);\n                this.isRowDragSelected = true;\n            }\n            else {\n                var td = parentsUntil(e.target, literals.rowCell);\n                if (td) {\n                    this.startAFCell = this.startCell;\n                    this.endAFCell = parentsUntil(e.target, literals.rowCell);\n                    this.selectLikeExcel(e, rowIndex, parseInt(td.getAttribute(literals.ariaColIndex), 10));\n                }\n            }\n        }\n    };\n    Selection.prototype.selectLikeExcel = function (e, rowIndex, cellIndex) {\n        if (!this.isAutoFillSel) {\n            this.clearCellSelection();\n            this.selectCellsByRange({ rowIndex: this.startDIndex, cellIndex: this.startDCellIndex }, { rowIndex: rowIndex, cellIndex: cellIndex });\n            this.drawBorders();\n        }\n        else { //Autofill\n            this.showAFBorders();\n            this.selectLikeAutoFill(e);\n        }\n    };\n    Selection.prototype.drawBorders = function () {\n        if (this.selectionSettings.cellSelectionMode === 'BoxWithBorder' && this.selectedRowCellIndexes.length && !this.parent.isEdit) {\n            this.parent.element.classList.add('e-enabledboxbdr');\n            if (!this.bdrElement) {\n                this.createBorders();\n            }\n            this.positionBorders();\n        }\n        else {\n            this.showHideBorders('none');\n        }\n    };\n    Selection.prototype.isLastCell = function (cell) {\n        var cells = [].slice.call(cell.parentElement.querySelectorAll('.e-rowcell:not(.e-hide)'));\n        return cells[cells.length - 1] === cell;\n    };\n    Selection.prototype.isLastRow = function (cell) {\n        var rows = [].slice.call(closest(cell, literals.tbody).querySelectorAll('.e-row:not(.e-hiddenrow)'));\n        return cell.parentElement === rows[rows.length - 1];\n    };\n    Selection.prototype.isFirstRow = function (cell) {\n        var rows = [].slice.call(closest(cell, literals.tbody).querySelectorAll('.e-row:not(.e-hiddenrow)'));\n        return cell.parentElement === rows[0];\n    };\n    Selection.prototype.isFirstCell = function (cell) {\n        var cells = [].slice.call(cell.parentElement.querySelectorAll('.e-rowcell:not(.e-hide)'));\n        return cells[0] === cell;\n    };\n    Selection.prototype.setBorders = function (parentEle, border, bdrStr) {\n        var cells = [].slice.call(parentEle.getElementsByClassName('e-cellselectionbackground')).\n            filter(function (ele) { return ele.style.display === ''; });\n        if (cells.length) {\n            var isFrozen = this.parent.isFrozenGrid();\n            var start = cells[0];\n            var end = cells[cells.length - 1];\n            var stOff = start.getBoundingClientRect();\n            var endOff = end.getBoundingClientRect();\n            var parentOff = start.offsetParent.getBoundingClientRect();\n            var rowHeight = this.isLastRow(end) && (bdrStr === '1' || bdrStr === '2' || bdrStr === '5') ? 2 : 0;\n            var topOffSet = this.parent.frozenRows && (bdrStr === '1' || bdrStr === '2') &&\n                this.isFirstRow(start) ? 1.5 : 0;\n            var leftOffset = isFrozen && (bdrStr === '2' || bdrStr === '4') && this.isFirstCell(start) ? 1 : 0;\n            var rightOffset = ((this.parent.getFrozenMode() === 'Right' && (bdrStr === '1' || bdrStr === '3'))\n                || (this.parent.getFrozenMode() === literals.leftRight && (bdrStr === '5' || bdrStr === '6')))\n                && this.isFirstCell(start) ? 1 : 0;\n            if (this.parent.enableRtl) {\n                border.style.right = parentOff.right - stOff.right - leftOffset + 'px';\n                border.style.width = stOff.right - endOff.left + leftOffset + 1 + 'px';\n            }\n            else {\n                border.style.left = stOff.left - parentOff.left - leftOffset - rightOffset + 'px';\n                border.style.width = endOff.right - stOff.left + leftOffset - rightOffset + 1 + 'px';\n            }\n            border.style.top = stOff.top - parentOff.top - topOffSet + 'px';\n            border.style.height = endOff.top - stOff.top > 0 ?\n                (endOff.top - parentOff.top + endOff.height + 1) - (stOff.top - parentOff.top) - rowHeight + topOffSet + 'px' :\n                endOff.height + topOffSet - rowHeight + 1 + 'px';\n            this.selectDirection += bdrStr;\n        }\n        else {\n            border.style.display = 'none';\n        }\n    };\n    Selection.prototype.positionBorders = function () {\n        this.updateStartEndCells();\n        if (!this.startCell || !this.bdrElement || !this.selectedRowCellIndexes.length) {\n            return;\n        }\n        this.selectDirection = '';\n        this.showHideBorders('');\n        this.setBorders(this.parent.getContentTable(), this.bdrElement, '1');\n        if (this.parent.isFrozenGrid()) {\n            this.setBorders(this.parent.contentModule.getMovableContent(), this.mcBdrElement, '2');\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                this.setBorders(this.parent.contentModule.getFrozenRightContent(), this.frcBdrElement, '5');\n            }\n        }\n        if (this.parent.frozenRows) {\n            this.setBorders(this.parent.getHeaderTable(), this.fhBdrElement, '3');\n            if (this.parent.isFrozenGrid()) {\n                this.setBorders(this.parent.headerModule.getMovableHeader(), this.mhBdrElement, '4');\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.setBorders(this.parent.headerModule.getFrozenRightHeader(), this.frhBdrElement, '6');\n                }\n            }\n        }\n        this.applyBorders(this.selectDirection);\n    };\n    /* eslint-enable */\n    Selection.prototype.applyBothFrozenBorders = function (str) {\n        var rtl = this.parent.enableRtl;\n        switch (str.length) {\n            case 6:\n                {\n                    this.bdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                    this.mcBdrElement.style.borderWidth = this.bottom;\n                    this.fhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                    this.mhBdrElement.style.borderWidth = this.top;\n                    this.frcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                    this.frhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                }\n                break;\n            case 4:\n                {\n                    if (str.includes('1') && str.includes('2') && str.includes('3') && str.includes('4')) {\n                        this.fhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                        this.bdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                        this.mcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                    }\n                    if (str.includes('2') && str.includes('4') && str.includes('5') && str.includes('6')) {\n                        this.mcBdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                        this.frcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                        this.frhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                    }\n                }\n                break;\n            case 3:\n                {\n                    this.bdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                    this.mcBdrElement.style.borderWidth = this.top_bottom;\n                    this.frcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                    if (this.parent.frozenRows) {\n                        this.fhBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.mhBdrElement.style.borderWidth = this.top_bottom;\n                        this.frcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                    }\n                }\n                break;\n            case 2:\n                {\n                    if (str.includes('1')) {\n                        this.mcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        if (this.parent.frozenRows) {\n                            this.fhBdrElement.style.borderWidth = this.top_right_left;\n                        }\n                    }\n                    if (str.includes('2')) {\n                        this.bdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.frcBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        if (this.parent.frozenRows) {\n                            this.mhBdrElement.style.borderWidth = this.top_right_left;\n                        }\n                    }\n                    if (str.includes('3')) {\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        this.bdrElement.style.borderWidth = this.right_bottom_left;\n                    }\n                    if (str.includes('4')) {\n                        this.fhBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.frhBdrElement.style.borderWidth = rtl ? this.top_bottom_left : this.top_right_bottom;\n                        this.mcBdrElement.style.borderWidth = this.right_bottom_left;\n                    }\n                    if (str.includes('5')) {\n                        this.mcBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        if (this.parent.frozenRows) {\n                            this.frhBdrElement.style.borderWidth = this.top_right_left;\n                        }\n                    }\n                    if (str.includes('6')) {\n                        this.mhBdrElement.style.borderWidth = rtl ? this.top_right_bottom : this.top_bottom_left;\n                        this.frcBdrElement.style.borderWidth = this.right_bottom_left;\n                    }\n                }\n                break;\n            default:\n                this.bdrElement.style.borderWidth = this.all_border;\n                this.mcBdrElement.style.borderWidth = this.all_border;\n                this.frcBdrElement.style.borderWidth = this.all_border;\n                if (this.parent.frozenRows) {\n                    this.fhBdrElement.style.borderWidth = this.all_border;\n                    this.mhBdrElement.style.borderWidth = this.all_border;\n                    this.frhBdrElement.style.borderWidth = this.all_border;\n                }\n                break;\n        }\n    };\n    Selection.prototype.applyBorders = function (str) {\n        var rtl = this.parent.enableRtl;\n        if (this.parent.getFrozenMode() === literals.leftRight) {\n            this.applyBothFrozenBorders(str);\n        }\n        else {\n            switch (str.length) {\n                case 4:\n                    {\n                        if (this.parent.getFrozenMode() === 'Right') {\n                            this.bdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                            this.mcBdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                            this.fhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                            this.mhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                        }\n                        else {\n                            this.bdrElement.style.borderWidth = rtl ? this.right_bottom : this.bottom_left;\n                            this.mcBdrElement.style.borderWidth = rtl ? this.bottom_left : this.right_bottom;\n                            this.fhBdrElement.style.borderWidth = rtl ? this.top_right : this.top_left;\n                            this.mhBdrElement.style.borderWidth = rtl ? this.top_left : this.top_right;\n                        }\n                    }\n                    break;\n                case 2:\n                    {\n                        if (this.parent.getFrozenMode() === 'Right') {\n                            this.bdrElement.style.borderWidth = str.includes('2') ? rtl ? this.top_bottom_left\n                                : this.top_right_bottom : this.right_bottom_left;\n                            this.mcBdrElement.style.borderWidth = str.includes('1') ? rtl ? this.top_right_bottom\n                                : this.top_bottom_left : this.right_bottom_left;\n                            if (this.parent.frozenRows) {\n                                this.fhBdrElement.style.borderWidth = str.includes('1') ? this.top_right_left\n                                    : rtl ? this.top_bottom_left : this.top_right_bottom;\n                                this.mhBdrElement.style.borderWidth = str.includes('2') ? this.top_right_left\n                                    : rtl ? this.top_right_bottom : this.top_bottom_left;\n                            }\n                        }\n                        else {\n                            this.bdrElement.style.borderWidth = str.includes('2') ? rtl ? this.top_right_bottom\n                                : this.top_bottom_left : this.right_bottom_left;\n                            if (this.parent.isFrozenGrid()) {\n                                this.mcBdrElement.style.borderWidth = str.includes('1') ? rtl ? this.top_bottom_left\n                                    : this.top_right_bottom : this.right_bottom_left;\n                            }\n                            if (this.parent.frozenRows) {\n                                this.fhBdrElement.style.borderWidth = str.includes('1') ? this.top_right_left\n                                    : rtl ? this.top_right_bottom : this.top_bottom_left;\n                                if (this.parent.isFrozenGrid()) {\n                                    this.mhBdrElement.style.borderWidth = str.includes('2') ? this.top_right_left\n                                        : rtl ? this.top_bottom_left : this.top_right_bottom;\n                                }\n                            }\n                        }\n                    }\n                    break;\n                default:\n                    this.bdrElement.style.borderWidth = this.all_border;\n                    if (this.parent.isFrozenGrid()) {\n                        this.mcBdrElement.style.borderWidth = this.all_border;\n                    }\n                    if (this.parent.frozenRows) {\n                        this.fhBdrElement.style.borderWidth = this.all_border;\n                        if (this.parent.isFrozenGrid()) {\n                            this.mhBdrElement.style.borderWidth = this.all_border;\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    Selection.prototype.createBorders = function () {\n        if (!this.bdrElement) {\n            this.bdrElement = this.parent.getContentTable().parentElement.appendChild(createElement('div', {\n                className: 'e-xlsel', id: this.parent.element.id + '_bdr',\n                styles: 'width: 2px; border-width: 0;'\n            }));\n            if (this.parent.isFrozenGrid()) {\n                this.mcBdrElement = this.parent.contentModule.getMovableContent().appendChild(createElement('div', {\n                    className: 'e-xlsel', id: this.parent.element.id + '_mcbdr',\n                    styles: 'height: 2px; border-width: 0;'\n                }));\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frcBdrElement = this.parent.contentModule.getFrozenRightContent().appendChild(createElement('div', {\n                        className: 'e-xlsel', id: this.parent.element.id + '_frcbdr',\n                        styles: 'height: 2px; border-width: 0;'\n                    }));\n                }\n            }\n            if (this.parent.frozenRows) {\n                this.fhBdrElement = this.parent.getHeaderTable().parentElement.appendChild(createElement('div', { className: 'e-xlsel', id: this.parent.element.id + '_fhbdr', styles: 'height: 2px;' }));\n            }\n            if (this.parent.frozenRows && this.parent.isFrozenGrid()) {\n                this.mhBdrElement = this.parent.headerModule.getMovableHeader().appendChild(createElement('div', { className: 'e-xlsel', id: this.parent.element.id + '_mhbdr', styles: 'height: 2px;' }));\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frhBdrElement = this.parent.headerModule.getFrozenRightHeader().appendChild(createElement('div', { className: 'e-xlsel', id: this.parent.element.id + '_frhbdr', styles: 'height: 2px;' }));\n                }\n            }\n        }\n    };\n    Selection.prototype.showHideBorders = function (display) {\n        if (this.bdrElement) {\n            this.bdrElement.style.display = display;\n            if (this.parent.isFrozenGrid()) {\n                this.mcBdrElement.style.display = display;\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frcBdrElement.style.display = display;\n                }\n            }\n            if (this.parent.frozenRows) {\n                this.fhBdrElement.style.display = display;\n            }\n            if (this.parent.frozenRows && this.parent.isFrozenGrid()) {\n                this.mhBdrElement.style.display = display;\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    this.frhBdrElement.style.display = display;\n                }\n            }\n        }\n    };\n    Selection.prototype.drawAFBorders = function () {\n        if (!this.bdrAFBottom) {\n            this.createAFBorders();\n        }\n        this.positionAFBorders();\n    };\n    Selection.prototype.positionAFBorders = function () {\n        if (!this.startCell || !this.bdrAFLeft) {\n            return;\n        }\n        var stOff = this.startAFCell.getBoundingClientRect();\n        var endOff = this.endAFCell.getBoundingClientRect();\n        var top = endOff.top - stOff.top > 0 ? 1 : 0;\n        var firstCellTop = endOff.top - stOff.top >= 0 && (parentsUntil(this.startAFCell, literals.movableContent) ||\n            parentsUntil(this.startAFCell, 'e-frozencontent')) && this.isFirstRow(this.startAFCell) ? 1.5 : 0;\n        var firstCellLeft = (parentsUntil(this.startAFCell, literals.movableContent) ||\n            parentsUntil(this.startAFCell, literals.movableHeader)) && this.isFirstCell(this.startAFCell) ? 1 : 0;\n        var rowHeight = this.isLastRow(this.endAFCell) && (parentsUntil(this.endAFCell, literals.movableContent) ||\n            parentsUntil(this.endAFCell, 'e-frozencontent')) ? 2 : 0;\n        var parentOff = this.startAFCell.offsetParent.getBoundingClientRect();\n        var parentRect = this.parent.element.getBoundingClientRect();\n        var sTop = this.startAFCell.offsetParent.parentElement.scrollTop;\n        var sLeft = this.startAFCell.offsetParent.parentElement.scrollLeft;\n        var scrollTop = sTop - this.startAFCell.offsetTop;\n        var scrollLeft = sLeft - this.startAFCell.offsetLeft;\n        var totalHeight = this.parent.element.clientHeight;\n        var totalWidth = this.parent.element.clientWidth;\n        scrollTop = scrollTop > 0 ? Math.floor(scrollTop) - 1 : 0;\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        var left = stOff.left - parentRect.left;\n        if (!this.parent.enableRtl) {\n            this.bdrAFLeft.style.left = left - firstCellLeft + scrollLeft - 1 + 'px';\n            this.bdrAFRight.style.left = endOff.left - parentRect.left - 2 + endOff.width + 'px';\n            this.bdrAFRight.style.width = totalWidth <= parseInt(this.bdrAFRight.style.left, 10) ? '0px' : '2px';\n            this.bdrAFTop.style.left = left + scrollLeft - 0.5 + 'px';\n            this.bdrAFTop.style.width = parseInt(this.bdrAFRight.style.left, 10) - parseInt(this.bdrAFLeft.style.left, 10)\n                - firstCellLeft + 1 + 'px';\n            if (totalWidth <= (parseInt(this.bdrAFTop.style.width, 10) + parseInt(this.bdrAFTop.style.left, 10))) {\n                var leftRemove = (parseInt(this.bdrAFTop.style.width, 10) + parseInt(this.bdrAFTop.style.left, 10)) - totalWidth;\n                this.bdrAFTop.style.width = parseInt(this.bdrAFTop.style.width, 10) - leftRemove + 'px';\n            }\n        }\n        else {\n            var scrolloffSet = (parentsUntil(this.startAFCell, literals.movableContent) ||\n                parentsUntil(this.startAFCell, literals.movableHeader)) ? stOff.right -\n                this.startAFCell.offsetParent.parentElement.getBoundingClientRect().width -\n                parentRect.left : 0;\n            this.bdrAFLeft.style.right = parentRect.right - endOff.right - 2 + endOff.width + 'px';\n            this.bdrAFLeft.style.width = totalWidth <= parseInt(this.bdrAFLeft.style.right, 10) ? '0px' : '2px';\n            this.bdrAFRight.style.right = parentRect.right - stOff.right - firstCellLeft + scrolloffSet - 1 + 'px';\n            this.bdrAFTop.style.left = endOff.left - parentRect.left - 0.5 + 'px';\n            this.bdrAFTop.style.width = parseInt(this.bdrAFLeft.style.right, 10) - parseInt(this.bdrAFRight.style.right, 10)\n                - firstCellLeft + 1 + 'px';\n            if (parseInt(this.bdrAFTop.style.left, 10) < 0) {\n                this.bdrAFTop.style.width = parseInt(this.bdrAFTop.style.width, 10) + parseInt(this.bdrAFTop.style.left, 10) + 'px';\n                this.bdrAFTop.style.left = '0px';\n            }\n        }\n        this.bdrAFLeft.style.top = stOff.top - parentRect.top - firstCellTop + scrollTop + 'px';\n        this.bdrAFLeft.style.height = endOff.top - stOff.top > 0 ?\n            (endOff.top - parentOff.top + endOff.height + 1) - (stOff.top - parentOff.top) + firstCellTop - rowHeight - scrollTop + 'px' :\n            endOff.height + firstCellTop - rowHeight - scrollTop + 'px';\n        this.bdrAFRight.style.top = this.bdrAFLeft.style.top;\n        this.bdrAFRight.style.height = parseInt(this.bdrAFLeft.style.height, 10) + 'px';\n        this.bdrAFTop.style.top = this.bdrAFRight.style.top;\n        this.bdrAFBottom.style.left = this.bdrAFTop.style.left;\n        this.bdrAFBottom.style.top = parseFloat(this.bdrAFLeft.style.top) + parseFloat(this.bdrAFLeft.style.height) - top - 1 + 'px';\n        this.bdrAFBottom.style.width = totalHeight <= parseFloat(this.bdrAFBottom.style.top) ? '0px' : this.bdrAFTop.style.width;\n        if (totalHeight <= (parseInt(this.bdrAFLeft.style.height, 10) + parseInt(this.bdrAFLeft.style.top, 10))) {\n            var topRemove = parseInt(this.bdrAFLeft.style.height, 10) + parseInt(this.bdrAFLeft.style.top, 10) - totalHeight;\n            this.bdrAFLeft.style.height = parseInt(this.bdrAFLeft.style.height, 10) - topRemove + 'px';\n            this.bdrAFRight.style.height = parseInt(this.bdrAFLeft.style.height, 10) + 'px';\n        }\n    };\n    Selection.prototype.createAFBorders = function () {\n        if (!this.bdrAFLeft) {\n            this.bdrAFLeft = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdrafleft', styles: 'width: 2px;' }));\n            this.bdrAFRight = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdrafright', styles: 'width: 2px;' }));\n            this.bdrAFBottom = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdrafbottom', styles: 'height: 2px;' }));\n            this.bdrAFTop = this.parent.element.appendChild(createElement('div', { className: 'e-xlselaf', id: this.parent.element.id + '_bdraftop', styles: 'height: 2px;' }));\n        }\n    };\n    Selection.prototype.showAFBorders = function () {\n        if (this.bdrAFLeft) {\n            this.bdrAFLeft.style.display = '';\n            this.bdrAFRight.style.display = '';\n            this.bdrAFBottom.style.display = '';\n            this.bdrAFTop.style.display = '';\n        }\n    };\n    Selection.prototype.hideAFBorders = function () {\n        if (this.bdrAFLeft) {\n            this.bdrAFLeft.style.display = 'none';\n            this.bdrAFRight.style.display = 'none';\n            this.bdrAFBottom.style.display = 'none';\n            this.bdrAFTop.style.display = 'none';\n        }\n    };\n    Selection.prototype.updateValue = function (rIdx, cIdx, cell) {\n        var args = this.createBeforeAutoFill(rIdx, cIdx, cell);\n        if (!args.cancel) {\n            var col = this.parent.getColumnByIndex(cIdx);\n            if (this.parent.editModule && cell) {\n                if (col.type === 'number') {\n                    this.parent.editModule.updateCell(rIdx, col.field, parseFloat(args.value));\n                }\n                else {\n                    this.parent.editModule.updateCell(rIdx, col.field, args.value);\n                }\n            }\n        }\n    };\n    Selection.prototype.createBeforeAutoFill = function (rowIndex, colIndex, cell) {\n        var col = this.parent.getColumnByIndex(colIndex);\n        var args = {\n            column: col,\n            value: cell.innerText\n        };\n        this.parent.trigger(events.beforeAutoFill, args);\n        return args;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Selection.prototype.getAutoFillCells = function (rowIndex, startCellIdx) {\n        var cls = '.e-cellselectionbackground';\n        var cells = [].slice.call(this.parent.getDataRows()[rowIndex].querySelectorAll(cls));\n        if (this.parent.isFrozenGrid()) {\n            cells = cells.concat([].slice.call(this.parent.getMovableDataRows()[rowIndex].querySelectorAll(cls)));\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                cells = cells.concat([].slice.call(this.parent.getFrozenRightDataRows()[rowIndex].querySelectorAll(cls)));\n            }\n        }\n        return cells;\n    };\n    Selection.prototype.selectLikeAutoFill = function (e, isApply) {\n        var startrowIdx = parseInt(parentsUntil(this.startAFCell, literals.row).getAttribute(literals.ariaRowIndex), 10);\n        var startCellIdx = parseInt(this.startAFCell.getAttribute(literals.ariaColIndex), 10);\n        var endrowIdx = parseInt(parentsUntil(this.endAFCell, literals.row).getAttribute(literals.ariaRowIndex), 10);\n        var endCellIdx = parseInt(this.endAFCell.getAttribute(literals.ariaColIndex), 10);\n        var rowLen = this.selectedRowCellIndexes.length - 1;\n        var colLen = this.selectedRowCellIndexes[0].cellIndexes.length - 1;\n        switch (true) { //direction\n            case !isApply && this.endAFCell.classList.contains('e-cellselectionbackground') &&\n                !!parentsUntil(e.target, literals.rowCell):\n                this.startAFCell = this.parent.getCellFromIndex(startrowIdx, startCellIdx);\n                this.endAFCell = this.parent.getCellFromIndex(startrowIdx + rowLen, startCellIdx + colLen);\n                this.drawAFBorders();\n                break;\n            case this.autoFillRLselection && startCellIdx + colLen < endCellIdx && //right\n                endCellIdx - startCellIdx - colLen + 1 > endrowIdx - startrowIdx - rowLen // right bottom\n                && endCellIdx - startCellIdx - colLen + 1 > startrowIdx - endrowIdx: //right top\n                this.endAFCell = this.parent.getCellFromIndex(startrowIdx + rowLen, endCellIdx);\n                endrowIdx = parseInt(parentsUntil(this.endAFCell, literals.row).getAttribute(literals.ariaRowIndex), 10);\n                endCellIdx = parseInt(this.endAFCell.getAttribute(literals.ariaColIndex), 10);\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    var cellIdx = parseInt(this.endCell.getAttribute(literals.ariaColIndex), 10);\n                    for (var i = startrowIdx; i <= endrowIdx; i++) {\n                        var cells = this.getAutoFillCells(i, startCellIdx);\n                        var c = 0;\n                        for (var j = cellIdx + 1; j <= endCellIdx; j++) {\n                            if (c > colLen) {\n                                c = 0;\n                            }\n                            this.updateValue(i, j, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: startrowIdx, cellIndex: this.startCellIndex }, { rowIndex: endrowIdx, cellIndex: endCellIdx });\n                }\n                break;\n            case this.autoFillRLselection && startCellIdx > endCellIdx && // left\n                startCellIdx - endCellIdx + 1 > endrowIdx - startrowIdx - rowLen && //left top\n                startCellIdx - endCellIdx + 1 > startrowIdx - endrowIdx: // left bottom\n                this.startAFCell = this.parent.getCellFromIndex(startrowIdx, endCellIdx);\n                this.endAFCell = this.endCell;\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    for (var i = startrowIdx; i <= startrowIdx + rowLen; i++) {\n                        var cells = this.getAutoFillCells(i, startCellIdx);\n                        cells.reverse();\n                        var c = 0;\n                        for (var j = this.startCellIndex - 1; j >= endCellIdx; j--) {\n                            if (c > colLen) {\n                                c = 0;\n                            }\n                            this.updateValue(i, j, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: startrowIdx, cellIndex: endCellIdx }, { rowIndex: startrowIdx + rowLen, cellIndex: this.startCellIndex + colLen });\n                }\n                break;\n            case startrowIdx > endrowIdx: //up\n                this.startAFCell = this.parent.getCellFromIndex(endrowIdx, startCellIdx);\n                this.endAFCell = this.endCell;\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    var trIdx = parseInt(this.endCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n                    var r = trIdx;\n                    for (var i = startrowIdx - 1; i >= endrowIdx; i--) {\n                        if (r === this.startIndex - 1) {\n                            r = trIdx;\n                        }\n                        var cells = this.getAutoFillCells(r, startCellIdx);\n                        var c = 0;\n                        r--;\n                        for (var j = this.startCellIndex; j <= this.startCellIndex + colLen; j++) {\n                            this.updateValue(i, j, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: endrowIdx, cellIndex: startCellIdx + colLen }, { rowIndex: startrowIdx + rowLen, cellIndex: startCellIdx });\n                }\n                break;\n            default: //down\n                this.endAFCell = this.parent.getCellFromIndex(endrowIdx, startCellIdx + colLen);\n                if (!isApply) {\n                    this.drawAFBorders();\n                }\n                else {\n                    var trIdx = parseInt(this.endCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n                    var r = this.startIndex;\n                    for (var i = trIdx + 1; i <= endrowIdx; i++) {\n                        if (r === trIdx + 1) {\n                            r = this.startIndex;\n                        }\n                        var cells = this.getAutoFillCells(r, startCellIdx);\n                        r++;\n                        var c = 0;\n                        for (var m = this.startCellIndex; m <= this.startCellIndex + colLen; m++) {\n                            this.updateValue(i, m, cells[c]);\n                            c++;\n                        }\n                    }\n                    this.selectCellsByRange({ rowIndex: trIdx - rowLen, cellIndex: startCellIdx }, { rowIndex: endrowIdx, cellIndex: startCellIdx + colLen });\n                }\n                break;\n        }\n    };\n    Selection.prototype.mouseUpHandler = function (e) {\n        document.body.classList.remove('e-disableuserselect');\n        if (this.element) {\n            remove(this.element);\n        }\n        if (this.isDragged && this.selectedRowCellIndexes.length === 1 && this.selectedRowCellIndexes[0].cellIndexes.length === 1) {\n            this.mUPTarget = parentsUntil(e.target, literals.rowCell);\n        }\n        else {\n            this.mUPTarget = null;\n        }\n        if (this.isDragged && !this.isAutoFillSel && this.selectionSettings.mode === 'Cell' &&\n            e.target.classList.contains(literals.rowCell)) {\n            var target = e.target;\n            var rowIndex = parseInt(target.parentElement.getAttribute(literals.ariaRowIndex), 10);\n            var cellIndex = parseInt(target.getAttribute(literals.ariaColIndex), 10);\n            this.isDragged = false;\n            this.clearCellSelection();\n            this.selectCellsByRange({ rowIndex: this.startDIndex, cellIndex: this.startDCellIndex }, { rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        this.isDragged = false;\n        this.updateAutoFillPosition();\n        if (this.isAutoFillSel) {\n            var lastCell = parentsUntil(e.target, literals.rowCell);\n            this.endAFCell = lastCell ? lastCell : this.endCell === this.endAFCell ? this.startAFCell : this.endAFCell;\n            this.startAFCell = this.startCell;\n            this.updateStartCellsIndex();\n            this.selectLikeAutoFill(e, true);\n            this.updateAutoFillPosition();\n            this.hideAFBorders();\n            this.positionBorders();\n            this.isAutoFillSel = false;\n        }\n        EventHandler.remove(this.parent.getContent(), 'mousemove', this.mouseMoveHandler);\n        if (this.parent.frozenRows) {\n            EventHandler.remove(this.parent.getHeaderContent(), 'mousemove', this.mouseMoveHandler);\n        }\n        EventHandler.remove(document, 'mouseup', this.mouseUpHandler);\n    };\n    Selection.prototype.hideAutoFill = function () {\n        if (this.autofill) {\n            this.autofill.style.display = 'none';\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.updateAutoFillPosition = function () {\n        if (this.parent.enableAutoFill && !this.parent.isEdit &&\n            this.selectionSettings.cellSelectionMode.indexOf('Box') > -1 && !this.isRowType() && !this.isSingleSel()\n            && this.selectedRowCellIndexes.length) {\n            var index = parseInt(this.target.getAttribute(literals.ariaColIndex), 10);\n            var rindex = parseInt(this.target.getAttribute('index'), 10);\n            var rowIndex = this.selectedRowCellIndexes[this.selectedRowCellIndexes.length - 1].rowIndex;\n            var cells = this.getAutoFillCells(rowIndex, index).filter(function (ele) { return ele.style.display === ''; });\n            var col = this.parent.getColumnByIndex(index);\n            var isFrozenCol = col.getFreezeTableName() === 'movable';\n            var isFrozenRow = rindex < this.parent.frozenRows;\n            var isFrozenRight = this.parent.getFrozenMode() === literals.leftRight\n                && col.getFreezeTableName() === literals.frozenRight;\n            if (!select('#' + this.parent.element.id + '_autofill', parentsUntil(this.target, literals.table))) {\n                if (select('#' + this.parent.element.id + '_autofill', this.parent.element)) {\n                    select('#' + this.parent.element.id + '_autofill', this.parent.element).remove();\n                }\n                this.autofill = createElement('div', { className: 'e-autofill', id: this.parent.element.id + '_autofill' });\n                this.autofill.style.display = 'none';\n                if (!isFrozenRow) {\n                    if (!isFrozenCol) {\n                        this.parent.getContentTable().parentElement.appendChild(this.autofill);\n                    }\n                    else {\n                        this.parent.contentModule.getMovableContent().appendChild(this.autofill);\n                    }\n                }\n                else {\n                    if (!isFrozenCol) {\n                        this.parent.getHeaderTable().parentElement.appendChild(this.autofill);\n                    }\n                    else {\n                        this.parent.headerModule.getMovableHeader().appendChild(this.autofill);\n                    }\n                }\n                if (isFrozenRight) {\n                    if (isFrozenRow) {\n                        this.parent.getFrozenRightHeader().appendChild(this.autofill);\n                    }\n                    else {\n                        this.parent.getFrozenRightContent().appendChild(this.autofill);\n                    }\n                }\n            }\n            var cell = cells[cells.length - 1];\n            if (cell && cell.offsetParent) {\n                var clientRect = cell.getBoundingClientRect();\n                var parentOff = cell.offsetParent.getBoundingClientRect();\n                var colWidth = this.isLastCell(cell) ? 4 : 0;\n                var rowHeight = this.isLastRow(cell) ? 3 : 0;\n                if (!this.parent.enableRtl) {\n                    this.autofill.style.left = clientRect.left - parentOff.left + clientRect.width - 4 - colWidth + 'px';\n                }\n                else {\n                    this.autofill.style.right = parentOff.right - clientRect.right + clientRect.width - 4 - colWidth + 'px';\n                }\n                this.autofill.style.top = clientRect.top - parentOff.top + clientRect.height - 5 - rowHeight + 'px';\n            }\n            this.autofill.style.display = '';\n        }\n        else {\n            this.hideAutoFill();\n        }\n    };\n    Selection.prototype.mouseDownHandler = function (e) {\n        this.mouseButton = e.button;\n        var target = e.target;\n        var gObj = this.parent;\n        var isDrag;\n        var gridElement = parentsUntil(target, 'e-grid');\n        if (gridElement && gridElement.id !== gObj.element.id || parentsUntil(target, literals.headerContent) && !this.parent.frozenRows ||\n            parentsUntil(target, 'e-editedbatchcell') || parentsUntil(target, literals.editedRow)) {\n            return;\n        }\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (parentsUntil(target, literals.rowCell) && !e.shiftKey && !e.ctrlKey) {\n            if (gObj.selectionSettings.cellSelectionMode.indexOf('Box') > -1 && !this.isRowType() && !this.isSingleSel()) {\n                this.isCellDrag = true;\n                isDrag = true;\n            }\n            else if (gObj.allowRowDragAndDrop && !gObj.isEdit && !this.parent.selectionSettings.checkboxOnly) {\n                this.isRowDragSelected = false;\n                if (!this.isRowType() || this.isSingleSel() || closest(target, 'td').classList.contains('e-selectionbackground')) {\n                    this.isDragged = false;\n                    return;\n                }\n                isDrag = true;\n                this.element = this.parent.createElement('div', { className: 'e-griddragarea' });\n                gObj.getContent().appendChild(this.element);\n            }\n            if (isDrag) {\n                this.enableDrag(e, true);\n            }\n        }\n        this.updateStartEndCells();\n        if (target.classList.contains('e-autofill') || target.classList.contains('e-xlsel')) {\n            this.isCellDrag = true;\n            this.isAutoFillSel = true;\n            this.enableDrag(e);\n        }\n    };\n    Selection.prototype.updateStartEndCells = function () {\n        var cells = [].slice.call(this.parent.element.getElementsByClassName('e-cellselectionbackground'));\n        this.startCell = cells[0];\n        this.endCell = cells[cells.length - 1];\n        if (this.startCell) {\n            this.startIndex = parseInt(this.startCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n            this.startCellIndex = parseInt(parentsUntil(this.startCell, literals.rowCell).getAttribute(literals.ariaColIndex), 10);\n        }\n    };\n    Selection.prototype.updateStartCellsIndex = function () {\n        if (this.startCell) {\n            this.startIndex = parseInt(this.startCell.parentElement.getAttribute(literals.ariaRowIndex), 10);\n            this.startCellIndex = parseInt(parentsUntil(this.startCell, literals.rowCell).getAttribute(literals.ariaColIndex), 10);\n        }\n    };\n    Selection.prototype.enableDrag = function (e, isUpdate) {\n        var gObj = this.parent;\n        if (isUpdate) {\n            var tr = closest(e.target, 'tr');\n            this.startDIndex = parseInt(tr.getAttribute(literals.ariaRowIndex), 10);\n            this.startDCellIndex = parseInt(parentsUntil(e.target, literals.rowCell).getAttribute(literals.ariaColIndex), 10);\n        }\n        document.body.classList.add('e-disableuserselect');\n        var gBRect = gObj.element.getBoundingClientRect();\n        var postion = getPosition(e);\n        this.x = postion.x - gBRect.left;\n        this.y = postion.y - gBRect.top;\n        EventHandler.add(gObj.getContent(), 'mousemove', this.mouseMoveHandler, this);\n        if (this.parent.frozenRows) {\n            EventHandler.add(gObj.getHeaderContent(), 'mousemove', this.mouseMoveHandler, this);\n        }\n        EventHandler.add(document, 'mouseup', this.mouseUpHandler, this);\n    };\n    Selection.prototype.clearSelAfterRefresh = function (e) {\n        var isInfiniteScroll = this.parent.enableInfiniteScrolling && e.requestType === 'infiniteScroll';\n        if (e.requestType !== 'virtualscroll' && !this.parent.isPersistSelection && !isInfiniteScroll) {\n            this.clearSelection();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.evtHandlers = [{ event: events.uiUpdate, handler: this.enableAfterRender },\n            { event: events.initialEnd, handler: this.initializeSelection },\n            { event: events.rowSelectionComplete, handler: this.onActionComplete },\n            { event: events.cellSelectionComplete, handler: this.onActionComplete },\n            { event: events.inBoundModelChanged, handler: this.onPropertyChanged },\n            { event: events.cellFocused, handler: this.onCellFocused },\n            { event: events.beforeFragAppend, handler: this.clearSelAfterRefresh },\n            { event: events.columnPositionChanged, handler: this.columnPositionChanged },\n            { event: events.contentReady, handler: this.initialEnd },\n            { event: events.rowsRemoved, handler: this.rowsRemoved },\n            { event: events.headerRefreshed, handler: this.refreshHeader },\n            { event: events.destroy, handler: this.destroy }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.actionBeginFunction = this.actionBegin.bind(this);\n        this.actionCompleteFunction = this.actionComplete.bind(this);\n        this.parent.addEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunction);\n        this.addEventListener_checkbox();\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n        this.parent.removeEventListener(events.actionBegin, this.actionBeginFunction);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunction);\n        this.removeEventListener_checkbox();\n    };\n    Selection.prototype.wireEvents = function () {\n        this.isMacOS = navigator.userAgent.indexOf('Mac OS') !== -1;\n        if (this.isMacOS) {\n            EventHandler.add(this.parent.element, 'keydown', this.keyDownHandler, this);\n            EventHandler.add(this.parent.element, 'keyup', this.keyUpHandler, this);\n        }\n    };\n    Selection.prototype.unWireEvents = function () {\n        if (this.isMacOS) {\n            EventHandler.remove(this.parent.element, 'keydown', this.keyDownHandler);\n            EventHandler.remove(this.parent.element, 'keyup', this.keyUpHandler);\n        }\n    };\n    Selection.prototype.columnPositionChanged = function () {\n        if (!this.parent.isPersistSelection) {\n            this.clearSelection();\n        }\n    };\n    Selection.prototype.refreshHeader = function () {\n        this.setCheckAllState();\n    };\n    Selection.prototype.rowsRemoved = function (e) {\n        for (var i = 0; i < e.records.length; i++) {\n            delete (this.selectedRowState[e.records[i][this.primaryKey]]);\n            --this.totalRecordsCount;\n        }\n        this.setCheckAllState();\n    };\n    Selection.prototype.beforeFragAppend = function (e) {\n        if (e.requestType !== 'virtualscroll' && !this.parent.isPersistSelection) {\n            this.clearSelection();\n        }\n    };\n    Selection.prototype.getCheckAllBox = function () {\n        return this.parent.getHeaderContent().querySelector('.e-checkselectall');\n    };\n    Selection.prototype.enableAfterRender = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.render();\n            this.initPerisistSelection();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Selection.prototype.render = function (e) {\n        EventHandler.add(this.parent.getContent(), 'mousedown', this.mouseDownHandler, this);\n        EventHandler.add(this.parent.getHeaderContent(), 'mousedown', this.mouseDownHandler, this);\n    };\n    Selection.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        var gObj = this.parent;\n        if (!isNullOrUndefined(e.properties.type) && this.selectionSettings.type === 'Single') {\n            if (this.selectedRowCellIndexes.length > 1) {\n                this.clearCellSelection();\n                this.prevCIdxs = undefined;\n            }\n            if (this.selectedRowIndexes.length > 1) {\n                this.clearRowSelection();\n                this.prevRowIndex = undefined;\n            }\n            if (this.selectedColumnsIndexes.length > 1) {\n                this.clearColumnSelection();\n                this.prevColIndex = undefined;\n            }\n            this.enableSelectMultiTouch = false;\n            this.hidePopUp();\n        }\n        if (!isNullOrUndefined(e.properties.mode) ||\n            !isNullOrUndefined(e.properties.cellSelectionMode)) {\n            this.clearSelection();\n            this.prevRowIndex = undefined;\n            this.prevCIdxs = undefined;\n            this.prevColIndex = undefined;\n        }\n        this.isPersisted = true;\n        this.checkBoxSelectionChanged();\n        this.isPersisted = false;\n        if (!this.parent.isCheckBoxSelection) {\n            this.initPerisistSelection();\n        }\n        var checkboxColumn = this.parent.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (checkboxColumn.length) {\n            gObj.isCheckBoxSelection = !(this.selectionSettings.checkboxMode === 'ResetOnRowClick');\n        }\n        this.drawBorders();\n    };\n    Selection.prototype.hidePopUp = function () {\n        if (this.parent.element.querySelector('.e-gridpopup').getElementsByClassName('e-rowselect').length) {\n            this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        }\n    };\n    Selection.prototype.initialEnd = function (e) {\n        var isFrozen = this.parent.isFrozenGrid();\n        var isLeftRightFrozen = this.parent.getFrozenMode() === literals.leftRight;\n        if ((!isFrozen || (isFrozen && (!isLeftRightFrozen && !e.args.isFrozen)\n            || (isLeftRightFrozen && e.args.renderFrozenRightContent))) && !this.selectedRowIndexes.length) {\n            this.parent.off(events.contentReady, this.initialEnd);\n            this.selectRow(this.parent.selectedRowIndex);\n        }\n    };\n    Selection.prototype.checkBoxSelectionChanged = function () {\n        var gobj = this.parent;\n        gobj.off(events.contentReady, this.checkBoxSelectionChanged);\n        var checkboxColumn = gobj.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (checkboxColumn.length > 0) {\n            gobj.isCheckBoxSelection = true;\n            this.chkField = checkboxColumn[0].field;\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n            if (isNullOrUndefined(this.totalRecordsCount)) {\n                this.totalRecordsCount = this.getCurrentBatchRecordChanges().length;\n            }\n            if (this.isSingleSel()) {\n                gobj.selectionSettings.type = 'Multiple';\n                gobj.dataBind();\n            }\n            else {\n                this.initPerisistSelection();\n            }\n        }\n        if (!gobj.isCheckBoxSelection && !this.isPersisted) {\n            this.chkField = null;\n            this.initPerisistSelection();\n        }\n    };\n    Selection.prototype.initPerisistSelection = function () {\n        var gobj = this.parent;\n        if (this.parent.selectionSettings.persistSelection && this.parent.getPrimaryKeyFieldNames().length > 0) {\n            gobj.isPersistSelection = true;\n            this.ensureCheckboxFieldSelection();\n        }\n        else if (this.parent.getPrimaryKeyFieldNames().length > 0) {\n            gobj.isPersistSelection = false;\n            this.ensureCheckboxFieldSelection();\n        }\n        else {\n            gobj.isPersistSelection = false;\n            this.selectedRowState = {};\n        }\n    };\n    Selection.prototype.ensureCheckboxFieldSelection = function () {\n        var gobj = this.parent;\n        this.primaryKey = this.parent.getPrimaryKeyFieldNames()[0];\n        if (!gobj.enableVirtualization && this.chkField\n            && ((gobj.isPersistSelection && Object.keys(this.selectedRowState).length === 0) ||\n                !gobj.isPersistSelection)) {\n            var data = this.parent.getDataModule();\n            var query = new Query().where(this.chkField, 'equal', true);\n            if (!query.params) {\n                query.params = this.parent.query.params;\n            }\n            var dataManager = data.getData({}, query);\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var proxy_1 = this;\n            this.parent.showSpinner();\n            dataManager.then(function (e) {\n                proxy_1.dataSuccess(e.result);\n                proxy_1.refreshPersistSelection();\n                proxy_1.parent.hideSpinner();\n            });\n        }\n    };\n    Selection.prototype.dataSuccess = function (res) {\n        for (var i = 0; i < res.length; i++) {\n            if (isNullOrUndefined(this.selectedRowState[res[i][this.primaryKey]]) && res[i][this.chkField]) {\n                this.selectedRowState[res[i][this.primaryKey]] = res[i][this.chkField];\n            }\n        }\n        this.persistSelectedData = res;\n    };\n    Selection.prototype.setRowSelection = function (state) {\n        if (!this.parent.getDataModule().isRemote()) {\n            if (state) {\n                if (this.parent.groupSettings.columns.length) {\n                    for (var _i = 0, _a = this.getData().records; _i < _a.length; _i++) {\n                        var data = _a[_i];\n                        this.selectedRowState[data[this.primaryKey]] = true;\n                    }\n                }\n                else {\n                    for (var _b = 0, _c = this.getData(); _b < _c.length; _b++) {\n                        var data = _c[_b];\n                        this.selectedRowState[data[this.primaryKey]] = true;\n                    }\n                }\n            }\n            else {\n                this.selectedRowState = {};\n            }\n            // (this.getData()).forEach(function (data) {\n            //     this.selectedRowState[data[this.primaryKey]] = true;\n            // })\n        }\n    };\n    Selection.prototype.getData = function () {\n        return this.parent.getDataModule().dataManager.executeLocal(this.parent.getDataModule().generateQuery(true));\n    };\n    Selection.prototype.refreshPersistSelection = function () {\n        var rows = this.parent.getRows();\n        if (this.parent.isCheckBoxSelection && this.parent.isFrozenGrid()) {\n            var mtbody = this.parent.getMovableContentTbody();\n            if (mtbody.querySelector('.e-checkselect')) {\n                rows = this.parent.getMovableRows();\n            }\n            if (this.parent.getFrozenMode() === literals.leftRight) {\n                var frtbody = this.parent.getFrozenRightContentTbody();\n                if (frtbody.querySelector('.e-checkselect')) {\n                    rows = this.parent.getFrozenRightRows();\n                }\n            }\n        }\n        this.totalRecordsCount = this.parent.getCurrentViewRecords().length;\n        if (this.parent.allowPaging) {\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n        }\n        if (rows !== null && rows.length > 0 && (this.parent.isPersistSelection || this.chkField)) {\n            var indexes = [];\n            for (var j = 0; j < rows.length; j++) {\n                var rowObj = this.getRowObj(rows[j]);\n                var pKey = rowObj ? rowObj.data ? rowObj.data[this.primaryKey] : null : null;\n                if (pKey === null) {\n                    return;\n                }\n                var checkState = void 0;\n                var chkBox = rows[j].querySelector('.e-checkselect');\n                if (this.selectedRowState[pKey] || (this.parent.checkAllRows === 'Check' && this.selectedRowState[pKey] &&\n                    this.totalRecordsCount === Object.keys(this.selectedRowState).length && this.chkAllCollec.indexOf(pKey) < 0)\n                    || (this.parent.checkAllRows === 'Uncheck' && this.chkAllCollec.indexOf(pKey) > 0)\n                    || (this.parent.checkAllRows === 'Intermediate' && !isNullOrUndefined(this.chkField) && rowObj.data[this.chkField])) {\n                    indexes.push(parseInt(rows[j].getAttribute(literals.ariaRowIndex), 10));\n                    checkState = true;\n                }\n                else {\n                    checkState = false;\n                    if (this.checkedTarget !== chkBox && this.parent.isCheckBoxSelection && chkBox) {\n                        removeAddCboxClasses(chkBox.nextElementSibling, checkState);\n                    }\n                }\n                this.updatePersistCollection(rows[j], checkState);\n            }\n            if (this.isSingleSel() && indexes.length > 0) {\n                this.selectRow(indexes[0], true);\n            }\n            else {\n                this.selectRows(indexes);\n            }\n        }\n        if (this.parent.isCheckBoxSelection && this.getCurrentBatchRecordChanges().length > 0) {\n            this.setCheckAllState();\n        }\n    };\n    Selection.prototype.actionBegin = function (e) {\n        if (e.requestType === 'save' && this.parent.isPersistSelection) {\n            var editChkBox = this.parent.element.querySelector('.e-edit-checkselect');\n            if (!isNullOrUndefined(editChkBox)) {\n                var row = closest(editChkBox, '.' + literals.editedRow);\n                if (row) {\n                    if (this.parent.editSettings.mode === 'Dialog') {\n                        row = this.parent.element.querySelector('.e-dlgeditrow');\n                    }\n                    var rowObj = this.getRowObj(row);\n                    if (!rowObj) {\n                        return;\n                    }\n                    this.selectedRowState[rowObj.data[this.primaryKey]] = rowObj.isSelected = editChkBox.checked;\n                }\n                else {\n                    this.isCheckedOnAdd = editChkBox.checked;\n                }\n            }\n        }\n    };\n    Selection.prototype.actionComplete = function (e) {\n        if (e.requestType === 'save' && this.parent.isPersistSelection) {\n            if (e.action === 'add' && this.isCheckedOnAdd) {\n                var rowObj = this.parent.getRowObjectFromUID(this.parent.getRows()[e.selectedRow].getAttribute('data-uid'));\n                this.selectedRowState[rowObj.data[this.primaryKey]] = rowObj.isSelected = this.isCheckedOnAdd;\n            }\n            this.refreshPersistSelection();\n        }\n        if (e.requestType === 'delete' && this.parent.isPersistSelection) {\n            var records = e.data;\n            var data = records.slice();\n            for (var i = 0; i < data.length; i++) {\n                if (!isNullOrUndefined(data[i][this.primaryKey])) {\n                    this.updatePersistDelete(data[i][this.primaryKey]);\n                }\n            }\n            this.setCheckAllState();\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n        }\n        if (e.requestType === 'paging') {\n            this.prevRowIndex = undefined;\n            this.prevCIdxs = undefined;\n            this.prevECIdxs = undefined;\n        }\n    };\n    Selection.prototype.onDataBound = function () {\n        if (!this.parent.enableVirtualization && this.parent.isPersistSelection) {\n            if (this.selectedRecords.length) {\n                this.isPrevRowSelection = true;\n            }\n            this.refreshPersistSelection();\n        }\n        if (this.parent.enableVirtualization) {\n            this.setCheckAllState();\n        }\n        this.initialRowSelection = this.isRowType() && this.parent.element.querySelectorAll('.e-selectionbackground') &&\n            this.parent.getSelectedRows().length ? true : false;\n        if (this.parent.isCheckBoxSelection && !this.initialRowSelection) {\n            var totalRecords = this.parent.getRowsObject();\n            var indexes = [];\n            for (var i = 0; i < totalRecords.length; i++) {\n                if (totalRecords[i].isSelected) {\n                    indexes.push(i);\n                }\n            }\n            if (indexes.length) {\n                this.selectRows(indexes);\n            }\n            this.initialRowSelection = true;\n        }\n    };\n    Selection.prototype.updatePersistSelectedData = function (checkState) {\n        if (this.parent.isPersistSelection) {\n            var rows = this.parent.getRows();\n            for (var i = 0; i < rows.length; i++) {\n                this.updatePersistCollection(rows[i], checkState);\n            }\n            if (this.parent.checkAllRows === 'Uncheck') {\n                this.setRowSelection(false);\n                this.persistSelectedData = this.parent.getDataModule().isRemote() ? this.persistSelectedData : [];\n            }\n            else if (this.parent.checkAllRows === 'Check') {\n                this.setRowSelection(true);\n                this.persistSelectedData = !this.parent.getDataModule().isRemote() ?\n                    this.parent.groupSettings.columns.length ? this.getData().records.slice() :\n                        this.getData().slice() : this.persistSelectedData;\n            }\n        }\n    };\n    Selection.prototype.checkSelectAllAction = function (checkState) {\n        var cRenderer = this.getRenderer();\n        var editForm = this.parent.element.querySelector('.e-gridform');\n        this.checkedTarget = this.getCheckAllBox();\n        if (checkState && this.getCurrentBatchRecordChanges().length) {\n            this.parent.checkAllRows = 'Check';\n            this.updatePersistSelectedData(checkState);\n            this.selectRowsByRange(cRenderer.getVirtualRowIndex(0), cRenderer.getVirtualRowIndex(this.getCurrentBatchRecordChanges().length - 1));\n        }\n        else {\n            this.parent.checkAllRows = 'Uncheck';\n            this.updatePersistSelectedData(checkState);\n            this.clearSelection();\n        }\n        this.chkAllCollec = [];\n        if (!isNullOrUndefined(editForm)) {\n            var editChkBox = editForm.querySelector('.e-edit-checkselect');\n            if (!isNullOrUndefined(editChkBox)) {\n                removeAddCboxClasses(editChkBox.nextElementSibling, checkState);\n            }\n        }\n    };\n    Selection.prototype.checkSelectAll = function (checkBox) {\n        var _this = this;\n        var stateStr = this.getCheckAllStatus(checkBox);\n        var state = stateStr === 'Check';\n        this.isHeaderCheckboxClicked = true;\n        if (stateStr === 'Intermediate') {\n            state = this.getCurrentBatchRecordChanges().some(function (data) {\n                return data[_this.primaryKey] in _this.selectedRowState;\n            });\n        }\n        if (this.parent.isPersistSelection && this.parent.allowPaging) {\n            this.totalRecordsCount = this.parent.pageSettings.totalRecordsCount;\n        }\n        this.checkSelectAllAction(!state);\n        this.target = null;\n        if (this.getCurrentBatchRecordChanges().length > 0) {\n            this.setCheckAllState();\n        }\n        this.triggerChkChangeEvent(checkBox, !state);\n    };\n    Selection.prototype.getCheckAllStatus = function (ele) {\n        var classes = ele ? ele.nextElementSibling.classList :\n            this.getCheckAllBox().nextElementSibling.classList;\n        var status;\n        if (classes.contains('e-check')) {\n            status = 'Check';\n        }\n        else if (classes.contains('e-uncheck')) {\n            status = 'Uncheck';\n        }\n        else if (classes.contains('e-stop')) {\n            status = 'Intermediate';\n        }\n        else {\n            status = 'None';\n        }\n        return status;\n    };\n    Selection.prototype.checkSelect = function (checkBox) {\n        var target = closest(this.checkedTarget, '.' + literals.rowCell);\n        var gObj = this.parent;\n        this.isMultiCtrlRequest = true;\n        var rIndex = 0;\n        this.isHeaderCheckboxClicked = false;\n        if (isGroupAdaptive(gObj)) {\n            var uid = target.parentElement.getAttribute('data-uid');\n            rIndex = gObj.getRows().map(function (m) { return m.getAttribute('data-uid'); }).indexOf(uid);\n        }\n        else {\n            rIndex = parseInt(target.parentElement.getAttribute(literals.ariaRowIndex), 10);\n        }\n        if (this.parent.isPersistSelection && this.parent.element.getElementsByClassName(literals.addedRow).length > 0 &&\n            this.parent.editSettings.newRowPosition === 'Top') {\n            ++rIndex;\n        }\n        this.rowCellSelectionHandler(rIndex, parseInt(target.getAttribute(literals.ariaColIndex), 10));\n        this.moveIntoUncheckCollection(closest(target, '.' + literals.row));\n        this.setCheckAllState();\n        this.isMultiCtrlRequest = false;\n        this.triggerChkChangeEvent(checkBox, checkBox.nextElementSibling.classList.contains('e-check'));\n    };\n    Selection.prototype.moveIntoUncheckCollection = function (row) {\n        if (this.parent.checkAllRows === 'Check' || this.parent.checkAllRows === 'Uncheck') {\n            var rowObj = this.getRowObj(row);\n            var pKey = rowObj && rowObj.data ? rowObj.data[this.primaryKey] : null;\n            if (!pKey) {\n                return;\n            }\n            if (this.chkAllCollec.indexOf(pKey) < 0) {\n                this.chkAllCollec.push(pKey);\n            }\n            else {\n                this.chkAllCollec.splice(this.chkAllCollec.indexOf(pKey), 1);\n            }\n        }\n    };\n    Selection.prototype.triggerChkChangeEvent = function (checkBox, checkState) {\n        this.parent.trigger(events.checkBoxChange, {\n            checked: checkState, selectedRowIndexes: this.parent.getSelectedRowIndexes(),\n            target: checkBox\n        });\n        if (!this.parent.isEdit) {\n            this.checkedTarget = null;\n        }\n    };\n    Selection.prototype.updateSelectedRowIndex = function (index) {\n        if (this.parent.isCheckBoxSelection && (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)\n            && !this.parent.getDataModule().isRemote()) {\n            if (this.parent.checkAllRows === 'Check') {\n                this.selectedRowIndexes = [];\n                var dataLength = this.getData().length;\n                for (var data = 0; data < dataLength; data++) {\n                    this.selectedRowIndexes.push(data);\n                }\n            }\n            else if (this.parent.checkAllRows === 'Uncheck') {\n                this.selectedRowIndexes = [];\n            }\n            else {\n                var row = this.parent.getRowByIndex(index);\n                if (index && row && row.getAttribute('aria-selected') === 'false') {\n                    var selectedVal = this.selectedRowIndexes.indexOf(index);\n                    this.selectedRowIndexes.splice(selectedVal, 1);\n                }\n            }\n        }\n    };\n    Selection.prototype.isAllSelected = function () {\n        var data = this.getData();\n        for (var i = 0; i < data.length; i++) {\n            var pKey = data[i][this.primaryKey];\n            if (!this.selectedRowState[pKey]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Selection.prototype.setCheckAllState = function (index, isInteraction) {\n        if (this.parent.isCheckBoxSelection || this.parent.selectionSettings.checkboxMode === 'ResetOnRowClick') {\n            var checkToSelectAll = true;\n            var checkedLen = Object.keys(this.selectedRowState).length;\n            if (!this.parent.isPersistSelection) {\n                checkedLen = this.selectedRowIndexes.length;\n                this.totalRecordsCount = this.getCurrentBatchRecordChanges().length;\n            }\n            if (this.parent.isPersistSelection && !this.parent.getDataModule().isRemote() && (this.parent.searchSettings.key.length\n                || this.parent.filterSettings.columns.length)) {\n                checkToSelectAll = this.isAllSelected();\n            }\n            var input = this.getCheckAllBox();\n            if (input) {\n                var spanEle = input.nextElementSibling;\n                removeClass([spanEle], ['e-check', 'e-stop', 'e-uncheck']);\n                setChecked(input, false);\n                input.indeterminate = false;\n                if (checkToSelectAll && checkedLen === this.totalRecordsCount && this.totalRecordsCount\n                    || ((this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)\n                        && !this.parent.allowPaging && !this.parent.getDataModule().isRemote()\n                        && (this.getData().length && checkedLen === this.getData().length))) {\n                    addClass([spanEle], ['e-check']);\n                    setChecked(input, true);\n                    if (isInteraction) {\n                        this.getRenderer().setSelection(null, true, true);\n                    }\n                    this.parent.checkAllRows = 'Check';\n                }\n                else if (!this.selectedRowIndexes.length ||\n                    checkedLen === 0 && this.getCurrentBatchRecordChanges().length === 0) {\n                    addClass([spanEle], ['e-uncheck']);\n                    if (isInteraction) {\n                        this.getRenderer().setSelection(null, false, true);\n                    }\n                    this.parent.checkAllRows = 'Uncheck';\n                    if (checkedLen === 0 && this.getCurrentBatchRecordChanges().length === 0) {\n                        addClass([spanEle.parentElement], ['e-checkbox-disabled']);\n                    }\n                    else {\n                        removeClass([spanEle.parentElement], ['e-checkbox-disabled']);\n                    }\n                }\n                else {\n                    addClass([spanEle], ['e-stop']);\n                    this.parent.checkAllRows = 'Intermediate';\n                    input.indeterminate = true;\n                }\n                if ((this.parent.enableVirtualization || this.parent.enableInfiniteScrolling)\n                    && !this.parent.allowPaging && !this.parent.getDataModule().isRemote()) {\n                    this.updateSelectedRowIndex(index);\n                }\n            }\n        }\n    };\n    Selection.prototype.keyDownHandler = function (e) {\n        // Below are keyCode for command key in MAC OS. Safari/Chrome(91-Left command, 93-Right Command), Opera(17), FireFox(224)\n        if ((((Browser.info.name === 'chrome') || (Browser.info.name === 'safari')) && (e.keyCode === 91 || e.keyCode === 93)) ||\n            (Browser.info.name === 'opera' && e.keyCode === 17) || (Browser.info.name === 'mozilla' && e.keyCode === 224)) {\n            this.cmdKeyPressed = true;\n        }\n    };\n    Selection.prototype.keyUpHandler = function (e) {\n        if ((((Browser.info.name === 'chrome') || (Browser.info.name === 'safari')) && (e.keyCode === 91 || e.keyCode === 93)) ||\n            (Browser.info.name === 'opera' && e.keyCode === 17) || (Browser.info.name === 'mozilla' && e.keyCode === 224)) {\n            this.cmdKeyPressed = false;\n        }\n    };\n    Selection.prototype.clickHandler = function (e) {\n        var target = e.target;\n        this.actualTarget = target;\n        if (this.selectionSettings.persistSelection) {\n            this.deSelectedData = iterateExtend(this.persistSelectedData);\n        }\n        if (parentsUntil(target, literals.row) || parentsUntil(target, 'e-headerchkcelldiv') ||\n            (this.selectionSettings.allowColumnSelection && target.classList.contains('e-headercell'))) {\n            this.isInteracted = true;\n        }\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch ||\n            (this.isMacOS && this.cmdKeyPressed);\n        this.isMultiShiftRequest = e.shiftKey;\n        this.popUpClickHandler(e);\n        var chkSelect = false;\n        this.preventFocus = true;\n        var checkBox;\n        var checkWrap = parentsUntil(target, 'e-checkbox-wrapper');\n        this.checkSelectAllClicked = checkWrap && checkWrap.getElementsByClassName('e-checkselectall') ||\n            (this.selectionSettings.persistSelection && parentsUntil(target, literals.row)) ? true : false;\n        if (checkWrap && checkWrap.querySelectorAll('.e-checkselect,.e-checkselectall').length > 0) {\n            checkBox = checkWrap.querySelector('input[type=\"checkbox\"]');\n            chkSelect = true;\n        }\n        this.drawBorders();\n        this.updateAutoFillPosition();\n        target = parentsUntil(target, literals.rowCell);\n        if (((target && target.parentElement.classList.contains(literals.row) && !this.parent.selectionSettings.checkboxOnly) || chkSelect)\n            && !this.isRowDragSelected) {\n            if (this.parent.isCheckBoxSelection) {\n                this.isMultiCtrlRequest = true;\n            }\n            this.target = target;\n            if (!isNullOrUndefined(checkBox)) {\n                this.checkedTarget = checkBox;\n                if (checkBox.classList.contains('e-checkselectall')) {\n                    this.checkSelectAll(checkBox);\n                }\n                else {\n                    this.checkSelect(checkBox);\n                }\n            }\n            else {\n                var gObj = this.parent;\n                var rIndex = 0;\n                if (isGroupAdaptive(gObj)) {\n                    var uid = target.parentElement.getAttribute('data-uid');\n                    rIndex = gObj.getRows().map(function (m) { return m.getAttribute('data-uid'); }).indexOf(uid);\n                }\n                else {\n                    rIndex = parseInt(target.parentElement.getAttribute(literals.ariaRowIndex), 10);\n                }\n                if (this.parent.isPersistSelection && this.parent.element.getElementsByClassName(literals.addedRow).length > 0) {\n                    ++rIndex;\n                }\n                if (!this.mUPTarget || !this.mUPTarget.isEqualNode(target)) {\n                    this.rowCellSelectionHandler(rIndex, parseInt(target.getAttribute(literals.ariaColIndex), 10));\n                }\n                this.parent.hoverFrozenRows(e);\n                if (this.parent.isCheckBoxSelection) {\n                    this.moveIntoUncheckCollection(closest(target, '.' + literals.row));\n                    this.setCheckAllState();\n                }\n            }\n            if (!this.parent.isCheckBoxSelection && Browser.isDevice && !this.isSingleSel()) {\n                this.showPopup(e);\n            }\n        }\n        else if (e.target.classList.contains('e-headercell') &&\n            !e.target.classList.contains('e-stackedheadercell')) {\n            var uid = e.target.querySelector('.e-headercelldiv').getAttribute('e-mappinguid');\n            this.headerSelectionHandler(this.parent.getColumnIndexByUid(uid));\n        }\n        this.isMultiCtrlRequest = false;\n        this.isMultiShiftRequest = false;\n        if (isNullOrUndefined(closest(e.target, '.e-unboundcell'))) {\n            this.preventFocus = false;\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        if (closest(target, '.e-headercell') || e.target.classList.contains(literals.rowCell) ||\n            closest(target, '.e-gridpopup')) {\n            if (target.classList.contains('e-rowselect')) {\n                if (!target.classList.contains('e-spanclicked')) {\n                    target.classList.add('e-spanclicked');\n                    this.enableSelectMultiTouch = true;\n                }\n                else {\n                    target.classList.remove('e-spanclicked');\n                    this.enableSelectMultiTouch = false;\n                    this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n                }\n            }\n        }\n        else {\n            this.parent.element.querySelector('.e-gridpopup').style.display = 'none';\n        }\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (!this.selectionSettings.enableSimpleMultiRowSelection) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-gridpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                (!this.isSingleSel() && (this.selectedRecords.length > (this.parent.getFrozenColumns() ? 2 : 1)\n                    || this.selectedRowCellIndexes.length > 1) ? ' e-spanclicked' : ''));\n        }\n    };\n    Selection.prototype.rowCellSelectionHandler = function (rowIndex, cellIndex) {\n        if ((!this.isMultiCtrlRequest && !this.isMultiShiftRequest) || this.isSingleSel()) {\n            if (!this.isDragged) {\n                this.selectRow(rowIndex, this.selectionSettings.enableToggle);\n            }\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, this.selectionSettings.enableToggle);\n            if (this.selectedRowCellIndexes.length) {\n                this.updateAutoFillPosition();\n            }\n            this.drawBorders();\n        }\n        else if (this.isMultiShiftRequest) {\n            if (this.parent.isCheckBoxSelection || (!this.parent.isCheckBoxSelection &&\n                !closest(this.target, '.' + literals.rowCell).classList.contains(literals.gridChkBox))) {\n                this.selectRowsByRange(isUndefined(this.prevRowIndex) ? rowIndex : this.prevRowIndex, rowIndex);\n            }\n            else {\n                this.addRowsToSelection([rowIndex]);\n            }\n            this.selectCellsByRange(isUndefined(this.prevCIdxs) ? { rowIndex: rowIndex, cellIndex: cellIndex } : this.prevCIdxs, { rowIndex: rowIndex, cellIndex: cellIndex });\n            this.updateAutoFillPosition();\n            this.drawBorders();\n        }\n        else {\n            this.addRowsToSelection([rowIndex]);\n            this.addCellsToSelection([{ rowIndex: rowIndex, cellIndex: cellIndex }]);\n            this.showHideBorders('none');\n        }\n        this.isDragged = false;\n    };\n    Selection.prototype.onCellFocused = function (e) {\n        if (this.parent.frozenRows && e.container.isHeader && e.byKey) {\n            if (e.keyArgs.action === 'upArrow') {\n                if (this.parent.allowFiltering) {\n                    e.isJump = e.element.tagName === 'INPUT' ? true : false;\n                }\n                else {\n                    e.isJump = e.element.tagName === 'TH' ? true : false;\n                }\n            }\n            else {\n                if (e.keyArgs.action === 'downArrow') {\n                    var rIdx = Number(e.element.parentElement.getAttribute(literals.ariaRowIndex));\n                    e.isJump = rIdx === 0 ? true : false;\n                }\n                else {\n                    if (e.keyArgs.action === 'ctrlHome') {\n                        e.isJump = true;\n                    }\n                }\n            }\n        }\n        var clear = this.parent.isFrozenGrid() ? (((e.container.isHeader && e.element.tagName !== 'TD' && e.isJump &&\n            !this.selectionSettings.allowColumnSelection) ||\n            ((e.container.isContent || e.element.tagName === 'TD') && !(e.container.isSelectable || e.element.tagName === 'TD')))\n            && !(e.byKey && e.keyArgs.action === 'space')) : ((e.container.isHeader && e.isJump) ||\n            (e.container.isContent && !e.container.isSelectable)) && !(e.byKey && e.keyArgs.action === 'space')\n            && !(e.element.classList.contains('e-detailrowexpand') || e.element.classList.contains('e-detailrowcollapse'));\n        var headerAction = (e.container.isHeader && e.element.tagName !== 'TD' && !closest(e.element, '.' + literals.rowCell))\n            && !(e.byKey && e.keyArgs.action === 'space');\n        if (!e.byKey || clear) {\n            if (clear && !this.parent.isCheckBoxSelection) {\n                this.clearSelection();\n            }\n            return;\n        }\n        var _a = e.container.isContent ? e.container.indexes : e.indexes, rowIndex = _a[0], cellIndex = _a[1];\n        var prev = this.focus.getPrevIndexes();\n        if (this.parent.frozenRows) {\n            if (e.container.isHeader && (e.element.tagName === 'TD' || closest(e.element, '.' + literals.rowCell))) {\n                var thLen = this.parent.getHeaderTable().querySelector('thead').childElementCount;\n                rowIndex -= thLen;\n                prev.rowIndex = !isNullOrUndefined(prev.rowIndex) ? prev.rowIndex - thLen : null;\n            }\n            else {\n                rowIndex += this.parent.frozenRows;\n                prev.rowIndex = prev.rowIndex === 0 || !isNullOrUndefined(prev.rowIndex) ? prev.rowIndex + this.parent.frozenRows : null;\n            }\n        }\n        if (this.parent.isFrozenGrid()) {\n            var cIdx = Number(e.element.getAttribute(literals.ariaColIndex));\n            var selectedIndexes = this.parent.getSelectedRowCellIndexes();\n            if (selectedIndexes.length && prev.cellIndex === 0) {\n                prev.cellIndex = selectedIndexes[selectedIndexes.length - 1].cellIndexes[0];\n            }\n            prev.cellIndex = !isNullOrUndefined(prev.cellIndex) ? (prev.cellIndex === cellIndex ? cIdx : cIdx - 1) : null;\n            cellIndex = cIdx;\n        }\n        if (this.parent.enableInfiniteScrolling && this.parent.infiniteScrollSettings.enableCache) {\n            rowIndex = parseInt(e.element.parentElement.getAttribute('aria-rowindex'), 10);\n        }\n        if ((headerAction || (['ctrlPlusA', 'escape'].indexOf(e.keyArgs.action) === -1 &&\n            e.keyArgs.action !== 'space' && rowIndex === prev.rowIndex && cellIndex === prev.cellIndex)) &&\n            !this.selectionSettings.allowColumnSelection) {\n            return;\n        }\n        this.preventFocus = true;\n        var columnIndex = this.getKeyColIndex(e);\n        if (this.needColumnSelection) {\n            cellIndex = columnIndex;\n        }\n        switch (e.keyArgs.action) {\n            case 'downArrow':\n            case 'upArrow':\n            case 'enter':\n            case 'shiftEnter':\n                this.target = e.element;\n                this.isKeyAction = true;\n                this.applyDownUpKey(rowIndex, cellIndex);\n                break;\n            case 'rightArrow':\n            case 'leftArrow':\n                this.applyRightLeftKey(rowIndex, cellIndex);\n                break;\n            case 'shiftDown':\n            case 'shiftUp':\n                this.shiftDownKey(rowIndex, cellIndex);\n                break;\n            case 'shiftLeft':\n            case 'shiftRight':\n                this.applyShiftLeftRightKey(rowIndex, cellIndex);\n                break;\n            case 'home':\n            case 'end':\n                cellIndex = e.keyArgs.action === 'end' ? this.getLastColIndex(rowIndex) : 0;\n                this.applyHomeEndKey(rowIndex, cellIndex);\n                break;\n            case 'ctrlHome':\n            case 'ctrlEnd':\n                this.applyCtrlHomeEndKey(rowIndex, cellIndex);\n                break;\n            case 'escape':\n                this.clearSelection();\n                break;\n            case 'ctrlPlusA':\n                this.ctrlPlusA();\n                break;\n            case 'space':\n                this.applySpaceSelection(e.element);\n                break;\n            case 'tab':\n                if (this.parent.editSettings.allowNextRowEdit) {\n                    this.selectRow(rowIndex);\n                }\n                break;\n        }\n        this.needColumnSelection = false;\n        this.preventFocus = false;\n        this.positionBorders();\n        this.updateAutoFillPosition();\n    };\n    Selection.prototype.getKeyColIndex = function (e) {\n        var uid;\n        var index = null;\n        var stackedHeader = e.element.querySelector('.e-stackedheadercelldiv');\n        if (this.selectionSettings.allowColumnSelection && parentsUntil(e.element, 'e-columnheader')) {\n            this.needColumnSelection = e.container.isHeader ? true : false;\n            if (stackedHeader) {\n                if (e.keyArgs.action === 'rightArrow' || e.keyArgs.action === 'leftArrow') {\n                    return index;\n                }\n                uid = stackedHeader.getAttribute('e-mappinguid');\n                var innerColumn = this.getstackedColumns(this.parent.getColumnByUid(uid).columns);\n                var lastIndex = this.parent.getColumnIndexByUid(innerColumn[innerColumn.length - 1].uid);\n                var firstIndex = this.parent.getColumnIndexByUid(innerColumn[0].uid);\n                index = this.prevColIndex >= lastIndex ? firstIndex : lastIndex;\n            }\n            else {\n                index = this.parent.getColumnIndexByUid(e.element\n                    .querySelector('.e-headercelldiv').getAttribute('e-mappinguid'));\n            }\n        }\n        return index;\n    };\n    /**\n     * Apply ctrl + A key selection\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.ctrlPlusA = function () {\n        if (this.isRowType() && !this.isSingleSel()) {\n            this.selectRowsByRange(0, this.getCurrentBatchRecordChanges().length - 1);\n        }\n        if (this.isCellType() && !this.isSingleSel()) {\n            this.selectCellsByRange({ rowIndex: 0, cellIndex: 0 }, { rowIndex: this.parent.getRows().length - 1, cellIndex: this.parent.getColumns().length - 1 });\n        }\n    };\n    Selection.prototype.applySpaceSelection = function (target) {\n        if (target.classList.contains('e-checkselectall')) {\n            this.checkedTarget = target;\n            this.checkSelectAll(this.checkedTarget);\n        }\n        else {\n            if (target.classList.contains('e-checkselect')) {\n                this.checkedTarget = target;\n                this.checkSelect(this.checkedTarget);\n            }\n        }\n    };\n    Selection.prototype.applyDownUpKey = function (rowIndex, cellIndex) {\n        var gObj = this.parent;\n        if (this.parent.isCheckBoxSelection && this.parent.checkAllRows === 'Check' && !this.selectionSettings.persistSelection) {\n            this.checkSelectAllAction(false);\n            this.checkedTarget = null;\n        }\n        if (this.isRowType()) {\n            if (this.parent.frozenRows) {\n                this.selectRow(rowIndex, true);\n                this.applyUpDown(gObj.selectedRowIndex);\n            }\n            else {\n                this.selectRow(rowIndex, true);\n                this.applyUpDown(gObj.selectedRowIndex);\n            }\n        }\n        if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n        }\n        if (this.selectionSettings.allowColumnSelection && this.needColumnSelection) {\n            this.selectColumn(cellIndex);\n        }\n    };\n    Selection.prototype.applyUpDown = function (rowIndex) {\n        if (rowIndex < 0) {\n            return;\n        }\n        if (!this.target) {\n            this.target = this.parent.getRows()[0].children[this.parent.groupSettings.columns.length || 0];\n        }\n        var cIndex = parseInt(this.target.getAttribute(literals.ariaColIndex), 10);\n        var frzCols = this.parent.getFrozenColumns();\n        if (frzCols) {\n            if (cIndex >= frzCols) {\n                this.target =\n                    this.contentRenderer.getMovableRowByIndex(rowIndex).getElementsByClassName(literals.rowCell)[cIndex - frzCols];\n            }\n            else {\n                this.target = this.contentRenderer.getRowByIndex(rowIndex).getElementsByClassName(literals.rowCell)[cIndex];\n            }\n        }\n        else {\n            var row = this.contentRenderer.getRowByIndex(rowIndex);\n            if (row) {\n                this.target = row.getElementsByClassName(literals.rowCell)[cIndex];\n            }\n        }\n        this.addAttribute(this.target);\n    };\n    Selection.prototype.applyRightLeftKey = function (rowIndex, cellIndex) {\n        if (this.selectionSettings.allowColumnSelection && this.needColumnSelection) {\n            this.selectColumn(cellIndex);\n        }\n        else if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n            this.addAttribute(this.target);\n        }\n    };\n    Selection.prototype.applyHomeEndKey = function (rowIndex, cellIndex) {\n        if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n        }\n        else {\n            this.addAttribute(this.parent.getCellFromIndex(rowIndex, cellIndex));\n        }\n    };\n    /**\n     * Apply shift+down key selection\n     *\n     * @param {number} rowIndex - specfies the rowIndex\n     * @param {number} cellIndex - specifies the CellIndex\n     * @returns {void}\n     * @hidden\n     */\n    Selection.prototype.shiftDownKey = function (rowIndex, cellIndex) {\n        this.isMultiShiftRequest = true;\n        if (this.isRowType() && !this.isSingleSel()) {\n            if (!isUndefined(this.prevRowIndex)) {\n                this.selectRowsByRange(this.prevRowIndex, rowIndex);\n                this.applyUpDown(rowIndex);\n            }\n            else {\n                this.selectRow(0, true);\n            }\n        }\n        if (this.isCellType() && !this.isSingleSel()) {\n            this.selectCellsByRange(this.prevCIdxs || { rowIndex: 0, cellIndex: 0 }, { rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        this.isMultiShiftRequest = false;\n    };\n    Selection.prototype.applyShiftLeftRightKey = function (rowIndex, cellIndex) {\n        this.isMultiShiftRequest = true;\n        if (this.selectionSettings.allowColumnSelection && this.needColumnSelection) {\n            this.selectColumnsByRange(this.prevColIndex, cellIndex);\n        }\n        else {\n            this.selectCellsByRange(this.prevCIdxs, { rowIndex: rowIndex, cellIndex: cellIndex });\n        }\n        this.isMultiShiftRequest = false;\n    };\n    Selection.prototype.getstackedColumns = function (column) {\n        var innerColumnIndexes = [];\n        for (var i = 0, len = column.length; i < len; i++) {\n            if (column[i].columns) {\n                this.getstackedColumns(column[i].columns);\n            }\n            else {\n                innerColumnIndexes.push(column[i]);\n            }\n        }\n        return innerColumnIndexes;\n    };\n    Selection.prototype.applyCtrlHomeEndKey = function (rowIndex, cellIndex) {\n        if (this.isRowType()) {\n            this.selectRow(rowIndex, true);\n            this.addAttribute(this.parent.getCellFromIndex(rowIndex, cellIndex));\n        }\n        if (this.isCellType()) {\n            this.selectCell({ rowIndex: rowIndex, cellIndex: cellIndex }, true);\n        }\n    };\n    Selection.prototype.addRemoveClassesForRow = function (row, isAdd, clearAll) {\n        var args = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            args[_i - 3] = arguments[_i];\n        }\n        if (row) {\n            var cells = [].slice.call(row.getElementsByClassName(literals.rowCell));\n            var detailIndentCell = row.querySelector('.e-detailrowcollapse') || row.querySelector('.e-detailrowexpand');\n            var dragdropIndentCell = row.querySelector('.e-rowdragdrop');\n            if (detailIndentCell) {\n                cells.push(detailIndentCell);\n            }\n            if (dragdropIndentCell) {\n                cells.push(dragdropIndentCell);\n            }\n            addRemoveActiveClasses.apply(void 0, [cells, isAdd].concat(args));\n        }\n        this.getRenderer().setSelection(row ? row.getAttribute('data-uid') : null, isAdd, clearAll);\n    };\n    Selection.prototype.isRowType = function () {\n        return this.selectionSettings.mode === 'Row' || this.selectionSettings.mode === 'Both';\n    };\n    Selection.prototype.isCellType = function () {\n        return this.selectionSettings.mode === 'Cell' || this.selectionSettings.mode === 'Both';\n    };\n    Selection.prototype.isSingleSel = function () {\n        return this.selectionSettings.type === 'Single';\n    };\n    Selection.prototype.getRenderer = function () {\n        if (isNullOrUndefined(this.contentRenderer)) {\n            this.contentRenderer = this.factory.getRenderer(RenderType.Content);\n        }\n        return this.contentRenderer;\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} returns the Object\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        var selectedData = [];\n        if (!this.selectionSettings.persistSelection) {\n            selectedData = this.parent.getRowsObject().filter(function (row) { return row.isSelected; })\n                .map(function (m) { return m.data; });\n        }\n        else {\n            selectedData = this.persistSelectedData;\n        }\n        return selectedData;\n    };\n    /**\n     * Select the column by passing start column index\n     *\n     * @param {number} index - specifies the index\n     * @returns {void}\n     */\n    Selection.prototype.selectColumn = function (index) {\n        var gObj = this.parent;\n        if (isNullOrUndefined(gObj.getColumns()[index])) {\n            return;\n        }\n        var column = gObj.getColumnByIndex(index);\n        var selectedCol = gObj.getColumnHeaderByUid(column.uid);\n        var isColSelected = selectedCol.classList.contains('e-columnselection');\n        if ((!gObj.selectionSettings.allowColumnSelection)) {\n            return;\n        }\n        var isMultiColumns = this.selectedColumnsIndexes.length > 1 &&\n            this.selectedColumnsIndexes.indexOf(index) > -1;\n        this.clearColDependency();\n        if (!isColSelected || !this.selectionSettings.enableToggle || isMultiColumns) {\n            var args = {\n                columnIndex: index, headerCell: selectedCol,\n                column: column,\n                cancel: false, target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex,\n                isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest\n            };\n            this.onActionBegin(args, events.columnSelecting);\n            if (args.cancel) {\n                this.disableInteracted();\n                return;\n            }\n            if (!(gObj.selectionSettings.enableToggle && index === this.prevColIndex && isColSelected) || isMultiColumns) {\n                this.updateColSelection(selectedCol, index);\n            }\n            var selectedArgs = {\n                columnIndex: index, headerCell: selectedCol,\n                column: column,\n                target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex\n            };\n            this.onActionComplete(selectedArgs, events.columnSelected);\n        }\n        this.updateColProps(index);\n    };\n    /**\n     * Select the columns by passing start and end column index\n     *\n     * @param  {number} startIndex - specifies the start index\n     * @param  {number} endIndex - specifies the end index\n     * @returns {void}\n     */\n    Selection.prototype.selectColumnsByRange = function (startIndex, endIndex) {\n        var gObj = this.parent;\n        if (isNullOrUndefined(gObj.getColumns()[startIndex])) {\n            return;\n        }\n        var indexes = [];\n        if (gObj.selectionSettings.type === 'Single' || isNullOrUndefined(endIndex)) {\n            indexes[0] = startIndex;\n        }\n        else {\n            var min = startIndex < endIndex;\n            for (var i = startIndex; min ? i <= endIndex : i >= endIndex; min ? i++ : i--) {\n                indexes.push(i);\n            }\n        }\n        this.selectColumns(indexes);\n    };\n    /**\n     * Select the columns by passing column indexes\n     *\n     * @param  {number[]} columnIndexes - specifies the columnIndexes\n     * @returns {void}\n     */\n    Selection.prototype.selectColumns = function (columnIndexes) {\n        var gObj = this.parent;\n        var selectedCol = this.getselectedCols();\n        if (gObj.selectionSettings.type === 'Single') {\n            columnIndexes = [columnIndexes[0]];\n        }\n        if (!gObj.selectionSettings.allowColumnSelection) {\n            return;\n        }\n        this.clearColDependency();\n        var selectingArgs = {\n            columnIndex: columnIndexes[0], headerCell: selectedCol,\n            columnIndexes: columnIndexes,\n            column: gObj.getColumnByIndex(columnIndexes[0]),\n            cancel: false, target: this.actualTarget,\n            isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex,\n            isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest\n        };\n        this.onActionBegin(selectingArgs, events.columnSelecting);\n        if (selectingArgs.cancel) {\n            this.disableInteracted();\n            return;\n        }\n        for (var i = 0, len = columnIndexes.length; i < len; i++) {\n            this.updateColSelection(gObj.getColumnHeaderByUid(gObj.getColumnByIndex(columnIndexes[i]).uid), columnIndexes[i]);\n        }\n        selectedCol = this.getselectedCols();\n        var selectedArgs = {\n            columnIndex: columnIndexes[0], headerCell: selectedCol,\n            columnIndexes: columnIndexes,\n            column: gObj.getColumnByIndex(columnIndexes[0]),\n            target: this.actualTarget,\n            isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex\n        };\n        this.onActionComplete(selectedArgs, events.columnSelected);\n        this.updateColProps(columnIndexes[0]);\n    };\n    /**\n     * Select the column with existing column by passing column index\n     *\n     * @param  {number} startIndex - specifies the start index\n     * @returns {void}\n     */\n    Selection.prototype.selectColumnWithExisting = function (startIndex) {\n        var gObj = this.parent;\n        if (isNullOrUndefined(gObj.getColumns()[startIndex])) {\n            return;\n        }\n        var newCol = gObj.getColumnHeaderByUid(gObj.getColumnByIndex(startIndex).uid);\n        var selectedCol = this.getselectedCols();\n        if (gObj.selectionSettings.type === 'Single') {\n            this.clearColDependency();\n        }\n        if (!gObj.selectionSettings.allowColumnSelection) {\n            return;\n        }\n        if (this.selectedColumnsIndexes.indexOf(startIndex) > -1) {\n            this.clearColumnSelection(startIndex);\n        }\n        else {\n            var selectingArgs = {\n                columnIndex: startIndex, headerCell: selectedCol,\n                columnIndexes: this.selectedColumnsIndexes,\n                column: gObj.getColumnByIndex(startIndex),\n                cancel: false, target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex,\n                isCtrlPressed: this.isMultiCtrlRequest, isShiftPressed: this.isMultiShiftRequest\n            };\n            this.onActionBegin(selectingArgs, events.columnSelecting);\n            if (selectingArgs.cancel) {\n                this.disableInteracted();\n                return;\n            }\n            this.updateColSelection(newCol, startIndex);\n            selectedCol = this.getselectedCols();\n            var selectedArgs = {\n                columnIndex: startIndex, headerCell: selectedCol,\n                column: gObj.getColumnByIndex(startIndex),\n                columnIndexes: this.selectedColumnsIndexes,\n                target: this.actualTarget,\n                isInteracted: this.isInteracted, previousColumnIndex: this.prevColIndex\n            };\n            this.onActionComplete(selectedArgs, events.columnSelected);\n        }\n        this.updateColProps(startIndex);\n    };\n    /**\n     * Clear the column selection\n     *\n     * @param {number} clearIndex - specifies the clearIndex\n     * @returns {void}\n     */\n    Selection.prototype.clearColumnSelection = function (clearIndex) {\n        if (this.isColumnSelected) {\n            var gObj = this.parent;\n            if (!isNullOrUndefined(clearIndex) && this.selectedColumnsIndexes.indexOf(clearIndex) === -1) {\n                return;\n            }\n            var index = !isNullOrUndefined(clearIndex) ? clearIndex :\n                this.selectedColumnsIndexes[this.selectedColumnsIndexes.length - 1];\n            var col = gObj.getColumnByIndex(index);\n            var selectedCol = void 0;\n            var column = gObj.getColumnByIndex(index);\n            if (col.getFreezeTableName() === literals.frozenRight) {\n                selectedCol = gObj.getFrozenRightColumnHeaderByIndex(index);\n            }\n            else if (col.getFreezeTableName() === 'movable') {\n                selectedCol = gObj.getMovableColumnHeaderByIndex(index);\n            }\n            else {\n                selectedCol = gObj.getColumnHeaderByUid(column.uid);\n            }\n            var deselectedArgs = {\n                columnIndex: index, headerCell: selectedCol,\n                columnIndexes: this.selectedColumnsIndexes,\n                column: column,\n                cancel: false, target: this.actualTarget,\n                isInteracted: this.isInteracted\n            };\n            var isCanceled = this.columnDeselect(deselectedArgs, events.columnDeselecting);\n            if (isCanceled) {\n                this.disableInteracted();\n                return;\n            }\n            var selectedHeader = !isNullOrUndefined(clearIndex) ? [selectedCol] :\n                [].slice.call(gObj.getHeaderContent().getElementsByClassName('e-columnselection'));\n            var selectedCells = this.getSelectedColumnCells(clearIndex);\n            for (var i = 0, len = selectedHeader.length; i < len; i++) {\n                addRemoveActiveClasses([selectedHeader[i]], false, 'e-columnselection');\n            }\n            for (var i = 0, len = selectedCells.length; i < len; i++) {\n                addRemoveActiveClasses([selectedCells[i]], false, 'e-columnselection');\n            }\n            if (!isNullOrUndefined(clearIndex)) {\n                this.selectedColumnsIndexes.splice(this.selectedColumnsIndexes.indexOf(clearIndex), 1);\n                this.parent.getColumns()[clearIndex].isSelected = false;\n            }\n            else {\n                this.columnDeselect(deselectedArgs, events.columnDeselected);\n                this.selectedColumnsIndexes = [];\n                this.isColumnSelected = false;\n                this.parent.getColumns().filter(function (col) { return col.isSelected = false; });\n            }\n        }\n    };\n    Selection.prototype.getselectedCols = function () {\n        var gObj = this.parent;\n        var selectedCol;\n        if (this.selectedColumnsIndexes.length > 1) {\n            selectedCol = [];\n            for (var i = 0; i < this.selectedColumnsIndexes.length; i++) {\n                (selectedCol).push(gObj.getColumnHeaderByUid(gObj.getColumnByIndex(this.selectedColumnsIndexes[i]).uid));\n            }\n        }\n        else {\n            selectedCol = gObj.getColumnHeaderByUid(gObj.getColumnByIndex(this.selectedColumnsIndexes[0]).uid);\n        }\n        return selectedCol;\n    };\n    Selection.prototype.getSelectedColumnCells = function (clearIndex) {\n        var gObj = this.parent;\n        var isRowTemplate = !isNullOrUndefined(this.parent.rowTemplate);\n        var rows = isRowTemplate ? gObj.getRows() : gObj.getDataRows();\n        var movableRows;\n        var frRows;\n        if (gObj.isFrozenGrid() && gObj.getContent().querySelector('.' + literals.movableContent)) {\n            movableRows = isRowTemplate ? gObj.getMovableRows() : gObj.getMovableDataRows();\n            rows = gObj.addMovableRows(rows, movableRows);\n            if (gObj.getFrozenMode() === literals.leftRight) {\n                frRows = isRowTemplate ? gObj.getFrozenRightRows() : gObj.getFrozenRightDataRows();\n                rows = gObj.addMovableRows(rows, frRows);\n            }\n        }\n        var seletedcells = [];\n        var selectionString = !isNullOrUndefined(clearIndex) ? '[aria-colindex=\"' + clearIndex + '\"]' : '.e-columnselection';\n        for (var i = 0, len = rows.length; i < len; i++) {\n            seletedcells = seletedcells.concat([].slice.call(rows[i].querySelectorAll(selectionString)));\n        }\n        return seletedcells;\n    };\n    Selection.prototype.columnDeselect = function (args, event) {\n        if (event === 'columnDeselected') {\n            delete args.cancel;\n        }\n        this.onActionComplete(args, event);\n        return args.cancel;\n    };\n    Selection.prototype.updateColProps = function (startIndex) {\n        this.prevColIndex = startIndex;\n        this.isColumnSelected = this.selectedColumnsIndexes.length && true;\n    };\n    Selection.prototype.clearColDependency = function () {\n        this.clearColumnSelection();\n        this.selectedColumnsIndexes = [];\n    };\n    Selection.prototype.updateColSelection = function (selectedCol, startIndex) {\n        if (isNullOrUndefined(this.parent.getColumns()[startIndex])) {\n            return;\n        }\n        var left = this.parent.getFrozenLeftCount();\n        var movable = this.parent.getMovableColumnsCount();\n        var col = this.parent.getColumnByIndex(startIndex);\n        var isRowTemplate = !isNullOrUndefined(this.parent.rowTemplate);\n        var rows;\n        this.selectedColumnsIndexes.push(startIndex);\n        this.parent.getColumns()[startIndex].isSelected = true;\n        if (col.getFreezeTableName() === literals.frozenRight) {\n            startIndex = startIndex - (left + movable);\n            rows = isRowTemplate ? this.parent.getFrozenRightRows() : this.parent.getFrozenRightDataRows();\n        }\n        else if (col.getFreezeTableName() === 'movable') {\n            startIndex = startIndex - left;\n            rows = isRowTemplate ? this.parent.getMovableRows() : this.parent.getMovableDataRows();\n        }\n        else {\n            startIndex = startIndex + this.parent.getIndentCount();\n            rows = isRowTemplate ? this.parent.getRows() : this.parent.getDataRows();\n        }\n        addRemoveActiveClasses([selectedCol], true, 'e-columnselection');\n        for (var j = 0, len = rows.length; j < len; j++) {\n            if (rows[j].classList.contains(literals.row)) {\n                if ((rows[j].classList.contains(literals.editedRow) || rows[j].classList.contains(literals.addedRow)) &&\n                    this.parent.editSettings.mode === 'Normal' && !isNullOrUndefined(rows[j].querySelector('tr').childNodes[startIndex])) {\n                    addRemoveActiveClasses([rows[j].querySelector('tr').childNodes[startIndex]], true, 'e-columnselection');\n                }\n                else if (!isNullOrUndefined(rows[j].childNodes[startIndex])) {\n                    addRemoveActiveClasses([rows[j].childNodes[startIndex]], true, 'e-columnselection');\n                }\n            }\n        }\n    };\n    Selection.prototype.headerSelectionHandler = function (colIndex) {\n        if ((!this.isMultiCtrlRequest && !this.isMultiShiftRequest) || this.isSingleSel()) {\n            this.selectColumn(colIndex);\n        }\n        else if (this.isMultiShiftRequest) {\n            this.selectColumnsByRange(isUndefined(this.prevColIndex) ? colIndex : this.prevColIndex, colIndex);\n        }\n        else {\n            this.selectColumnWithExisting(colIndex);\n        }\n    };\n    // eslint-disable-next-line camelcase\n    Selection.prototype.addEventListener_checkbox = function () {\n        var _this = this;\n        this.parent.on(events.dataReady, this.dataReady, this);\n        this.onDataBoundFunction = this.onDataBound.bind(this);\n        this.parent.addEventListener(events.dataBound, this.onDataBoundFunction);\n        this.parent.on(events.refreshInfinitePersistSelection, this.onDataBoundFunction);\n        this.parent.on(events.contentReady, this.checkBoxSelectionChanged, this);\n        this.parent.on(events.beforeRefreshOnDataChange, this.initPerisistSelection, this);\n        this.parent.on(events.onEmpty, this.setCheckAllForEmptyGrid, this);\n        this.actionCompleteFunc = this.actionCompleteHandler.bind(this);\n        this.parent.addEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.on(events.click, this.clickHandler, this);\n        this.resizeEndFn = function () {\n            _this.updateAutoFillPosition();\n            _this.drawBorders();\n        };\n        this.resizeEndFn.bind(this);\n        this.parent.addEventListener(events.resizeStop, this.resizeEndFn);\n    };\n    // eslint-disable-next-line camelcase\n    Selection.prototype.removeEventListener_checkbox = function () {\n        this.parent.off(events.dataReady, this.dataReady);\n        this.parent.removeEventListener(events.dataBound, this.onDataBoundFunction);\n        this.parent.removeEventListener(events.actionComplete, this.actionCompleteFunc);\n        this.parent.off(events.refreshInfinitePersistSelection, this.onDataBoundFunction);\n        this.parent.off(events.onEmpty, this.setCheckAllForEmptyGrid);\n        this.parent.off(events.click, this.clickHandler);\n        this.parent.off(events.beforeRefreshOnDataChange, this.initPerisistSelection);\n    };\n    Selection.prototype.setCheckAllForEmptyGrid = function () {\n        var checkAllBox = this.getCheckAllBox();\n        if (checkAllBox) {\n            this.parent.isCheckBoxSelection = true;\n            var spanEle = checkAllBox.nextElementSibling;\n            removeClass([spanEle], ['e-check', 'e-stop', 'e-uncheck']);\n        }\n    };\n    Selection.prototype.dataReady = function (e) {\n        this.isHeaderCheckboxClicked = false;\n        var isInfinitecroll = this.parent.enableInfiniteScrolling && e.requestType === 'infiniteScroll';\n        if (e.requestType !== 'virtualscroll' && !this.parent.isPersistSelection && !isInfinitecroll) {\n            this.disableUI = !this.parent.enableImmutableMode;\n            this.clearSelection();\n            this.setCheckAllState();\n            this.disableUI = false;\n        }\n    };\n    Selection.prototype.actionCompleteHandler = function (e) {\n        if (e.requestType === 'save' && this.parent.isPersistSelection) {\n            this.refreshPersistSelection();\n        }\n    };\n    Selection.prototype.selectRowIndex = function (index) {\n        this.parent.isSelectedRowIndexUpdating = true;\n        this.parent.selectedRowIndex = index;\n    };\n    Selection.prototype.disableInteracted = function () {\n        this.isInteracted = false;\n    };\n    Selection.prototype.activeTarget = function () {\n        this.actualTarget = this.isInteracted ? this.actualTarget : null;\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { iterateArrayOrObject, isGroupAdaptive } from '../base/util';\nimport * as events from '../base/constant';\n/**\n * The `ShowHide` module is used to control column visibility.\n */\nvar ShowHide = /** @class */ (function () {\n    /**\n     * Constructor for the show hide module.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function ShowHide(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Shows a column by column name.\n     *\n     * @param  {string|string[]} columnName - Defines a single or collection of column names to show.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    ShowHide.prototype.show = function (columnName, showBy) {\n        var keys = this.getToggleFields(columnName);\n        var columns = this.getColumns(keys, showBy);\n        this.parent.notify(events.tooltipDestroy, { module: 'edit' });\n        for (var i = 0; i < columns.length; i++) {\n            columns[i].visible = true;\n        }\n        this.setVisible(columns);\n    };\n    /**\n     * Hides a column by column name.\n     *\n     * @param  {string|string[]} columnName - Defines a single or collection of column names to hide.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    ShowHide.prototype.hide = function (columnName, hideBy) {\n        var keys = this.getToggleFields(columnName);\n        var columns = this.getColumns(keys, hideBy);\n        this.parent.notify(events.tooltipDestroy, { module: 'edit' });\n        for (var i = 0; i < columns.length; i++) {\n            columns[i].visible = false;\n        }\n        this.setVisible(columns);\n    };\n    ShowHide.prototype.getToggleFields = function (key) {\n        var finalized = [];\n        if (typeof key === 'string') {\n            finalized = [key];\n        }\n        else {\n            finalized = key;\n        }\n        return finalized;\n    };\n    ShowHide.prototype.getColumns = function (keys, getKeyBy) {\n        var _this = this;\n        var columns = iterateArrayOrObject(keys, function (key) {\n            return iterateArrayOrObject(_this.parent.columnModel, function (item) {\n                if (item[getKeyBy] === key) {\n                    return item;\n                }\n                return undefined;\n            })[0];\n        });\n        return columns;\n    };\n    /**\n     * Shows or hides columns by given column collection.\n     *\n     * @private\n     * @param {Column[]} columns - Specifies the columns.\n     * @param {Column[]} changedStateColumns - specifies the changedStateColumns\n     * @returns {void}\n     */\n    ShowHide.prototype.setVisible = function (columns, changedStateColumns) {\n        var _this = this;\n        if (changedStateColumns === void 0) { changedStateColumns = []; }\n        changedStateColumns = (changedStateColumns.length > 0) ? changedStateColumns : columns;\n        var args = {\n            requestType: 'columnstate',\n            cancel: false,\n            columns: changedStateColumns\n        };\n        var cancel = 'cancel';\n        this.parent.trigger(events.actionBegin, args, function (showHideArgs) {\n            var currentViewCols = _this.parent.getColumns();\n            columns = isNullOrUndefined(columns) ? currentViewCols : columns;\n            if (showHideArgs[cancel]) {\n                _this.parent.notify(events.resetColumns, { showHideArgs: showHideArgs });\n                if (columns.length > 0) {\n                    columns[0].visible = true;\n                }\n                return;\n            }\n            if (isGroupAdaptive(_this.parent)) {\n                _this.parent.contentModule.emptyVcRows();\n            }\n            if (_this.parent.allowSelection && _this.parent.getSelectedRecords().length &&\n                !_this.parent.selectionSettings.persistSelection) {\n                _this.parent.clearSelection();\n            }\n            if (_this.parent.enableColumnVirtualization) {\n                var colsInCurrentView = columns.filter(function (col1) { return (currentViewCols.some(function (col2) { return col1.field === col2.field; })); });\n                if (colsInCurrentView.length) {\n                    _this.parent.notify(events.columnVisibilityChanged, columns);\n                }\n            }\n            else {\n                _this.parent.notify(events.columnVisibilityChanged, columns);\n            }\n            var params = {\n                requestType: 'columnstate',\n                columns: changedStateColumns\n            };\n            _this.parent.trigger(events.actionComplete, params);\n            if (_this.parent.columnQueryMode !== 'All') {\n                _this.parent.refresh();\n            }\n        });\n    };\n    return ShowHide;\n}());\nexport { ShowHide };\n","import { Browser, EventHandler } from '@syncfusion/ej2-base';\nimport { addClass, removeClass } from '@syncfusion/ej2-base';\nimport { formatUnit, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { getScrollBarWidth, getUpdateUsingRaf } from '../base/util';\nimport { scroll, contentReady, uiUpdate, onEmpty, headerRefreshed, textWrapRefresh, virtualScrollEdit, infiniteScrollHandler, closeFilterDialog } from '../base/constant';\nimport { lazyLoadScrollHandler, checkScrollReset } from '../base/constant';\nimport { ColumnWidthService } from '../services/width-controller';\nimport * as literals from '../base/string-literals';\nimport * as events from '../base/constant';\n/**\n * The `Scroll` module is used to handle scrolling behaviour.\n */\nvar Scroll = /** @class */ (function () {\n    /**\n     * Constructor for the Grid scrolling.\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Scroll(parent) {\n        //To maintain scroll state on grid actions.\n        this.previousValues = { top: 0, left: 0 };\n        this.oneTimeReady = true;\n        this.parent = parent;\n        this.widthService = new ColumnWidthService(parent);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Scroll.prototype.getModuleName = function () {\n        return 'scroll';\n    };\n    /**\n     * @param {boolean} uiupdate - specifies the uiupdate\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.setWidth = function (uiupdate) {\n        this.parent.element.style.width = formatUnit(this.parent.width);\n        if (uiupdate) {\n            this.widthService.setWidthToColumns();\n        }\n        if (this.parent.toolbarModule && this.parent.toolbarModule.toolbar &&\n            this.parent.toolbarModule.toolbar.element) {\n            this.parent.toolbarModule.toolbar.refreshOverflow();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.setHeight = function () {\n        var mHdrHeight = 0;\n        var content = this.parent.getContent().querySelector('.' + literals.content);\n        var height = this.parent.height;\n        if (this.parent.isFrozenGrid() && this.parent.height !== 'auto' && this.parent.height.toString().indexOf('%') < 0) {\n            height = parseInt(height, 10) - Scroll.getScrollBarWidth();\n        }\n        if (!this.parent.enableVirtualization && this.parent.frozenRows && this.parent.height !== 'auto') {\n            var tbody = this.parent.getHeaderContent().querySelector(literals.tbody);\n            mHdrHeight = tbody ? tbody.offsetHeight : 0;\n            if (tbody && mHdrHeight) {\n                var add = tbody.getElementsByClassName(literals.addedRow).length;\n                var height_1 = add * this.parent.getRowHeight();\n                mHdrHeight -= height_1;\n            }\n            content.style.height = formatUnit(height - mHdrHeight);\n        }\n        else {\n            content.style.height = formatUnit(height);\n        }\n        this.ensureOverflow(content);\n        if (this.parent.isFrozenGrid()) {\n            this.refresh();\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.setPadding = function () {\n        var content = this.parent.getHeaderContent();\n        var scrollWidth = Scroll.getScrollBarWidth() - this.getThreshold();\n        var cssProps = this.getCssProperties();\n        var padding = this.parent.getFrozenMode() === 'Right' || this.parent.getFrozenMode() === literals.leftRight ? '0.5px' : '1px';\n        content.querySelector('.' + literals.headerContent).style[cssProps.border] = scrollWidth > 0 ? padding : '0px';\n        content.style[cssProps.padding] = scrollWidth > 0 ? scrollWidth + 'px' : '0px';\n    };\n    /**\n     * @param {boolean} rtl - specifies the rtl\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.removePadding = function (rtl) {\n        var cssProps = this.getCssProperties(rtl);\n        var hDiv = this.parent.getHeaderContent().querySelector('.' + literals.headerContent);\n        hDiv.style[cssProps.border] = '';\n        hDiv.parentElement.style[cssProps.padding] = '';\n        var footerDiv = this.parent.getFooterContent();\n        if (footerDiv && footerDiv.classList.contains('e-footerpadding')) {\n            footerDiv.classList.remove('e-footerpadding');\n        }\n    };\n    /**\n     * Refresh makes the Grid adoptable with the height of parent container.\n     *\n     * > The [`height`](grid/#height/) must be set to 100%.\n     *\n     * @returns {void}\n     */\n    Scroll.prototype.refresh = function () {\n        if (this.parent.height !== '100%') {\n            return;\n        }\n        var content = this.parent.getContent();\n        this.parent.element.style.height = '100%';\n        var height = this.widthService.getSiblingsHeight(content);\n        content.style.height = 'calc(100% - ' + height + 'px)'; //Set the height to the  '.' + literals.gridContent;\n        if (this.parent.isFrozenGrid()) {\n            content.firstElementChild.style.height = 'calc(100% - ' + getScrollBarWidth() + 'px)';\n        }\n    };\n    Scroll.prototype.getThreshold = function () {\n        /* Some browsers places the scroller outside the content,\n         * hence the padding should be adjusted.*/\n        var appName = Browser.info.name;\n        if (appName === 'mozilla') {\n            return 0.5;\n        }\n        return 1;\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(onEmpty, this.wireEvents, this);\n        this.parent.on(contentReady, this.wireEvents, this);\n        this.parent.on(uiUpdate, this.onPropertyChanged, this);\n        this.parent.on(textWrapRefresh, this.wireEvents, this);\n        this.parent.on(headerRefreshed, this.setScrollLeft, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(onEmpty, this.wireEvents);\n        this.parent.off(contentReady, this.wireEvents);\n        this.parent.off(uiUpdate, this.onPropertyChanged);\n        this.parent.off(textWrapRefresh, this.wireEvents);\n        this.parent.off(headerRefreshed, this.setScrollLeft);\n    };\n    Scroll.prototype.setScrollLeft = function () {\n        if (this.parent.isFrozenGrid()) {\n            this.parent.headerModule.getMovableHeader().scrollLeft = this.previousValues.left;\n        }\n        else {\n            this.parent.getHeaderContent().querySelector('.' + literals.headerContent).scrollLeft = this.previousValues.left;\n        }\n    };\n    Scroll.prototype.onFrozenContentScroll = function () {\n        var _this = this;\n        return function (e) {\n            if (_this.content.querySelector(literals.tbody) === null || _this.parent.isPreventScrollEvent) {\n                return;\n            }\n            if (!isNullOrUndefined(_this.parent.infiniteScrollModule) && _this.parent.enableInfiniteScrolling) {\n                _this.parent.notify(infiniteScrollHandler, e);\n            }\n            _this.previousValues.top = e.target.scrollTop;\n        };\n    };\n    Scroll.prototype.onContentScroll = function (scrollTarget) {\n        var _this = this;\n        var element = scrollTarget;\n        var isHeader = element.classList.contains(literals.headerContent);\n        return function (e) {\n            if (_this.content.querySelector(literals.tbody) === null || _this.parent.isPreventScrollEvent) {\n                return;\n            }\n            var target = e.target;\n            var left = target.scrollLeft;\n            if (!isNullOrUndefined(_this.parent.infiniteScrollModule) && _this.parent.enableInfiniteScrolling) {\n                _this.parent.notify(infiniteScrollHandler, { target: e.target, isLeft: _this.previousValues.left !== left });\n            }\n            if (_this.parent.groupSettings.columns.length && _this.parent.groupSettings.enableLazyLoading) {\n                var isDown = _this.previousValues.top < _this.parent.getContent().firstElementChild.scrollTop;\n                _this.parent.notify(lazyLoadScrollHandler, { scrollDown: isDown });\n            }\n            _this.parent.notify(virtualScrollEdit, {});\n            var isFooter = target.classList.contains('e-summarycontent');\n            if (_this.previousValues.left === left) {\n                _this.previousValues.top = !isHeader ? _this.previousValues.top : target.scrollTop;\n                return;\n            }\n            _this.parent.notify(closeFilterDialog, e);\n            element.scrollLeft = left;\n            if (isFooter) {\n                _this.header.scrollLeft = left;\n            }\n            _this.previousValues.left = left;\n            _this.parent.notify(scroll, { left: left });\n        };\n    };\n    Scroll.prototype.onCustomScrollbarScroll = function (mCont, mHdr) {\n        var _this = this;\n        var content = mCont;\n        var header = mHdr;\n        return function (e) {\n            if (_this.content.querySelector(literals.tbody) === null) {\n                return;\n            }\n            var target = e.target;\n            var left = target.scrollLeft;\n            if (_this.previousValues.left === left) {\n                return;\n            }\n            content.scrollLeft = left;\n            header.scrollLeft = left;\n            _this.previousValues.left = left;\n            _this.parent.notify(scroll, { left: left });\n            if (_this.parent.isDestroyed) {\n                return;\n            }\n        };\n    };\n    Scroll.prototype.onTouchScroll = function (scrollTarget) {\n        var _this = this;\n        var element = scrollTarget;\n        return function (e) {\n            if (e.pointerType === 'mouse') {\n                return;\n            }\n            var isFrozen = _this.parent.isFrozenGrid();\n            var pageXY = _this.getPointXY(e);\n            var left = element.scrollLeft + (_this.pageXY.x - pageXY.x);\n            var mHdr = isFrozen ?\n                _this.parent.getHeaderContent().querySelector('.' + literals.movableHeader) :\n                _this.parent.getHeaderContent().querySelector('.' + literals.headerContent);\n            var mCont = isFrozen ?\n                _this.parent.getContent().querySelector('.' + literals.movableContent) :\n                _this.parent.getContent().querySelector('.' + literals.content);\n            if (_this.previousValues.left === left || (left < 0 || (mHdr.scrollWidth - mHdr.clientWidth) < left)) {\n                return;\n            }\n            e.preventDefault();\n            mHdr.scrollLeft = left;\n            mCont.scrollLeft = left;\n            if (isFrozen) {\n                var scrollBar = _this.parent.getContent().querySelector('.e-movablescrollbar');\n                scrollBar.scrollLeft = left;\n            }\n            _this.pageXY.x = pageXY.x;\n            _this.previousValues.left = left;\n        };\n    };\n    Scroll.prototype.setPageXY = function () {\n        var _this = this;\n        return function (e) {\n            if (e.pointerType === 'mouse') {\n                return;\n            }\n            _this.pageXY = _this.getPointXY(e);\n        };\n    };\n    Scroll.prototype.getPointXY = function (e) {\n        var pageXY = { x: 0, y: 0 };\n        if (e.touches && e.touches.length) {\n            pageXY.x = e.touches[0].pageX;\n            pageXY.y = e.touches[0].pageY;\n        }\n        else {\n            pageXY.x = e.pageX;\n            pageXY.y = e.pageY;\n        }\n        return pageXY;\n    };\n    Scroll.prototype.getScrollbleParent = function (node) {\n        if (node === null) {\n            return null;\n        }\n        var parent = isNullOrUndefined(node.tagName) ? node.scrollingElement : node;\n        var overflowY = document.defaultView.getComputedStyle(parent, null).overflowY;\n        if (parent.scrollHeight > parent.clientHeight && overflowY !== 'hidden'\n            && overflowY !== 'visible' || node.tagName === \"HTML\" || node.tagName === \"BODY\") {\n            return node;\n        }\n        else {\n            return this.getScrollbleParent(node.parentNode);\n        }\n    };\n    /**\n     * @param {boolean} isAdd - specifies whether adding/removing the event\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.addStickyListener = function (isAdd) {\n        this.parentElement = this.getScrollbleParent(this.parent.element.parentElement);\n        if (isAdd) {\n            if (this.parentElement) {\n                EventHandler.add(this.parentElement.tagName === 'HTML' || this.parentElement.tagName === 'BODY' ? document :\n                    this.parentElement, 'scroll', this.makeStickyHeader, this);\n            }\n        }\n        else {\n            EventHandler.remove(this.parentElement, 'scroll', this.makeStickyHeader);\n        }\n    };\n    Scroll.prototype.wireEvents = function () {\n        var _this = this;\n        if (this.oneTimeReady) {\n            var frzCols = this.parent.isFrozenGrid();\n            this.content = this.parent.getContent().querySelector('.' + literals.content);\n            this.header = this.parent.getHeaderContent().querySelector('.' + literals.headerContent);\n            var mCont = this.content.querySelector('.' + literals.movableContent);\n            var mHdr = this.header.querySelector('.' + literals.movableHeader);\n            var mScrollBar = this.parent.getContent().querySelector('.e-movablescrollbar');\n            if (this.parent.frozenRows) {\n                EventHandler.add(frzCols ? mHdr : this.header, 'touchstart pointerdown', this.setPageXY(), this);\n                EventHandler.add(frzCols ? mHdr : this.header, 'touchmove pointermove', this.onTouchScroll(frzCols ? mCont : this.content), this);\n            }\n            if (this.parent.isFrozenGrid()) {\n                EventHandler.add(mScrollBar, 'scroll', this.onCustomScrollbarScroll(mCont, mHdr), this);\n                EventHandler.add(mCont, 'scroll', this.onCustomScrollbarScroll(mScrollBar, mHdr), this);\n                EventHandler.add(mHdr, 'scroll', this.onCustomScrollbarScroll(mScrollBar, mCont), this);\n                EventHandler.add(this.content, 'scroll', this.onFrozenContentScroll(), this);\n                EventHandler.add(mHdr, 'touchstart pointerdown', this.setPageXY(), this);\n                EventHandler.add(mHdr, 'touchmove pointermove', this.onTouchScroll(mCont), this);\n                EventHandler.add(mCont, 'touchstart pointerdown', this.setPageXY(), this);\n                if (!(/macintosh|ipad/.test(Browser.userAgent.toLowerCase()) && Browser.isDevice)) {\n                    EventHandler.add(mCont, 'touchmove pointermove', this.onTouchScroll(mHdr), this);\n                }\n            }\n            else {\n                EventHandler.add(this.content, 'scroll', this.onContentScroll(this.header), this);\n                EventHandler.add(this.header, 'scroll', this.onContentScroll(this.content), this);\n            }\n            if (this.parent.aggregates.length) {\n                EventHandler.add(this.parent.getFooterContent().firstChild, 'scroll', this.onContentScroll(this.content), this);\n            }\n            if (this.parent.enableStickyHeader) {\n                this.addStickyListener(true);\n            }\n            this.refresh();\n            this.oneTimeReady = false;\n        }\n        var table = this.parent.getContentTable();\n        var sLeft;\n        var sHeight;\n        var clientHeight;\n        getUpdateUsingRaf(function () {\n            sLeft = _this.header.scrollLeft;\n            sHeight = table.scrollHeight;\n            clientHeight = _this.parent.getContent().clientHeight;\n        }, function () {\n            var args = { cancel: false };\n            _this.parent.notify(checkScrollReset, args);\n            if (!_this.parent.enableVirtualization && !_this.parent.enableInfiniteScrolling) {\n                if (sHeight < clientHeight) {\n                    addClass(table.querySelectorAll('tr:last-child td'), 'e-lastrowcell');\n                    if (_this.parent.isFrozenGrid()) {\n                        addClass(_this.parent.getContent().querySelector('.' + literals.movableContent).querySelectorAll('tr:last-child td'), 'e-lastrowcell');\n                        if (_this.parent.getFrozenRightColumnsCount()) {\n                            addClass(_this.parent.getContent().querySelector('.e-frozen-right-content').querySelectorAll('tr:last-child td'), 'e-lastrowcell');\n                        }\n                    }\n                }\n                if (!args.cancel) {\n                    if ((_this.parent.frozenRows > 0 || _this.parent.isFrozenGrid()) && _this.header.querySelector('.' + literals.movableHeader)) {\n                        _this.header.querySelector('.' + literals.movableHeader).scrollLeft = _this.previousValues.left;\n                    }\n                    else {\n                        _this.header.scrollLeft = _this.previousValues.left;\n                    }\n                    _this.content.scrollLeft = _this.previousValues.left;\n                    _this.content.scrollTop = _this.previousValues.top;\n                }\n            }\n            if (!_this.parent.enableColumnVirtualization) {\n                _this.content.scrollLeft = sLeft;\n            }\n            if (_this.parent.isFrozenGrid() && _this.header.querySelector('.' + literals.movableHeader)) {\n                _this.header.querySelector('.' + literals.movableHeader).scrollLeft =\n                    _this.content.querySelector('.' + literals.movableContent).scrollLeft;\n            }\n        });\n        this.parent.isPreventScrollEvent = false;\n    };\n    /**\n     * @param {boolean} rtl - specifies the rtl\n     * @returns {ScrollCss} returns the ScrollCss\n     * @hidden\n     */\n    Scroll.prototype.getCssProperties = function (rtl) {\n        var css = {};\n        var enableRtl = isNullOrUndefined(rtl) ? this.parent.enableRtl : rtl;\n        css.border = enableRtl ? 'borderLeftWidth' : 'borderRightWidth';\n        css.padding = enableRtl ? 'paddingLeft' : 'paddingRight';\n        return css;\n    };\n    Scroll.prototype.ensureOverflow = function (content) {\n        content.style.overflowY = this.parent.height === 'auto' ? 'auto' : 'scroll';\n    };\n    Scroll.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName()) {\n            return;\n        }\n        this.setPadding();\n        this.oneTimeReady = true;\n        if (this.parent.height === 'auto') {\n            this.removePadding();\n        }\n        this.wireEvents();\n        this.setHeight();\n        var width = 'width';\n        this.setWidth(!isNullOrUndefined(e.properties[width]));\n    };\n    Scroll.prototype.makeStickyHeader = function () {\n        if (this.parent.enableStickyHeader && this.parent.element && this.parent.getContent()) {\n            var contentRect = this.parent.getContent().getClientRects()[0];\n            if (contentRect) {\n                var headerEle = this.parent.getHeaderContent();\n                var toolbarEle = this.parent.element.querySelector('.e-toolbar');\n                var groupHeaderEle = this.parent.element.querySelector('.e-groupdroparea');\n                var height = headerEle.offsetHeight + (toolbarEle ? toolbarEle.offsetHeight : 0) +\n                    (groupHeaderEle ? groupHeaderEle.offsetHeight : 0);\n                var parentTop = this.parentElement.getClientRects()[0].top;\n                var top_1 = contentRect.top - (parentTop < 0 ? 0 : parentTop);\n                var left = contentRect.left;\n                if (top_1 < height && contentRect.bottom > 0) {\n                    headerEle.classList.add('e-sticky');\n                    var elemTop = 0;\n                    if (groupHeaderEle && this.parent.groupSettings.showDropArea) {\n                        this.setSticky(groupHeaderEle, elemTop, contentRect.width, left, true);\n                        elemTop += groupHeaderEle.getClientRects()[0].height;\n                    }\n                    if (toolbarEle) {\n                        this.setSticky(toolbarEle, elemTop, contentRect.width, left, true);\n                        elemTop += toolbarEle.getClientRects()[0].height;\n                    }\n                    this.setSticky(headerEle, elemTop, contentRect.width, left, true);\n                }\n                else {\n                    if (headerEle.classList.contains('e-sticky')) {\n                        this.setSticky(headerEle, null, null, null, false);\n                        if (toolbarEle) {\n                            this.setSticky(toolbarEle, null, null, null, false);\n                        }\n                        if (groupHeaderEle) {\n                            this.setSticky(groupHeaderEle, null, null, null, false);\n                        }\n                        var ccDlg = this.parent.element.querySelector('.e-ccdlg');\n                        if (ccDlg) {\n                            ccDlg.classList.remove('e-sticky');\n                        }\n                    }\n                }\n                this.parent.notify(events.stickyScrollComplete, {});\n            }\n        }\n    };\n    Scroll.prototype.setSticky = function (ele, top, width, left, isAdd) {\n        if (isAdd) {\n            ele.style.width = width + 'px';\n            ele.classList.add('e-sticky');\n        }\n        else {\n            ele.classList.remove('e-sticky');\n        }\n        ele.style.top = top != null ? top + 'px' : '';\n        ele.style.left = left !== null ? parseInt(ele.style.left, 10) !== left ? left + 'px' : ele.style.left : '';\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Scroll.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.removeEventListener();\n        //Remove Dom event\n        var cont = this.parent.getContent().querySelector('.' + literals.content);\n        EventHandler.remove(cont, 'scroll', this.onContentScroll);\n        if (this.parent.enableStickyHeader) {\n            this.addStickyListener(false);\n        }\n        //Remove padding\n        this.removePadding();\n        removeClass([this.parent.getHeaderContent().querySelector('.' + literals.headerContent)], literals.headerContent);\n        removeClass([cont], literals.content);\n        //Remove height\n        cont.style.height = '';\n        //Remove width\n        this.parent.element.style.width = '';\n    };\n    /**\n     * Function to get the scrollbar width of the browser.\n     *\n     * @returns {number} return the width\n     * @hidden\n     */\n    Scroll.getScrollBarWidth = function () {\n        return getScrollBarWidth();\n    };\n    return Scroll;\n}());\nexport { Scroll };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { compile } from '@syncfusion/ej2-base';\nimport { getEnumValue } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { Property, Collection, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the Grid's aggregate column.\n */\nvar AggregateColumn = /** @class */ (function (_super) {\n    __extends(AggregateColumn, _super);\n    function AggregateColumn() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.templateFn = {};\n        return _this;\n    }\n    /**\n     * @param {Function} value - specifies the value\n     * @returns {void}\n     * @hidden\n     */\n    AggregateColumn.prototype.setFormatter = function (value) {\n        this.formatFn = value;\n    };\n    /**\n     * @returns {Function} returns the Function\n     * @hidden\n     */\n    AggregateColumn.prototype.getFormatter = function () {\n        return this.formatFn;\n    };\n    /**\n     * @param {Object} helper - specifies the helper\n     * @returns {void}\n     * @hidden\n     */\n    AggregateColumn.prototype.setTemplate = function (helper) {\n        if (helper === void 0) { helper = {}; }\n        if (this.footerTemplate !== undefined) {\n            this.templateFn[getEnumValue(CellType, CellType.Summary)] = { fn: compile(this.footerTemplate, helper),\n                property: 'footerTemplate' };\n        }\n        if (this.groupFooterTemplate !== undefined) {\n            this.templateFn[getEnumValue(CellType, CellType.GroupSummary)] = { fn: compile(this.groupFooterTemplate, helper),\n                property: 'groupFooterTemplate' };\n        }\n        if (this.groupCaptionTemplate !== undefined) {\n            this.templateFn[getEnumValue(CellType, CellType.CaptionSummary)] = { fn: compile(this.groupCaptionTemplate, helper),\n                property: 'groupCaptionTemplate' };\n        }\n    };\n    /**\n     * @param {CellType} type - specifies the cell type\n     * @returns {Object} returns the object\n     * @hidden\n     */\n    AggregateColumn.prototype.getTemplate = function (type) {\n        return this.templateFn[getEnumValue(CellType, type)];\n    };\n    /**\n     * @param {Object} prop - returns the Object\n     * @returns {void}\n     * @hidden\n     */\n    AggregateColumn.prototype.setPropertiesSilent = function (prop) {\n        this.setProperties(prop, true);\n    };\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"columnName\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"format\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"groupFooterTemplate\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"groupCaptionTemplate\", void 0);\n    __decorate([\n        Property()\n    ], AggregateColumn.prototype, \"customAggregate\", void 0);\n    return AggregateColumn;\n}(ChildProperty));\nexport { AggregateColumn };\n/**\n * Configures the aggregate rows.\n */\nvar AggregateRow = /** @class */ (function (_super) {\n    __extends(AggregateRow, _super);\n    function AggregateRow() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], AggregateColumn)\n    ], AggregateRow.prototype, \"columns\", void 0);\n    return AggregateRow;\n}(ChildProperty));\nexport { AggregateRow };\n","import { Browser, remove, EventHandler, isUndefined, closest, classList } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n * The `Clipboard` module is used to handle clipboard copy action.\n */\nvar Clipboard = /** @class */ (function () {\n    /**\n     * Constructor for the Grid clipboard module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Clipboard(parent) {\n        this.copyContent = '';\n        this.isSelect = false;\n        this.parent = parent;\n        this.addEventListener();\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.contentReady, this.initialEnd, this);\n        this.parent.on(events.keyPressed, this.keyDownHandler, this);\n        this.parent.on(events.click, this.clickHandler, this);\n        EventHandler.add(this.parent.element, 'keydown', this.pasteHandler, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.keyPressed, this.keyDownHandler);\n        this.parent.off(events.contentReady, this.initialEnd);\n        this.parent.off(events.click, this.clickHandler);\n        EventHandler.remove(this.parent.element, 'keydown', this.pasteHandler);\n    };\n    Clipboard.prototype.clickHandler = function (e) {\n        var target = e.target;\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        target = parentsUntil(target, 'e-rowcell');\n    };\n    Clipboard.prototype.pasteHandler = function (e) {\n        var _this = this;\n        var grid = this.parent;\n        var isMacLike = /(Mac)/i.test(navigator.platform);\n        if (e.keyCode === 67 && isMacLike && e.metaKey && !grid.isEdit) {\n            this.copy();\n        }\n        if (e.keyCode === 86 && (e.ctrlKey || (isMacLike && e.metaKey)) && !grid.isEdit) {\n            var target = closest(document.activeElement, '.' + literals.rowCell);\n            if (!target || !grid.editSettings.allowEditing || grid.editSettings.mode !== 'Batch' ||\n                grid.selectionSettings.mode !== 'Cell' || grid.selectionSettings.cellSelectionMode === 'Flow') {\n                return;\n            }\n            this.activeElement = document.activeElement;\n            this.clipBoardTextArea.value = '';\n            var x_1 = window.scrollX;\n            var y_1 = window.scrollY;\n            this.clipBoardTextArea.focus();\n            setTimeout(function () {\n                _this.activeElement.focus();\n                window.scrollTo(x_1, y_1);\n                _this.paste(_this.clipBoardTextArea.value, _this.parent.getSelectedRowCellIndexes()[0].rowIndex, _this.parent.getSelectedRowCellIndexes()[0].cellIndexes[0]);\n            }, 10);\n        }\n    };\n    /**\n     * Paste data from clipboard to selected cells.\n     *\n     * @param {boolean} data - Specifies the date for paste.\n     * @param {boolean} rowIndex - Specifies the row index.\n     * @param {boolean} colIndex - Specifies the column index.\n     * @returns {void}\n     */\n    Clipboard.prototype.paste = function (data, rowIndex, colIndex) {\n        var grid = this.parent;\n        var cIdx = colIndex;\n        var rIdx = rowIndex;\n        var col;\n        var value;\n        var isAvail;\n        if (!grid.editSettings.allowEditing || grid.editSettings.mode !== 'Batch' ||\n            grid.selectionSettings.mode !== 'Cell' || grid.selectionSettings.cellSelectionMode === 'Flow') {\n            return;\n        }\n        var rows = data.split('\\n');\n        var cols;\n        var dataRows = grid.getDataRows();\n        var mRows;\n        var frRows;\n        var isFrozen = this.parent.isFrozenGrid();\n        if (isFrozen) {\n            mRows = grid.getMovableDataRows();\n            if (grid.getFrozenRightColumnsCount()) {\n                frRows = grid.getFrozenRightDataRows();\n            }\n        }\n        for (var r = 0; r < rows.length; r++) {\n            cols = rows[r].split('\\t');\n            cIdx = colIndex;\n            if ((r === rows.length - 1 && rows[r] === '') || isUndefined(grid.getRowByIndex(rIdx))) {\n                cIdx++;\n                break;\n            }\n            for (var c = 0; c < cols.length; c++) {\n                isAvail = grid.getCellFromIndex(rIdx, cIdx);\n                if (isFrozen) {\n                    var fTr = dataRows[rIdx];\n                    var mTr = mRows[rIdx];\n                    isAvail = !fTr.querySelector('[aria-colindex=\"' + cIdx + '\"]') ?\n                        mTr.querySelector('[aria-colindex=\"' + cIdx + '\"]') : true;\n                    if (frRows && !isAvail) {\n                        var frTr = frRows[rIdx];\n                        isAvail = frTr.querySelector('[aria-colindex=\"' + cIdx + '\"]');\n                    }\n                }\n                if (!isAvail) {\n                    cIdx++;\n                    break;\n                }\n                col = grid.getColumnByIndex(cIdx);\n                value = col.getParser() ? col.getParser()(cols[c]) : cols[c];\n                if (col.allowEditing && !col.isPrimaryKey && !col.template) {\n                    var args = {\n                        column: col,\n                        data: value,\n                        rowIndex: rIdx\n                    };\n                    this.parent.trigger(events.beforePaste, args);\n                    rIdx = args.rowIndex;\n                    if (!args.cancel) {\n                        if (grid.editModule) {\n                            if (col.type === 'number') {\n                                this.parent.editModule.updateCell(rIdx, col.field, parseFloat(args.data));\n                            }\n                            else {\n                                grid.editModule.updateCell(rIdx, col.field, args.data);\n                            }\n                        }\n                    }\n                }\n                cIdx++;\n            }\n            rIdx++;\n        }\n        grid.selectionModule.selectCellsByRange({ rowIndex: rowIndex, cellIndex: colIndex }, { rowIndex: rIdx - 1, cellIndex: cIdx - 1 });\n        var cell = this.parent.getCellFromIndex(rIdx - 1, cIdx - 1);\n        if (cell) {\n            classList(cell, ['e-focus', 'e-focused'], []);\n        }\n    };\n    Clipboard.prototype.initialEnd = function () {\n        this.parent.off(events.contentReady, this.initialEnd);\n        this.clipBoardTextArea = this.parent.createElement('textarea', {\n            className: 'e-clipboard',\n            styles: 'opacity: 0',\n            attrs: { tabindex: '-1', 'aria-label': 'clipboard' }\n        });\n        this.parent.element.appendChild(this.clipBoardTextArea);\n    };\n    Clipboard.prototype.keyDownHandler = function (e) {\n        if (e.action === 'ctrlPlusC') {\n            this.copy();\n        }\n        else if (e.action === 'ctrlShiftPlusH') {\n            this.copy(true);\n        }\n    };\n    Clipboard.prototype.setCopyData = function (withHeader) {\n        if (window.getSelection().toString() === '') {\n            var isFrozen = this.parent.isFrozenGrid();\n            this.clipBoardTextArea.value = this.copyContent = '';\n            var mRows = void 0;\n            var frRows = void 0;\n            var rows = this.parent.getRows();\n            if (isFrozen) {\n                mRows = this.parent.getMovableDataRows();\n                if (this.parent.getFrozenMode() === literals.leftRight) {\n                    frRows = this.parent.getFrozenRightRows();\n                }\n            }\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                var selectedIndexes = this.parent.getSelectedRowIndexes().sort(function (a, b) { return a - b; });\n                if (withHeader) {\n                    var headerTextArray = [];\n                    for (var i = 0; i < this.parent.getVisibleColumns().length; i++) {\n                        headerTextArray[i] = this.parent.getVisibleColumns()[i].headerText;\n                    }\n                    this.getCopyData(headerTextArray, false, '\\t', withHeader);\n                    this.copyContent += '\\n';\n                }\n                for (var i = 0; i < selectedIndexes.length; i++) {\n                    if (i > 0) {\n                        this.copyContent += '\\n';\n                    }\n                    var cells = [].slice.call(rows[selectedIndexes[i]].\n                        querySelectorAll('.e-rowcell:not(.e-hide)'));\n                    if (isFrozen) {\n                        cells.push.apply(cells, [].slice.call(mRows[selectedIndexes[i]].querySelectorAll('.e-rowcell:not(.e-hide)')));\n                        if (frRows) {\n                            cells.push.apply(cells, [].slice.call(frRows[selectedIndexes[i]].querySelectorAll('.e-rowcell:not(.e-hide)')));\n                        }\n                    }\n                    this.getCopyData(cells, false, '\\t', withHeader);\n                }\n            }\n            else {\n                var obj = this.checkBoxSelection();\n                if (obj.status) {\n                    if (withHeader) {\n                        var headers = [];\n                        for (var i = 0; i < obj.colIndexes.length; i++) {\n                            headers.push(this.parent.getColumnHeaderByIndex(obj.colIndexes[i]));\n                        }\n                        this.getCopyData(headers, false, '\\t', withHeader);\n                        this.copyContent += '\\n';\n                    }\n                    for (var i = 0; i < obj.rowIndexes.length; i++) {\n                        if (i > 0) {\n                            this.copyContent += '\\n';\n                        }\n                        var cells = [].slice.call(rows[obj.rowIndexes[i]].\n                            getElementsByClassName('e-cellselectionbackground'));\n                        if (isFrozen) {\n                            cells.push.apply(cells, [].slice.call(mRows[obj.rowIndexes[i]]\n                                .getElementsByClassName('e-cellselectionbackground')));\n                            if (frRows) {\n                                cells.push.apply(cells, [].slice.call(frRows[obj.rowIndexes[i]]\n                                    .getElementsByClassName('e-cellselectionbackground')));\n                            }\n                        }\n                        this.getCopyData(cells, false, '\\t', withHeader);\n                    }\n                }\n                else {\n                    this.getCopyData([].slice.call(this.parent.element.getElementsByClassName('e-cellselectionbackground')), true, '\\n', withHeader);\n                }\n            }\n            var args = {\n                data: this.copyContent,\n                cancel: false\n            };\n            this.parent.trigger(events.beforeCopy, args);\n            if (args.cancel) {\n                return;\n            }\n            this.clipBoardTextArea.value = this.copyContent = args.data;\n            if (!Browser.userAgent.match(/ipad|ipod|iphone/i)) {\n                this.clipBoardTextArea.select();\n            }\n            else {\n                this.clipBoardTextArea.setSelectionRange(0, this.clipBoardTextArea.value.length);\n            }\n            this.isSelect = true;\n        }\n    };\n    Clipboard.prototype.getCopyData = function (cells, isCell, splitKey, withHeader) {\n        var isElement = typeof cells[0] !== 'string';\n        for (var j = 0; j < cells.length; j++) {\n            if (withHeader && isCell) {\n                var colIdx = parseInt(cells[j].getAttribute(literals.ariaColIndex), 10);\n                this.copyContent += this.parent.getColumns()[colIdx].headerText + '\\n';\n            }\n            if (isElement) {\n                if (!cells[j].classList.contains('e-hide')) {\n                    this.copyContent += cells[j].innerText;\n                }\n            }\n            else {\n                this.copyContent += cells[j];\n            }\n            if (j < cells.length - 1) {\n                this.copyContent += splitKey;\n            }\n        }\n    };\n    /**\n     * Copy selected rows or cells data into clipboard.\n     *\n     * @returns {void}\n     * @param {boolean} withHeader - Specifies whether the column header data need to be copied or not.\n     */\n    Clipboard.prototype.copy = function (withHeader) {\n        if (document.queryCommandSupported('copy')) {\n            this.setCopyData(withHeader);\n            document.execCommand('copy');\n            this.clipBoardTextArea.blur();\n        }\n        if (this.isSelect) {\n            window.getSelection().removeAllRanges();\n            this.isSelect = false;\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Clipboard.prototype.getModuleName = function () {\n        return 'clipboard';\n    };\n    /**\n     * To destroy the clipboard\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Clipboard.prototype.destroy = function () {\n        this.removeEventListener();\n        if (this.clipBoardTextArea) {\n            remove(this.clipBoardTextArea);\n        }\n    };\n    Clipboard.prototype.checkBoxSelection = function () {\n        var gridObj = this.parent;\n        var obj = { status: false };\n        if (gridObj.selectionSettings.mode === 'Cell') {\n            var rowCellIndxes = gridObj.getSelectedRowCellIndexes();\n            var str = void 0;\n            var rowIndexes = [];\n            var i = void 0;\n            for (i = 0; i < rowCellIndxes.length; i++) {\n                if (rowCellIndxes[i].cellIndexes.length) {\n                    rowIndexes.push(rowCellIndxes[i].rowIndex);\n                }\n                if (rowCellIndxes[i].cellIndexes.length) {\n                    if (!str) {\n                        str = JSON.stringify(rowCellIndxes[i].cellIndexes.sort());\n                    }\n                    if (str !== JSON.stringify(rowCellIndxes[i].cellIndexes.sort())) {\n                        break;\n                    }\n                }\n            }\n            rowIndexes.sort(function (a, b) { return a - b; });\n            if (i === rowCellIndxes.length && rowIndexes[rowIndexes.length - 1] - rowIndexes[0] === rowIndexes.length - 1) {\n                obj = { status: true, rowIndexes: rowIndexes, colIndexes: rowCellIndxes[0].cellIndexes };\n            }\n        }\n        return obj;\n    };\n    return Clipboard;\n}());\nexport { Clipboard };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isNullOrUndefined, setValue, getValue } from '@syncfusion/ej2-base';\nimport { Component, ChildProperty, Browser, closest, extend } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, append, remove, classList, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { Property, Collection, Complex, Event, NotifyPropertyChanges, L10n } from '@syncfusion/ej2-base';\nimport { EventHandler, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil, UrlAdaptor } from '@syncfusion/ej2-data';\nimport { createSpinner, hideSpinner, showSpinner, Tooltip } from '@syncfusion/ej2-popups';\nimport { iterateArrayOrObject, prepareColumns, parentsUntil, wrap, templateCompiler, isGroupAdaptive, refreshForeignData } from './util';\nimport { getRowHeight, setColumnIndex, Global, ispercentageWidth, renderMovable, getNumberFormat } from './util';\nimport { setRowElements, resetRowIndex, compareChanges, getCellByColAndRowIndex, performComplexDataOperation } from './util';\nimport * as events from '../base/constant';\nimport { Render } from '../renderer/render';\nimport { RenderType } from './enum';\nimport { RowRenderer } from '../renderer/row-renderer';\nimport { CellRenderer } from '../renderer/cell-renderer';\nimport { CellRendererFactory } from '../services/cell-render-factory';\nimport { ServiceLocator } from '../services/service-locator';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { RendererFactory } from '../services/renderer-factory';\nimport { ColumnWidthService } from '../services/width-controller';\nimport { AriaService } from '../services/aria-service';\nimport { FocusStrategy } from '../services/focus-strategy';\nimport { PageSettings } from '../models/page-settings';\nimport { ColumnChooserSettings } from '../models/column-chooser-settings';\nimport { Selection } from '../actions/selection';\nimport { Search } from '../actions/search';\nimport { ShowHide } from '../actions/show-hide';\nimport { Scroll } from '../actions/scroll';\nimport { Print } from '../actions/print';\nimport { AggregateRow } from '../models/aggregate';\nimport { Clipboard } from '../actions/clipboard';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport * as literals from '../base/string-literals';\nimport { HeaderCellRenderer } from '../renderer/header-cell-renderer';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    __decorate([\n        Property(false)\n    ], SortDescriptor.prototype, \"isFromGroup\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Grid.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n/**\n * Represents the predicate for the filter column.\n */\nvar Predicate = /** @class */ (function (_super) {\n    __extends(Predicate, _super);\n    function Predicate() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"operator\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"value\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"matchCase\", void 0);\n    __decorate([\n        Property(false)\n    ], Predicate.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"predicate\", void 0);\n    __decorate([\n        Property({})\n    ], Predicate.prototype, \"actualFilterValue\", void 0);\n    __decorate([\n        Property({})\n    ], Predicate.prototype, \"actualOperator\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"ejpredicate\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"uid\", void 0);\n    __decorate([\n        Property()\n    ], Predicate.prototype, \"isForeignKey\", void 0);\n    return Predicate;\n}(ChildProperty));\nexport { Predicate };\n/**\n * Configures the infinite scroll behavior of Grid.\n */\nvar InfiniteScrollSettings = /** @class */ (function (_super) {\n    __extends(InfiniteScrollSettings, _super);\n    function InfiniteScrollSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], InfiniteScrollSettings.prototype, \"enableCache\", void 0);\n    __decorate([\n        Property(3)\n    ], InfiniteScrollSettings.prototype, \"maxBlocks\", void 0);\n    __decorate([\n        Property(3)\n    ], InfiniteScrollSettings.prototype, \"initialBlocks\", void 0);\n    return InfiniteScrollSettings;\n}(ChildProperty));\nexport { InfiniteScrollSettings };\n/**\n * Configures the filtering behavior of the Grid.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('FilterBar')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], FilterSettings.prototype, \"showFilterBarStatus\", void 0);\n    __decorate([\n        Property(1500)\n    ], FilterSettings.prototype, \"immediateModeDelay\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"enableCaseSensitivity\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"showFilterBarOperator\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n/**\n * Configures the selection behavior of the Grid.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"checkboxOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property('Default')\n    ], SelectionSettings.prototype, \"checkboxMode\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableSimpleMultiRowSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"allowColumnSelection\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n/**\n * Configures the search behavior of the Grid.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property(true)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreAccent\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n/**\n * Configures the row drop settings of the Grid.\n */\nvar RowDropSettings = /** @class */ (function (_super) {\n    __extends(RowDropSettings, _super);\n    function RowDropSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], RowDropSettings.prototype, \"targetID\", void 0);\n    return RowDropSettings;\n}(ChildProperty));\nexport { RowDropSettings };\n/**\n * Configures the text wrap settings of the Grid.\n */\nvar TextWrapSettings = /** @class */ (function (_super) {\n    __extends(TextWrapSettings, _super);\n    function TextWrapSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Both')\n    ], TextWrapSettings.prototype, \"wrapMode\", void 0);\n    return TextWrapSettings;\n}(ChildProperty));\nexport { TextWrapSettings };\n/**\n * Configures the resize behavior of the Grid.\n */\nvar ResizeSettings = /** @class */ (function (_super) {\n    __extends(ResizeSettings, _super);\n    function ResizeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Normal')\n    ], ResizeSettings.prototype, \"mode\", void 0);\n    return ResizeSettings;\n}(ChildProperty));\nexport { ResizeSettings };\n/**\n * Configures the group behavior of the Grid.\n */\nvar GroupSettings = /** @class */ (function (_super) {\n    __extends(GroupSettings, _super);\n    function GroupSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], GroupSettings.prototype, \"showDropArea\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"showToggleButton\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"showGroupedColumn\", void 0);\n    __decorate([\n        Property(true)\n    ], GroupSettings.prototype, \"showUngroupButton\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"disablePageWiseAggregates\", void 0);\n    __decorate([\n        Property([])\n    ], GroupSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property()\n    ], GroupSettings.prototype, \"captionTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], GroupSettings.prototype, \"enableLazyLoading\", void 0);\n    return GroupSettings;\n}(ChildProperty));\nexport { GroupSettings };\n/**\n * Configures the edit behavior of the Grid.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Normal')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property(true)\n    ], EditSettings.prototype, \"allowEditOnDblClick\", void 0);\n    __decorate([\n        Property(true)\n    ], EditSettings.prototype, \"showConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property('')\n    ], EditSettings.prototype, \"template\", void 0);\n    __decorate([\n        Property('')\n    ], EditSettings.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property('')\n    ], EditSettings.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property({})\n    ], EditSettings.prototype, \"dialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n/**\n * Represents the Grid component.\n * ```html\n * <div id=\"grid\"></div>\n * <script>\n *  var gridObj = new Grid({ allowPaging: true });\n *  gridObj.appendTo(\"#grid\");\n * </script>\n * ```\n */\nvar Grid = /** @class */ (function (_super) {\n    __extends(Grid, _super);\n    /**\n     * Constructor for creating the component\n     *\n     * @param {GridModel} options - specifies the options\n     * @param {string | HTMLElement} element - specifies the element\n     * @hidden\n     */\n    function Grid(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isPreventScrollEvent = false;\n        _this.inViewIndexes = [];\n        _this.keyA = false;\n        _this.frozenRightCount = 0;\n        _this.frozenLeftCount = 0;\n        _this.tablesCount = 1;\n        _this.movableCount = 0;\n        _this.visibleFrozenLeft = 0;\n        _this.visibleFrozenRight = 0;\n        _this.visibleMovable = 0;\n        _this.frozenLeftColumns = [];\n        _this.frozenRightColumns = [];\n        _this.movableColumns = [];\n        _this.media = {};\n        _this.isFreezeRefresh = false;\n        /** @hidden */\n        _this.tableIndex = 0;\n        _this.componentRefresh = Component.prototype.refresh;\n        /** @hidden */\n        _this.isVirtualAdaptive = false;\n        /** @hidden */\n        _this.vRows = [];\n        /** @hidden */\n        _this.vcRows = [];\n        /** @hidden */\n        _this.vGroupOffsets = {};\n        /** @hidden */\n        _this.rowUid = 0;\n        /**\n         * Gets the currently visible records of the Grid.\n         */\n        _this.currentViewData = [];\n        /** @hidden */\n        _this.isManualRefresh = false;\n        /** @hidden */\n        _this.isAutoFitColumns = false;\n        /** @hidden */\n        _this.enableDeepCompare = false;\n        /** @hidden */\n        _this.lockcolPositionCount = 0;\n        /** @hidden */\n        _this.prevPageMoving = false;\n        /** @hidden */\n        _this.pageTemplateChange = false;\n        /** @hidden */\n        _this.isAutoGen = false;\n        _this.mediaBindInstance = {};\n        /** @hidden */\n        _this.commandDelIndex = undefined;\n        /** @hidden */\n        _this.asyncTimeOut = 50;\n        /** @hidden */\n        _this.isExportGrid = false;\n        // enable/disable logger for MVC & Core\n        _this.enableLogger = true;\n        _this.needsID = true;\n        Grid_1.Inject(Selection);\n        setValue('mergePersistData', _this.mergePersistGridData, _this);\n        return _this;\n    }\n    Grid_1 = Grid;\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} returns the persist data\n     */\n    Grid.prototype.getPersistData = function () {\n        var keyEntity = ['pageSettings', 'sortSettings',\n            'filterSettings', 'groupSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'scrollPosition'];\n        var ignoreOnPersist = {\n            pageSettings: ['template', 'pageSizes', 'enableQueryString', 'totalRecordsCount', 'pageCount'],\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent'],\n            groupSettings: ['showDropArea', 'showToggleButton', 'showGroupedColumn', 'showUngroupButton',\n                'disablePageWiseAggregates', 'hideCaptionCount'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: [], scrollPosition: []\n        };\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var _i = 0, _a = ignoreOnPersist[keyEntity[i]]; _i < _a.length; _i++) {\n                var val = _a[_i];\n                delete currentObject[val];\n            }\n        }\n        var temp = this.pageSettings.template;\n        var settings = Object.assign({ template: undefined }, this.pageSettings);\n        this.setProperties({ pageSettings: settings }, true);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isAngular) {\n            delete this.groupSettings['properties']['captionTemplate'];\n        }\n        this.pageTemplateChange = !isNullOrUndefined(this.pagerTemplate);\n        var persistData = this.addOnPersist(keyEntity);\n        settings.template = temp;\n        this.setProperties({ pageSettings: settings }, true);\n        return persistData;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} Returns the module Declaration\n     * @hidden\n     */\n    Grid.prototype.requiredModules = function () {\n        this.setFrozenCount();\n        this.enableInfiniteAggrgate();\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowFiltering) {\n            modules.push({\n                member: 'filter',\n                args: [this, this.filterSettings, this.serviceLocator]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'ExcelExport',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'PdfExport',\n                args: [this]\n            });\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this, this.sortSettings, this.sortedColumns, this.serviceLocator]\n            });\n        }\n        if (this.allowPaging) {\n            modules.push({\n                member: 'pager',\n                args: [this, this.pageSettings]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this, this.selectionSettings, this.serviceLocator]\n            });\n        }\n        modules.push({\n            member: 'resize',\n            args: [this]\n        });\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.allowGrouping) {\n            modules.push({\n                member: 'group',\n                args: [this, this.groupSettings, this.sortedColumns, this.serviceLocator]\n            });\n        }\n        if (this.aggregates.length) {\n            modules.push({ member: 'aggregate', args: [this, this.serviceLocator] });\n        }\n        if (this.isDetail()) {\n            modules.push({\n                member: 'detailRow',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.toolbar || this.toolbarTemplate) {\n            modules.push({\n                member: 'toolbar',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.enableVirtualization || this.enableColumnVirtualization) {\n            modules.push({\n                member: 'virtualscroll',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.getFrozenColumns() || this.frozenRows || this.frozenRightCount || this.frozenLeftCount) {\n            modules.push({ member: 'freeze', args: [this, this.serviceLocator] });\n        }\n        if (this.isCommandColumn(this.columns)) {\n            modules.push({\n                member: 'commandColumn',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing) {\n            modules.push({\n                member: 'edit',\n                args: [this, this.serviceLocator]\n            });\n        }\n        this.extendRequiredModules(modules);\n        return modules;\n    };\n    Grid.prototype.extendRequiredModules = function (modules) {\n        if (this.enableInfiniteScrolling) {\n            modules.push({\n                member: 'infiniteScroll',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.groupSettings.enableLazyLoading) {\n            modules.push({\n                member: 'lazyLoadGroup',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.contextMenuItems) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.showColumnChooser) {\n            modules.push({\n                member: 'columnChooser',\n                args: [this, this.serviceLocator]\n            });\n        }\n        if (this.isForeignKeyEnabled(this.columns)) {\n            modules.push({ member: 'foreignKey', args: [this, this.serviceLocator] });\n        }\n        if (this.enableLogger) {\n            modules.push({ member: 'logger', args: [this] });\n        }\n    };\n    /**\n     * For internal use only - Initialize the event handler;\n     *\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.preRender = function () {\n        this.serviceLocator = new ServiceLocator;\n        this.initProperties();\n        this.initializeServices();\n    };\n    Grid.prototype.initProperties = function () {\n        this.isInitial = true;\n        this.sortedColumns = [];\n        this.inViewIndexes = [];\n        this.mediaCol = [];\n        this.isInitialLoad = false;\n        this.allowServerDataBinding = false;\n        this.ignoreCollectionWatch = true;\n        this.mergeCells = {};\n        this.isEdit = false;\n        this.checkAllRows = 'None';\n        this.isCheckBoxSelection = false;\n        this.isPersistSelection = false;\n        this.componentRefresh = Component.prototype.refresh;\n        this.filterOperators = {\n            contains: 'contains', endsWith: 'endswith', equal: 'equal', greaterThan: 'greaterthan', greaterThanOrEqual: 'greaterthanorequal',\n            lessThan: 'lessthan', lessThanOrEqual: 'lessthanorequal', notEqual: 'notequal', startsWith: 'startswith'\n        };\n        this.defaultLocale = {\n            EmptyRecord: 'No records to display',\n            True: 'true',\n            False: 'false',\n            InvalidFilterMessage: 'Invalid Filter Data',\n            GroupDropArea: 'Drag a column header here to group its column',\n            UnGroup: 'Click here to ungroup',\n            UnGroupButton: 'Click here to ungroup',\n            GroupDisable: 'Grouping is disabled for this column',\n            FilterbarTitle: '\\'s filter bar cell',\n            EmptyDataSourceError: 'DataSource must not be empty at initial load since columns are generated from dataSource in AutoGenerate Column Grid',\n            // Toolbar Items\n            Add: 'Add',\n            Edit: 'Edit',\n            Cancel: 'Cancel',\n            Update: 'Update',\n            Delete: 'Delete',\n            Print: 'Print',\n            Pdfexport: 'PDF Export',\n            Excelexport: 'Excel Export',\n            Wordexport: 'Word Export',\n            Csvexport: 'CSV Export',\n            Search: 'Search',\n            Columnchooser: 'Columns',\n            Save: 'Save',\n            Item: 'item',\n            Items: 'items',\n            EditOperationAlert: 'No records selected for edit operation',\n            DeleteOperationAlert: 'No records selected for delete operation',\n            SaveButton: 'Save',\n            OKButton: 'OK',\n            CancelButton: 'Cancel',\n            EditFormTitle: 'Details of ',\n            AddFormTitle: 'Add New Record',\n            BatchSaveConfirm: 'Are you sure you want to save changes?',\n            BatchSaveLostChanges: 'Unsaved changes will be lost. Are you sure you want to continue?',\n            ConfirmDelete: 'Are you sure you want to Delete Record?',\n            CancelEdit: 'Are you sure you want to Cancel the changes?',\n            ChooseColumns: 'Choose Column',\n            SearchColumns: 'search columns',\n            Matchs: 'No matches found',\n            FilterButton: 'Filter',\n            ClearButton: 'Clear',\n            StartsWith: 'Starts With',\n            EndsWith: 'Ends With',\n            Contains: 'Contains',\n            Equal: 'Equal',\n            NotEqual: 'Not Equal',\n            LessThan: 'Less Than',\n            LessThanOrEqual: 'Less Than Or Equal',\n            GreaterThan: 'Greater Than',\n            GreaterThanOrEqual: 'Greater Than Or Equal',\n            ChooseDate: 'Choose a Date',\n            EnterValue: 'Enter the value',\n            Copy: 'Copy',\n            Group: 'Group by this column',\n            Ungroup: 'Ungroup by this column',\n            autoFitAll: 'Autofit all columns',\n            autoFit: 'Autofit this column',\n            AutoFitAll: 'Autofit all columns',\n            AutoFit: 'Autofit this column',\n            Export: 'Export',\n            FirstPage: 'First Page',\n            LastPage: 'Last Page',\n            PreviousPage: 'Previous Page',\n            NextPage: 'Next Page',\n            SortAscending: 'Sort Ascending',\n            SortDescending: 'Sort Descending',\n            EditRecord: 'Edit Record',\n            DeleteRecord: 'Delete Record',\n            FilterMenu: 'Filter',\n            SelectAll: 'Select All',\n            Blanks: 'Blanks',\n            FilterTrue: 'True',\n            FilterFalse: 'False',\n            NoResult: 'No matches found',\n            ClearFilter: 'Clear Filter',\n            Clear: 'Clear',\n            NumberFilter: 'Number Filters',\n            TextFilter: 'Text Filters',\n            DateFilter: 'Date Filters',\n            DateTimeFilter: 'DateTime Filters',\n            MatchCase: 'Match Case',\n            Between: 'Between',\n            CustomFilter: 'Custom Filter',\n            CustomFilterPlaceHolder: 'Enter the value',\n            CustomFilterDatePlaceHolder: 'Choose a date',\n            AND: 'AND',\n            OR: 'OR',\n            ShowRowsWhere: 'Show rows where:',\n            FilterMenuDialogARIA: 'Filter menu dialog',\n            ExcelFilterDialogARIA: 'Excel filter dialog',\n            DialogEditARIA: 'Edit dialog',\n            ColumnChooserDialogARIA: 'Column chooser dialog',\n            ColumnMenuDialogARIA: 'Column menu dialog',\n            CustomFilterDialogARIA: 'Customer filter dialog',\n            SortAtoZ: 'Sort A to Z',\n            SortZtoA: 'Sort Z to A',\n            SortByOldest: 'Sort by Oldest',\n            SortByNewest: 'Sort by Newest',\n            SortSmallestToLargest: 'Sort Smallest to Largest',\n            SortLargestToSmallest: 'Sort Largest to Smallest',\n            Sort: 'Sort'\n        };\n        this.keyConfigs = {\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            rightArrow: 'rightarrow',\n            leftArrow: 'leftarrow',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftRight: 'shift+rightarrow',\n            shiftLeft: 'shift+leftarrow',\n            home: 'home',\n            end: 'end',\n            escape: 'escape',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            ctrlAltPageUp: 'ctrl+alt+pageup',\n            ctrlAltPageDown: 'ctrl+alt+pagedown',\n            altPageUp: 'alt+pageup',\n            altPageDown: 'alt+pagedown',\n            altDownArrow: 'alt+downarrow',\n            altUpArrow: 'alt+uparrow',\n            ctrlDownArrow: 'ctrl+downarrow',\n            ctrlUpArrow: 'ctrl+uparrow',\n            ctrlPlusA: 'ctrl+A',\n            ctrlPlusP: 'ctrl+P',\n            insert: 'insert',\n            delete: 'delete',\n            f2: 'f2',\n            enter: 'enter',\n            ctrlEnter: 'ctrl+enter',\n            shiftEnter: 'shift+enter',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            space: 'space',\n            ctrlPlusC: 'ctrl+C',\n            ctrlShiftPlusH: 'ctrl+shift+H',\n            ctrlSpace: 'ctrl+space',\n            ctrlLeftArrow: 'ctrl+leftarrow',\n            ctrlRightArrow: 'ctrl+rightarrow'\n        };\n    };\n    /**\n     * For internal use only - To Initialize the component rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.render = function () {\n        this.log(['module_missing', 'promise_enabled', 'locale_missing', 'check_datasource_columns']);\n        this.ariaService.setOptions(this.element, { role: 'grid' });\n        createSpinner({ target: this.element }, this.createElement);\n        this.renderModule = new Render(this, this.serviceLocator);\n        this.searchModule = new Search(this);\n        this.scrollModule = new Scroll(this);\n        this.notify(events.initialLoad, {});\n        if (this.getDataModule().dataManager.dataSource.offline === true || this.getDataModule().dataManager.dataSource.url === undefined) {\n            this.isVirtualAdaptive = true;\n        }\n        this.trigger(events.load);\n        prepareColumns(this.columns, this.enableColumnVirtualization, this);\n        if (this.enablePersistence) {\n            this.notify(events.columnsPrepared, {});\n        }\n        this.getMediaColumns();\n        setColumnIndex(this.columns);\n        this.checkLockColumns(this.columns);\n        this.getColumns();\n        this.processModel();\n        this.gridRender();\n        this.wireEvents();\n        this.addListener();\n        this.updateDefaultCursor();\n        this.updateStackedFilter();\n        this.showSpinner();\n        this.notify(events.initialEnd, {});\n        if (this.refreshing) {\n            this.trigger('created');\n        }\n    };\n    /**\n     * By default, grid shows the spinner for all its actions. You can use this method to show spinner at your needed time.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.showSpinner = function () {\n        if (!this.isExportGrid) {\n            showSpinner(this.element);\n        }\n    };\n    /**\n     * By default, grid shows the spinner for all its actions. You can use this method to show spinner at your needed time.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.hideSpinner = function () {\n        if (!this.isExportGrid) {\n            hideSpinner(this.element);\n        }\n    };\n    Grid.prototype.updateStackedFilter = function () {\n        if (this.allowFiltering && this.filterSettings.type === 'FilterBar' &&\n            this.getHeaderContent().getElementsByClassName('e-stackedheadercell').length) {\n            this.getHeaderContent().classList.add('e-stackedfilter');\n        }\n        else {\n            this.getHeaderContent().classList.remove('e-stackedfilter');\n        }\n    };\n    Grid.prototype.getMediaColumns = function () {\n        if (!this.enableColumnVirtualization) {\n            var gcol = this.getColumns();\n            this.getShowHideService = this.serviceLocator.getService('showHideService');\n            if (!isNullOrUndefined(gcol)) {\n                for (var index = 0; index < gcol.length; index++) {\n                    if (!isNullOrUndefined(gcol[index].hideAtMedia) && (isNullOrUndefined(gcol[index].visible) || gcol[index].visible)) {\n                        this.pushMediaColumn(gcol[index], index);\n                    }\n                }\n            }\n        }\n    };\n    Grid.prototype.pushMediaColumn = function (col, index) {\n        this.mediaCol.push(col);\n        this.media[col.uid] = window.matchMedia(col.hideAtMedia);\n        this.mediaQueryUpdate(index, this.media[col.uid]);\n        this.mediaBindInstance[index] = this.mediaQueryUpdate.bind(this, index);\n        this.media[col.uid].addListener(this.mediaBindInstance[index]);\n    };\n    /**\n     * @param {Column} col - specifies the column\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.updateMediaColumns = function (col) {\n        if (!this.enableColumnVirtualization) {\n            var index = this.getColumnIndexByUid(col.uid);\n            for (var i = 0; i < this.mediaCol.length; i++) {\n                if (col.uid === this.mediaCol[i].uid) {\n                    this.mediaCol.splice(i, 1);\n                    return;\n                }\n            }\n            this.pushMediaColumn(col, index);\n        }\n    };\n    /**\n     * @param {number} columnIndex - specifies the column index\n     * @param {MediaQueryList} e - specifies the MediaQueryList\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.mediaQueryUpdate = function (columnIndex, e) {\n        var col = this.getColumns()[columnIndex];\n        if (this.mediaCol.some(function (mediaColumn) { return mediaColumn.uid === col.uid; })) {\n            col.visible = e.matches;\n            if (this.isInitialLoad) {\n                this.invokedFromMedia = true;\n                if (col.visible) {\n                    this.showHider.show(col.headerText, 'headerText');\n                }\n                else {\n                    this.showHider.hide(col.headerText, 'headerText');\n                }\n            }\n        }\n    };\n    Grid.prototype.refreshMediaCol = function () {\n        this.isInitialLoad = true;\n        var footerContent = this.element.querySelector('.' + literals.gridFooter);\n        if (this.aggregates.length && this.element.scrollHeight > this.height && footerContent) {\n            addClass([footerContent], ['e-footerpadding']);\n        }\n        var checkboxColumn = this.getColumns().filter(function (col) { return col.type === 'checkbox'; });\n        if (checkboxColumn.length && this.selectionSettings.checkboxMode === 'ResetOnRowClick') {\n            this.isCheckBoxSelection = false;\n        }\n        if (this.rowRenderingMode === 'Vertical') {\n            if (this.enableHover) {\n                this.setProperties({ enableAdaptiveUI: true, enableHover: false }, true);\n                removeClass([this.element], 'e-gridhover');\n            }\n        }\n        if (this.enableAdaptiveUI && this.scrollModule) {\n            this.scrollModule.refresh();\n        }\n    };\n    Grid.prototype.removeMediaListener = function () {\n        for (var i = 0; i < this.mediaCol.length; i++) {\n            this.media[this.mediaCol[i].uid].removeListener(this.mediaBindInstance[this.mediaCol[i].index]);\n        }\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.eventInitializer = function () {\n        //eventInitializer\n    };\n    /**\n     * Destroys the component (detaches/removes all event handlers, attributes, classes, and empties the component element).\n     *\n     * @function destroy\n     * @returns {void}\n     */\n    Grid.prototype.destroy = function () {\n        var gridElement = this.element;\n        if (!gridElement) {\n            return;\n        }\n        var hasGridChild = gridElement.querySelector('.' + literals.gridHeader) &&\n            gridElement.querySelector('.' + literals.gridContent) ? true : false;\n        if (hasGridChild) {\n            this.unwireEvents();\n        }\n        this.removeListener();\n        this.removeMediaListener();\n        this.notify(events.destroy, {});\n        this.destroyDependentModules();\n        if (this.isReact || this.isVue) {\n            this.destroyTemplate(['template']);\n        }\n        if (hasGridChild) {\n            _super.prototype.destroy.call(this);\n        }\n        this.toolTipObj.destroy();\n        var modules = ['renderModule', 'headerModule', 'contentModule', 'valueFormatterService',\n            'serviceLocator', 'ariaService', 'keyboardModule', 'widthService', 'searchModule', 'showHider',\n            'scrollModule', 'printModule', 'clipboardModule', 'focusModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        this.element.innerHTML = '';\n        classList(this.element, [], ['e-rtl', 'e-gridhover', 'e-responsive', 'e-default', 'e-device', 'e-grid-min-height']);\n        this.isFreezeRefresh = false;\n    };\n    Grid.prototype.destroyDependentModules = function () {\n        var gridElement = this.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.scrollModule.destroy();\n        this.keyboardModule.destroy();\n        this.focusModule.destroy();\n        this.clipboardModule.destroy();\n        this.printModule.destroy();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Grid.prototype.getModuleName = function () {\n        return 'grid';\n    };\n    Grid.prototype.enableBoxSelection = function () {\n        if (this.enableAutoFill) {\n            this.selectionSettings.cellSelectionMode = 'BoxWithBorder';\n            this.element.classList.add('e-afenabled');\n        }\n        else {\n            this.element.classList.remove('e-afenabled');\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {GridModel} newProp - Defines new properties\n     * @param {GridModel} oldProp - Defines old properties\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var requireRefresh = false;\n        var requireGridRefresh = false;\n        var freezeRefresh = false;\n        var checkCursor;\n        var args = { requestType: 'refresh' };\n        if (this.isDestroyed) {\n            return;\n        }\n        this.log('module_missing');\n        if (this.isEllipsisTooltip()) {\n            this.toolTipObj.close();\n        }\n        var properties = Object.keys(newProp);\n        if (properties.indexOf('columns') > -1) {\n            if (this.enableColumnVirtualization) {\n                this.columnModel = [];\n            }\n            this.updateColumnObject();\n            requireGridRefresh = true;\n        }\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            switch (prop) {\n                case 'allowPaging':\n                    this.notify(events.uiUpdate, { module: 'pager', enable: this.allowPaging });\n                    requireRefresh = true;\n                    break;\n                case 'pageSettings':\n                    if (this.pageTemplateChange) {\n                        this.pageTemplateChange = false;\n                        this.notify(events.inBoundModelChanged, { module: 'pager', properties: newProp.pageSettings });\n                        break;\n                    }\n                    this.notify(events.inBoundModelChanged, { module: 'pager', properties: newProp.pageSettings });\n                    if (isNullOrUndefined(newProp.pageSettings.currentPage) && isNullOrUndefined(newProp.pageSettings.pageSize)\n                        && isNullOrUndefined(newProp.pageSettings.totalRecordsCount)\n                        || !isNullOrUndefined(oldProp.pageSettings) &&\n                            ((newProp.pageSettings.currentPage !== oldProp.pageSettings.currentPage)\n                                && !this.enableColumnVirtualization && !this.enableVirtualization\n                                && this.pageSettings.totalRecordsCount <= this.pageSettings.pageSize)) {\n                        requireRefresh = true;\n                    }\n                    break;\n                case 'allowSorting':\n                    this.notify(events.uiUpdate, { module: 'sort', enable: this.allowSorting });\n                    requireRefresh = true;\n                    checkCursor = true;\n                    break;\n                case 'allowFiltering':\n                    this.updateStackedFilter();\n                    this.notify(events.uiUpdate, { module: 'filter', enable: this.allowFiltering });\n                    requireRefresh = true;\n                    if (this.filterSettings.type !== 'FilterBar') {\n                        this.refreshHeader();\n                    }\n                    break;\n                case 'height':\n                case 'width':\n                    this.notify(events.uiUpdate, { module: 'scroll', properties: { width: newProp.width, height: newProp.height } });\n                    break;\n                case 'allowReordering':\n                    this.headerModule.refreshUI();\n                    checkCursor = true;\n                    break;\n                case 'allowRowDragAndDrop':\n                    this.notify(events.uiUpdate, { module: 'rowDragAndDrop', enable: this.allowRowDragAndDrop });\n                    this.renderModule.refresh();\n                    this.headerModule.refreshUI();\n                    break;\n                case 'allowSelection':\n                    this.notify(events.uiUpdate, { module: 'selection', enable: this.allowSelection });\n                    break;\n                case 'enableAutoFill':\n                    if (this.selectionModule) {\n                        this.enableBoxSelection();\n                        this.selectionModule.updateAutoFillPosition();\n                    }\n                    break;\n                case 'rowTemplate':\n                    this.rowTemplateFn = templateCompiler(this.rowTemplate);\n                    requireRefresh = true;\n                    break;\n                case 'detailTemplate':\n                    this.detailTemplateFn = templateCompiler(this.detailTemplate);\n                    requireRefresh = true;\n                    break;\n                case 'allowGrouping':\n                    this.notify(events.uiUpdate, { module: 'group', enable: this.allowGrouping });\n                    this.headerModule.refreshUI();\n                    requireRefresh = true;\n                    checkCursor = true;\n                    break;\n                case 'enableInfiniteScrolling':\n                case 'childGrid':\n                    requireRefresh = true;\n                    break;\n                case 'toolbar':\n                    this.notify(events.uiUpdate, { module: 'toolbar' });\n                    break;\n                case 'groupSettings':\n                    this.notify(events.inBoundModelChanged, {\n                        module: 'group', properties: newProp.groupSettings,\n                        oldProperties: oldProp.groupSettings\n                    });\n                    break;\n                case 'aggregates':\n                    if (!this.aggregates.length && this.allowGrouping && this.groupSettings.columns.length) {\n                        requireRefresh = true;\n                    }\n                    this.notify(events.uiUpdate, { module: 'aggregate', properties: newProp });\n                    break;\n                case 'frozenColumns':\n                case 'frozenRows':\n                case 'enableVirtualization':\n                case 'currencyCode':\n                case 'locale':\n                    this.log('frozen_rows_columns');\n                    freezeRefresh = true;\n                    requireGridRefresh = true;\n                    break;\n                case 'query':\n                    if (!this.getDataModule().isQueryInvokedFromData) {\n                        requireRefresh = true;\n                    }\n                    this.getDataModule().isQueryInvokedFromData = false;\n                    break;\n                default:\n                    this.extendedPropertyChange(prop, newProp, requireGridRefresh);\n            }\n        }\n        if (checkCursor) {\n            this.updateDefaultCursor();\n        }\n        if (requireGridRefresh) {\n            if (freezeRefresh || this.getFrozenColumns() || this.frozenRows) {\n                this.freezeRefresh();\n            }\n            else {\n                this.refresh();\n            }\n        }\n        else if (requireRefresh) {\n            this.notify(events.modelChanged, args);\n            requireRefresh = false;\n            this.maintainSelection(newProp.selectedRowIndex);\n        }\n    };\n    Grid.prototype.extendedPropertyChange = function (prop, newProp, requireGridRefresh) {\n        switch (prop) {\n            case 'enableRtl':\n                this.updateRTL();\n                if (this.allowPaging) {\n                    this.element.querySelector('.e-gridpager').ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.element.querySelector('.e-gridpager').ej2_instances[0].dataBind();\n                }\n                if (this.height !== 'auto') {\n                    this.scrollModule.removePadding(!newProp.enableRtl);\n                    this.scrollModule.setPadding();\n                }\n                if (this.toolbar && this.toolbarModule) {\n                    this.toolbarModule.getToolbar().ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.toolbarModule.getToolbar().ej2_instances[0].dataBind();\n                }\n                if (this.contextMenuItems && this.contextMenuModule) {\n                    this.contextMenuModule.getContextMenu().ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.contextMenuModule.getContextMenu().ej2_instances[0].dataBind();\n                }\n                if (this.showColumnMenu && this.columnMenuModule) {\n                    this.columnMenuModule.getColumnMenu().ej2_instances[0].enableRtl = newProp.enableRtl;\n                    this.columnMenuModule.getColumnMenu().ej2_instances[0].dataBind();\n                }\n                if (this.filterSettings.type === 'FilterBar' && this.filterSettings.showFilterBarOperator) {\n                    this.refreshHeader();\n                }\n                this.notify(events.rtlUpdated, {});\n                break;\n            case 'enableAltRow':\n                this.renderModule.refresh();\n                break;\n            case 'allowResizing':\n                this.headerModule.refreshUI();\n                this.updateResizeLines();\n                break;\n            case 'rowHeight':\n                if (this.rowHeight) {\n                    addClass([this.element], 'e-grid-min-height');\n                }\n                else {\n                    removeClass([this.element], 'e-grid-min-height');\n                }\n                this.renderModule.refresh();\n                this.headerModule.refreshUI();\n                break;\n            case 'gridLines':\n                this.updateGridLines();\n                break;\n            case 'showColumnMenu':\n                this.headerModule.refreshUI();\n                this.notify(events.uiUpdate, { module: 'columnMenu', enable: true });\n                break;\n            case 'columnMenuItems':\n                this.notify(events.uiUpdate, { module: 'columnMenu', enable: this.columnMenuItems });\n                break;\n            case 'contextMenuItems':\n                this.notify(events.uiUpdate, { module: 'contextMenu', enable: this.contextMenuItems });\n                break;\n            case 'showColumnChooser':\n                this.notify(events.uiUpdate, { module: 'columnChooser', enable: this.showColumnChooser });\n                break;\n            case 'filterSettings':\n                this.updateStackedFilter();\n                this.notify(events.inBoundModelChanged, { module: 'filter', properties: newProp.filterSettings });\n                break;\n            case 'searchSettings':\n                this.notify(events.inBoundModelChanged, { module: 'search', properties: newProp.searchSettings });\n                break;\n            case 'sortSettings':\n                this.notify(events.inBoundModelChanged, { module: 'sort' });\n                break;\n            case 'selectionSettings':\n                this.notify(events.inBoundModelChanged, { module: 'selection', properties: newProp.selectionSettings });\n                break;\n            case 'editSettings':\n                this.notify(events.inBoundModelChanged, { module: 'edit', properties: newProp.editSettings });\n                break;\n            case 'allowTextWrap':\n            case 'textWrapSettings':\n                if (this.allowTextWrap) {\n                    this.applyTextWrap();\n                }\n                else {\n                    this.removeTextWrap();\n                }\n                this.notify(events.freezeRender, { case: 'textwrap', isModeChg: (prop === 'textWrapSettings') });\n                break;\n            case 'dataSource':\n                // eslint-disable-next-line no-case-declarations\n                var pending_1 = this.getDataModule().getState();\n                if (Object.getPrototypeOf(newProp).deepWatch) {\n                    var pKeyField = this.getPrimaryKeyFieldNames()[0];\n                    for (var i = 0, props = Object.keys(newProp.dataSource); i < props.length; i++) {\n                        this.setRowData(getValue(pKeyField, this.dataSource[props[i]]), this.dataSource[props[i]]);\n                    }\n                }\n                else if (pending_1.isPending) {\n                    var gResult = !isNullOrUndefined(this.dataSource) ? this.dataSource.result : [];\n                    var names = (pending_1.group || []);\n                    for (var i = 0; i < names.length; i++) {\n                        gResult = DataUtil.group(gResult, names[i], pending_1.aggregates || []);\n                    }\n                    this.dataSource = {\n                        result: gResult, count: this.dataSource.count,\n                        aggregates: this.dataSource.aggregates\n                    };\n                    this.getDataModule().setState({});\n                    pending_1.resolver(this.dataSource);\n                }\n                else {\n                    this.getDataModule().setState({ isDataChanged: false });\n                    this.notify(events.dataSourceModified, {});\n                    if (!requireGridRefresh) {\n                        this.renderModule.refresh();\n                        if (this.isCheckBoxSelection) {\n                            this.notify(events.beforeRefreshOnDataChange, {});\n                        }\n                    }\n                }\n                this.scrollRefresh();\n                break;\n            case 'enableHover':\n                // eslint-disable-next-line no-case-declarations\n                var action = newProp.enableHover ? addClass : removeClass;\n                action([this.element], 'e-gridhover');\n                break;\n            case 'selectedRowIndex':\n                if (!this.isSelectedRowIndexUpdating) {\n                    this.selectRow(newProp.selectedRowIndex);\n                }\n                this.isSelectedRowIndexUpdating = false;\n                break;\n            case 'resizeSettings':\n                this.widthService.setWidthToTable();\n                break;\n            case 'enableAdaptiveUI':\n                this.notify(events.setFullScreenDialog, {});\n                break;\n            case 'rowRenderingMode':\n                this.enableVerticalRendering();\n                this.notify(events.rowModeChange, {});\n                this.refresh();\n                break;\n            case 'enableStickyHeader':\n                this.scrollModule.addStickyListener(newProp.enableStickyHeader);\n                break;\n        }\n    };\n    Grid.prototype.maintainSelection = function (index) {\n        var _this = this;\n        if (index !== -1) {\n            var fn_1 = function () {\n                _this.selectRow(index);\n                _this.off(events.contentReady, fn_1);\n            };\n            this.on(events.contentReady, fn_1, this);\n        }\n    };\n    /**\n     * @param {Object} prop - Defines the property\n     * @param {boolean} muteOnChange - Defines the mute on change\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.setProperties = function (prop, muteOnChange) {\n        _super.prototype.setProperties.call(this, prop, muteOnChange);\n        var filterSettings = 'filterSettings';\n        if (prop[filterSettings] && this.filterModule && muteOnChange) {\n            this.filterModule.refreshFilter();\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.setTablesCount = function () {\n        var frozenCols = this.getFrozenColumns();\n        var frozenLeft = this.getFrozenLeftColumnsCount();\n        var frozenRight = this.getFrozenRightColumnsCount();\n        if (frozenCols && !frozenLeft && !frozenRight) {\n            this.tablesCount = 2;\n        }\n        else if (!frozenCols && (frozenLeft || frozenRight)) {\n            if ((frozenLeft && !frozenRight) || (frozenRight && !frozenLeft)) {\n                this.tablesCount = 2;\n            }\n            else if (frozenLeft && frozenRight) {\n                this.tablesCount = 3;\n            }\n        }\n    };\n    /**\n     * @hidden\n     * @returns {number} - Returns the tables count\n     */\n    Grid.prototype.getTablesCount = function () {\n        return this.tablesCount;\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.updateDefaultCursor = function () {\n        var headerCells = [].slice.call(this.getHeaderContent().querySelectorAll('.e-headercell:not(.e-stackedheadercell)'));\n        var stdHdrCell = [].slice.call(this.getHeaderContent().getElementsByClassName('e-stackedheadercell'));\n        var cols = this.getColumns();\n        if (this.enableColumnVirtualization && this.getFrozenColumns()) {\n            var cells = this.contentModule.getHeaderCells();\n            headerCells = cells.length ? cells : headerCells;\n        }\n        for (var i = 0; i < headerCells.length; i++) {\n            var cell = headerCells[i];\n            if (this.allowGrouping || this.allowReordering || this.allowSorting) {\n                if (!cols[i].allowReordering || !cols[i].allowSorting || !cols[i].allowGrouping) {\n                    cell.classList.add('e-defaultcursor');\n                }\n                else {\n                    cell.classList.add('e-mousepointer');\n                }\n            }\n        }\n        for (var count = 0; count < stdHdrCell.length; count++) {\n            if (this.allowReordering) {\n                stdHdrCell[count].classList.add('e-mousepointer');\n            }\n        }\n    };\n    Grid.prototype.updateColumnModel = function (columns) {\n        for (var i = 0, len = columns.length; i < len; i++) {\n            if (columns[i].columns) {\n                this.updateColumnModel(columns[i].columns);\n            }\n            else {\n                this.columnModel.push(columns[i]);\n            }\n        }\n        this.updateColumnLevelFrozen();\n        this.updateFrozenColumns();\n        this.updateLockableColumns();\n    };\n    Grid.prototype.updateColumnLevelFrozen = function () {\n        var cols = this.columnModel;\n        var leftCols = [];\n        var rightCols = [];\n        var movableCols = [];\n        if (this.frozenLeftCount || this.frozenRightCount) {\n            for (var i = 0, len = cols.length; i < len; i++) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var col = cols[i];\n                if (col.freeze === 'Left') {\n                    col.freezeTable = literals.frozenLeft;\n                    leftCols.push(col);\n                }\n                else if (col.freeze === 'Right') {\n                    col.freezeTable = literals.frozenRight;\n                    rightCols.push(col);\n                }\n                else {\n                    col.freezeTable = 'movable';\n                    movableCols.push(col);\n                }\n            }\n            this.columnModel = leftCols.concat(movableCols).concat(rightCols);\n        }\n    };\n    Grid.prototype.updateFrozenColumns = function () {\n        if (this.frozenLeftCount || this.frozenRightCount) {\n            return;\n        }\n        var cols = this.columnModel;\n        var directFrozenCount = this.frozenColumns;\n        var totalFrozenCount = this.getFrozenColumns();\n        var count = 0;\n        for (var i = 0, len = cols.length; i < len; i++) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var col = cols[i];\n            if (directFrozenCount) {\n                if (i < directFrozenCount) {\n                    col.freezeTable = literals.frozenLeft;\n                }\n                else {\n                    col.freezeTable = 'movable';\n                }\n            }\n            if (col.isFrozen && i >= directFrozenCount) {\n                col.freezeTable = literals.frozenLeft;\n                cols.splice(this.frozenColumns + count, 0, cols.splice(i, 1)[0]);\n                count++;\n            }\n            else if (totalFrozenCount && !directFrozenCount) {\n                col.freezeTable = 'movable';\n            }\n        }\n    };\n    Grid.prototype.getFrozenLeftCount = function () {\n        return this.getFrozenColumns() || this.getFrozenLeftColumnsCount();\n    };\n    Grid.prototype.isFrozenGrid = function () {\n        return this.getFrozenColumns() !== 0 || this.getFrozenLeftColumnsCount() !== 0 || this.getFrozenRightColumnsCount() !== 0;\n    };\n    Grid.prototype.getFrozenMode = function () {\n        return this.frozenName;\n    };\n    Grid.prototype.updateLockableColumns = function () {\n        var cols = this.columnModel;\n        var frozenCount = 0;\n        var movableCount = 0;\n        var frozenColumns = this.getFrozenColumns();\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].lockColumn) {\n                if (i < frozenColumns) {\n                    cols.splice(frozenCount, 0, cols.splice(i, 1)[0]);\n                    frozenCount++;\n                }\n                else {\n                    cols.splice(frozenColumns + movableCount, 0, cols.splice(i, 1)[0]);\n                    movableCount++;\n                }\n            }\n        }\n    };\n    Grid.prototype.checkLockColumns = function (cols) {\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].columns) {\n                this.checkLockColumns(cols[i].columns);\n            }\n            else if (cols[i].lockColumn) {\n                this.lockcolPositionCount++;\n            }\n        }\n    };\n    /**\n     * Gets the columns from the Grid.\n     *\n     * @param {boolean} isRefresh - Defines the boolean whether to refresh\n     * @returns {Column[]} - returns the column\n     */\n    Grid.prototype.getColumns = function (isRefresh) {\n        var _this = this;\n        var inview = this.inViewIndexes.map(function (v) { return v - _this.groupSettings.columns.length; }).filter(function (v) { return v > -1; });\n        var vLen = inview.length;\n        if (!this.enableColumnVirtualization || isNullOrUndefined(this.columnModel) || this.columnModel.length === 0 || isRefresh) {\n            this.columnModel = [];\n            this.updateColumnModel(this.columns);\n        }\n        var columns = vLen === 0 ? this.columnModel :\n            this.columnModel.slice(inview[0], inview[vLen - 1] + 1);\n        if (this.contentModule && this.enableColumnVirtualization && this.isFrozenGrid() && inview.length\n            && inview[0] > 0) {\n            var frozenCols = this.contentModule.ensureFrozenCols(columns);\n            columns = frozenCols;\n        }\n        return columns;\n    };\n    /**\n     * @private\n     * @param {string} stackedHeader - Defines the stacked header\n     * @param {Column[]} col - Defines the column\n     * @returns {Column} Returns the Column\n     */\n    Grid.prototype.getStackedHeaderColumnByHeaderText = function (stackedHeader, col) {\n        for (var i = 0; i < col.length; i++) {\n            var individualColumn = col[i];\n            if (individualColumn.field === stackedHeader || individualColumn.headerText === stackedHeader) {\n                this.stackedColumn = individualColumn;\n                break;\n            }\n            else if (individualColumn.columns) {\n                this.getStackedHeaderColumnByHeaderText(stackedHeader, individualColumn.columns);\n            }\n        }\n        return this.stackedColumn;\n    };\n    /**\n     * @private\n     * @returns {number[]} Returns the column indexes\n     */\n    Grid.prototype.getColumnIndexesInView = function () {\n        return this.inViewIndexes;\n    };\n    /**\n     * @private\n     * @returns {Query} - returns the query\n     */\n    Grid.prototype.getQuery = function () {\n        return this.query;\n    };\n    /**\n     * @private\n     * @returns {object} - returns the locale constants\n     */\n    Grid.prototype.getLocaleConstants = function () {\n        return this.defaultLocale;\n    };\n    /**\n     * @param {number[]} indexes - specifies the indexes\n     * @returns {void}\n     * @private\n     */\n    Grid.prototype.setColumnIndexesInView = function (indexes) {\n        this.inViewIndexes = indexes;\n    };\n    /**\n     * Gets the visible columns from the Grid.\n     *\n     * @returns {Column[]} returns the column\n     */\n    Grid.prototype.getVisibleColumns = function () {\n        return this.getCurrentVisibleColumns();\n    };\n    /**\n     * Gets the header div of the Grid.\n     *\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getHeaderContent = function () {\n        return this.headerModule.getPanel();\n    };\n    /**\n     * Sets the header div of the Grid to replace the old header.\n     *\n     * @param  {Element} element - Specifies the Grid header.\n     * @returns {void}\n     */\n    Grid.prototype.setGridHeaderContent = function (element) {\n        this.headerModule.setPanel(element);\n    };\n    /**\n     * Gets the content table of the Grid.\n     *\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getContentTable = function () {\n        return this.contentModule.getTable();\n    };\n    /**\n     * Sets the content table of the Grid to replace the old content table.\n     *\n     * @param  {Element} element - Specifies the Grid content table.\n     * @returns {void}\n     */\n    Grid.prototype.setGridContentTable = function (element) {\n        this.contentModule.setTable(element);\n    };\n    /**\n     * Gets the content div of the Grid.\n     *\n     * @returns {Element} Returns the element\n     */\n    Grid.prototype.getContent = function () {\n        return this.contentModule.getPanel();\n    };\n    /**\n     * Sets the content div of the Grid to replace the old Grid content.\n     *\n     * @param  {Element} element - Specifies the Grid content.\n     * @returns {void}\n     */\n    Grid.prototype.setGridContent = function (element) {\n        this.contentModule.setPanel(element);\n    };\n    /**\n     * Gets the header table element of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getHeaderTable = function () {\n        return this.headerModule.getTable();\n    };\n    /**\n     * Sets the header table of the Grid to replace the old one.\n     *\n     * @param  {Element} element - Specifies the Grid header table.\n     * @returns {void}\n     */\n    Grid.prototype.setGridHeaderTable = function (element) {\n        this.headerModule.setTable(element);\n    };\n    /**\n     * Gets the footer div of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFooterContent = function () {\n        this.footerElement = this.element.getElementsByClassName(literals.gridFooter)[0];\n        return this.footerElement;\n    };\n    /**\n     * Gets the footer table element of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFooterContentTable = function () {\n        this.footerElement = this.element.getElementsByClassName(literals.gridFooter)[0];\n        return this.footerElement.firstChild.firstChild;\n    };\n    /**\n     * Gets the pager of the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getPager = function () {\n        return this.gridPager; //get element from pager\n    };\n    /**\n     * Sets the pager of the Grid to replace the old pager.\n     *\n     * @param  {Element} element - Specifies the Grid pager.\n     * @returns {void}\n     */\n    Grid.prototype.setGridPager = function (element) {\n        this.gridPager = element;\n    };\n    /**\n     * Gets a row by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getRowByIndex = function (index) {\n        return this.contentModule.getRowByIndex(index);\n    };\n    /**\n     * Gets a movable tables row by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getMovableRowByIndex = function (index) {\n        return this.contentModule.getMovableRowByIndex(index);\n    };\n    /**\n     * Gets a frozen tables row by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenRowByIndex = function (index) {\n        return this.getFrozenDataRows()[index];\n    };\n    /**\n     * Gets all the data rows of the Grid.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getRows = function () {\n        return this.contentModule.getRowElements();\n    };\n    /**\n     * Gets a frozen right tables row element by index.\n     *\n     * @param  {number} index - Specifies the row index.\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenRightRowByIndex = function (index) {\n        return this.contentModule.getFrozenRightRowByIndex(index);\n    };\n    /**\n     * Get a row information based on cell\n     *\n     * @param {Element | EventTarget} target - specifies the element\n     * @returns {RowInfo} returns the row info\n     */\n    Grid.prototype.getRowInfo = function (target) {\n        var ele = target;\n        var args = { target: target };\n        if (!isNullOrUndefined(target) && isNullOrUndefined(parentsUntil(ele, 'e-detailrowcollapse')\n            && isNullOrUndefined(parentsUntil(ele, 'e-recordplusexpand')))) {\n            var cell = closest(ele, '.' + literals.rowCell);\n            if (!cell) {\n                var row = closest(ele, '.' + literals.row);\n                if (!isNullOrUndefined(row) && !row.classList.contains('e-addedrow')) {\n                    var rowObj = this.getRowObjectFromUID(row.getAttribute('data-uid'));\n                    var rowIndex = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n                    args = { row: row, rowData: rowObj.data, rowIndex: rowIndex };\n                }\n                return args;\n            }\n            var cellIndex = parseInt(cell.getAttribute(literals.ariaColIndex), 10);\n            if (!isNullOrUndefined(cell) && !isNaN(cellIndex)) {\n                var row_1 = closest(cell, '.' + literals.row);\n                var rowIndex = parseInt(row_1.getAttribute(literals.ariaRowIndex), 10);\n                var frzCols = this.getFrozenColumns();\n                var tableName = this.columnModel[cellIndex].getFreezeTableName();\n                var rows = this.contentModule.getRows();\n                var index = cellIndex + this.getIndentCount();\n                if (this.isFrozenGrid()) {\n                    if (tableName === literals.frozenLeft) {\n                        rows = this.contentModule.getRows();\n                    }\n                    else if (tableName === 'movable') {\n                        index = cellIndex - frzCols - this.frozenLeftCount;\n                        rows = this.contentModule.getMovableRows();\n                    }\n                    else if (tableName === literals.frozenRight) {\n                        index = cellIndex - (this.frozenLeftCount + this.movableCount);\n                        rows = this.contentModule.getFrozenRightRows();\n                    }\n                }\n                var rowsObject = rows.filter(function (r) { return r.uid === row_1.getAttribute('data-uid'); });\n                var rowData = {};\n                var column = void 0;\n                if (Object.keys(rowsObject).length) {\n                    rowData = rowsObject[0].data;\n                    column = rowsObject[0].cells[index].column;\n                }\n                args = { cell: cell, cellIndex: cellIndex, row: row_1, rowIndex: rowIndex, rowData: rowData, column: column, target: target };\n            }\n        }\n        return args;\n    };\n    /**\n     * Gets the Grid's movable content rows from frozen grid.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getMovableRows = function () {\n        return this.contentModule.getMovableRowElements();\n    };\n    /**\n     * Gets the Grid's frozen right content rows from frozen grid.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getFrozenRightRows = function () {\n        return this.contentModule.getFrozenRightRowElements();\n    };\n    /**\n     * Gets all the Grid's data rows.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getDataRows = function () {\n        return this.getAllDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd - specifies includeAdd\n     * @returns {Element[]} returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllDataRows = function (includeAdd) {\n        if (isNullOrUndefined(this.getContentTable().querySelector(literals.tbody))) {\n            return [];\n        }\n        var tbody = this.isFrozenGrid() ? this.getFrozenLeftContentTbody()\n            : this.getContentTable().querySelector(literals.tbody);\n        var rows = [].slice.call(tbody.children);\n        if (this.frozenRows) {\n            var hdrTbody = this.isFrozenGrid() ? this.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody)\n                : this.getHeaderTable().querySelector(literals.tbody);\n            var freezeRows = [].slice.call(hdrTbody.children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * @param {HTMLElement[]} fRows - Defines the frozen Rows\n     * @param {HTMLElement[]} mrows - Defines the movable Rows\n     * @returns {HTMLElement[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.addMovableRows = function (fRows, mrows) {\n        for (var i = 0, len = mrows.length; i < len; i++) {\n            fRows.push(mrows[i]);\n        }\n        return fRows;\n    };\n    Grid.prototype.generateDataRows = function (rows, includAdd) {\n        var dRows = [];\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if (rows[i].classList.contains(literals.row) && (!rows[i].classList.contains('e-hiddenrow') || includAdd)) {\n                if (this.isCollapseStateEnabled()) {\n                    dRows[parseInt(rows[i].getAttribute('aria-rowindex'), 10)] = rows[i];\n                }\n                else {\n                    dRows.push(rows[i]);\n                }\n            }\n        }\n        return dRows;\n    };\n    /**\n     * Gets all the Grid's movable table data rows.\n     *\n     * @returns {Element[]} Returns the element\n     */\n    Grid.prototype.getMovableDataRows = function () {\n        return this.getAllMovableDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd Defines the include add in boolean\n     * @returns {Element[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllMovableDataRows = function (includeAdd) {\n        if (!this.isFrozenGrid()) {\n            return [];\n        }\n        var rows = [].slice.call(this.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody).children);\n        if (this.frozenRows) {\n            var freezeRows = [].slice.call(this.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody).children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * Gets all the Grid's frozen table data rows.\n     *\n     * @returns {Element[]} returns the element\n     */\n    Grid.prototype.getFrozenDataRows = function () {\n        return this.getAllFrozenDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd Defines the include add in boolean\n     * @returns {Element[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllFrozenDataRows = function (includeAdd) {\n        var rows = [].slice.call(this.getContent().querySelector('.' + literals.frozenContent).querySelector(literals.tbody).children);\n        if (this.frozenRows) {\n            var freezeRows = [].slice.call(this.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody).children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * Gets all the Grid's frozen right table data rows.\n     *\n     * @returns {Element[]} Returns the Element\n     */\n    Grid.prototype.getFrozenRightDataRows = function () {\n        return this.getAllFrozenRightDataRows();\n    };\n    /**\n     * @param {boolean} includeAdd Defines the include add in boolean\n     * @returns {Element[]} Returns the element\n     * @hidden\n     */\n    Grid.prototype.getAllFrozenRightDataRows = function (includeAdd) {\n        if (this.getFrozenMode() !== 'Right' && this.getFrozenMode() !== 'Left-Right') {\n            return [];\n        }\n        var rows = [].slice.call(this.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody).children);\n        if (this.frozenRows) {\n            var freezeRows = [].slice.call(this.getHeaderContent().querySelector('.e-frozen-right-header').querySelector(literals.tbody).children);\n            rows = this.addMovableRows(freezeRows, rows);\n        }\n        var dataRows = this.generateDataRows(rows, includeAdd);\n        return dataRows;\n    };\n    /**\n     * Updates particular cell value based on the given primary key value.\n     * > Primary key column must be specified using `columns.isPrimaryKey` property.\n     *\n     * @param {string| number} key - Specifies the PrimaryKey value of dataSource.\n     * @param {string } field - Specifies the field name which you want to update.\n     * @param {string | number | boolean | Date} value - To update new value for the particular cell.\n     * @returns {void}\n     */\n    Grid.prototype.setCellValue = function (key, field, value) {\n        var cells = 'cells';\n        var rowData = 'data';\n        var rowIdx = 'index';\n        var rowuID = 'uid';\n        var isRight = this.getFrozenMode() === 'Right';\n        var pkName = this.getPrimaryKeyFieldNames()[0];\n        var cell = new CellRenderer(this, this.serviceLocator);\n        var fieldIdx = this.getColumnIndexByField(field);\n        var col = this.getColumnByField(field);\n        var rowObjects = col.getFreezeTableName() === 'movable' ? this.contentModule.getMovableRows() :\n            col.getFreezeTableName() === 'frozen-right' ? this.getFrozenRightRowsObject() : this.contentModule.getRows();\n        var selectedRow = rowObjects.filter(function (r) {\n            return getValue(pkName, r.data) === key;\n        })[0];\n        var tr = selectedRow ? this.element.querySelector('[data-uid=' + selectedRow[rowuID] + ']') : null;\n        if (!isNullOrUndefined(tr)) {\n            setValue(field, value, selectedRow[rowData]);\n            var left = this.getFrozenLeftColumnsCount() || this.getFrozenColumns();\n            var movable = this.getMovableColumnsCount();\n            if (this.isRowDragable() && !isRight) {\n                left++;\n            }\n            var frIdx = left + movable;\n            var td = this.getCellFromIndex(selectedRow[rowIdx], fieldIdx);\n            if (!isNullOrUndefined(td)) {\n                var Idx = col.getFreezeTableName() === 'movable' ? left : col.getFreezeTableName() === 'frozen-right' ? frIdx : 0;\n                if (this.groupSettings.columns.length) {\n                    fieldIdx = fieldIdx + this.groupSettings.columns.length;\n                }\n                if (this.childGrid || this.detailTemplate) {\n                    fieldIdx++;\n                }\n                if (this.isRowDragable() && !isRight) {\n                    fieldIdx++;\n                }\n                var sRow = selectedRow[cells][fieldIdx - Idx];\n                cell.refreshTD(td, sRow, selectedRow[rowData], { index: selectedRow[rowIdx] });\n                if (this.aggregates.length > 0) {\n                    this.notify(events.refreshFooterRenderer, {});\n                    if (this.groupSettings.columns.length > 0) {\n                        this.notify(events.groupAggregates, {});\n                    }\n                }\n                /* tslint:disable:no-string-literal */\n                if (!isNullOrUndefined(selectedRow) && !isNullOrUndefined(selectedRow['changes'])) {\n                    selectedRow['changes'][field] = value;\n                }\n                /* tslint:disable:no-string-literal */\n                this.trigger(events.queryCellInfo, {\n                    cell: td, column: col, data: selectedRow[rowData]\n                });\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * @param {string} columnUid - Defines column uid\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.refreshReactColumnTemplateByUid = function (columnUid) {\n        var _this = this;\n        if (this.isReact) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.clearTemplate(['columnTemplate'], undefined, function () {\n                var cells = 'cells';\n                var rowIdx = 'index';\n                var rows = _this.getDataRows();\n                var indent = _this.getIndentCount();\n                var cellIndex = _this.getNormalizedColumnIndex(columnUid);\n                for (var j = 0; j < rows.length; j++) {\n                    var rowsObj = _this.getRowObjectFromUID(rows[j].getAttribute('data-uid'));\n                    if (rowsObj.isDataRow && !isNullOrUndefined(rowsObj.index)) {\n                        var cell = rowsObj[cells][cellIndex];\n                        var cellRenderer = new CellRenderer(_this, _this.serviceLocator);\n                        var td = _this.getCellFromIndex(j, cellIndex - indent);\n                        cellRenderer.refreshTD(td, cell, rowsObj.data, { index: rowsObj[rowIdx] });\n                    }\n                }\n            });\n        }\n    };\n    /**\n     * @param {string} columnUid - Defines column uid\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.refreshReactHeaderTemplateByUid = function (columnUid) {\n        if (this.isReact) {\n            var cells = 'cells';\n            var rowsObj = this.headerModule.rows;\n            var cellIndex = this.getNormalizedColumnIndex(columnUid);\n            for (var j = 0; j < rowsObj.length; j++) {\n                var cell = rowsObj[j][cells][cellIndex];\n                if (cell && cell.column.uid === columnUid) {\n                    var headerCellRenderer = new HeaderCellRenderer(this, this.serviceLocator);\n                    var td = parentsUntil(this.element.querySelectorAll('[e-mappinguid=' + columnUid + ']')[0], 'e-templatecell');\n                    headerCellRenderer.refresh(cell, td);\n                }\n            }\n        }\n    };\n    /**\n     * Updates and refresh the particular row values based on the given primary key value.\n     * > Primary key column must be specified using `columns.isPrimaryKey` property.\n     *\n     * @param {string| number} key - Specifies the PrimaryKey value of dataSource.\n     * @param {Object} rowData - To update new data for the particular row.\n     * @returns {void}\n     */\n    Grid.prototype.setRowData = function (key, rowData) {\n        var rowuID = 'uid';\n        var rowObjects = this.contentModule.getRows();\n        var pkName = this.getPrimaryKeyFieldNames()[0];\n        var rowRenderer = new RowRenderer(this.serviceLocator, null, this);\n        if (this.groupSettings.columns.length > 0 && this.aggregates.length > 0) {\n            rowObjects = rowObjects.filter(function (row) { return row.isDataRow; });\n        }\n        var selectedRow = rowObjects.filter(function (r) {\n            return getValue(pkName, r.data) === key;\n        })[0];\n        if (!isNullOrUndefined(selectedRow) && this.element.querySelectorAll('[data-uid=' + selectedRow[rowuID] + ']').length) {\n            selectedRow.changes = rowData;\n            refreshForeignData(selectedRow, this.getForeignKeyColumns(), selectedRow.changes);\n            rowRenderer.refresh(selectedRow, this.getColumns(), true);\n            if (this.aggregates.length > 0) {\n                this.notify(events.refreshFooterRenderer, {});\n                if (this.groupSettings.columns.length > 0) {\n                    this.notify(events.groupAggregates, {});\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    /**\n     * Gets a cell by row and column index.\n     *\n     * @param  {number} rowIndex - Specifies the row index.\n     * @param  {number} columnIndex - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getCellFromIndex = function (rowIndex, columnIndex) {\n        var col = this.getColumnByIndex(columnIndex);\n        return getCellByColAndRowIndex(this, col, rowIndex, columnIndex);\n    };\n    /**\n     * Gets a movable table cell by row and column index.\n     *\n     * @param  {number} rowIndex - Specifies the row index.\n     * @param  {number} columnIndex - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getMovableCellFromIndex = function (rowIndex, columnIndex) {\n        if (this.frozenName === 'Left-Right' && columnIndex >= this.movableCount) {\n            return undefined;\n        }\n        var index = this.getFrozenColumns() || this.getFrozenLeftColumnsCount();\n        return this.getMovableDataRows()[rowIndex] &&\n            this.getMovableDataRows()[rowIndex].getElementsByClassName(literals.rowCell)[columnIndex - index];\n    };\n    /**\n     * Gets a frozen right table cell by row and column index.\n     *\n     * @param  {number} rowIndex - Specifies the row index.\n     * @param  {number} columnIndex - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getFrozenRightCellFromIndex = function (rowIndex, columnIndex) {\n        var index = this.getFrozenLeftColumnsCount() + this.getMovableColumnsCount();\n        var rows = this.getFrozenRightDataRows();\n        return rows[rowIndex] && rows[rowIndex].getElementsByClassName(literals.rowCell)[columnIndex - index];\n    };\n    /**\n     * Gets a column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getColumnHeaderByIndex = function (index) {\n        return this.getHeaderTable().getElementsByClassName('e-headercell')[index];\n    };\n    /**\n     * Gets a movable column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getMovableColumnHeaderByIndex = function (index) {\n        var left = this.getFrozenColumns() || this.getFrozenLeftColumnsCount();\n        return this.getMovableVirtualHeader().getElementsByClassName('e-headercell')[index - left];\n    };\n    /**\n     * Gets a frozen right column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getFrozenRightColumnHeaderByIndex = function (index) {\n        var left = this.getFrozenLeftColumnsCount() + this.getMovableColumnsCount();\n        return this.getFrozenRightHeader().getElementsByClassName('e-headercell')[index - left];\n    };\n    /**\n     * Gets a frozen left column header by column index.\n     *\n     * @param  {number} index - Specifies the column index.\n     * @returns {Element} Returns the Element\n     */\n    Grid.prototype.getFrozenLeftColumnHeaderByIndex = function (index) {\n        return this.getFrozenVirtualHeader().getElementsByClassName('e-headercell')[index];\n    };\n    /**\n     * @param {string} uid - Defines the uid\n     * @param {boolean} isMovable - Defines isMovable\n     * @param {boolean} isFrozenRight - Defines isFrozenRight\n     * @returns {Row<Column>} Returns the row object\n     * @hidden\n     */\n    Grid.prototype.getRowObjectFromUID = function (uid, isMovable, isFrozenRight) {\n        var rows = this.contentModule.getRows();\n        var row = this.rowObject(rows, uid);\n        if (this.isFrozenGrid()) {\n            if (!row || isMovable || isFrozenRight) {\n                row = this.rowObject(this.contentModule.getMovableRows(), uid);\n                if ((!row && this.getFrozenMode() === 'Left-Right') || isFrozenRight) {\n                    row = this.rowObject(this.contentModule.getFrozenRightRows(), uid);\n                }\n                return row;\n            }\n        }\n        if (isNullOrUndefined(row) && this.enableVirtualization && this.groupSettings.columns.length > 0) {\n            row = this.rowObject(this.vRows, uid);\n            return row;\n        }\n        return row;\n    };\n    Grid.prototype.rowObject = function (rows, uid) {\n        for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n            var row = rows_1[_i];\n            if (row.uid === uid) {\n                return row;\n            }\n        }\n        return null;\n    };\n    /**\n     * @hidden\n     * @returns {Row<Column>[]} Returns the Row object\n     */\n    Grid.prototype.getRowsObject = function () {\n        return this.contentModule.getRows();\n    };\n    /**\n     * @hidden\n     * @returns {Row<Column>[]} Returns the Row object\n     */\n    Grid.prototype.getMovableRowsObject = function () {\n        var rows = [];\n        if (this.isFrozenGrid()) {\n            rows = this.contentModule.getMovableRows();\n        }\n        return rows;\n    };\n    /**\n     * @hidden\n     * @returns {Row<Column>[]} Returns the Row object\n     */\n    Grid.prototype.getFrozenRightRowsObject = function () {\n        var rows = [];\n        if (this.getFrozenMode() === 'Right' || this.getFrozenMode() === 'Left-Right') {\n            rows = this.contentModule.getFrozenRightRows();\n        }\n        return rows;\n    };\n    /**\n     * Gets a column header by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getColumnHeaderByField = function (field) {\n        var column = this.getColumnByField(field);\n        return column ? this.getColumnHeaderByUid(column.uid) : undefined;\n    };\n    /**\n     * Gets a column header by UID.\n     *\n     * @param {string} uid - Specifies the column uid.\n     * @returns {Element} - Returns the element\n     */\n    Grid.prototype.getColumnHeaderByUid = function (uid) {\n        var element = this.getHeaderContent().querySelector('[e-mappinguid=' + uid + ']');\n        return element ? element.parentElement : undefined;\n    };\n    /**\n     * @hidden\n     * @param {number} index - Defines the index\n     * @returns {Column} Returns the column\n     */\n    Grid.prototype.getColumnByIndex = function (index) {\n        var column;\n        this.getColumns().some(function (col, i) {\n            column = col;\n            return i === index;\n        });\n        return column;\n    };\n    /**\n     * Gets a Column by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {Column} Returns the column\n     */\n    Grid.prototype.getColumnByField = function (field) {\n        return iterateArrayOrObject(this.getColumns(), function (item) {\n            if (item.field === field) {\n                return item;\n            }\n            return undefined;\n        })[0];\n    };\n    /**\n     * Gets a column index by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {number} Returns the index by field\n     */\n    Grid.prototype.getColumnIndexByField = function (field) {\n        var cols = this.getColumns();\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].field === field) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    /**\n     * Gets a column by UID.\n     *\n     * @param  {string} uid - Specifies the column UID.\n     * @returns {Column} Returns the column\n     */\n    Grid.prototype.getColumnByUid = function (uid) {\n        return iterateArrayOrObject(this.getColumns().concat(this.getStackedColumns(this.columns)), function (item) {\n            if (item.uid === uid) {\n                return item;\n            }\n            return undefined;\n        })[0];\n    };\n    /**\n     * @param {Column[]} columns - Defines the columns\n     * @param {Column[]} stackedColumn - Defines the stacked columns\n     * @returns {Column[]} Returns the columns\n     * @hidden\n     */\n    Grid.prototype.getStackedColumns = function (columns, stackedColumn) {\n        if (stackedColumn === void 0) { stackedColumn = []; }\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            if (column.columns) {\n                stackedColumn.push(column);\n                this.getStackedColumns(column.columns, stackedColumn);\n            }\n        }\n        return stackedColumn;\n    };\n    /**\n     * Gets a column index by UID.\n     *\n     * @param  {string} uid - Specifies the column UID.\n     * @returns {number} Returns the column by index\n     */\n    Grid.prototype.getColumnIndexByUid = function (uid) {\n        var index = iterateArrayOrObject(this.getColumns(), function (item, index) {\n            if (item.uid === uid) {\n                return index;\n            }\n            return undefined;\n        })[0];\n        return !isNullOrUndefined(index) ? index : -1;\n    };\n    /**\n     * Gets UID by column name.\n     *\n     * @param  {string} field - Specifies the column name.\n     * @returns {string} Returns the column by field\n     */\n    Grid.prototype.getUidByColumnField = function (field) {\n        return iterateArrayOrObject(this.getColumns(), function (item) {\n            if (item.field === field) {\n                return item.uid;\n            }\n            return undefined;\n        })[0];\n    };\n    /**\n     * Gets column index by column uid value.\n     *\n     * @private\n     * @param  {string} uid - Specifies the column uid.\n     * @returns {number} Returns the column by field\n     */\n    Grid.prototype.getNormalizedColumnIndex = function (uid) {\n        var index = this.getColumnIndexByUid(uid);\n        return index + this.getIndentCount();\n    };\n    /**\n     * Gets indent cell count.\n     *\n     * @private\n     * @returns {number} Returns the indent count\n     */\n    Grid.prototype.getIndentCount = function () {\n        var index = 0;\n        if (this.allowGrouping) {\n            index += this.groupSettings.columns.length;\n        }\n        if (this.isDetail()) {\n            index++;\n        }\n        if (this.isRowDragable() && isNullOrUndefined(this.rowDropSettings.targetID)) {\n            index++;\n        }\n        /**\n         * TODO: index normalization based on the stacked header, grouping and detailTemplate\n         * and frozen should be handled here\n         */\n        return index;\n    };\n    /**\n     * Gets the collection of column fields.\n     *\n     * @returns {string[]} Returns the Field names\n     */\n    Grid.prototype.getColumnFieldNames = function () {\n        var columnNames = [];\n        var column;\n        for (var i = 0, len = this.getColumns().length; i < len; i++) {\n            column = this.getColumns()[i];\n            if (column.visible) {\n                columnNames.push(column.field);\n            }\n        }\n        return columnNames;\n    };\n    /**\n     * Gets a compiled row template.\n     *\n     * @returns {Function} Returns the row TEmplate\n     * @private\n     */\n    Grid.prototype.getRowTemplate = function () {\n        return this.rowTemplateFn;\n    };\n    /**\n     * Gets a compiled detail row template.\n     *\n     * @private\n     * @returns {Function} Returns the Detail template\n     */\n    Grid.prototype.getDetailTemplate = function () {\n        return this.detailTemplateFn;\n    };\n    /**\n     * Gets a compiled detail row template.\n     *\n     * @private\n     * @returns {Function}Returns the Edit template\n     */\n    Grid.prototype.getEditTemplate = function () {\n        return this.editTemplateFn;\n    };\n    /**\n     * Gets a compiled dialog edit header template.\n     *\n     * @private\n     * @returns {Function} returns template function\n     */\n    Grid.prototype.getEditHeaderTemplate = function () {\n        return this.editHeaderTemplateFn;\n    };\n    /**\n     * Gets a compiled dialog edit footer template.\n     *\n     * @private\n     * @returns {Function} Returns the Footer template\n     */\n    Grid.prototype.getEditFooterTemplate = function () {\n        return this.editFooterTemplateFn;\n    };\n    /**\n     * Get the names of the primary key columns of the Grid.\n     *\n     * @returns {string[]} Returns the field names\n     */\n    Grid.prototype.getPrimaryKeyFieldNames = function () {\n        var keys = [];\n        for (var k = 0; k < this.columnModel.length; k++) {\n            if (this.columnModel[k].isPrimaryKey) {\n                keys.push(this.columnModel[k].field);\n            }\n        }\n        return keys;\n    };\n    /**\n     * Refreshes the Grid header and content.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.refresh = function () {\n        if (!this.isDestroyed) {\n            this.isManualRefresh = true;\n            this.headerModule.refreshUI();\n            this.updateStackedFilter();\n            this.renderModule.refresh();\n        }\n    };\n    /**\n     * Refreshes the Grid header.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.refreshHeader = function () {\n        this.headerModule.refreshUI();\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} Returns the element\n     */\n    Grid.prototype.getSelectedRows = function () {\n        return this.selectionModule ? this.selectionModule.selectedRecords : [];\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} Returns the Selected row indexes\n     */\n    Grid.prototype.getSelectedRowIndexes = function () {\n        return this.selectionModule ? this.selectionModule.selectedRowIndexes : [];\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} Returns the Selected row cell indexes\n     */\n    Grid.prototype.getSelectedRowCellIndexes = function () {\n        return this.selectionModule ? this.selectionModule.selectedRowCellIndexes : [];\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} Returns the selected records\n     * @isGenericType true\n     */\n    Grid.prototype.getSelectedRecords = function () {\n        return this.selectionModule ? this.selectionModule.getSelectedRecords() : [];\n    };\n    /**\n     * Gets the collection of selected columns uid.\n     *\n     * @returns {string[]} Returns the selected column uid\n     * @isGenericType true\n     */\n    Grid.prototype.getSelectedColumnsUid = function () {\n        var _this = this;\n        var uid = [];\n        if (this.selectionModule) {\n            this.selectionModule.selectedColumnsIndexes.filter(function (i) { return uid.push(_this.getColumns()[i].uid); });\n        }\n        return uid;\n    };\n    /**\n     * Gets the data module.\n     *\n     * @returns {Data} Returns the data\n     */\n    Grid.prototype.getDataModule = function () {\n        return this.renderModule.data;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    Grid.prototype.showColumns = function (keys, showBy) {\n        showBy = showBy ? showBy : 'headerText';\n        this.showHider.show(keys, showBy);\n    };\n    /**\n     * Hides a column by column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void}\n     */\n    Grid.prototype.hideColumns = function (keys, hideBy) {\n        hideBy = hideBy ? hideBy : 'headerText';\n        this.showHider.hide(keys, hideBy);\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the Frozen column\n     */\n    Grid.prototype.getFrozenColumns = function () {\n        return this.frozenColumns + this.getFrozenCount(this.columns, 0, 0);\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the Frozen Right column count\n     */\n    Grid.prototype.getFrozenRightColumnsCount = function () {\n        return this.frozenRightCount;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the Frozen Left column\n     */\n    Grid.prototype.getFrozenLeftColumnsCount = function () {\n        return this.frozenLeftCount;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the movable column count\n     */\n    Grid.prototype.getMovableColumnsCount = function () {\n        return this.movableCount;\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.setFrozenCount = function () {\n        this.frozenLeftCount = this.frozenRightCount = this.movableCount = 0;\n        this.visibleFrozenLeft = this.visibleFrozenRight = this.visibleMovable = 0;\n        this.frozenLeftColumns = [];\n        this.frozenRightColumns = [];\n        this.movableColumns = [];\n        this.splitFrozenCount(this.columns);\n        if (this.frozenColumns && (this.frozenLeftCount || this.frozenRightCount)) {\n            this.setProperties({ frozenColumns: 0 }, true);\n        }\n        this.setTablesCount();\n        if (this.frozenLeftCount && !this.frozenRightCount) {\n            this.frozenName = 'Left';\n        }\n        else if (this.frozenRightCount && !this.frozenLeftCount) {\n            this.frozenName = 'Right';\n        }\n        else if (this.frozenLeftCount && this.frozenRightCount) {\n            this.frozenName = 'Left-Right';\n        }\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible Frozen left count\n     */\n    Grid.prototype.getVisibleFrozenLeftCount = function () {\n        return this.visibleFrozenLeft;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible Frozen Right count\n     */\n    Grid.prototype.getVisibleFrozenRightCount = function () {\n        return this.visibleFrozenRight;\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible movable count\n     */\n    Grid.prototype.getVisibleMovableCount = function () {\n        return this.visibleMovable;\n    };\n    /**\n     * @hidden\n     * @returns {Column[]} Returns the column\n     */\n    Grid.prototype.getFrozenRightColumns = function () {\n        return this.frozenRightColumns;\n    };\n    /**\n     * @hidden\n     * @returns {Column[]} Returns the column\n     */\n    Grid.prototype.getFrozenLeftColumns = function () {\n        return this.frozenLeftColumns;\n    };\n    /**\n     * @hidden\n     * @returns {Column[]} Returns the column\n     */\n    Grid.prototype.getMovableColumns = function () {\n        return this.movableColumns;\n    };\n    Grid.prototype.splitFrozenCount = function (columns) {\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].columns) {\n                this.splitFrozenCount(columns[i].columns);\n            }\n            else {\n                if (columns[i].freeze === 'Right') {\n                    if (columns[i].visible !== false) {\n                        this.visibleFrozenRight++;\n                    }\n                    this.frozenRightColumns.push(columns[i]);\n                    this.frozenRightCount++;\n                }\n                else if (columns[i].freeze === 'Left') {\n                    if (columns[i].visible !== false) {\n                        this.visibleFrozenLeft++;\n                    }\n                    this.frozenLeftColumns.push(columns[i]);\n                    this.frozenLeftCount++;\n                }\n                else {\n                    if (columns[i].visible !== false) {\n                        this.visibleMovable++;\n                    }\n                    this.movableColumns.push(columns[i]);\n                    this.movableCount++;\n                }\n            }\n        }\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns the visible frozen columns count\n     */\n    Grid.prototype.getVisibleFrozenColumns = function () {\n        return this.getVisibleFrozenColumnsCount() + this.getVisibleFrozenCount(this.columns, 0);\n    };\n    /**\n     * Get the current Filter operator and field.\n     *\n     * @returns {FilterUI} Returns the filter UI\n     */\n    Grid.prototype.getFilterUIInfo = function () {\n        return this.filterModule ? this.filterModule.getFilterUIInfo() : {};\n    };\n    Grid.prototype.getVisibleFrozenColumnsCount = function () {\n        var visibleFrozenColumns = 0;\n        var columns = this.columnModel;\n        for (var i = 0; i < this.frozenColumns; i++) {\n            if (columns[i].visible) {\n                visibleFrozenColumns++;\n            }\n        }\n        if (this.frozenLeftCount || this.frozenRightCount) {\n            for (var i = 0; i < columns.length; i++) {\n                if (columns[i].visible && (columns[i].freeze === 'Left' || columns[i].freeze === 'Right')) {\n                    visibleFrozenColumns++;\n                }\n            }\n        }\n        return visibleFrozenColumns;\n    };\n    Grid.prototype.getVisibleFrozenCount = function (cols, cnt) {\n        if (!this.frozenLeftCount && !this.frozenRightCount) {\n            for (var i = 0, len = cols.length; i < len; i++) {\n                if (cols[i].columns) {\n                    cnt = this.getVisibleFrozenCount(cols[i].columns, cnt);\n                }\n                else {\n                    if (cols[i].isFrozen && cols[i].visible) {\n                        cnt++;\n                    }\n                }\n            }\n        }\n        return cnt;\n    };\n    Grid.prototype.getFrozenCount = function (cols, cnt, index) {\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (cols[i].columns) {\n                cnt = this.getFrozenCount(cols[i].columns, cnt, index);\n            }\n            else {\n                if (cols[i].isFrozen && index > this.frozenColumns - 1) {\n                    cnt++;\n                }\n                index++;\n            }\n        }\n        return cnt;\n    };\n    /**\n     * Navigates to the specified target page.\n     *\n     * @param  {number} pageNo - Defines the page number to navigate.\n     * @returns {void}\n     */\n    Grid.prototype.goToPage = function (pageNo) {\n        if (this.pagerModule) {\n            this.pagerModule.goToPage(pageNo);\n        }\n    };\n    /**\n     * Defines the text of external message.\n     *\n     * @param  {string} message - Defines the message to update.\n     * @returns {void}\n     */\n    Grid.prototype.updateExternalMessage = function (message) {\n        if (this.pagerModule) {\n            this.pagerModule.updateExternalMessage(message);\n        }\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void}\n     */\n    Grid.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    /**\n     * Clears all the sorted columns of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearSorting = function () {\n        if (this.sortModule) {\n            this.sortModule.clearSorting();\n        }\n    };\n    /**\n     * Remove sorted column by field name.\n     *\n     * @param {string} field - Defines the column field name to remove sort.\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.removeSortColumn = function (field) {\n        if (this.sortModule) {\n            this.sortModule.removeSortColumn(field);\n        }\n    };\n    /**\n    * @hidden\n    * @returns {void}\n    */\n    Grid.prototype.clearGridActions = function () {\n        this.setProperties({ sortSettings: { columns: [] } }, true);\n        this.setProperties({ filterSettings: { columns: [] } }, true);\n        this.setProperties({ searchSettings: { key: '' } }, true);\n        if (this.allowGrouping) {\n            this.setProperties({ groupSettings: { columns: [] } }, false);\n        }\n        else {\n            this.freezeRefresh();\n        }\n    };\n    /**\n     * Filters grid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean} filterValue - Defines the value used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, the grid filters the records with exact match. if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @param  {string} actualFilterValue - Defines the actual filter value for the filter column.\n     * @param  {string} actualOperator - Defines the actual filter operator for the filter column.\n     * @returns {void}\n     */\n    Grid.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator) {\n        if (this.filterModule) {\n            this.filterModule.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent, actualFilterValue, actualOperator);\n        }\n    };\n    /**\n     * Clears all the filtered rows of the Grid.\n     *\n     * @param {string[]} fields - Defines the Fields\n     * @returns {void}\n     */\n    Grid.prototype.clearFiltering = function (fields) {\n        if (this.filterModule) {\n            this.filterModule.clearFiltering(fields);\n        }\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @param  {boolean} isClearFilterBar -  Specifies whether the filter bar value needs to be cleared.\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.removeFilteredColsByField = function (field, isClearFilterBar) {\n        if (this.filterModule) {\n            this.filterModule.removeFilteredColsByField(field, isClearFilterBar);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Grid.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} rowIndexes - Specifies the row indexes.\n     * @returns {void}\n     */\n    Grid.prototype.selectRows = function (rowIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(rowIndexes);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void}\n     */\n    Grid.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a range of cells from start and end indexes.\n     *\n     * @param  {IIndex} startIndex - Specifies the row and column's start index.\n     * @param  {IIndex} endIndex - Specifies the row and column's end index.\n     * @returns {void}\n     */\n    Grid.prototype.selectCellsByRange = function (startIndex, endIndex) {\n        this.selectionModule.selectCellsByRange(startIndex, endIndex);\n    };\n    /**\n     * Searches Grid records using the given key.\n     * You can customize the default search option by using the\n     * [`searchSettings`](./#searchsettings/).\n     *\n     * @param  {string} searchString - Defines the key.\n     * @returns {void}\n     */\n    Grid.prototype.search = function (searchString) {\n        if (this.searchModule) {\n            this.searchModule.search(searchString);\n        }\n    };\n    /**\n     * By default, prints all the pages of the Grid and hides the pager.\n     * > You can customize print options using the\n     * [`printMode`](./#printmode).\n     *\n     * @returns {void}\n     */\n    Grid.prototype.print = function () {\n        if (this.printModule) {\n            this.printModule.print();\n        }\n    };\n    /**\n     * Delete a record with Given options. If fieldname and data is not given then grid will delete the selected record.\n     * > `editSettings.allowDeleting` should be true.\n     *\n     * @param {string} fieldname - Defines the primary key field, 'Name of the column'.\n     * @param {Object} data - Defines the JSON data of the record to be deleted.\n     * @returns {void}\n     */\n    Grid.prototype.deleteRecord = function (fieldname, data) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(fieldname, data);\n        }\n    };\n    /**\n     * Starts edit the selected row. At least one row must be selected before invoking this method.\n     * `editSettings.allowEditing` should be true.\n     * {% codeBlock src='grid/startEdit/index.md' %}{% endcodeBlock %}\n     *\n     * @returns {void}\n     */\n    Grid.prototype.startEdit = function () {\n        if (this.editModule) {\n            this.editModule.startEdit();\n        }\n    };\n    /**\n     * If Grid is in editable state, you can save a record by invoking endEdit.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.endEdit = function () {\n        if (this.editModule) {\n            this.editModule.endEdit();\n        }\n    };\n    /**\n     * Cancels edited state.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.closeEdit = function () {\n        if (this.editModule) {\n            this.editModule.closeEdit();\n        }\n    };\n    /**\n     * Adds a new record to the Grid. Without passing parameters, it adds empty rows.\n     * > `editSettings.allowEditing` should be true.\n     *\n     * @param {Object} data - Defines the new add record data.\n     * @param {number} index - Defines the row index to be added\n     * @returns {void}\n     */\n    Grid.prototype.addRecord = function (data, index) {\n        if (this.editModule) {\n            this.editModule.addRecord(data, index);\n        }\n    };\n    /**\n     * Delete any visible row by TR element.\n     *\n     * @param {HTMLTableRowElement} tr - Defines the table row element.\n     * @returns {void}\n     */\n    Grid.prototype.deleteRow = function (tr) {\n        if (this.editModule) {\n            this.editModule.deleteRow(tr);\n        }\n    };\n    /**\n     * Changes a particular cell into edited state based on the row index and field name provided in the `batch` mode.\n     *\n     * @param {number} index - Defines row index to edit a particular cell.\n     * @param {string} field - Defines the field name of the column to perform batch edit.\n     * @returns {void}\n     */\n    Grid.prototype.editCell = function (index, field) {\n        if (this.editModule) {\n            this.editModule.editCell(index, field);\n        }\n    };\n    /**\n     * Saves the cell that is currently edited. It does not save the value to the DataSource.\n     *\n     * @returns {void}\n     * {% codeBlock src='grid/saveCell/index.md' %}{% endcodeBlock %}\n     */\n    Grid.prototype.saveCell = function () {\n        if (this.editModule) {\n            this.editModule.saveCell();\n        }\n    };\n    /**\n     * To update the specified cell by given value without changing into edited state.\n     *\n     * @param {number} rowIndex Defines the row index.\n     * @param {string} field Defines the column field.\n     * @param {string | number | boolean | Date} value - Defines the value to be changed.\n     * @returns {void}\n     */\n    Grid.prototype.updateCell = function (rowIndex, field, value) {\n        if (this.editModule) {\n            this.editModule.updateCell(rowIndex, field, value);\n        }\n    };\n    /**\n     * To update the specified row by given values without changing into edited state.\n     *\n     * {% codeBlock src='grid/updateRow/index.md' %}{% endcodeBlock %}\n     *\n     * @param {number} index Defines the row index.\n     * @param {Object} data Defines the data object to be updated.\n     * @returns {void}\n     */\n    Grid.prototype.updateRow = function (index, data) {\n        if (this.editModule) {\n            this.editModule.updateRow(index, data);\n        }\n    };\n    /**\n     * Gets the added, edited,and deleted data before bulk save to the DataSource in batch mode.\n     *\n     * @returns {Object} Returns the batch changes\n     */\n    Grid.prototype.getBatchChanges = function () {\n        if (this.editModule) {\n            return this.editModule.getBatchChanges();\n        }\n        return {};\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void}\n     */\n    Grid.prototype.enableToolbarItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Copy the selected rows or cells data into clipboard.\n     *\n     * @param {boolean} withHeader - Specifies whether the column header text needs to be copied along with rows or cells.\n     * @returns {void}\n     */\n    Grid.prototype.copy = function (withHeader) {\n        if (this.clipboardModule) {\n            this.clipboardModule.copy(withHeader);\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.recalcIndentWidth = function () {\n        var _this = this;\n        if (!this.getHeaderTable().querySelector('.e-emptycell')) {\n            return;\n        }\n        if ((!this.groupSettings.columns.length && !this.isDetail() && !this.isRowDragable()) ||\n            this.getHeaderTable().querySelector('.e-emptycell').getAttribute('indentRefreshed') ||\n            !this.getContentTable()) {\n            return;\n        }\n        var indentWidth = this.getHeaderTable().querySelector('.e-emptycell').parentElement.offsetWidth;\n        var headerCol = [].slice.call(this.getHeaderTable().querySelector(literals.colGroup).childNodes);\n        var contentCol = [].slice.call(this.getContentTable().querySelector(literals.colGroup).childNodes);\n        var perPixel = indentWidth / 30;\n        var i = this.getFrozenMode() === 'Right' ? this.frozenRightCount : 0;\n        var parentOffset = this.element.offsetWidth;\n        var applyWidth = function (index, width) {\n            if (ispercentageWidth(_this)) {\n                var newWidth = (width / parentOffset * 100).toFixed(1) + '%';\n                headerCol[index].style.width = newWidth;\n                contentCol[index].style.width = newWidth;\n            }\n            else {\n                headerCol[index].style.width = width + 'px';\n                contentCol[index].style.width = width + 'px';\n            }\n            _this.notify(events.columnWidthChanged, { index: index, width: width });\n        };\n        if (perPixel >= 1) {\n            indentWidth = (30 / perPixel);\n        }\n        if (indentWidth < 1) {\n            indentWidth = 1;\n        }\n        if (this.enableColumnVirtualization || this.isAutoGen) {\n            indentWidth = 30;\n        }\n        while (i < this.groupSettings.columns.length) {\n            applyWidth(i, indentWidth);\n            i++;\n        }\n        if (this.isDetail()) {\n            applyWidth(i, indentWidth);\n            i++;\n        }\n        if (this.isRowDragable()) {\n            applyWidth(i, indentWidth);\n        }\n        this.isAutoGen = false;\n        this.getHeaderTable().querySelector('.e-emptycell').setAttribute('indentRefreshed', 'true');\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.resetIndentWidth = function () {\n        if (ispercentageWidth(this)) {\n            this.getHeaderTable().querySelector('.e-emptycell').removeAttribute('indentRefreshed');\n            this.widthService.setWidthToColumns();\n            this.recalcIndentWidth();\n        }\n        if ((this.width === 'auto' || typeof (this.width) === 'string' && this.width.indexOf('%') !== -1)\n            && this.getColumns().filter(function (col) { return (!col.width || col.width === 'auto') && col.minWidth; }).length > 0) {\n            var tgridWidth = this.widthService.getTableWidth(this.getColumns());\n            this.widthService.setMinwidthBycalculation(tgridWidth);\n        }\n        if (this.isFrozenGrid() && this.widthService) {\n            this.widthService.refreshFrozenScrollbar();\n        }\n        if (this.allowTextWrap && this.textWrapSettings.wrapMode !== 'Content') {\n            this.notify(events.refreshHandlers, {});\n        }\n    };\n    /**\n     * @hidden\n     * @returns {boolean} Returns isRowDragable\n     */\n    Grid.prototype.isRowDragable = function () {\n        return this.allowRowDragAndDrop && !this.rowDropSettings.targetID;\n    };\n    /**\n     * Changes the Grid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines the origin field name.\n     * @param  {string} toFName - Defines the destination field name.\n     * @returns {void}\n     */\n    Grid.prototype.reorderColumns = function (fromFName, toFName) {\n        if (this.reorderModule) {\n            this.reorderModule.reorderColumns(fromFName, toFName);\n        }\n    };\n    /**\n     * Changes the Grid column positions by field index. If you invoke reorderColumnByIndex multiple times,\n     * then you won't get the same results every time.\n     *\n     * @param  {number} fromIndex - Defines the origin field index.\n     * @param  {number} toIndex - Defines the destination field index.\n     * @returns {void}\n     */\n    Grid.prototype.reorderColumnByIndex = function (fromIndex, toIndex) {\n        if (this.reorderModule) {\n            this.reorderModule.reorderColumnByIndex(fromIndex, toIndex);\n        }\n    };\n    /**\n     * Changes the Grid column positions by field index. If you invoke reorderColumnByTargetIndex multiple times,\n     * then you will get the same results every time.\n     *\n     * @param  {string} fieldName - Defines the field name.\n     * @param  {number} toIndex - Defines the destination field index.\n     * @returns {void}\n     */\n    Grid.prototype.reorderColumnByTargetIndex = function (fieldName, toIndex) {\n        if (this.reorderModule) {\n            this.reorderModule.reorderColumnByTargetIndex(fieldName, toIndex);\n        }\n    };\n    /**\n     * Changes the Grid Row position with given indexes.\n     *\n     * @param  {number} fromIndexes - Defines the origin Indexes.\n     * @param  {number} toIndex - Defines the destination Index.\n     * @returns {void}\n     */\n    Grid.prototype.reorderRows = function (fromIndexes, toIndex) {\n        if (this.rowDragAndDropModule) {\n            this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex);\n        }\n    };\n    /**\n     * @param {ReturnType} e - Defines the Return type\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.refreshDataSource = function (e) {\n        this.notify('refreshdataSource', e);\n    };\n    /**\n     * @param {boolean} enable -Defines the enable\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.disableRowDD = function (enable) {\n        var headerTable = this.getHeaderTable();\n        var contentTable = this.getContentTable();\n        var headerRows = headerTable.querySelectorAll('th.e-rowdragheader, th.e-mastercell');\n        var rows = this.getRows();\n        var disValue = enable ? 'none' : '';\n        setStyleAttribute(headerTable.querySelector(literals.colGroup).childNodes[0], { 'display': disValue });\n        setStyleAttribute(contentTable.querySelector(literals.colGroup).childNodes[0], { 'display': disValue });\n        for (var i = 0; i < this.getRows().length; i++) {\n            var ele = rows[i].firstElementChild;\n            if (enable) {\n                addClass([ele], 'e-hide');\n            }\n            else {\n                removeClass([ele], ['e-hide']);\n            }\n        }\n        for (var j = 0; j < headerTable.querySelectorAll('th.e-rowdragheader, th.e-mastercell').length; j++) {\n            var ele = headerRows[j];\n            if (enable) {\n                addClass([ele], 'e-hide');\n            }\n            else {\n                removeClass([ele], ['e-hide']);\n            }\n        }\n    };\n    /**\n     * Changes the column width to automatically fit its content to ensure that the width shows the content without wrapping/hiding.\n     * > * This method ignores the hidden columns.\n     * > * Uses the `autoFitColumns` method in the `dataBound` event to resize at initial rendering.\n     *\n     * @param  {string |string[]} fieldNames - Defines the column names.\n     * @returns {void}\n     *\n     *\n     * ```typescript\n     * <div id=\"Grid\"></div>\n     * <script>\n     * let gridObj: Grid = new Grid({\n     *     dataSource: employeeData,\n     *     columns: [\n     *         { field: 'OrderID', headerText: 'Order ID', width:100 },\n     *         { field: 'EmployeeID', headerText: 'Employee ID' }],\n     *     dataBound: () => gridObj.autoFitColumns('EmployeeID')\n     * });\n     * gridObj.appendTo('#Grid');\n     * </script>\n     * ```\n     *\n     */\n    Grid.prototype.autoFitColumns = function (fieldNames) {\n        if (this.resizeModule) {\n            this.resizeModule.autoFitColumns(fieldNames);\n        }\n    };\n    /**\n     * @param {number} x - Defines the number\n     * @param {number} y - Defines the number\n     * @param {Element} target - Defines the Element\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.createColumnchooser = function (x, y, target) {\n        if (this.columnChooserModule) {\n            this.columnChooserModule.renderColumnChooser(x, y, target);\n        }\n    };\n    Grid.prototype.initializeServices = function () {\n        this.serviceLocator.register('widthService', this.widthService = new ColumnWidthService(this));\n        this.serviceLocator.register('cellRendererFactory', new CellRendererFactory);\n        this.serviceLocator.register('rendererFactory', new RendererFactory);\n        this.serviceLocator.register('localization', this.localeObj = new L10n(this.getModuleName(), this.defaultLocale, this.locale));\n        this.serviceLocator.register('valueFormatter', this.valueFormatterService = new ValueFormatter(this.locale));\n        this.serviceLocator.register('showHideService', this.showHider = new ShowHide(this));\n        this.serviceLocator.register('ariaService', this.ariaService = new AriaService());\n        this.serviceLocator.register('focus', this.focusModule = new FocusStrategy(this));\n    };\n    Grid.prototype.processModel = function () {\n        var gCols = this.groupSettings.columns;\n        var sCols = this.sortSettings.columns;\n        var flag;\n        var j;\n        if (this.allowGrouping) {\n            var _loop_1 = function (i, len) {\n                j = 0;\n                for (var sLen = sCols.length; j < sLen; j++) {\n                    if (sCols[j].field === gCols[i]) {\n                        flag = true;\n                        break;\n                    }\n                }\n                if (!flag) {\n                    sCols.push({ field: gCols[i], direction: 'Ascending', isFromGroup: true });\n                }\n                else {\n                    if (this_1.allowSorting) {\n                        this_1.sortedColumns.push(sCols[j].field);\n                    }\n                    else {\n                        sCols[j].direction = 'Ascending';\n                    }\n                }\n                if (!this_1.groupSettings.showGroupedColumn) {\n                    var column = this_1.enableColumnVirtualization ?\n                        this_1.columns.filter(function (c) { return c.field === gCols[i]; })[0] : this_1.getColumnByField(gCols[i]);\n                    if (column) {\n                        column.visible = false;\n                    }\n                    else {\n                        this_1.log('initial_action', { moduleName: 'group', columnName: gCols[i] });\n                    }\n                }\n            };\n            var this_1 = this;\n            for (var i = 0, len = gCols.length; i < len; i++) {\n                _loop_1(i, len);\n            }\n        }\n        if (!gCols.length) {\n            for (var i = 0; i < sCols.length; i++) {\n                this.sortedColumns.push(sCols[i].field);\n            }\n        }\n        this.rowTemplateFn = templateCompiler(this.rowTemplate);\n        this.detailTemplateFn = templateCompiler(this.detailTemplate);\n        this.editTemplateFn = templateCompiler(this.editSettings.template);\n        this.editHeaderTemplateFn = templateCompiler(this.editSettings.headerTemplate);\n        this.editFooterTemplateFn = templateCompiler(this.editSettings.footerTemplate);\n        if (!isNullOrUndefined(this.parentDetails)) {\n            var value = isNullOrUndefined(this.parentDetails.parentKeyFieldValue) ? 'undefined' :\n                this.parentDetails.parentKeyFieldValue;\n            this.query.where(this.queryString, 'equal', value, true);\n        }\n        this.initForeignColumn();\n    };\n    Grid.prototype.initForeignColumn = function () {\n        if (this.isForeignKeyEnabled(this.getColumns())) {\n            this.notify(events.initForeignKeyColumn, this.getForeignKeyColumns());\n        }\n    };\n    Grid.prototype.enableVerticalRendering = function () {\n        if (this.rowRenderingMode === 'Vertical') {\n            this.element.classList.add('e-row-responsive');\n        }\n        else {\n            this.element.classList.remove('e-row-responsive');\n        }\n    };\n    Grid.prototype.gridRender = function () {\n        this.updateRTL();\n        if (this.rowRenderingMode === 'Vertical') {\n            this.element.classList.add('e-row-responsive');\n        }\n        if (this.enableHover) {\n            this.element.classList.add('e-gridhover');\n        }\n        if (Browser.isDevice) {\n            this.element.classList.add('e-device');\n        }\n        if (this.rowHeight) {\n            this.element.classList.add('e-grid-min-height');\n        }\n        classList(this.element, ['e-responsive', 'e-default'], []);\n        var rendererFactory = this.serviceLocator.getService('rendererFactory');\n        this.headerModule = rendererFactory.getRenderer(RenderType.Header);\n        this.contentModule = rendererFactory.getRenderer(RenderType.Content);\n        this.printModule = new Print(this, this.scrollModule);\n        this.clipboardModule = new Clipboard(this);\n        this.renderModule.render();\n        this.eventInitializer();\n        this.createGridPopUpElement();\n        this.widthService.setWidthToColumns();\n        this.updateGridLines();\n        this.applyTextWrap();\n        this.createTooltip(); //for clip mode ellipsis\n        this.enableBoxSelection();\n    };\n    Grid.prototype.dataReady = function () {\n        this.scrollModule.setWidth();\n        this.scrollModule.setHeight();\n        if (this.height !== 'auto') {\n            this.scrollModule.setPadding();\n        }\n    };\n    Grid.prototype.updateRTL = function () {\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        else {\n            this.element.classList.remove('e-rtl');\n        }\n    };\n    Grid.prototype.createGridPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-gridpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: literals.content, attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        this.element.appendChild(popup);\n    };\n    Grid.prototype.updateGridLines = function () {\n        classList(this.element, [], ['e-verticallines', 'e-horizontallines', 'e-hidelines', 'e-bothlines']);\n        switch (this.gridLines) {\n            case 'Horizontal':\n                this.element.classList.add('e-horizontallines');\n                break;\n            case 'Vertical':\n                this.element.classList.add('e-verticallines');\n                break;\n            case 'None':\n                this.element.classList.add('e-hidelines');\n                break;\n            case 'Both':\n                this.element.classList.add('e-bothlines');\n                break;\n        }\n        this.updateResizeLines();\n    };\n    Grid.prototype.updateResizeLines = function () {\n        if (this.allowResizing &&\n            !(this.gridLines === 'Vertical' || this.gridLines === 'Both')) {\n            this.element.classList.add('e-resize-lines');\n        }\n        else {\n            this.element.classList.remove('e-resize-lines');\n        }\n    };\n    /**\n     * The function is used to apply text wrap\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.applyTextWrap = function () {\n        if (this.allowTextWrap) {\n            var headerRows = [].slice.call(this.element.getElementsByClassName('e-columnheader'));\n            switch (this.textWrapSettings.wrapMode) {\n                case 'Header':\n                    wrap(this.element, false);\n                    wrap(this.getContent(), false);\n                    wrap(headerRows, true);\n                    break;\n                case 'Content':\n                    wrap(this.getContent(), true);\n                    wrap(this.element, false);\n                    wrap(headerRows, false);\n                    break;\n                default:\n                    wrap(this.element, true);\n                    wrap(this.getContent(), false);\n                    wrap(headerRows, false);\n            }\n            if (this.textWrapSettings.wrapMode !== 'Content') {\n                this.notify(events.refreshHandlers, {});\n            }\n        }\n    };\n    /**\n     * The function is used to remove text wrap\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.removeTextWrap = function () {\n        wrap(this.element, false);\n        var headerRows = [].slice.call(this.element.getElementsByClassName('e-columnheader'));\n        wrap(headerRows, false);\n        wrap(this.getContent(), false);\n        if (this.textWrapSettings.wrapMode !== 'Content') {\n            this.notify(events.refreshHandlers, {});\n        }\n    };\n    /**\n     * The function is used to add Tooltip to the grid cell that has ellipsiswithtooltip clip mode.\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.createTooltip = function () {\n        this.toolTipObj = new Tooltip({ opensOn: 'custom', content: '' }, this.element);\n    };\n    /** @hidden\n     * @returns {void}\n     */\n    Grid.prototype.freezeRefresh = function () {\n        this.isFreezeRefresh = true;\n        if (this.enableVirtualization) {\n            this.pageSettings.currentPage = 1;\n        }\n        this.componentRefresh();\n    };\n    Grid.prototype.getTooltipStatus = function (element) {\n        var headerTable = this.getHeaderTable();\n        var headerDivTag = 'e-gridheader';\n        var htable = this.createTable(headerTable, headerDivTag, 'header');\n        var ctable = this.createTable(headerTable, headerDivTag, 'content');\n        var table = element.classList.contains('e-headercell') ? htable : ctable;\n        var ele = element.classList.contains('e-headercell') ? 'th' : 'tr';\n        table.querySelector(ele).className = element.className;\n        table.querySelector(ele).innerHTML = element.innerHTML;\n        var width = table.querySelector(ele).getBoundingClientRect().width;\n        document.body.removeChild(htable);\n        document.body.removeChild(ctable);\n        if (width > element.getBoundingClientRect().width) {\n            return true;\n        }\n        return false;\n    };\n    Grid.prototype.mouseMoveHandler = function (e) {\n        if (this.isEllipsisTooltip()) {\n            var element = parentsUntil(e.target, 'e-ellipsistooltip');\n            if (this.prevElement !== element || e.type === 'mouseout') {\n                this.toolTipObj.close();\n            }\n            var tagName = e.target.tagName;\n            var elemNames = ['A', 'BUTTON', 'INPUT'];\n            if (element && e.type !== 'mouseout' && !(Browser.isDevice && elemNames.indexOf(tagName) !== -1)) {\n                if (element.getAttribute('aria-describedby')) {\n                    return;\n                }\n                if (this.getTooltipStatus(element)) {\n                    if (element.getElementsByClassName('e-headertext').length) {\n                        this.toolTipObj.content = element.getElementsByClassName('e-headertext')[0].innerText;\n                    }\n                    else {\n                        this.toolTipObj.content = element.innerText;\n                    }\n                    this.prevElement = element;\n                    var col = this.getColumns()[parseInt(element.getAttribute(literals.ariaColIndex), 10)];\n                    if (col.disableHtmlEncode) {\n                        this.toolTipObj.enableHtmlParse = false;\n                    }\n                    this.toolTipObj.open(element);\n                }\n            }\n        }\n        this.hoverFrozenRows(e);\n    };\n    /**\n     * @param {MouseEvent} e - Defines the mouse event\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.hoverFrozenRows = function (e) {\n        if (this.isFrozenGrid()) {\n            var row = parentsUntil(e.target, literals.row);\n            if ([].slice.call(this.element.getElementsByClassName('e-frozenhover')).length && e.type === 'mouseout') {\n                var rows = [].slice.call(this.element.getElementsByClassName('e-frozenhover'));\n                for (var i = 0; i < rows.length; i++) {\n                    rows[i].classList.remove('e-frozenhover');\n                }\n            }\n            else if (row) {\n                var rows = [].slice.call(this.element.querySelectorAll('tr[aria-rowindex=\"' + row.getAttribute(literals.ariaRowIndex) + '\"]'));\n                rows.splice(rows.indexOf(row), 1);\n                for (var i = 0; i < rows.length; i++) {\n                    if (row.getAttribute('aria-selected') !== 'true' && rows[i]) {\n                        rows[i].classList.add('e-frozenhover');\n                    }\n                    else if (rows[i]) {\n                        rows[i].classList.remove('e-frozenhover');\n                    }\n                }\n            }\n        }\n    };\n    Grid.prototype.isEllipsisTooltip = function () {\n        var cols = this.getColumns();\n        if (this.clipMode === 'EllipsisWithTooltip') {\n            return true;\n        }\n        for (var i = 0; i < cols.length; i++) {\n            if (cols[i].clipMode === 'EllipsisWithTooltip') {\n                return true;\n            }\n        }\n        return false;\n    };\n    Grid.prototype.scrollHandler = function () {\n        if (this.isEllipsisTooltip()) {\n            this.toolTipObj.close();\n        }\n    };\n    /**\n     * To create table for ellipsiswithtooltip\n     *\n     * @param {Element} table - Defines the table\n     * @param {string} tag - Defines the tag\n     * @param {string} type - Defines the type\n     * @returns {HTMLDivElement} Returns the HTML div ELement\n     * @hidden\n     */\n    Grid.prototype.createTable = function (table, tag, type) {\n        var myTableDiv = this.createElement('div');\n        myTableDiv.className = this.element.className;\n        myTableDiv.style.cssText = 'display: inline-block;visibility:hidden;position:absolute';\n        var mySubDiv = this.createElement('div');\n        mySubDiv.className = tag;\n        var myTable = this.createElement('table');\n        myTable.className = table.className;\n        myTable.style.cssText = 'table-layout: auto;width: auto';\n        var ele = (type === 'header') ? 'th' : 'td';\n        var myTr = this.createElement('tr');\n        var mytd = this.createElement(ele);\n        myTr.appendChild(mytd);\n        myTable.appendChild(myTr);\n        mySubDiv.appendChild(myTable);\n        myTableDiv.appendChild(mySubDiv);\n        document.body.appendChild(myTableDiv);\n        return myTableDiv;\n    };\n    Grid.prototype.onKeyPressed = function (e) {\n        if (e.action === 'tab' || e.action === 'shiftTab') {\n            this.toolTipObj.close();\n        }\n    };\n    /**\n     * Binding events to the element while component creation.\n     *\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.mouseClickHandler, this);\n        EventHandler.add(this.element, 'touchend', this.mouseClickHandler, this);\n        EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n        EventHandler.add(this.element, 'dblclick', this.dblClickHandler, this);\n        EventHandler.add(this.element, 'keydown', this.keyPressHandler, this);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        EventHandler.add(window, 'resize', this.resetIndentWidth, this);\n        if (this.allowKeyboard) {\n            this.element.tabIndex = this.element.tabIndex === -1 ? 0 : this.element.tabIndex;\n        }\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.getContent().firstElementChild, 'scroll', this.scrollHandler, this);\n        EventHandler.add(this.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(this.element, 'mouseout', this.mouseMoveHandler, this);\n        EventHandler.add(this.getContent(), 'touchstart', this.tapEvent, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    /**\n     * Unbinding events from the element while component destroy.\n     *\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.mouseClickHandler);\n        EventHandler.remove(this.element, 'touchend', this.mouseClickHandler);\n        EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n        EventHandler.remove(this.element, 'dblclick', this.dblClickHandler);\n        EventHandler.remove(this.getContent().firstElementChild, 'scroll', this.scrollHandler);\n        EventHandler.remove(this.element, 'mousemove', this.mouseMoveHandler);\n        EventHandler.remove(this.element, 'mouseout', this.mouseMoveHandler);\n        EventHandler.remove(this.element, 'keydown', this.keyPressHandler);\n        EventHandler.remove(this.getContent(), 'touchstart', this.tapEvent);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        EventHandler.remove(window, 'resize', this.resetIndentWidth);\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.addListener = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.on(events.dataReady, this.dataReady, this);\n        this.on(events.contentReady, this.recalcIndentWidth, this);\n        this.on(events.headerRefreshed, this.recalcIndentWidth, this);\n        this.dataBoundFunction = this.refreshMediaCol.bind(this);\n        this.addEventListener(events.dataBound, this.dataBoundFunction);\n        this.on(events.keyPressed, this.onKeyPressed, this);\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.removeListener = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.off(events.dataReady, this.dataReady);\n        this.off(events.contentReady, this.recalcIndentWidth);\n        this.off(events.headerRefreshed, this.recalcIndentWidth);\n        this.removeEventListener(events.dataBound, this.dataBoundFunction);\n        this.off(events.keyPressed, this.onKeyPressed);\n    };\n    /**\n     * Get current visible data of grid.\n     *\n     * @returns {Object[]} Returns the current view records\n     * @isGenericType true\n     */\n    Grid.prototype.getCurrentViewRecords = function () {\n        if (isGroupAdaptive(this)) {\n            return isNullOrUndefined(this.currentViewData.records) ?\n                this.currentViewData : this.currentViewData.records;\n        }\n        if (this.groupSettings.enableLazyLoading) {\n            return this.currentViewData;\n        }\n        return (this.allowGrouping && this.groupSettings.columns.length && this.currentViewData.length\n            && this.currentViewData.records) ? this.currentViewData.records\n            : this.currentViewData;\n    };\n    Grid.prototype.mouseClickHandler = function (e) {\n        if (this.isChildGrid(e) || (parentsUntil(e.target, 'e-gridpopup') && e.touches) ||\n            this.element.getElementsByClassName('e-cloneproperties').length || this.checkEdit(e)) {\n            return;\n        }\n        if (((!this.allowRowDragAndDrop && (parentsUntil(e.target, literals.gridContent) ||\n            e.target.tagName === 'TD')) || (!(this.allowGrouping || this.allowReordering) &&\n            parentsUntil(e.target, 'e-gridheader'))) && e.touches) {\n            return;\n        }\n        if (parentsUntil(e.target, 'e-gridheader') && this.allowRowDragAndDrop &&\n            !(parentsUntil(e.target, 'e-filterbarcell'))) {\n            e.preventDefault();\n        }\n        var args = this.getRowInfo(e.target);\n        var cancel = 'cancel';\n        args[cancel] = false;\n        var isDataRow = false;\n        var tr = closest(e.target, 'tr');\n        if (tr && tr.getAttribute('data-uid')) {\n            var rowObj = this.getRowObjectFromUID(tr.getAttribute('data-uid'));\n            isDataRow = rowObj ? rowObj.isDataRow : false;\n        }\n        if (isDataRow) {\n            this.trigger(events.recordClick, args);\n        }\n        this.notify(events.click, e);\n    };\n    Grid.prototype.checkEdit = function (e) {\n        var tr = parentsUntil(e.target, literals.row);\n        var isEdit = this.editSettings.mode !== 'Batch' &&\n            this.isEdit && tr && (tr.classList.contains(literals.editedRow) || tr.classList.contains(literals.addedRow));\n        return !parentsUntil(e.target, 'e-unboundcelldiv') && (isEdit || (parentsUntil(e.target, literals.rowCell) &&\n            parentsUntil(e.target, literals.rowCell).classList.contains('e-editedbatchcell')));\n    };\n    Grid.prototype.dblClickHandler = function (e) {\n        var grid = parentsUntil(e.target, 'e-grid');\n        if (isNullOrUndefined(grid) || grid.id !== this.element.id || closest(e.target, '.e-unboundcelldiv')) {\n            return;\n        }\n        var dataRow = false;\n        var tr = closest(e.target, 'tr');\n        if (tr && tr.getAttribute('data-uid')) {\n            var rowObj = this.getRowObjectFromUID(tr.getAttribute('data-uid'));\n            dataRow = rowObj ? rowObj.isDataRow : false;\n        }\n        var args = this.getRowInfo(e.target);\n        args.target = e.target;\n        if (dataRow) {\n            this.trigger(events.recordDoubleClick, args);\n        }\n        this.notify(events.dblclick, e);\n    };\n    Grid.prototype.focusOutHandler = function (e) {\n        if (this.isChildGrid(e)) {\n            return;\n        }\n        if (!parentsUntil(e.target, 'e-grid')) {\n            this.element.querySelector('.e-gridpopup').style.display = 'None';\n        }\n        var filterClear = this.element.querySelector('.e-cancel:not(.e-hide)');\n        if (filterClear) {\n            filterClear.classList.add('e-hide');\n        }\n        var relatedTarget = e.relatedTarget;\n        var ariaOwns = relatedTarget ? relatedTarget.getAttribute('aria-owns') : null;\n        if ((!relatedTarget || (!parentsUntil(relatedTarget, 'e-grid') &&\n            (!isNullOrUndefined(ariaOwns) &&\n                (ariaOwns)) !== e.target.getAttribute('aria-owns')))\n            && !this.keyPress && this.isEdit && !Browser.isDevice) {\n            if (this.editSettings.mode === 'Batch' && !((parentsUntil(relatedTarget, 'e-ddl') || parentsUntil(relatedTarget, 'e-ddt')) &&\n                parentsUntil(relatedTarget, 'e-input-group'))) {\n                this.editModule.saveCell();\n                this.notify(events.editNextValCell, {});\n            }\n            if (this.editSettings.mode === 'Normal') {\n                this.editModule.editFormValidate();\n            }\n        }\n        this.keyPress = false;\n    };\n    Grid.prototype.isChildGrid = function (e) {\n        var gridElement = parentsUntil(e.target, 'e-grid');\n        if ((gridElement && gridElement.id !== this.element.id) || (parentsUntil(e.target, 'e-unboundcelldiv') &&\n            isNullOrUndefined(gridElement))) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @param {Object} persistedData - Defines the persisted data\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.mergePersistGridData = function (persistedData) {\n        var data = this.getLocalData();\n        if (!(isNullOrUndefined(data) || (data === '')) || !isNullOrUndefined(persistedData)) {\n            var dataObj = !isNullOrUndefined(persistedData) ? persistedData : JSON.parse(data);\n            if (this.enableVirtualization) {\n                dataObj.pageSettings.currentPage = 1;\n            }\n            var keys = Object.keys(dataObj);\n            this.isProtectedOnChange = true;\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                if ((typeof this[key] === 'object') && !isNullOrUndefined(this[key])) {\n                    if (Array.isArray(this[key]) && key === 'columns') {\n                        setColumnIndex(this[key]);\n                        this.mergeColumns(dataObj[key], this[key]);\n                        this[key] = dataObj[key];\n                    }\n                    else {\n                        extend(this[key], dataObj[key]);\n                    }\n                }\n                else {\n                    this[key] = dataObj[key];\n                }\n            }\n            this.isProtectedOnChange = false;\n        }\n    };\n    Grid.prototype.mergeColumns = function (storedColumn, columns) {\n        var storedColumns = storedColumn;\n        var _loop_2 = function (i) {\n            var localCol = columns.filter(function (tCol) { return tCol.index === storedColumns[i].index; })[0];\n            if (!isNullOrUndefined(localCol)) {\n                if (localCol.columns && localCol.columns.length) {\n                    this_2.mergeColumns(storedColumns[i].columns, localCol.columns);\n                    storedColumns[i] = extend(localCol, storedColumns[i], {}, true);\n                }\n                else {\n                    storedColumns[i] = extend(localCol, storedColumns[i], {}, true);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < storedColumns.length; i++) {\n            _loop_2(i);\n        }\n    };\n    /**\n     * @hidden\n     * @returns {boolean} Returns the isDetail\n     */\n    Grid.prototype.isDetail = function () {\n        return !isNullOrUndefined(this.detailTemplate) || !isNullOrUndefined(this.childGrid);\n    };\n    Grid.prototype.isCommandColumn = function (columns) {\n        var _this = this;\n        return columns.some(function (col) {\n            if (col.columns) {\n                return _this.isCommandColumn(col.columns);\n            }\n            return !!(col.commands || col.commandsTemplate);\n        });\n    };\n    Grid.prototype.isForeignKeyEnabled = function (columns) {\n        var _this = this;\n        return columns.some(function (col) {\n            if (col.columns) {\n                return _this.isForeignKeyEnabled(col.columns);\n            }\n            return !!(col.dataSource && col.foreignKeyValue);\n        });\n    };\n    Grid.prototype.keyPressHandler = function (e) {\n        var presskey = extend(e, { cancel: false });\n        this.trigger('keyPressed', presskey);\n        if (presskey.cancel === true) {\n            e.stopImmediatePropagation();\n        }\n    };\n    Grid.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                if (this.keyA) { //alt A J\n                    this.notify(events.groupCollapse, { target: e.target, collapse: false });\n                    this.keyA = false;\n                }\n                else {\n                    this.focusModule.focusHeader();\n                    this.focusModule.addOutline();\n                }\n            }\n            if (e.keyCode === 87) { //alt w\n                this.focusModule.focusContent();\n                this.focusModule.addOutline();\n            }\n            if (e.keyCode === 65) { //alt A\n                this.keyA = true;\n            }\n            if (e.keyCode === 72 && this.keyA) { //alt A H\n                this.notify(events.groupCollapse, { target: e.target, collapse: true });\n                this.keyA = false;\n            }\n        }\n        if (e.keyCode === 13) {\n            this.notify(events.enterKeyHandler, e);\n        }\n    };\n    Grid.prototype.keyActionHandler = function (e) {\n        if (this.isChildGrid(e) ||\n            (this.isEdit && e.action !== 'escape' && e.action !== 'enter' && e.action !== 'shiftEnter'\n                && e.action !== 'tab' && e.action !== 'shiftTab')) {\n            return;\n        }\n        else {\n            this.keyPress = true;\n        }\n        if (this.allowKeyboard) {\n            if (e.action === 'ctrlPlusP') {\n                e.preventDefault();\n                this.print();\n            }\n            this.notify(events.keyPressed, e);\n        }\n    };\n    /**\n     * @param {Function[]} modules - Defines the modules\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.setInjectedModules = function (modules) {\n        this.injectedModules = modules;\n    };\n    Grid.prototype.updateColumnObject = function () {\n        prepareColumns(this.columns, this.enableColumnVirtualization, this);\n        setColumnIndex(this.columns);\n        this.initForeignColumn();\n        this.notify(events.autoCol, {});\n    };\n    /**\n     * Gets the foreign columns from Grid.\n     *\n     * @returns {Column[]} Returns Foreign key column\n     */\n    Grid.prototype.getForeignKeyColumns = function () {\n        return this.getColumns().filter(function (col) {\n            return col.isForeignColumn();\n        });\n    };\n    /**\n     * @hidden\n     * @returns {number} Returns row height\n     */\n    Grid.prototype.getRowHeight = function () {\n        return this.rowHeight ? this.rowHeight : getRowHeight(this.element);\n    };\n    /**\n     * Refreshes the Grid column changes.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.refreshColumns = function () {\n        this.setFrozenCount();\n        var fCnt = this.getContent().querySelector('.e-frozen-left-content');\n        var frCnt = this.getContent().querySelector('.e-frozen-right-content');\n        var isColFrozen = !this.frozenRightCount && !this.frozenLeftCount;\n        var isFrozen = this.getFrozenColumns() !== 0;\n        if (!isFrozen && ((!fCnt && this.frozenLeftCount) || (!frCnt && this.frozenRightCount) || (fCnt && !this.frozenLeftCount)\n            || (frCnt && !this.frozenRightCount))) {\n            this.tableIndex = 0;\n            this.tablesCount = 1;\n            if (this.enableColumnVirtualization) {\n                this.columnModel = [];\n                this.updateColumnModel(this.columns);\n            }\n            this.freezeRefresh();\n        }\n        else if (isColFrozen && ((this.getFrozenColumns() === 1 && !fCnt) || (this.getFrozenColumns() === 0 && fCnt))) {\n            this.tableIndex = 0;\n            this.tablesCount = 1;\n            if (this.enableColumnVirtualization) {\n                this.columnModel = [];\n                this.updateColumnModel(this.columns);\n            }\n            this.freezeRefresh();\n        }\n        else {\n            this.isPreventScrollEvent = true;\n            this.updateColumnObject();\n            this.checkLockColumns(this.getColumns());\n            this.refresh();\n            if (this.isFrozenGrid()) {\n                var mTbl = this.contentModule.getMovableContent().querySelector('.' + literals.table);\n                remove(mTbl.querySelector(literals.colGroup));\n                var colGroup = ((this.getHeaderContent()\n                    .querySelector('.' + literals.movableHeader).querySelector(literals.colGroup)).cloneNode(true));\n                mTbl.insertBefore(colGroup, mTbl.querySelector(literals.tbody));\n                if (this.getFrozenMode() === 'Left-Right') {\n                    var frTbl = this.contentModule.getFrozenRightContent().querySelector('.' + literals.table);\n                    remove(frTbl.querySelector(literals.colGroup));\n                    var colGrp = ((this.getHeaderContent()\n                        .querySelector('.e-frozen-right-header').querySelector(literals.colGroup)).cloneNode(true));\n                    frTbl.insertBefore(colGrp, frTbl.querySelector(literals.tbody));\n                }\n            }\n        }\n        if (this.isFrozenGrid()) {\n            var left = this.getContent().querySelector('.e-movablescrollbar').scrollLeft;\n            this.headerModule.getMovableHeader().scrollLeft = left;\n            this.contentModule.getMovableContent().scrollLeft = left;\n        }\n    };\n    /**\n     * Export Grid data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Grid.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {Workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} Returns the excelexport\n     */\n    Grid.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    workbook, isBlob) {\n        return this.excelExportModule ?\n            this.excelExportModule.Map(this, excelExportProperties, isMultipleExport, workbook, false, isBlob) : null;\n    };\n    /**\n     * Export Grid data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Grid.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {Workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} Returns csv export\n     */\n    Grid.prototype.csvExport = function (excelExportProperties, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ?\n            this.excelExportModule.Map(this, excelExportProperties, isMultipleExport, workbook, true, isBlob) : null;\n    };\n    /**\n     * Export Grid data to PDF document.\n     *\n     * @param {pdfExportProperties} pdfExportProperties - Defines the export properties of the Grid.\n     * @param {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} Returns pdfexport\n     */\n    Grid.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.pdfExportModule ? this.pdfExportModule.Map(this, pdfExportProperties, isMultipleExport, pdfDoc, isBlob) : null;\n    };\n    /**\n     * Groups a column by column name.\n     *\n     * @param  {string} columnName - Defines the column name to group.\n     * @returns {void}\n     */\n    Grid.prototype.groupColumn = function (columnName) {\n        if (this.groupModule) {\n            this.groupModule.groupColumn(columnName);\n        }\n    };\n    /**\n     * Expands all the grouped rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.groupExpandAll = function () {\n        if (this.groupModule) {\n            this.groupModule.expandAll();\n        }\n    };\n    /**\n     * Collapses all the grouped rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.groupCollapseAll = function () {\n        if (this.groupModule) {\n            this.groupModule.collapseAll();\n        }\n    };\n    /**\n     * Expands or collapses grouped rows by target element.\n     *\n     * @param  {Element} target - Defines the target element of the grouped row.\n     * @returns {void}\n     */\n    // public expandCollapseRows(target: Element): void {\n    //     if (this.groupModule) {\n    //         this.groupModule.expandCollapseRows(target);\n    //     }\n    // }\n    /**\n     * Clears all the grouped columns of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearGrouping = function () {\n        if (this.groupModule) {\n            this.groupModule.clearGrouping();\n        }\n    };\n    /**\n     * Ungroups a column by column name.\n     *\n     * {% codeBlock src='grid/ungroupColumn/index.md' %}{% endcodeBlock %}\n     *\n     * @param  {string} columnName - Defines the column name to ungroup.\n     * @returns {void}\n     */\n    Grid.prototype.ungroupColumn = function (columnName) {\n        if (this.groupModule) {\n            this.groupModule.ungroupColumn(columnName);\n        }\n    };\n    /**\n     * Column chooser can be displayed on screen by given position(X and Y axis).\n     *\n     * @param {number} x - Defines the X axis.\n     * @param {number} y - Defines the Y axis.\n     * @returns {void}\n     */\n    Grid.prototype.openColumnChooser = function (x, y) {\n        if (this.columnChooserModule) {\n            this.columnChooserModule.openColumnChooser(x, y);\n        }\n    };\n    Grid.prototype.scrollRefresh = function () {\n        var _this = this;\n        var refresh = function () {\n            _this.scrollModule.refresh();\n            _this.off(events.contentReady, refresh);\n        };\n        this.on(events.contentReady, refresh, this);\n    };\n    /**\n     * Collapses a detail row with the given target.\n     *\n     * @param  {Element} target - Defines the expanded element to collapse.\n     * @returns {void}\n     */\n    // public detailCollapse(target: number | Element): void {\n    //     if (this.detailRowModule) {\n    //         this.detailRowModule.collapse(target);\n    //     }\n    // }\n    /**\n     * Collapses all the detail rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.detailCollapseAll = function () {\n        if (this.detailRowModule) {\n            this.detailRowModule.collapseAll();\n        }\n    };\n    /**\n     * Expands a detail row with the given target.\n     *\n     * @param  {Element} target - Defines the collapsed element to expand.\n     * @returns {void}\n     */\n    // public detailExpand(target: number | Element): void {\n    //     if (this.detailRowModule) {\n    //         this.detailRowModule.expand(target);\n    //     }\n    // }\n    /**\n     * Expands all the detail rows of the Grid.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.detailExpandAll = function () {\n        if (this.detailRowModule) {\n            this.detailRowModule.expandAll();\n        }\n    };\n    /**\n     * Deselects the currently selected cells.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearCellSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearCellSelection();\n        }\n    };\n    /**\n     * Deselects the currently selected rows.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.clearRowSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearRowSelection();\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void}\n     */\n    Grid.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Specifies the start row index.\n     * @param  {number} endIndex - Specifies the end row index.\n     * @returns {void}\n     */\n    Grid.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRowsByRange(startIndex, endIndex);\n        }\n    };\n    /**\n     * @hidden\n     * @returns {boolean} Returns whether context menu is open or not\n     */\n    Grid.prototype.isContextMenuOpen = function () {\n        return this.contextMenuModule && this.contextMenuModule.isOpen;\n    };\n    /**\n     * @param {Function} module - Defines the module\n     * @returns {boolean} return the injected modules\n     * @hidden\n     */\n    Grid.prototype.ensureModuleInjected = function (module) {\n        return this.getInjectedModules().indexOf(module) >= 0;\n    };\n    /**\n     * Destroys the given template reference.\n     *\n     * @param {string[]} propertyNames - Defines the collection of template name.\n     * @param {any} index - specifies the index\n     */\n    // eslint-disable-next-line\n    Grid.prototype.destroyTemplate = function (propertyNames, index) {\n        this.clearTemplate(propertyNames, index);\n    };\n    /**\n     * @param {string | string[]} type - Defines the type\n     * @param {Object} args - Defines the arguments\n     * @returns {void}\n     * @hidden\n     * @private\n     */\n    Grid.prototype.log = function (type, args) {\n        // eslint-disable-next-line\n        this.loggerModule ? this.loggerModule.log(type, args) : (function () { return 0; })();\n    };\n    /**\n     * @param {Element} element - Defines the element\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.applyBiggerTheme = function (element) {\n        if (this.element.classList.contains('e-bigger')) {\n            element.classList.add('e-bigger');\n        }\n    };\n    /**\n     * @hidden\n     * @returns {Object} Returns the previous row data\n     */\n    Grid.prototype.getPreviousRowData = function () {\n        var previousRowData = this.getRowsObject()[this.getRows().length - 1].data;\n        return previousRowData;\n    };\n    /**\n     * Hides the scrollbar placeholder of Grid content when grid content is not overflown.\n     *\n     * @returns {void}\n     */\n    Grid.prototype.hideScroll = function () {\n        var content = this.getContent().querySelector('.' + literals.content);\n        var scrollBar = this.getContent().querySelector('.e-scrollbar');\n        if (content.scrollHeight <= content.clientHeight) {\n            this.scrollModule.removePadding();\n            content.style.overflowY = 'auto';\n        }\n        if (this.isFrozenGrid() && scrollBar) {\n            var mvblScrollBar = this.getContent().querySelector('.e-movablescrollbar');\n            var mvblChild = this.getContent().querySelector('.e-movablechild');\n            scrollBar.style.display = 'flex';\n            if (mvblScrollBar.offsetWidth >= mvblChild.offsetWidth) {\n                scrollBar.style.display = 'none';\n                this.notify(events.frozenHeight, 0);\n            }\n        }\n    };\n    /**\n     * Get row index by primary key or row data.\n     *\n     * @param  {string | Object} value - Defines the primary key value.\n     * @returns {number} Returns the index\n     */\n    Grid.prototype.getRowIndexByPrimaryKey = function (value) {\n        var pkName = this.getPrimaryKeyFieldNames()[0];\n        value = typeof value === 'object' ? value[pkName] : value;\n        var rows = this.getRowsObject();\n        for (var i = 0; i < rows.length; i++) {\n            if (rows[i].isDetailRow || rows[i].isCaptionRow) {\n                continue;\n            }\n            var pKvalue = rows[i].data[pkName];\n            if (pkName.split('.').length > 1) {\n                pKvalue = performComplexDataOperation(pkName, rows[i].data);\n            }\n            if (pKvalue === value) {\n                return rows[i].index;\n            }\n        }\n        return -1;\n    };\n    /**\n     * @param {string} field - Defines the field name\n     * @returns {Column} returns the column\n     * @hidden\n     */\n    // Need to have all columns while filtering with ColumnVirtualization.\n    Grid.prototype.grabColumnByFieldFromAllCols = function (field) {\n        var column;\n        this.columnModel = [];\n        this.updateColumnModel(this.columns);\n        var gCols = this.columnModel;\n        for (var i = 0; i < gCols.length; i++) {\n            if (field === gCols[i].field) {\n                column = gCols[i];\n            }\n        }\n        return column;\n    };\n    /**\n     * @param {string} uid - Defines the uid\n     * @returns {Column} returns the column\n     * @hidden\n     */\n    // Need to have all columns while filtering with ColumnVirtualization.\n    Grid.prototype.grabColumnByUidFromAllCols = function (uid) {\n        var column;\n        this.columnModel = [];\n        this.updateColumnModel(this.columns);\n        var gCols = this.columnModel;\n        for (var i = 0; i < gCols.length; i++) {\n            if (uid === gCols[i].uid) {\n                column = gCols[i];\n            }\n        }\n        return column;\n    };\n    /**\n     * Get all filtered records from the Grid and it returns array of objects for the local dataSource, returns a promise object if the Grid has remote data.\n     *\n     * @returns {Object[] | Promise<Object>} Returns the filtered records\n     */\n    Grid.prototype.getFilteredRecords = function () {\n        if (this.allowFiltering && this.filterSettings.columns.length) {\n            var query = this.renderModule.data.generateQuery(true);\n            if (this.dataSource && this.renderModule.data.isRemote() && this.dataSource instanceof DataManager) {\n                return this.renderModule.data.getData(this.dataSource, query);\n            }\n            else {\n                if (this.dataSource instanceof DataManager) {\n                    return this.dataSource.executeLocal(query);\n                }\n                else {\n                    return new DataManager(this.dataSource, query).executeLocal(query);\n                }\n            }\n        }\n        return [];\n    };\n    Grid.prototype.getUserAgent = function () {\n        var userAgent = Browser.userAgent.toLowerCase();\n        return /iphone|ipod|ipad/.test(userAgent);\n    };\n    /**\n     * @param {TouchEventArgs} e - Defines the TouchEventArgs\n     * @returns {void}\n     * @hidden\n     */\n    // Need to have all columns while filtering with ColumnVirtualization.\n    // eslint-disable-next-line\n    Grid.prototype.tapEvent = function (e) {\n        if (this.getUserAgent()) {\n            if (!Global.timer) {\n                Global.timer = setTimeout(function () {\n                    Global.timer = null;\n                }, 300);\n            }\n            else {\n                clearTimeout(Global.timer);\n                Global.timer = null;\n                this.dblClickHandler(e);\n                this.notify(events.doubleTap, e);\n            }\n        }\n    };\n    /**\n     * @param {string} prefix - specifies the prefix\n     * @returns {string} returns the row uid\n     * @hidden\n     */\n    Grid.prototype.getRowUid = function (prefix) {\n        return \"\" + prefix + this.rowUid++;\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getMovableVirtualContent = function () {\n        return this.getContent().querySelector('.' + literals.movableContent);\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenVirtualContent = function () {\n        return this.getContent().querySelector('.' + literals.frozenContent);\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getMovableVirtualHeader = function () {\n        return this.getHeaderContent().querySelector('.' + literals.movableHeader);\n    };\n    /**\n     * @hidden\n     * @returns {Element} returns the element\n     */\n    Grid.prototype.getFrozenVirtualHeader = function () {\n        return this.getHeaderContent().querySelector('.' + literals.frozenHeader);\n    };\n    /**\n     * @param {string} uid - specifies the uid\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    Grid.prototype.getRowElementByUID = function (uid) {\n        var rowEle;\n        var rows = [];\n        if (this.isFrozenGrid()) {\n            var fRows = [].slice.call(this.getFrozenVirtualContent().querySelector(literals.tbody).children);\n            var mRows = [].slice.call(this.getMovableVirtualContent().querySelector(literals.tbody).children);\n            var frozenRigtRows = [];\n            if (this.tablesCount === 3) {\n                frozenRigtRows = [].slice.call(this.getContent().querySelector('.e-frozen-right-content').querySelector(literals.tbody).children);\n            }\n            if (this.frozenRows) {\n                rows = [].slice.call(this.getFrozenVirtualHeader().querySelector(literals.tbody).children);\n                rows = rows.concat([].slice.call(this.getMovableVirtualHeader().querySelector(literals.tbody).children));\n                if (this.tablesCount === 3) {\n                    var frHdr = this.getHeaderContent().querySelector('.e-frozen-right-header');\n                    rows = rows.concat([].slice.call(frHdr.querySelector(literals.tbody).children)).concat(frozenRigtRows);\n                }\n                rows = rows.concat(fRows).concat(mRows);\n            }\n            else {\n                rows = fRows.concat(mRows).concat(frozenRigtRows);\n            }\n        }\n        else {\n            var cntRows = [].slice.call(this.getContent().querySelector(literals.tbody).children);\n            if (this.frozenRows) {\n                rows = [].slice.call(this.getHeaderContent().querySelector(literals.tbody).children);\n                rows = rows.concat(cntRows);\n            }\n            else {\n                rows = cntRows;\n            }\n        }\n        for (var _i = 0, rows_2 = rows; _i < rows_2.length; _i++) {\n            var row = rows_2[_i];\n            if (row.getAttribute('data-uid') === uid) {\n                rowEle = row;\n                break;\n            }\n        }\n        return rowEle;\n    };\n    /**\n     * Gets the hidden columns from the Grid.\n     *\n     * @returns {Column[]} Returns the Column\n     */\n    Grid.prototype.getHiddenColumns = function () {\n        var cols = [];\n        for (var _i = 0, _a = this.columnModel; _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (col.visible === false) {\n                cols.push(col);\n            }\n        }\n        return cols;\n    };\n    /**\n     * calculatePageSizeByParentHeight\n     *\n     * @param {number | string } containerHeight - specifies the container height\n     * @returns {number} returns the page size\n     */\n    Grid.prototype.calculatePageSizeByParentHeight = function (containerHeight) {\n        if (this.allowPaging) {\n            if ((this.allowTextWrap && this.textWrapSettings.wrapMode === 'Header') || (!this.allowTextWrap)) {\n                var pagesize = 0;\n                if (containerHeight.indexOf('%') !== -1) {\n                    containerHeight = parseInt(containerHeight, 10) / 100 * this.element.clientHeight;\n                }\n                var nonContentHeight = this.getNoncontentHeight() + this.getRowHeight();\n                if (containerHeight > nonContentHeight) {\n                    var contentHeight = 0;\n                    contentHeight = containerHeight - this.getNoncontentHeight();\n                    pagesize = (contentHeight / this.getRowHeight());\n                }\n                if (pagesize > 0) {\n                    return Math.floor(pagesize);\n                }\n            }\n        }\n        return 0;\n    };\n    Grid.prototype.getNoncontentHeight = function () {\n        var height = 0;\n        if (!isNullOrUndefined(this.getHeaderContent().clientHeight)) {\n            height += this.getHeaderContent().clientHeight;\n        }\n        if (this.toolbar && !isNullOrUndefined(this.element.querySelector('.e-toolbar').clientHeight)) {\n            height += this.element.querySelector('.e-toolbar').clientHeight;\n        }\n        if (this.allowPaging && !isNullOrUndefined(this.element.querySelector('.e-gridpager').clientHeight)) {\n            height += this.element.querySelector('.e-gridpager').clientHeight;\n        }\n        if (this.showColumnChooser && !isNullOrUndefined(this.element.querySelector('.e-columnheader').clientHeight)) {\n            height += this.element.querySelector('.e-columnheader').clientHeight;\n        }\n        if (this.allowGrouping && this.groupSettings.showDropArea && !isNullOrUndefined(this.element.querySelector('.e-groupdroparea').clientHeight)) {\n            height += this.element.querySelector('.e-groupdroparea').clientHeight;\n        }\n        if (this.aggregates.length > 0 && !isNullOrUndefined(this.element.querySelector('.e-summaryrow').clientHeight)) {\n            for (var i = 0; i < this.element.getElementsByClassName('e-summaryrow').length; i++) {\n                height += this.element.getElementsByClassName('e-summaryrow')[i].clientHeight;\n            }\n        }\n        return height;\n    };\n    /**\n     *To perform aggregate operation on a column.\n     *\n     * @param  {AggregateColumnModel} summaryCol - Pass Aggregate Column details.\n     * @param  {Object} summaryData - Pass JSON Array for which its field values to be calculated.\n     * @returns {number} returns the summary values\n     */\n    Grid.prototype.getSummaryValues = function (summaryCol, summaryData) {\n        return DataUtil.aggregates[summaryCol.type.toLowerCase()](summaryData, summaryCol.field);\n    };\n    /**\n     * Sends a Post request to export Grid to Excel file in server side.\n     *\n     * @param  {string} url - Pass Url for server side excel export action.\n     * @returns {void}\n     */\n    Grid.prototype.serverExcelExport = function (url) {\n        this.isExcel = true;\n        this.exportGrid(url);\n    };\n    /**\n     * Sends a Post request to export Grid to Pdf file in server side.\n     *\n     * @param  {string} url - Pass Url for server side pdf export action.\n     * @returns {void}\n     */\n    Grid.prototype.serverPdfExport = function (url) {\n        this.isExcel = false;\n        this.exportGrid(url);\n    };\n    /**\n     * Sends a Post request to export Grid to CSV file in server side.\n     *\n     * @param  {string} url - Pass Url for server side pdf export action.\n     * @returns {void}\n     */\n    Grid.prototype.serverCsvExport = function (url) {\n        this.isExcel = true;\n        this.exportGrid(url);\n    };\n    /**\n     * @param {string} url - Defines exporting url\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.exportGrid = function (url) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var grid = this;\n        var query = grid.getDataModule().generateQuery(true);\n        var state = new UrlAdaptor().processQuery(new DataManager({ url: '' }), query);\n        var queries = JSON.parse(state.data);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var gridModel = JSON.parse(this.addOnPersist(['allowGrouping', 'allowPaging', 'pageSettings', 'sortSettings', 'allowPdfExport', 'allowExcelExport', 'aggregates',\n            'filterSettings', 'groupSettings', 'columns', 'locale', 'searchSettings']));\n        var include = ['field', 'headerText', 'type', 'format', 'visible', 'foreignKeyValue', 'foreignKeyField',\n            'template', 'index', 'width', 'textAlign', 'headerTextAlign', 'columns'];\n        gridModel.filterSettings.columns = queries.where;\n        gridModel.searchSettings.fields = queries.search && queries.search[0]['fields'] || [];\n        gridModel.sortSettings.columns = queries.sorted;\n        gridModel.columns = this.setHeaderText(gridModel.columns, include);\n        var form = this.createElement('form', { id: 'ExportForm', styles: 'display:none;' });\n        var gridInput = this.createElement('input', { id: 'gridInput', attrs: { name: 'gridModel' } });\n        gridInput.value = JSON.stringify(gridModel);\n        form.method = 'POST';\n        form.action = url;\n        form.appendChild(gridInput);\n        document.body.appendChild(form);\n        form.submit();\n        form.remove();\n    };\n    /**\n     * @param {Column[]} columns - Defines array of columns\n     * @param {string[]} include - Defines array of sting\n     * @returns {Column[]} returns array of columns\n     * @hidden\n     */\n    Grid.prototype.setHeaderText = function (columns, include) {\n        for (var i = 0; i < columns.length; i++) {\n            var column = this.getColumnByUid(columns[i].uid);\n            columns[i].headerText = column.headerText;\n            if (!isNullOrUndefined(column.template)) {\n                columns[i].template = 'true';\n            }\n            if (columns[i].format) {\n                columns[i].format = getNumberFormat(this.getFormat(columns[i].format), columns[i].type, this.isExcel);\n            }\n            if (columns[i].columns) {\n                this.setHeaderText(columns[i].columns, include);\n            }\n            var keys = Object.keys(columns[i]);\n            for (var j = 0; j < keys.length; j++) {\n                if (include.indexOf(keys[j]) < 0) {\n                    delete columns[i][keys[j]];\n                }\n            }\n        }\n        return columns;\n    };\n    Grid.prototype.getFormat = function (format) {\n        return typeof (format) === 'object' ? !isNullOrUndefined(format.format) ?\n            format.format : format.skeleton : format;\n    };\n    /**\n     * @hidden\n     * @returns {boolean} returns the isCollapseStateEnabled\n     */\n    Grid.prototype.isCollapseStateEnabled = function () {\n        var isExpanded = 'isExpanded';\n        return this[isExpanded] === false;\n    };\n    /**\n     * @param {number} key - Defines the primary key value.\n     * @param {Object} rowData - Defines the rowData\n     * @returns {void}\n     */\n    Grid.prototype.updateRowValue = function (key, rowData) {\n        var args = {\n            requestType: 'save', data: rowData\n        };\n        this.showSpinner();\n        this.notify(events.updateData, args);\n        this.refresh();\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.setForeignKeyData = function () {\n        this.dataBind();\n        var colpending = this.getDataModule().getForeignKeyDataState();\n        if (colpending.isPending) {\n            this.getDataModule().setForeignKeyDataState({});\n            colpending.resolver();\n        }\n        else {\n            this.getDataModule().setForeignKeyDataState({ isDataChanged: false });\n            if (this.contentModule || this.headerModule) {\n                this.renderModule.render();\n            }\n        }\n    };\n    /**\n     * @param {string} field - specifies the field\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.resetFilterDlgPosition = function (field) {\n        var header = this.getColumnHeaderByField(field);\n        if (header) {\n            var target = header.querySelector('.e-filtermenudiv');\n            var filterDlg = this.element.querySelector('.e-filter-popup');\n            if (target && filterDlg) {\n                var gClient = this.element.getBoundingClientRect();\n                var fClient = target.getBoundingClientRect();\n                if (filterDlg) {\n                    if ((filterDlg.offsetWidth + fClient.right) > gClient.right) {\n                        filterDlg.style.left = ((fClient.right - filterDlg.offsetWidth) - gClient.left).toString() + 'px';\n                    }\n                    else {\n                        filterDlg.style.left = (fClient.right - gClient.left).toString() + 'px';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.renderTemplates = function () {\n        var portals = 'portals';\n        this.notify('reactTemplateRender', this[portals]);\n        this.renderReactTemplates();\n    };\n    /**\n     * Apply the changes to the Grid without refreshing the rows.\n     *\n     * @param  {BatchChanges} changes - Defines changes to be updated.\n     * @returns {void}\n     */\n    Grid.prototype.batchUpdate = function (changes) {\n        this.processRowChanges(changes);\n    };\n    /**\n     * Apply the changes to the Grid in one batch after 50ms without refreshing the rows.\n     *\n     * @param  {BatchChanges} changes - Defines changes to be updated.\n     * @returns {void}\n     */\n    Grid.prototype.batchAsyncUpdate = function (changes) {\n        this.processBulkRowChanges(changes);\n    };\n    Grid.prototype.processBulkRowChanges = function (changes) {\n        var _this = this;\n        if (!this.dataToBeUpdated) {\n            this.dataToBeUpdated = Object.assign({ addedRecords: [], changedRecords: [], deletedRecords: [] }, changes);\n            setTimeout(function () {\n                _this.processRowChanges(_this.dataToBeUpdated);\n                _this.dataToBeUpdated = null;\n            }, this.asyncTimeOut);\n        }\n        else {\n            var loopstring = [literals.addedRecords, literals.changedRecords, literals.deletedRecords];\n            var keyField = this.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < loopstring.length; i++) {\n                if (changes[loopstring[i]]) {\n                    compareChanges(this, changes, loopstring[i], keyField);\n                }\n            }\n        }\n    };\n    Grid.prototype.processRowChanges = function (changes) {\n        var _this = this;\n        var keyField = this.getPrimaryKeyFieldNames()[0];\n        changes = Object.assign({ addedRecords: [], changedRecords: [], deletedRecords: [] }, changes);\n        var promise = this.getDataModule().saveChanges(changes, keyField, {}, this.getDataModule().generateQuery().requiresCount());\n        if (this.getDataModule().isRemote()) {\n            promise.then(function () {\n                _this.setNewData();\n            });\n        }\n        else {\n            this.setNewData();\n        }\n    };\n    Grid.prototype.setNewData = function () {\n        var _this = this;\n        var oldValues = JSON.parse(JSON.stringify(this.getCurrentViewRecords()));\n        var getData = this.getDataModule().getData({}, this.getDataModule().generateQuery().requiresCount());\n        getData.then(function (e) {\n            _this.bulkRefresh(e.result, oldValues, e.count);\n        });\n    };\n    Grid.prototype.deleteRowElement = function (row) {\n        var tr = this.getRowElementByUID(row.uid);\n        var index = parseInt(tr.getAttribute(literals.ariaRowIndex), 10);\n        remove(tr);\n        if (this.getFrozenColumns()) {\n            var mtr = this.getMovableRows()[index];\n            remove(mtr);\n        }\n    };\n    Grid.prototype.bulkRefresh = function (result, oldValues, count) {\n        var _this = this;\n        var rowObj = this.getRowsObject();\n        var keyField = this.getPrimaryKeyFieldNames()[0];\n        var _loop_3 = function (i) {\n            if (!result.filter(function (e) { return e[keyField] === rowObj[i].data[keyField]; }).length) {\n                this_3.deleteRowElement(rowObj[i]);\n                rowObj.splice(i, 1);\n                i--;\n            }\n            out_i_1 = i;\n        };\n        var this_3 = this, out_i_1;\n        for (var i = 0; i < rowObj.length; i++) {\n            _loop_3(i);\n            i = out_i_1;\n        }\n        var _loop_4 = function (i) {\n            var isRowExist;\n            oldValues.filter(function (e) {\n                if (e[keyField] === result[i][keyField]) {\n                    if (e !== result[i]) {\n                        _this.setRowData(result[i][keyField], result[i]);\n                    }\n                    isRowExist = true;\n                }\n            });\n            if (!isRowExist) {\n                this_4.renderRowElement(result[i], i);\n            }\n        };\n        var this_4 = this;\n        for (var i = 0; i < result.length; i++) {\n            _loop_4(i);\n        }\n        this.currentViewData = result;\n        var rows = [].slice.call(this.getContentTable().getElementsByClassName(literals.row));\n        resetRowIndex(this, this.getRowsObject(), rows);\n        setRowElements(this);\n        if (this.allowPaging) {\n            this.notify(events.inBoundModelChanged, { module: 'pager', properties: { totalRecordsCount: count } });\n        }\n    };\n    Grid.prototype.renderRowElement = function (data, index) {\n        var row = new RowRenderer(this.serviceLocator, null, this);\n        var model = new RowModelGenerator(this);\n        var modelData = model.generateRows([data]);\n        var tr = row.render(modelData[0], this.getColumns());\n        var mTr;\n        var mTbody;\n        this.addRowObject(modelData[0], index);\n        var tbody = this.getContentTable().querySelector(literals.tbody);\n        if (tbody.querySelector('.e-emptyrow')) {\n            var emptyRow = tbody.querySelector('.e-emptyrow');\n            emptyRow.parentNode.removeChild(emptyRow);\n            if (this.getFrozenColumns()) {\n                var moveTbody = this.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody);\n                (moveTbody.firstElementChild).parentNode.removeChild(moveTbody.firstElementChild);\n            }\n        }\n        if (this.getFrozenColumns()) {\n            mTr = renderMovable(tr, this.getFrozenColumns(), this);\n            if (this.frozenRows && index < this.frozenRows) {\n                mTbody = this.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody);\n            }\n            else {\n                mTbody = this.getContent().querySelector('.' + literals.movableContent).querySelector(literals.tbody);\n            }\n            mTbody.appendChild(mTr);\n            if (this.height === 'auto') {\n                this.notify(events.frozenHeight, {});\n            }\n        }\n        if (this.frozenRows && index < this.frozenRows) {\n            tbody = this.getHeaderContent().querySelector(literals.tbody);\n        }\n        else {\n            tbody = this.getContent().querySelector(literals.tbody);\n        }\n        tbody = this.getContent().querySelector(literals.tbody);\n        tbody.appendChild(tr);\n    };\n    Grid.prototype.addRowObject = function (row, index) {\n        var frzCols = this.getFrozenColumns();\n        if (frzCols) {\n            var mRows = this.getMovableRowsObject();\n            var mRow = row.clone();\n            mRow.cells = mRow.cells.slice(frzCols);\n            row.cells = row.cells.slice(0, frzCols);\n            mRows.splice(index, 1, mRow);\n        }\n        this.getRowsObject().splice(index, 1, row);\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Grid.prototype.updateVisibleExpandCollapseRows = function () {\n        var rows = this.getRowsObject();\n        for (var i = 0, len = rows.length; i < len; i++) {\n            if ((rows[i].isDataRow || rows[i].isAggregateRow) && this.getRowElementByUID(rows[i].uid).style.display === 'none') {\n                rows[i].visible = false;\n            }\n            else {\n                rows[i].visible = true;\n            }\n        }\n    };\n    /**\n     * @param {string | number} height - specifies the height\n     * @returns {number | string} - specifies the height number\n     * @hidden\n     */\n    Grid.prototype.getHeight = function (height) {\n        if (!Number.isInteger(height) && height.indexOf('%') !== -1) {\n            height = parseInt(height, 10) / 100 * this.element.clientHeight;\n        }\n        else if (!Number.isInteger(height) && this.height !== 'auto') {\n            height = parseInt(height, 10);\n        }\n        else {\n            height = this.height;\n        }\n        return height;\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen right content\n     */\n    Grid.prototype.getFrozenRightContent = function () {\n        return this.getContent().querySelector('.e-frozen-right-content');\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen right header\n     */\n    Grid.prototype.getFrozenRightHeader = function () {\n        return this.getHeaderContent().querySelector('.e-frozen-right-header');\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns movable header tbody\n     */\n    Grid.prototype.getMovableHeaderTbody = function () {\n        return this.getMovableVirtualHeader().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns movable content tbody\n     */\n    Grid.prototype.getMovableContentTbody = function () {\n        return this.getMovableVirtualContent().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen header tbody\n     */\n    Grid.prototype.getFrozenHeaderTbody = function () {\n        return this.getFrozenVirtualHeader().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen left content tbody\n     */\n    Grid.prototype.getFrozenLeftContentTbody = function () {\n        return this.getFrozenVirtualContent().querySelector(literals.tbody);\n    };\n    /**\n     * @hidden\n     * @returns {Element} - returns frozen right header tbody\n     */\n    Grid.prototype.getFrozenRightHeaderTbody = function () {\n        return this.getFrozenRightHeader().querySelector(literals.tbody);\n    };\n    /**\n     * @returns {Element} returns frozen right content tbody\n     * @hidden\n     */\n    Grid.prototype.getFrozenRightContentTbody = function () {\n        var cnt = this.getFrozenRightContent();\n        var tbody;\n        if (cnt) {\n            tbody = this.getFrozenRightContent().querySelector(literals.tbody);\n        }\n        return tbody;\n    };\n    /**\n     * @param {boolean} isCustom - Defines custom filter dialog open\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.showResponsiveCustomFilter = function (isCustom) {\n        if (this.filterModule) {\n            this.filterModule.showCustomFilter(isCustom || this.rowRenderingMode === 'Vertical');\n        }\n    };\n    /**\n     * @param {boolean} isCustom - Defines custom sort dialog open\n     * @returns {void}\n     * @hidden\n     */\n    Grid.prototype.showResponsiveCustomSort = function (isCustom) {\n        if (this.sortModule) {\n            this.sortModule.showCustomSort(isCustom || this.rowRenderingMode === 'Vertical');\n        }\n    };\n    /**\n     * To manually show the vertical row mode filter dialog\n     *\n     * @returns {void}\n     */\n    Grid.prototype.showAdaptiveFilterDialog = function () {\n        if (this.enableAdaptiveUI) {\n            this.showResponsiveCustomFilter(true);\n        }\n    };\n    /**\n     * To manually show the vertical row sort filter dialog\n     *\n     * @returns {void}\n     */\n    Grid.prototype.showAdaptiveSortDialog = function () {\n        if (this.enableAdaptiveUI) {\n            this.showResponsiveCustomSort(true);\n        }\n    };\n    /**\n     * @param {boolean} isColVirtualization - Defines column virtualization\n     * @returns {Column[]} returns array of column models\n     * @hidden\n     */\n    Grid.prototype.getCurrentVisibleColumns = function (isColVirtualization) {\n        var cols = [];\n        var gridCols = isColVirtualization ? this.getColumns() : this.columnModel;\n        for (var _i = 0, gridCols_1 = gridCols; _i < gridCols_1.length; _i++) {\n            var col = gridCols_1[_i];\n            if (col.visible) {\n                cols.push(col);\n            }\n        }\n        return cols;\n    };\n    Grid.prototype.enableInfiniteAggrgate = function () {\n        if (this.enableInfiniteScrolling && this.groupSettings.columns.length && !this.groupSettings.disablePageWiseAggregates) {\n            this.setProperties({ groupSettings: { disablePageWiseAggregates: true } }, true);\n        }\n    };\n    var Grid_1;\n    __decorate([\n        Property()\n    ], Grid.prototype, \"parentDetails\", void 0);\n    __decorate([\n        Property([])\n    ], Grid.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"enableAltRow\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"enableHover\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableAutoFill\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableStickyHeader\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowTextWrap\", void 0);\n    __decorate([\n        Complex({}, TextWrapSettings)\n    ], Grid.prototype, \"textWrapSettings\", void 0);\n    __decorate([\n        Complex({}, ResizeSettings)\n    ], Grid.prototype, \"resizeSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowPaging\", void 0);\n    __decorate([\n        Complex({}, PageSettings)\n    ], Grid.prototype, \"pageSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableColumnVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableInfiniteScrolling\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Grid.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property('Ellipsis')\n    ], Grid.prototype, \"clipMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"allowMultiSorting\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Grid.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, InfiniteScrollSettings)\n    ], Grid.prototype, \"infiniteScrollSettings\", void 0);\n    __decorate([\n        Property(true)\n    ], Grid.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(-1)\n    ], Grid.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Grid.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Grid.prototype, \"rowRenderingMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Complex({}, RowDropSettings)\n    ], Grid.prototype, \"rowDropSettings\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Grid.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"allowGrouping\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Complex({}, GroupSettings)\n    ], Grid.prototype, \"groupSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Grid.prototype, \"editSettings\", void 0);\n    __decorate([\n        Collection([], AggregateRow)\n    ], Grid.prototype, \"aggregates\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"showColumnChooser\", void 0);\n    __decorate([\n        Complex({}, ColumnChooserSettings)\n    ], Grid.prototype, \"columnChooserSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Grid.prototype, \"enableHeaderFocus\", void 0);\n    __decorate([\n        Property('auto')\n    ], Grid.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Grid.prototype, \"width\", void 0);\n    __decorate([\n        Property('Default')\n    ], Grid.prototype, \"gridLines\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"rowTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"detailTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"childGrid\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"queryString\", void 0);\n    __decorate([\n        Property('AllPages')\n    ], Grid.prototype, \"printMode\", void 0);\n    __decorate([\n        Property('Expanded')\n    ], Grid.prototype, \"hierarchyPrintMode\", void 0);\n    __decorate([\n        Property([])\n    ], Grid.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property(null)\n    ], Grid.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"query\", void 0);\n    __decorate([\n        Property('USD')\n    ], Grid.prototype, \"currencyCode\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"toolbarTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Grid.prototype, \"pagerTemplate\", void 0);\n    __decorate([\n        Property(0)\n    ], Grid.prototype, \"frozenRows\", void 0);\n    __decorate([\n        Property(0)\n    ], Grid.prototype, \"frozenColumns\", void 0);\n    __decorate([\n        Property('All')\n    ], Grid.prototype, \"columnQueryMode\", void 0);\n    __decorate([\n        Property({})\n    ], Grid.prototype, \"currentAction\", void 0);\n    __decorate([\n        Property('19.4.56')\n    ], Grid.prototype, \"ej2StatePersistenceVersion\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"recordClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnSelected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"printComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforePrint\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfAggregateQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelAggregateQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"exportDetailDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"detailDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeOpenColumnChooser\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeOpenAdaptiveDialog\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"batchAdd\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"batchDelete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"batchCancel\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeBatchAdd\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeBatchDelete\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeBatchSave\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beginEdit\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"commandClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSave\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"cellSaved\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"keyPressed\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"checkBoxChange\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeCopy\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforePaste\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"beforeAutoFill\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"columnDataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"dataSourceChanged\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"exportGroupCaption\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"lazyLoadGroupExpand\", void 0);\n    __decorate([\n        Event()\n    ], Grid.prototype, \"lazyLoadGroupCollapse\", void 0);\n    Grid = Grid_1 = __decorate([\n        NotifyPropertyChanges\n    ], Grid);\n    return Grid;\n}(Component));\nexport { Grid };\n","/**\n * Specifies class names\n */\n/** @hidden */\nexport var rowCell = 'e-rowcell';\n/** @hidden */\nexport var gridHeader = 'e-gridheader';\n/** @hidden */\nexport var gridContent = 'e-gridcontent';\n/** @hidden */\nexport var gridFooter = 'e-gridfooter';\n/** @hidden */\nexport var headerContent = 'e-headercontent';\n/** @hidden */\nexport var movableContent = 'e-movablecontent';\n/** @hidden */\nexport var movableHeader = 'e-movableheader';\n/** @hidden */\nexport var frozenContent = 'e-frozencontent';\n/** @hidden */\nexport var frozenHeader = 'e-frozenheader';\n/** @hidden */\nexport var content = 'e-content';\n/** @hidden */\nexport var table = 'e-table';\n/** @hidden */\nexport var row = 'e-row';\n/** @hidden */\nexport var gridChkBox = 'e-gridchkbox';\n/** @hidden */\nexport var editedRow = 'e-editedrow';\n/** @hidden */\nexport var addedRow = 'e-addedrow';\n/**\n * Specifies repeated strings\n */\n/** @hidden */\nexport var changedRecords = 'changedRecords';\n/** @hidden */\nexport var addedRecords = 'addedRecords';\n/** @hidden */\nexport var deletedRecords = 'deletedRecords';\n/** @hidden */\nexport var leftRight = 'Left-Right';\n/** @hidden */\nexport var frozenRight = 'frozen-right';\n/** @hidden */\nexport var frozenLeft = 'frozen-left';\n/** @hidden */\nexport var ariaColIndex = 'aria-colindex';\n/** @hidden */\nexport var ariaRowIndex = 'aria-rowindex';\n/** @hidden */\nexport var tbody = 'tbody';\n/** @hidden */\nexport var colGroup = 'colgroup';\n/** @hidden */\nexport var open = 'open';\n/** @hidden */\nexport var change = 'change';\n/** @hidden */\nexport var focus = 'focus';\n/** @hidden */\nexport var create = 'created';\n/** @hidden */\nexport var beforeOpen = 'beforeOpen';\n/** @hidden */\nexport var downArrow = 'downArrow';\n/** @hidden */\nexport var upArrow = 'upArrow';\n/** @hidden */\nexport var pageUp = 'PageUp';\n/** @hidden */\nexport var pageDown = 'PageDown';\n/** @hidden */\nexport var enter = 'enter';\n/** @hidden */\nexport var shiftEnter = 'shiftEnter';\n/** @hidden */\nexport var tab = 'tab';\n/** @hidden */\nexport var shiftTab = 'shiftTab';\n","import { ChildProperty, compile as baseTemplateComplier, setValue, Internationalization, isUndefined, closest } from '@syncfusion/ej2-base';\nimport { extend as baseExtend, isNullOrUndefined, getValue, classList } from '@syncfusion/ej2-base';\nimport { setStyleAttribute, addClass, attributes, remove, createElement, removeClass } from '@syncfusion/ej2-base';\nimport { isObject, select, selectAll } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate, UrlAdaptor, Deferred } from '@syncfusion/ej2-data';\nimport { Column } from '../models/column';\nimport { calculateRelativeBasedPosition } from '@syncfusion/ej2-popups';\nimport { Print } from '../actions/print';\nimport { CheckBoxFilterBase } from '../common/checkbox-filter-base';\nimport * as literals from '../base/string-literals';\n//https://typescript.codeplex.com/discussions/401501\n/**\n * Function to check whether target object implement specific interface\n *\n * @param  {Object} target - specifies the target\n * @param  {string} checkFor - specifies the checkfors\n * @returns {boolean} returns the boolean\n * @hidden\n */\nexport function doesImplementInterface(target, checkFor) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return target.prototype && checkFor in target.prototype;\n}\n/**\n * Function to get value from provided data\n *\n * @param  {string} field - specifies the field\n * @param  {Object} data - specifies the data\n * @param  {ColumnModel} column - specifies the column\n * @returns {Object} returns the object\n * @hidden\n */\n// eslint-disable-next-line\nexport function valueAccessor(field, data, column) {\n    return (isNullOrUndefined(field) || field === '') ? '' : DataUtil.getObject(field, data);\n}\n/**\n * Defines the method used to apply custom header cell values from external function and display this on each header cell rendered.\n *\n * @param  {string} field - specifies the field\n * @param  {ColumnModel} column - specifies the column\n * @returns {object} headerValueAccessor\n * @hidden\n */\nexport function headerValueAccessor(field, column) {\n    return (isNullOrUndefined(field) || field === '') ? '' : DataUtil.getObject(field, column);\n}\n/**\n * The function used to update Dom using requestAnimationFrame.\n *\n * @param {Function} updateFunction - Function that contains the actual action\n * @param {object} callBack - defines the callback\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function getUpdateUsingRaf(updateFunction, callBack) {\n    requestAnimationFrame(function () {\n        try {\n            callBack(null, updateFunction());\n        }\n        catch (e) {\n            callBack(e);\n        }\n    });\n}\n/**\n * @hidden\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @returns {boolean} Returns isExportColumns\n */\nexport function isExportColumns(exportProperties) {\n    return !isNullOrUndefined(exportProperties) &&\n        !isNullOrUndefined(exportProperties.columns) && exportProperties.columns.length > 0;\n}\n/**\n * @param {PdfExportProperties | ExcelExportProperties} exportProperties - Defines the export properties\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function updateColumnTypeForExportColumns(exportProperties, gObj) {\n    var exportColumns = exportProperties.columns;\n    var gridColumns = gObj.columns;\n    for (var i = 0; i < exportColumns.length; i++) {\n        if (gridColumns.length - 1 >= i) {\n            if (gridColumns[i].columns) {\n                for (var j = 0; j < gridColumns[i].columns.length; j++) {\n                    exportColumns[i].columns[j].type = gridColumns[i].columns[j].type;\n                }\n            }\n            else {\n                exportColumns[i].type = gridColumns[i].type;\n            }\n        }\n    }\n}\n/**\n * @hidden\n * @param {IGrid} grid - Defines the grid\n * @returns {void}\n */\nexport function updatecloneRow(grid) {\n    var nRows = [];\n    var actualRows = grid.vRows;\n    for (var i = 0; i < actualRows.length; i++) {\n        if (actualRows[i].isDataRow) {\n            nRows.push(actualRows[i]);\n        }\n        else if (!actualRows[i].isDataRow) {\n            nRows.push(actualRows[i]);\n            if (!actualRows[i].isExpand && actualRows[i].isCaptionRow) {\n                i += getCollapsedRowsCount(actualRows[i], grid);\n            }\n        }\n    }\n    grid.vcRows = nRows;\n}\nvar count = 0;\n/**\n * @hidden\n * @param {Row<Column>} val - Defines the value\n * @param {IGrid} grid - Defines the grid\n * @returns {number} Returns the collapsed row count\n */\nexport function getCollapsedRowsCount(val, grid) {\n    count = 0;\n    var gSummary = 'gSummary';\n    var total = 'count';\n    var gLen = grid.groupSettings.columns.length;\n    var records = 'records';\n    var items = 'items';\n    var value = val[gSummary];\n    var dataRowCnt = 0;\n    var agrCnt = 'aggregatesCount';\n    if (value === val.data[total]) {\n        if (grid.groupSettings.columns.length && !isNullOrUndefined(val[agrCnt]) && val[agrCnt]) {\n            if (grid.groupSettings.columns.length !== 1) {\n                count += (val.indent !== 0 && (value) < 2) ? (val[gSummary] * ((gLen - val.indent) + (gLen - val.indent) * val[agrCnt])) :\n                    (val[gSummary] * ((gLen - val.indent) + (gLen - val.indent - 1) * val[agrCnt])) + val[agrCnt];\n            }\n            else if (grid.groupSettings.columns.length === 1) {\n                count += (val[gSummary] * (gLen - val.indent)) + val[agrCnt];\n            }\n        }\n        else if (grid.groupSettings.columns.length) {\n            if (grid.groupSettings.columns.length !== 1) {\n                count += val[gSummary] * (grid.groupSettings.columns.length - val.indent);\n            }\n            else {\n                count += val[gSummary];\n            }\n        }\n        return count;\n    }\n    else {\n        for (var i = 0, len = val.data[items].length; i < len; i++) {\n            var gLevel = val.data[items][i];\n            count += gLevel[items].length + ((gLen !== grid.columns.length) &&\n                !isNullOrUndefined(gLevel[items][records]) ? gLevel[items][records].length : 0);\n            dataRowCnt += (!isNullOrUndefined(gLevel[items][records]) && !isNullOrUndefined(val[agrCnt])) ? gLevel[items][records].length :\n                gLevel[items].length;\n            if (gLevel[items].GroupGuid && gLevel[items].childLevels !== 0) {\n                recursive(gLevel);\n            }\n        }\n        count += val.data[items].length;\n        if (!isNullOrUndefined(val[agrCnt])) {\n            if (val[agrCnt] && count && dataRowCnt !== 0) {\n                count += ((count - dataRowCnt) * val[agrCnt]) + val[agrCnt];\n            }\n        }\n    }\n    return count;\n}\n/**\n * @param {Object[]} row - Defines the row\n * @returns {void}\n * @hidden\n */\nexport function recursive(row) {\n    var items = 'items';\n    var rCount = 'count';\n    for (var j = 0, length_1 = row[items].length; j < length_1; j++) {\n        var nLevel = row[items][j];\n        count += nLevel[rCount];\n        if (nLevel[items].childLevels !== 0) {\n            recursive(nLevel);\n        }\n    }\n}\n/**\n * @param {Object[]} collection - Defines the array\n * @param {Object} predicate - Defines the predicate\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateArrayOrObject(collection, predicate) {\n    var result = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        var pred = predicate(collection[i], i);\n        if (!isNullOrUndefined(pred)) {\n            result.push(pred);\n        }\n    }\n    return result;\n}\n/**\n * @param {Object[]} array - Defines the array\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function iterateExtend(array) {\n    var obj = [];\n    for (var i = 0; i < array.length; i++) {\n        obj.push(baseExtend({}, getActualProperties(array[i]), {}, true));\n    }\n    return obj;\n}\n/**\n * @param {string} template - Defines the template\n * @returns {Function} Returns the function\n * @hidden\n */\nexport function templateCompiler(template) {\n    if (template) {\n        try {\n            if (document.querySelectorAll(template).length) {\n                return baseTemplateComplier(document.querySelector(template).innerHTML.trim());\n            }\n            else {\n                return baseTemplateComplier(template);\n            }\n        }\n        catch (e) {\n            return baseTemplateComplier(template);\n        }\n    }\n    return undefined;\n}\n/**\n * @param {Element} node - Defines the column\n * @param {Object} customAttributes - Defines the index\n * @returns {void}\n * @hidden\n */\nexport function setStyleAndAttributes(node, customAttributes) {\n    var copyAttr = {};\n    var literals = ['style', 'class'];\n    //Dont touch the original object - make a copy\n    baseExtend(copyAttr, customAttributes, {});\n    if ('style' in copyAttr) {\n        setStyleAttribute(node, copyAttr[literals[0]]);\n        delete copyAttr[literals[0]];\n    }\n    if ('class' in copyAttr) {\n        addClass([node], copyAttr[literals[1]]);\n        delete copyAttr[literals[1]];\n    }\n    attributes(node, copyAttr);\n}\n/**\n * @param {Object} copied - Defines the column\n * @param {Object} first - Defines the inndex\n * @param {Object} second - Defines the second object\n * @param {string[]} exclude - Defines the exclude\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function extend(copied, first, second, exclude) {\n    var moved = baseExtend(copied, first, second);\n    var values = Object.keys(moved);\n    for (var i = 0; i < values.length; i++) {\n        if (exclude && exclude.indexOf(values[i]) !== -1) {\n            delete moved[values[i]];\n        }\n    }\n    return moved;\n}\n/**\n * @param {Column[]} columnModel - Defines the column\n * @param {number} ind - Defines the inndex\n * @returns {number} - Returns the columnindex\n * @hidden\n */\nexport function setColumnIndex(columnModel, ind) {\n    if (ind === void 0) { ind = 0; }\n    for (var i = 0, len = columnModel.length; i < len; i++) {\n        if (columnModel[i].columns) {\n            columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n            ind++;\n            ind = setColumnIndex(columnModel[i].columns, ind);\n        }\n        else {\n            columnModel[i].index = isNullOrUndefined(columnModel[i].index) ? ind : columnModel[i].index;\n            ind++;\n        }\n    }\n    return ind;\n}\n/**\n * @param {Column[] | string[] | ColumnModel[]} columns - Defines the column\n * @param {boolean} autoWidth - Defines the autowidth\n * @param {IGrid} gObj - Defines the class name\n * @returns {Column} - Returns the columns\n * @hidden\n */\nexport function prepareColumns(columns, autoWidth, gObj) {\n    for (var c = 0, len = columns.length; c < len; c++) {\n        var column = void 0;\n        if (typeof columns[c] === 'string') {\n            column = new Column({ field: columns[c] }, gObj);\n        }\n        else if (!(columns[c] instanceof Column) || columns[c].columns) {\n            if (!columns[c].columns) {\n                column = new Column(columns[c], gObj);\n            }\n            else {\n                columns[c].columns = prepareColumns(columns[c].columns, null, gObj);\n                column = new Column(columns[c], gObj);\n            }\n        }\n        else {\n            column = columns[c];\n        }\n        if (column.type && column.type.toLowerCase() === 'checkbox') {\n            column.allowReordering = false;\n        }\n        column.headerText = isNullOrUndefined(column.headerText) ? column.foreignKeyValue || column.field || '' : column.headerText;\n        column.foreignKeyField = column.foreignKeyField || column.field;\n        column.valueAccessor = (typeof column.valueAccessor === 'string' ? getValue(column.valueAccessor, window)\n            : column.valueAccessor) || valueAccessor;\n        column.width = autoWidth && isNullOrUndefined(column.width) ? 200 : column.width;\n        if (isNullOrUndefined(column.visible)) {\n            column.visible = true;\n        }\n        columns[c] = column;\n    }\n    return columns;\n}\n/**\n * @param {HTMLElement} popUp - Defines the popup element\n * @param {MouseEvent | TouchEvent} e - Defines the moouse event\n * @param {string} className - Defines the class name\n * @returns {void}\n * @hidden\n */\nexport function setCssInGridPopUp(popUp, e, className) {\n    var popUpSpan = popUp.querySelector('span');\n    var position = popUp.parentElement.getBoundingClientRect();\n    var targetPosition = e.target.getBoundingClientRect();\n    popUpSpan.className = className;\n    popUp.style.display = '';\n    var isBottomTail = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY) > popUp.offsetHeight + 10;\n    popUp.style.top = targetPosition.top - position.top +\n        (isBottomTail ? -(popUp.offsetHeight + 10) : popUp.offsetHeight + 10) + 'px'; //10px for tail element\n    popUp.style.left = getPopupLeftPosition(popUp, e, targetPosition, position.left) + 'px';\n    if (isBottomTail) {\n        popUp.querySelector('.e-downtail').style.display = '';\n        popUp.querySelector('.e-uptail').style.display = 'none';\n    }\n    else {\n        popUp.querySelector('.e-downtail').style.display = 'none';\n        popUp.querySelector('.e-uptail').style.display = '';\n    }\n}\n/**\n * @param {HTMLElement} popup - Defines the popup element\n * @param {MouseEvent | TouchEvent} e  - Defines the mouse event\n * @param {Object} targetPosition - Defines the target position\n * @param {number} targetPosition.top - Defines the top position\n * @param {number} targetPosition.left  - Defines the left position\n * @param {number} targetPosition.right  - Defines the right position\n * @param {number} left - Defines the left position\n * @returns {number} Returns the popup left position\n * @hidden\n */\nfunction getPopupLeftPosition(popup, e, targetPosition, left) {\n    var width = popup.offsetWidth / 2;\n    var x = getPosition(e).x;\n    if (x - targetPosition.left < width) {\n        return targetPosition.left - left;\n    }\n    else if (targetPosition.right - x < width) {\n        return targetPosition.right - left - width * 2;\n    }\n    else {\n        return x - left - width;\n    }\n}\n/**\n * @param {Object} obj - Defines the object\n * @returns {Object} Returns the Properties\n * @hidden\n */\nexport function getActualProperties(obj) {\n    if (obj instanceof ChildProperty) {\n        return getValue('properties', obj);\n    }\n    else {\n        return obj;\n    }\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the string selector\n * @param {boolean} isID - Defines the isID\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {Element} element - Defines the element\n * @param {Element} elements - Defines the element\n * @returns {number} Returns the element index\n * @hidden\n */\nexport function getElementIndex(element, elements) {\n    var index = -1;\n    for (var i = 0, len = elements.length; i < len; i++) {\n        if (elements[i].isEqualNode(element)) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {Object} value - Defines the value\n * @param {Object} collection - defines the collection\n * @returns {number} Returns the array\n * @hidden\n */\nexport function inArray(value, collection) {\n    for (var i = 0, len = collection.length; i < len; i++) {\n        if (collection[i] === value) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * @param {Object} collection - Defines the collection\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getActualPropFromColl(collection) {\n    var coll = [];\n    for (var i = 0, len = collection.length; i < len; i++) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (collection[i].hasOwnProperty('properties')) {\n            coll.push(collection[i].properties);\n        }\n        else {\n            coll.push(collection[i]);\n        }\n    }\n    return coll;\n}\n/**\n * @param {Element} target - Defines the target element\n * @param {string} selector - Defines the selector\n * @returns {void}\n * @hidden\n */\nexport function removeElement(target, selector) {\n    var elements = [].slice.call(target.querySelectorAll(selector));\n    for (var i = 0; i < elements.length; i++) {\n        remove(elements[i]);\n    }\n}\n/**\n * @param {MouseEvent | TouchEvent} e Defines the mouse event\n * @returns {IPosition} Returns the position\n * @hidden\n */\nexport function getPosition(e) {\n    var position = {};\n    position.x = (isNullOrUndefined(e.clientX) ? e.changedTouches[0].clientX :\n        e.clientX);\n    position.y = (isNullOrUndefined(e.clientY) ? e.changedTouches[0].clientY :\n        e.clientY);\n    return position;\n}\nvar uid = 0;\n/**\n * @param {string} prefix - Defines the prefix string\n * @returns {string} Returns the uid\n * @hidden\n */\nexport function getUid(prefix) {\n    return prefix + uid++;\n}\n/**\n * @param {Element | DocumentFragment} elem - Defines the element\n * @param {Element[] | NodeList} children - Defines the Element\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function appendChildren(elem, children) {\n    for (var i = 0, len = children.length; i < len; i++) {\n        if (len === children.length) {\n            elem.appendChild(children[i]);\n        }\n        else {\n            elem.appendChild(children[0]);\n        }\n    }\n    return elem;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {string} selector - Defines the selector\n * @param {boolean} isID - Defines isID\n * @returns {Element} Return the element\n * @hidden\n */\nexport function parents(elem, selector, isID) {\n    var parent = elem;\n    var parents = [];\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            parents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    return parents;\n}\n/**\n * @param {AggregateType | string} type - Defines the type\n * @param {Object} data - Defines the data\n * @param {AggregateColumnModel} column - Defines the column\n * @param {Object} context - Defines the context\n * @returns {Object} Returns the calculated aggragate\n * @hidden\n */\nexport function calculateAggregate(type, data, column, context) {\n    if (type === 'Custom') {\n        var temp = column.customAggregate;\n        if (typeof temp === 'string') {\n            temp = getValue(temp, window);\n        }\n        return temp ? temp.call(context, data, column) : '';\n    }\n    return (column.field in data || data instanceof Array) ? DataUtil.aggregates[type.toLowerCase()](data, column.field) : null;\n}\n/** @hidden */\nvar scrollWidth = null;\n/** @hidden\n * @returns {number} - Returns the scrollbarwidth\n */\nexport function getScrollBarWidth() {\n    if (scrollWidth !== null) {\n        return scrollWidth;\n    }\n    var divNode = document.createElement('div');\n    var value = 0;\n    divNode.style.cssText = 'width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;';\n    document.body.appendChild(divNode);\n    value = (divNode.offsetWidth - divNode.clientWidth) | 0;\n    document.body.removeChild(divNode);\n    return scrollWidth = value;\n}\n/** @hidden */\nvar rowHeight;\n/**\n * @param {HTMLElement} element - Defines the element\n * @returns {number} Returns the roww height\n * @hidden\n */\nexport function getRowHeight(element) {\n    if (rowHeight !== undefined) {\n        return rowHeight;\n    }\n    var table = createElement('table', { className: literals.table, styles: 'visibility: hidden' });\n    table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n    element.appendChild(table);\n    var rect = table.querySelector('td').getBoundingClientRect();\n    element.removeChild(table);\n    rowHeight = Math.ceil(rect.height);\n    return rowHeight;\n}\n/** @hidden */\nvar actualRowHeight;\n/**\n * @param {HTMLElement} element - Defines the HTMl element\n * @returns {number} Returns the row height\n * @hidden\n */\nexport function getActualRowHeight(element) {\n    if (actualRowHeight !== undefined) {\n        return rowHeight;\n    }\n    var table = createElement('table', { className: literals.table, styles: 'visibility: hidden' });\n    table.innerHTML = '<tr><td class=\"e-rowcell\">A<td></tr>';\n    element.appendChild(table);\n    var rect = table.querySelector('tr').getBoundingClientRect();\n    element.removeChild(table);\n    return rect.height;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {boolean} - Returns is complex field\n * @hidden\n */\nexport function isComplexField(field) {\n    return field.split('.').length > 1;\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the get complex field ID\n * @hidden\n */\nexport function getComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/\\./g, '___');\n}\n/**\n * @param {string} field - Defines the field\n * @returns {string} - Returns the set complex field ID\n * @hidden\n */\nexport function setComplexFieldID(field) {\n    if (field === void 0) { field = ''; }\n    return field.replace(/___/g, '.');\n}\n/**\n * @param {Column} col - Defines the column\n * @param {string} type - Defines the type\n * @param {Element} elem - Defines th element\n * @returns {boolean} Returns is Editable\n * @hidden\n */\nexport function isEditable(col, type, elem) {\n    var row = parentsUntil(elem, literals.row);\n    var isOldRow = !row ? true : row && !row.classList.contains('e-insertedrow');\n    if (type === 'beginEdit' && isOldRow) {\n        if (col.isIdentity || col.isPrimaryKey || !col.allowEditing) {\n            return false;\n        }\n        return true;\n    }\n    else if (type === 'add' && col.isIdentity) {\n        return false;\n    }\n    else {\n        if (isOldRow && !col.allowEditing && !col.isIdentity && !col.isPrimaryKey) {\n            return false;\n        }\n        return true;\n    }\n}\n/**\n * @param {IGrid} inst - Defines the IGrid\n * @returns {boolean} Returns is action prevent in boolean\n * @hidden\n */\nexport function isActionPrevent(inst) {\n    var dlg = select('#' + inst.element.id + 'EditConfirm', inst.element);\n    return inst.editSettings.mode === 'Batch' &&\n        (selectAll('.e-updatedtd', inst.element).length) && inst.editSettings.showConfirmDialog &&\n        (dlg ? dlg.classList.contains('e-popup-close') : true);\n}\n/**\n * @param {any} elem - Defines the element\n * @param {boolean} action - Defines the boolean for action\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function wrap(elem, action) {\n    var clName = 'e-wrap';\n    elem = elem instanceof Array ? elem : [elem];\n    for (var i = 0; i < elem.length; i++) {\n        if (action) {\n            elem[i].classList.add(clName);\n        }\n        else {\n            elem[i].classList.remove(clName);\n        }\n    }\n}\n/**\n * @param {ServiceLocator} serviceLocator - Defines the service locator\n * @param {Column} column  - Defines the column\n * @returns {void}\n * @hidden\n */\nexport function setFormatter(serviceLocator, column) {\n    var fmtr = serviceLocator.getService('valueFormatter');\n    var format = 'format';\n    var args;\n    if (column.type === 'date' || column.type === 'datetime') {\n        args = { type: column.type, skeleton: column.format };\n        if ((typeof (column.format) === 'string') && column.format !== 'yMd') {\n            args[format] = column.format;\n        }\n    }\n    switch (column.type) {\n        case 'date':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'datetime':\n            column.setFormatter(fmtr.getFormatFunction(args));\n            column.setParser(fmtr.getParserFunction(args));\n            break;\n        case 'number':\n            column.setFormatter(fmtr.getFormatFunction({ format: column.format }));\n            column.setParser(fmtr.getParserFunction({ format: column.format }));\n            break;\n    }\n}\n/**\n * @param {Element} cells - Defines the cell element\n * @param {boolean} add - Defines the add\n * @param {string} args - Defines the args\n * @returns {void}\n * @hidden\n */\nexport function addRemoveActiveClasses(cells, add) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    for (var i = 0, len = cells.length; i < len; i++) {\n        if (add) {\n            classList(cells[i], args.slice(), []);\n            cells[i].setAttribute('aria-selected', 'true');\n        }\n        else {\n            classList(cells[i], [], args.slice());\n            cells[i].removeAttribute('aria-selected');\n        }\n    }\n}\n/**\n * @param {string} result - Defines th string\n * @returns {string} Returns the distinct staing values\n * @hidden\n */\nexport function distinctStringValues(result) {\n    var temp = {};\n    var res = [];\n    for (var i = 0; i < result.length; i++) {\n        if (!(result[i] in temp)) {\n            res.push(result[i].toString());\n            temp[result[i]] = 1;\n        }\n    }\n    return res;\n}\n/**\n * @param {Element} target - Defines the target\n * @param {Dialog} dialogObj - Defines the dialog\n * @returns {void}\n * @hidden\n */\nexport function getFilterMenuPostion(target, dialogObj) {\n    var elementVisible = dialogObj.element.style.display;\n    dialogObj.element.style.display = 'block';\n    var dlgWidth = dialogObj.width;\n    var newpos = calculateRelativeBasedPosition(target, dialogObj.element);\n    dialogObj.element.style.display = elementVisible;\n    dialogObj.element.style.top = (newpos.top + target.getBoundingClientRect().height) - 5 + 'px';\n    var leftPos = ((newpos.left - dlgWidth) + target.clientWidth);\n    if (leftPos < 1) {\n        dialogObj.element.style.left = (dlgWidth + leftPos) - 16 + 'px'; // right calculation\n    }\n    else {\n        dialogObj.element.style.left = leftPos + -4 + 'px';\n    }\n}\n/**\n * @param {Object} args - Defines the args\n * @param {Popup} args.popup - Defines the args for popup\n * @param {Dialog} dialogObj - Defines the dialog obj\n * @returns {void}\n * @hidden\n */\nexport function getZIndexCalcualtion(args, dialogObj) {\n    args.popup.element.style.zIndex = (dialogObj.zIndex + 1).toString();\n}\n/**\n * @param {Element} elem - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function toogleCheckbox(elem) {\n    var span = elem.querySelector('.e-frame');\n    var input = span.previousSibling;\n    if (span.classList.contains('e-check')) {\n        input.checked = false;\n        classList(span, ['e-uncheck'], ['e-check']);\n    }\n    else {\n        input.checked = true;\n        classList(span, ['e-check'], ['e-uncheck']);\n    }\n}\n/**\n * @param {HTMLInputElement} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function setChecked(elem, checked) {\n    elem.checked = checked;\n}\n/**\n * @param {string} uid - Defines the string\n * @param {Element} elem - Defines the Element\n * @param {string} className - Defines the classname\n * @returns {Element} Returns the box wrap\n * @hidden\n */\nexport function createCboxWithWrap(uid, elem, className) {\n    var div = createElement('div', { className: className });\n    div.appendChild(elem);\n    div.setAttribute('uid', uid);\n    return div;\n}\n/**\n * @param {Element} elem - Defines the element\n * @param {boolean} checked - Defines is checked\n * @returns {void}\n * @hidden\n */\nexport function removeAddCboxClasses(elem, checked) {\n    removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n    if (checked) {\n        elem.classList.add('e-check');\n    }\n    else {\n        elem.classList.add('e-uncheck');\n    }\n}\n/**\n * Refresh the Row model's foreign data.\n *\n * @param {IRow<Column>} row - Grid Row model object.\n * @param {Column[]} columns - Foreign columns array.\n * @param {Object} data - Updated Row data.\n * @returns {void}\n * @hidden\n */\nexport function refreshForeignData(row, columns, data) {\n    for (var i = 0; i < columns.length; i++) {\n        setValue(columns[i].field, getForeignData(columns[i], data), row.foreignKeyData);\n    }\n    var cells = row.cells;\n    for (var i = 0; i < cells.length; i++) {\n        if (cells[i].isForeignKey) {\n            setValue('foreignKeyData', getValue(cells[i].column.field, row.foreignKeyData), cells[i]);\n        }\n    }\n}\n/**\n * Get the foreign data for the corresponding cell value.\n *\n * @param {Column} column - Foreign Key column\n * @param {Object} data - Row data.\n * @param {string | number} lValue - cell value.\n * @param {Object} foreignKeyData - foreign data source.\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getForeignData(column, data, lValue, foreignKeyData) {\n    var fField = column.foreignKeyField;\n    var key = (!isNullOrUndefined(lValue) ? lValue : valueAccessor(column.field, data, column));\n    key = isNullOrUndefined(key) ? '' : key;\n    var query = new Query();\n    var fdata = foreignKeyData || ((column.dataSource instanceof DataManager) && column.dataSource.dataSource.json.length ?\n        column.dataSource.dataSource.json : column.columnData);\n    if (key.getDay) {\n        query.where(getDatePredicate({ field: fField, operator: 'equal', value: key, matchCase: false }));\n    }\n    else {\n        query.where(fField, '==', key, false);\n    }\n    return new DataManager(fdata).executeLocal(query);\n}\n/**\n * To use to get the column's object by the foreign key value.\n *\n * @param {string} foreignKeyValue - Defines ForeignKeyValue.\n * @param {Column[]} columns - Array of column object.\n * @returns {Column} Returns the element\n * @hidden\n */\nexport function getColumnByForeignKeyValue(foreignKeyValue, columns) {\n    var column;\n    return columns.some(function (col) {\n        column = col;\n        return col.foreignKeyValue === foreignKeyValue;\n    }) && column;\n}\n/**\n * @param {PredicateModel} filterObject - Defines the filterObject\n * @param {string} type - Defines the type\n * @returns {Predicate} Returns the Predicate\n * @hidden\n */\nexport function getDatePredicate(filterObject, type) {\n    var datePredicate;\n    var prevDate;\n    var nextDate;\n    var prevObj = baseExtend({}, getActualProperties(filterObject));\n    var nextObj = baseExtend({}, getActualProperties(filterObject));\n    if (isNullOrUndefined(filterObject.value)) {\n        datePredicate = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        return datePredicate;\n    }\n    var value = new Date(filterObject.value);\n    if (filterObject.operator === 'equal' || filterObject.operator === 'notequal') {\n        if (type === 'datetime') {\n            prevDate = new Date(value.setSeconds(value.getSeconds() - 1));\n            nextDate = new Date(value.setSeconds(value.getSeconds() + 2));\n            filterObject.value = new Date(value.setSeconds(nextDate.getSeconds() - 1));\n        }\n        else {\n            prevDate = new Date(value.setHours(0) - 1);\n            nextDate = new Date(value.setHours(24));\n        }\n        prevObj.value = prevDate;\n        nextObj.value = nextDate;\n        if (filterObject.operator === 'equal') {\n            prevObj.operator = 'greaterthan';\n            nextObj.operator = 'lessthan';\n        }\n        else if (filterObject.operator === 'notequal') {\n            prevObj.operator = 'lessthanorequal';\n            nextObj.operator = 'greaterthanorequal';\n        }\n        var predicateSt = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        var predicateEnd = new Predicate(nextObj.field, nextObj.operator, nextObj.value, false);\n        datePredicate = filterObject.operator === 'equal' ? predicateSt.and(predicateEnd) : predicateSt.or(predicateEnd);\n    }\n    else {\n        if (type === 'date' && (filterObject.operator === 'lessthanorequal' || filterObject.operator === 'greaterthan')) {\n            prevObj.value = new Date(value.setHours(24) - 1);\n        }\n        if (typeof (prevObj.value) === 'string') {\n            prevObj.value = new Date(prevObj.value);\n        }\n        var predicates = new Predicate(prevObj.field, prevObj.operator, prevObj.value, false);\n        datePredicate = predicates;\n    }\n    if (filterObject.setProperties) {\n        filterObject.setProperties({ ejpredicate: datePredicate }, true);\n    }\n    else {\n        filterObject.ejpredicate = datePredicate;\n    }\n    return datePredicate;\n}\n/**\n * @param {Element} ele - Defines the element\n * @param {number} frzCols - Defines the frozen columns\n * @param {IGrid} gObj - Defines the IGrid\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function renderMovable(ele, frzCols, gObj) {\n    frzCols = frzCols && gObj && gObj.isRowDragable() ? frzCols + 1 : frzCols;\n    var mEle = ele.cloneNode(true);\n    for (var i = 0; i < frzCols; i++) {\n        mEle.removeChild(mEle.children[0]);\n    }\n    for (var i = frzCols, len = ele.childElementCount; i < len; i++) {\n        ele.removeChild(ele.children[ele.childElementCount - 1]);\n    }\n    return mEle;\n}\n/**\n * @param {IGrid} grid - Defines the IGrid\n * @returns {boolean} Returns true if group adaptive is true\n * @hidden\n */\nexport function isGroupAdaptive(grid) {\n    return grid.enableVirtualization && grid.groupSettings.columns.length > 0 && grid.isVirtualAdaptive;\n}\n/**\n * @param {string} field - Defines the Field\n * @param {Object} object - Defines the objec\n * @returns {any} Returns the object\n * @hidden\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getObject(field, object) {\n    if (field === void 0) { field = ''; }\n    if (field) {\n        var value = object;\n        var splits = field.split('.');\n        for (var i = 0; i < splits.length && !isNullOrUndefined(value); i++) {\n            value = value[splits[i]];\n        }\n        return value;\n    }\n}\n/**\n * @param {string | Object} format - defines the format\n * @param {string} colType - Defines the coltype\n * @returns {string} Returns the custom Data format\n * @hidden\n */\nexport function getCustomDateFormat(format, colType) {\n    var intl = new Internationalization();\n    var formatvalue;\n    var formatter = 'format';\n    var type = 'type';\n    if (colType === 'date') {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[type] ? format[type] : 'date', format: format[formatter] }, false) :\n            intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    else {\n        formatvalue = typeof (format) === 'object' ?\n            intl.getDatePattern({ type: format[type] ? format[type] : 'dateTime', format: format[formatter] }, false) :\n            intl.getDatePattern({ type: 'dateTime', skeleton: format }, false);\n    }\n    return formatvalue;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {Object} Returns the object\n * @hidden\n */\nexport function getExpandedState(gObj, hierarchyPrintMode) {\n    var rows = gObj.getRowsObject();\n    var obj = {};\n    for (var _i = 0, rows_1 = rows; _i < rows_1.length; _i++) {\n        var row = rows_1[_i];\n        if (row.isExpand && !row.isDetailRow) {\n            var index = gObj.allowPaging && gObj.printMode === 'AllPages' ? row.index +\n                (gObj.pageSettings.currentPage * gObj.pageSettings.pageSize) - gObj.pageSettings.pageSize : row.index;\n            obj[index] = {};\n            obj[index].isExpand = true;\n            obj[index].gridModel = getPrintGridModel(row.childGrid, hierarchyPrintMode);\n            obj[index].gridModel.query = gObj.childGrid.query;\n        }\n    }\n    return obj;\n}\n/**\n * @param {IGrid} gObj - Defines the grid objct\n * @param {HierarchyGridPrintMode} hierarchyPrintMode - Defines the hierarchyPrintMode\n * @returns {IGrid} Returns the IGrid\n * @hidden\n */\nexport function getPrintGridModel(gObj, hierarchyPrintMode) {\n    if (hierarchyPrintMode === void 0) { hierarchyPrintMode = 'Expanded'; }\n    var printGridModel = {};\n    if (!gObj) {\n        return printGridModel;\n    }\n    var isFrozen = gObj.isFrozenGrid() && !gObj.getFrozenColumns();\n    for (var _i = 0, _a = Print.printGridProp; _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (key === 'columns') {\n            printGridModel[key] = getActualPropFromColl(isFrozen ? gObj.getColumns() : gObj[key]);\n        }\n        else if (key === 'allowPaging') {\n            printGridModel[key] = gObj.printMode === 'CurrentPage';\n        }\n        else {\n            printGridModel[key] = getActualProperties(gObj[key]);\n        }\n    }\n    printGridModel['enableHover'] = false;\n    if (gObj.childGrid && hierarchyPrintMode !== 'None') {\n        printGridModel.expandedRows = getExpandedState(gObj, hierarchyPrintMode);\n    }\n    return printGridModel;\n}\n/**\n * @param {Object} copied - Defines the copied object\n * @param {Object} first - Defines the first object\n * @param {Object} second - Defines the second object\n * @param {boolean} deep - Defines the deep\n * @returns {Object} Returns the extended object\n * @hidden\n */\nexport function extendObjWithFn(copied, first, second, deep) {\n    var res = copied || {};\n    var len = arguments.length;\n    if (deep) {\n        len = len - 1;\n    }\n    for (var i = 1; i < len; i++) {\n        // eslint-disable-next-line prefer-rest-params\n        if (!arguments[i]) {\n            continue;\n        }\n        // eslint-disable-next-line prefer-rest-params\n        var obj1 = arguments[i];\n        var keys = Object.keys(Object.getPrototypeOf(obj1)).length ?\n            Object.keys(obj1).concat(getPrototypesOfObj(obj1)) : Object.keys(obj1);\n        for (var i_1 = 0; i_1 < keys.length; i_1++) {\n            var source = res[keys[i_1]];\n            var cpy = obj1[keys[i_1]];\n            var cln = void 0;\n            if (deep && (isObject(cpy) || Array.isArray(cpy))) {\n                if (isObject(cpy)) {\n                    cln = source ? source : {};\n                    res[keys[i_1]] = baseExtend({}, cln, cpy, deep);\n                }\n                else {\n                    cln = source ? source : [];\n                    res[keys[i_1]] = baseExtend([], cln, cpy, deep);\n                }\n            }\n            else {\n                res[keys[i_1]] = cpy;\n            }\n        }\n    }\n    return res;\n}\n/**\n * @param {Object} obj - Defines the obj\n * @returns {string[]} Returns the string\n * @hidden\n */\nfunction getPrototypesOfObj(obj) {\n    var keys = [];\n    while (Object.getPrototypeOf(obj) && Object.keys(Object.getPrototypeOf(obj)).length) {\n        keys = keys.concat(Object.keys(Object.getPrototypeOf(obj)));\n        obj = Object.getPrototypeOf(obj);\n    }\n    return keys;\n}\n/**\n * @param {Column[]} column - Defines the Column\n * @returns {number} Returns the column Depth\n * @hidden\n */\nexport function measureColumnDepth(column) {\n    var max = 0;\n    for (var i = 0; i < column.length; i++) {\n        var depth = checkDepth(column[i], 0);\n        if (max < depth) {\n            max = depth;\n        }\n    }\n    return max + 1;\n}\n/**\n * @param {Column} col - Defines the Column\n * @param {number} index - Defines the index\n * @returns {number} Returns the depth\n * @hidden\n */\nexport function checkDepth(col, index) {\n    var max = index;\n    var indices = [];\n    if (col.columns) {\n        index++;\n        for (var i = 0; i < col.columns.length; i++) {\n            indices[i] = checkDepth(col.columns[i], index);\n        }\n        for (var j = 0; j < indices.length; j++) {\n            if (max < indices[j]) {\n                max = indices[j];\n            }\n        }\n        index = max;\n    }\n    return index;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {PredicateModel[]} filteredCols - Defines the PredicateModel\n * @returns {void}\n * @hidden\n */\nexport function refreshFilteredColsUid(gObj, filteredCols) {\n    for (var i = 0; i < filteredCols.length; i++) {\n        filteredCols[i].uid = filteredCols[i].isForeignKey ?\n            getColumnByForeignKeyValue(filteredCols[i].field, gObj.getForeignKeyColumns()).uid\n            : gObj.enableColumnVirtualization ? getColumnModelByFieldName(gObj, filteredCols[i].field).uid\n                : gObj.getColumnByField(filteredCols[i].field).uid;\n    }\n}\n/** @hidden */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Global;\n(function (Global) {\n    // eslint-disable-next-line prefer-const\n    Global.timer = null;\n})(Global || (Global = {}));\n/**\n * @param {Element} element - Defines the element\n * @returns {Object} Returns the transform values\n * @hidden\n */\nexport function getTransformValues(element) {\n    var style = document.defaultView.getComputedStyle(element, null);\n    var transformV = style.getPropertyValue('transform');\n    var replacedTv = transformV.replace(/,/g, '');\n    var translateX = parseFloat((replacedTv).split(' ')[4]);\n    var translateY = parseFloat((replacedTv).split(' ')[5]);\n    return { width: translateX, height: translateY };\n}\n/**\n * @param {Element} rootElement - Defines the root Element\n * @param {Element} element - Defines the element\n * @returns {void}\n * @hidden\n */\nexport function applyBiggerTheme(rootElement, element) {\n    if (rootElement.classList.contains('e-bigger')) {\n        element.classList.add('e-bigger');\n    }\n}\n/**\n * @param {HTMLElement} mTD - Defines the movable TD\n * @param {HTMLElement} fTD  - Defines the Frozen TD\n * @returns {void}\n * @hidden\n */\nexport function alignFrozenEditForm(mTD, fTD) {\n    if (mTD && fTD) {\n        var mHeight = closest(mTD, '.' + literals.row).getBoundingClientRect().height;\n        var fHeight = closest(fTD, '.' + literals.row).getBoundingClientRect().height;\n        if (mHeight > fHeight) {\n            fTD.style.height = mHeight + 'px';\n        }\n        else {\n            mTD.style.height = fHeight + 'px';\n        }\n    }\n}\n/**\n * @param {Element} row - Defines row element\n * @param {IGrid} gridObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function ensureLastRow(row, gridObj) {\n    var cntOffset = gridObj.getContent().firstElementChild.offsetHeight;\n    return row && row.getBoundingClientRect().top > cntOffset;\n}\n/**\n * @param {Element} row - Defines row element\n * @param {number} rowTop - Defines row top number\n * @returns {boolean} Returns first row is true\n * @hidden\n */\nexport function ensureFirstRow(row, rowTop) {\n    return row && row.getBoundingClientRect().top < rowTop;\n}\n/**\n * @param {number} index - Defines index\n * @param {IGrid} gObj - Defines grid object\n * @returns {boolean} Returns isRowEnteredInGrid\n * @hidden\n */\nexport function isRowEnteredInGrid(index, gObj) {\n    var rowHeight = gObj.getRowHeight();\n    var startIndex = gObj.getContent().firstElementChild.scrollTop / rowHeight;\n    var endIndex = startIndex + (gObj.getContent().firstElementChild.offsetHeight / rowHeight);\n    return index < endIndex && index > startIndex;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} data - Defines the query\n * @returns {number} Returns the edited data index\n * @hidden\n */\nexport function getEditedDataIndex(gObj, data) {\n    var keyField = gObj.getPrimaryKeyFieldNames()[0];\n    var dataIndex;\n    gObj.getCurrentViewRecords().filter(function (e, index) {\n        if (e[keyField] === data[keyField]) {\n            dataIndex = index;\n        }\n    });\n    return dataIndex;\n}\n/**\n * @param {Object} args - Defines the argument\n * @param {Query} query - Defines the query\n * @returns {FilterStateObj} Returns the filter state object\n * @hidden\n */\nexport function eventPromise(args, query) {\n    var state = getStateEventArgument(query);\n    var def = new Deferred();\n    state.dataSource = def.resolve;\n    state.action = args;\n    return { state: state, deffered: def };\n}\n/**\n * @param {Query} query - Defines the query\n * @returns {Object} Returns the state event argument\n * @hidden\n */\nexport function getStateEventArgument(query) {\n    var adaptr = new UrlAdaptor();\n    var dm = new DataManager({ url: '', adaptor: new UrlAdaptor });\n    var state = adaptr.processQuery(dm, query);\n    var data = JSON.parse(state.data);\n    return data;\n}\n/**\n * @param {IGrid} gObj - Defines the Igrid\n * @returns {boolean} Returns the ispercentageWidth\n * @hidden\n */\nexport function ispercentageWidth(gObj) {\n    var columns = gObj.getVisibleColumns();\n    var percentageCol = 0;\n    var undefinedWidthCol = 0;\n    for (var i = 0; i < columns.length; i++) {\n        if (isUndefined(columns[i].width)) {\n            undefinedWidthCol++;\n        }\n        else if (columns[i].width.toString().indexOf('%') !== -1) {\n            percentageCol++;\n        }\n    }\n    return (gObj.width === 'auto' || typeof (gObj.width) === 'string' && gObj.width.indexOf('%') !== -1) &&\n        !gObj.groupSettings.showGroupedColumn && gObj.groupSettings.columns.length\n        && percentageCol && !undefinedWidthCol;\n}\n/**\n * @param {IGrid} gObj - Defines the IGrid\n * @param {Row<Column>[]} rows - Defines the row\n * @param {HTMLTableRowElement[]} rowElms - Row elements\n * @param {number} index - Row index\n * @returns {void}\n * @hidden\n */\nexport function resetRowIndex(gObj, rows, rowElms, index) {\n    var startIndex = index ? index : 0;\n    for (var i = 0; i < rows.length; i++) {\n        if (rows[i].isDataRow) {\n            rows[i].index = startIndex;\n            rows[i].isAltRow = gObj.enableAltRow ? startIndex % 2 !== 0 : false;\n            rowElms[i].setAttribute(literals.ariaRowIndex, startIndex.toString());\n            if (rows[i].isAltRow) {\n                rowElms[i].classList.add('e-altrow');\n            }\n            else {\n                rowElms[i].classList.remove('e-altrow');\n            }\n            for (var j = 0; j < rowElms[i].cells.length; j++) {\n                rowElms[i].cells[j].setAttribute('index', startIndex.toString());\n            }\n            startIndex++;\n        }\n    }\n    if (!rows.length) {\n        gObj.renderModule.emptyRow(true);\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Object} changes - Defines the changes\n * @param {string} type - Defines the type\n * @param {string} keyField - Defines the keyfield\n * @returns {void}\n * @hidden\n */\nexport function compareChanges(gObj, changes, type, keyField) {\n    var newArray = gObj.dataToBeUpdated[type].concat(changes[type]).reduce(function (r, o) {\n        r[o[keyField]] = r[o[keyField]] === undefined ? o : Object.assign(r[o[keyField]], o);\n        return r;\n    }, {});\n    gObj.dataToBeUpdated[type] = Object.keys(newArray).map(function (k) { return newArray[k]; });\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {void}\n * @hidden\n */\nexport function setRowElements(gObj) {\n    if (gObj.isFrozenGrid()) {\n        (gObj).contentModule.rowElements =\n            [].slice.call(gObj.element.querySelectorAll('.e-movableheader .e-row, .e-movablecontent .e-row'));\n        var cls = gObj.getFrozenMode() === literals.leftRight ? '.e-frozen-left-header .e-row, .e-frozen-left-content .e-row'\n            : '.e-frozenheader .e-row, .e-frozencontent .e-row';\n        (gObj).contentModule.freezeRowElements =\n            [].slice.call(gObj.element.querySelectorAll(cls));\n        if (gObj.getFrozenMode() === literals.leftRight) {\n            gObj.contentModule.frozenRightRowElements =\n                [].slice.call(gObj.element.querySelectorAll('.e-frozen-right-header .e-row, .e-frozen-right-content .e-row'));\n        }\n    }\n    else {\n        (gObj).contentModule.rowElements =\n            [].slice.call(gObj.element.querySelectorAll('.e-row:not(.e-addedrow)'));\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @param {Cell<Column>} cells - Defines the callback function\n * @param {freezeTable} tableName - Defines the row\n * @returns {Cell<Column>[]} Returns the cell\n * @hidden\n */\nexport function splitFrozenRowObjectCells(gObj, cells, tableName) {\n    var left = gObj.getFrozenLeftCount();\n    var movable = gObj.getMovableColumnsCount();\n    var right = gObj.getFrozenRightColumnsCount();\n    var frozenMode = gObj.getFrozenMode();\n    var drag = gObj.isRowDragable() ? 1 : 0;\n    var rightIndex = frozenMode === 'Right' ? left + movable : left + movable + drag;\n    var mvblIndex = frozenMode === 'Right' ? left : left + drag;\n    var mvblEndIdx = frozenMode === 'Right' ? cells.length - right - drag\n        : right ? cells.length - right : cells.length;\n    if (tableName === literals.frozenLeft) {\n        cells = cells.slice(0, left ? left + drag : cells.length);\n    }\n    else if (tableName === literals.frozenRight) {\n        cells = cells.slice(rightIndex, cells.length);\n    }\n    else if (tableName === 'movable') {\n        cells = cells.slice(mvblIndex, mvblEndIdx);\n    }\n    return cells;\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function gridActionHandler(gObj, callBack, rows, force, rowObj) {\n    if (rows[0].length || force) {\n        if (rowObj) {\n            callBack(literals.frozenLeft, rows[0], rowObj[0]);\n        }\n        else {\n            callBack(literals.frozenLeft, rows[0]);\n        }\n    }\n    if (gObj.isFrozenGrid() && (rows[1].length || force)) {\n        if (rowObj) {\n            callBack('movable', rows[1], rowObj[1]);\n        }\n        else {\n            callBack('movable', rows[1]);\n        }\n    }\n    if ((gObj.getFrozenMode() === literals.leftRight || gObj.getFrozenMode() === 'Right') && (rows[2].length || force)) {\n        if (rowObj) {\n            callBack(literals.frozenRight, rows[2], rowObj[2]);\n        }\n        else {\n            callBack(literals.frozenRight, rows[2]);\n        }\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @returns {Row<Column>} Returns the row\n * @hidden\n */\nexport function getGridRowObjects(gObj) {\n    return [gObj.getFrozenMode() !== 'Right' ? gObj.getRowsObject() : [], gObj.getMovableRowsObject(), gObj.getFrozenRightRowsObject()];\n}\n/**\n * @param {IGrid} gObj - Defines the grid\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function getGridRowElements(gObj) {\n    return [\n        gObj.getFrozenMode() !== 'Right' ? gObj.getAllDataRows(true) : [],\n        gObj.getAllMovableDataRows(true), gObj.getAllFrozenRightDataRows(true)\n    ];\n}\n/**\n * @param {Element} row - Defines the row\n * @param {number} start - Defines the start index\n * @param {number} end - Defines the end index\n * @returns {void}\n * @hidden\n */\nexport function sliceElements(row, start, end) {\n    var cells = row.children;\n    var len = cells.length;\n    var k = 0;\n    for (var i = 0; i < len; i++, k++) {\n        if (i >= start && i < end) {\n            continue;\n        }\n        row.removeChild(row.children[k]);\n        k--;\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid Object\n * @param {Column} col - Defines the column\n * @param {number} rowIndex - Defines the rowindex\n * @returns {Element} Returns the element\n * @hidden\n */\nexport function getCellsByTableName(gObj, col, rowIndex) {\n    if (col.getFreezeTableName() === 'movable') {\n        return [].slice.call(gObj.getMovableDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n    else if (col.getFreezeTableName() === literals.frozenRight) {\n        return [].slice.call(gObj.getFrozenRightDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n    else {\n        return [].slice.call(gObj.getDataRows()[rowIndex].getElementsByClassName(literals.rowCell));\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the column\n * @param {Column} col - Defines the index\n * @param {number} rowIndex - Defines the rules\n * @param {number} index - Defines the movable column rules\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getCellByColAndRowIndex(gObj, col, rowIndex, index) {\n    var left = gObj.getFrozenLeftCount();\n    var movable = gObj.getMovableColumnsCount();\n    index = col.getFreezeTableName() === 'movable' ? index - left : col.getFreezeTableName() === literals.frozenRight\n        ? index - (left + movable) : index;\n    return getCellsByTableName(gObj, col, rowIndex)[index];\n}\n/**\n * @param {Column} col - Defines the column\n * @param {number} index - Defines the index\n * @param {Object} rules - Defines the rules\n * @param {Object} mRules - Defines the movable column rules\n * @param {Object} frRules - Defines the Frozen rules\n * @param {number} len - Defines the length\n * @param {boolean} isCustom - Defines custom form validation\n * @returns {void}\n * @hidden\n */\nexport function setValidationRuels(col, index, rules, mRules, frRules, len, isCustom) {\n    if (isCustom) {\n        rules[getComplexFieldID(col.field)] = col.validationRules;\n    }\n    else {\n        if (col.getFreezeTableName() === literals.frozenLeft\n            || (!index && col.getFreezeTableName() === literals.frozenRight) || len === 1) {\n            rules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n        else if (col.getFreezeTableName() === 'movable' || !col.getFreezeTableName()) {\n            mRules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n        else if (col.getFreezeTableName() === literals.frozenRight) {\n            frRules[getComplexFieldID(col.field)] = col.validationRules;\n        }\n    }\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getMovableTbody(gObj) {\n    var tbody;\n    if (gObj.isFrozenGrid()) {\n        tbody = gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top' ? gObj.getMovableHeaderTbody()\n            : gObj.getMovableContentTbody();\n    }\n    return tbody;\n}\n/**\n * @param {IGrid} gObj - Defines the grid object\n * @returns {Element} Returns the Element\n * @hidden\n */\nexport function getFrozenRightTbody(gObj) {\n    var tbody;\n    if (gObj.getFrozenMode() === literals.leftRight) {\n        tbody = gObj.frozenRows && gObj.editSettings.newRowPosition === 'Top' ? gObj.getFrozenRightHeaderTbody()\n            : gObj.getFrozenRightContentTbody();\n    }\n    return tbody;\n}\n/**\n * @param {Element} tbody - Table body\n * @param {Element} mTbody - Movanle table body\n * @param {Element} frTbody - Frozen right table body\n * @param {Element[]} tr - Table rows\n * @param {Element[]} mTr - Movable table rows\n * @param {Element[]} frTr - Frozen right table rows\n * @param {Function} callBack - Callback function\n * @returns {void}\n * @hidden\n */\nexport function setRowsInTbody(tbody, mTbody, frTbody, tr, mTr, frTr, callBack) {\n    if (tbody && tr) {\n        callBack(tbody, tr);\n    }\n    if (mTbody && mTr) {\n        callBack(mTbody, mTr);\n    }\n    if (frTbody && frTr) {\n        callBack(frTbody, frTr);\n    }\n}\n/**\n * @param {string} numberFormat - Format\n * @param {string} type - Value type\n * @param {boolean} isExcel - Boolean property\n * @returns {string} returns formated value\n * @hidden\n */\nexport function getNumberFormat(numberFormat, type, isExcel) {\n    var format;\n    var intl = new Internationalization();\n    if (type === 'number') {\n        try {\n            format = intl.getNumberPattern({ format: numberFormat, currency: this.currency, useGrouping: true }, true);\n        }\n        catch (error) {\n            format = numberFormat;\n        }\n    }\n    else if (type === 'date' || type === 'time' || type === 'datetime') {\n        try {\n            format = intl.getDatePattern({ skeleton: numberFormat, type: type }, isExcel);\n            if (isNullOrUndefined(format)) {\n                // eslint-disable-next-line\n                throw 'error';\n            }\n        }\n        catch (error) {\n            try {\n                format = intl.getDatePattern({ format: numberFormat, type: type }, isExcel);\n            }\n            catch (error) {\n                format = numberFormat;\n            }\n        }\n    }\n    else {\n        format = numberFormat;\n    }\n    if (type !== 'number') {\n        var patternRegex = /G|H|c|'| a|yy|y|EEEE|E/g;\n        var mtch_1 = { 'G': '', 'H': 'h', 'c': 'd', '\\'': '\"', ' a': ' AM/PM', 'yy': 'yy', 'y': 'yyyy', 'EEEE': 'dddd', 'E': 'ddd' };\n        format = format.replace(patternRegex, function (pattern) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return mtch_1[pattern];\n        });\n    }\n    return format;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @returns {void}\n * @hidden\n */\nexport function addBiggerDialog(gObj) {\n    if (gObj.enableAdaptiveUI) {\n        var dialogs = document.getElementsByClassName('e-responsive-dialog');\n        for (var i = 0; i < dialogs.length; i++) {\n            dialogs[i].classList.add('e-bigger');\n        }\n    }\n}\n/**\n * @param {string} value - specifies the trr\n * @param {Object} mapObject - specifies the idx\n * @returns {Object | string} returns object or string\n * @hidden\n */\nexport function performComplexDataOperation(value, mapObject) {\n    var returnObj;\n    var length = value.split('.').length;\n    var splits = value.split('.');\n    var duplicateMap = mapObject;\n    for (var i = 0; i < length; i++) {\n        returnObj = duplicateMap[splits[i]];\n        duplicateMap = returnObj;\n    }\n    return returnObj;\n}\n/**\n * @param {Object} tr - specifies the trr\n * @param {number} idx - specifies the idx\n * @param {string} displayVal - specifies the displayval\n * @param {Row<Column>} rows - specifies the rows\n * @param {IGrid} parent - Grid instance\n * @param {boolean} isContent - check for content renderer\n * @returns {void}\n * @hidden\n */\nexport function setDisplayValue(tr, idx, displayVal, rows, parent, isContent) {\n    var trs = Object.keys(tr);\n    for (var i = 0; i < trs.length; i++) {\n        var td = tr[trs[i]].querySelectorAll('td.e-rowcell')[idx];\n        if (tr[trs[i]].querySelectorAll('td.e-rowcell').length && td) {\n            setStyleAttribute(tr[trs[i]].querySelectorAll('td.e-rowcell')[idx], { 'display': displayVal });\n            if (tr[trs[i]].querySelectorAll('td.e-rowcell')[idx].classList.contains('e-hide')) {\n                removeClass([tr[trs[i]].querySelectorAll('td.e-rowcell')[idx]], ['e-hide']);\n            }\n            if (isContent && parent.isRowDragable()) {\n                var index = parent.getFrozenColumns() ? idx : idx + 1;\n                rows[trs[i]].cells[index].visible = displayVal === '' ? true : false;\n            }\n            else {\n                rows[trs[i]].cells[idx].visible = displayVal === '' ? true : false;\n            }\n        }\n    }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function addRemoveEventListener(parent, evt, isOn, module) {\n    for (var _i = 0, evt_1 = evt; _i < evt_1.length; _i++) {\n        var inst = evt_1[_i];\n        if (isOn) {\n            parent.on(inst.event, inst.handler, module);\n        }\n        else {\n            parent.off(inst.event, inst.handler);\n        }\n    }\n}\n// eslint-disable-next-line\n/** @hidden */\nexport function createEditElement(parent, column, classNames, attr) {\n    var complexFieldName = getComplexFieldID(column.field);\n    attr = Object.assign(attr, {\n        id: parent.element.id + complexFieldName,\n        name: complexFieldName, 'e-mappinguid': column.uid\n    });\n    return parent.createElement('input', {\n        className: classNames, attrs: attr\n    });\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} uid - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByUid(gObj, uid) {\n    var column;\n    for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n        var col = _a[_i];\n        if (col.uid === uid) {\n            column = col;\n            break;\n        }\n    }\n    return column;\n}\n/**\n * @param {IGrid} gObj - Grid instance\n * @param {string} field - Defines column's uid\n * @returns {Column} returns column model\n * @hidden\n */\nexport function getColumnModelByFieldName(gObj, field) {\n    var column;\n    if (!gObj.columnModel) {\n        gObj.getColumns();\n    }\n    for (var _i = 0, _a = (gObj.columnModel); _i < _a.length; _i++) {\n        var col = _a[_i];\n        if (col.field === field) {\n            column = col;\n            break;\n        }\n    }\n    return column;\n}\n/**\n * @param {string} id - Defines component id\n * @param {string[]} evts - Defines events\n * @param {object} handlers - Defines event handlers\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function registerEventHandlers(id, evts, handlers, instance) {\n    instance.eventHandlers[id] = {};\n    for (var i = 0; i < evts.length; i++) {\n        instance.eventHandlers[id][evts[i]] = handlers[evts[i]];\n    }\n}\n/**\n * @param {any} component - Defines component instance\n * @param {string[]} evts - Defines events\n * @param {any} instance - Defines class instance\n * @returns {void}\n * @hidden\n */\n// eslint-disable-next-line\nexport function removeEventHandlers(component, evts, instance) {\n    for (var i = 0; i < evts.length; i++) {\n        if (component.isDestroyed) {\n            break;\n        }\n        component.removeEventListener(evts[i], instance.eventHandlers[component.element.id][evts[i]]);\n    }\n}\n/**\n * @param {IGrid | IXLFilter} parent - Defines parent instance\n * @param {string[]} templates - Defines the templates name which are needs to clear\n * @returns {void}\n * @hidden\n */\nexport function clearReactVueTemplates(parent, templates) {\n    parent.destroyTemplate(templates);\n    if (parent.isReact) {\n        parent.renderTemplates();\n    }\n}\n/**\n *\n * @param { Element } row - Defines row element\n * @returns { number } row index\n */\nexport function getRowIndexFromElement(row) {\n    return parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n}\n/**\n *\n * @param { string[] } fields - Defines grouped fields\n * @param { values } values - Defines caption keys\n * @param { any } instance - Defines dynamic class instance\n * @returns { Predicate } returns filter predicate\n */\n// eslint-disable-next-line\nexport function generateExpandPredicates(fields, values, instance) {\n    var filterCols = [];\n    for (var i = 0; i < fields.length; i++) {\n        var column = instance.parent.getColumnByField(fields[i]);\n        var value = values[i] === 'null' ? null : values[i];\n        var pred = {\n            field: fields[i], predicate: 'or', uid: column.uid, operator: 'equal', type: column.type,\n            matchCase: instance.allowCaseSensitive, ignoreAccent: instance.parent.filterSettings.ignoreAccent\n        };\n        if (value === '' || isNullOrUndefined(value)) {\n            filterCols = filterCols.concat(CheckBoxFilterBase.generateNullValuePredicates(pred));\n        }\n        else {\n            filterCols.push(extend({}, { value: value }, pred));\n        }\n    }\n    return CheckBoxFilterBase.getPredicate(filterCols);\n}\n/**\n *\n * @param { Predicate } pred - Defines filter predicate\n * @returns { Predicate[] } Returns formed predicate\n */\nexport function getPredicates(pred) {\n    var predicateList = [];\n    for (var _i = 0, _a = Object.keys(pred); _i < _a.length; _i++) {\n        var prop = _a[_i];\n        predicateList.push(pred[prop]);\n    }\n    return predicateList;\n}\n/**\n *\n * @param { number } index - Defines group caption indent\n * @param { Row<Column>[] } rowsObject - Defines rows object\n * @returns { { fields: string[], keys: string[] } } Returns grouped keys and values\n */\nexport function getGroupKeysAndFields(index, rowsObject) {\n    var fields = [];\n    var keys = [];\n    for (var i = index; i >= 0; i--) {\n        if (rowsObject[i].isCaptionRow && fields.indexOf(rowsObject[i].data.field) === -1\n            && (rowsObject[i].indent < rowsObject[index].indent || i === index)) {\n            fields.push(rowsObject[i].data.field);\n            keys.push(rowsObject[i].data.key);\n            if (rowsObject[i].indent === 0) {\n                break;\n            }\n        }\n    }\n    return { fields: fields, keys: keys };\n}\n","/* tslint:disable-next-line:max-line-length */\nimport { EventHandler, isNullOrUndefined, extend, classList, addClass, removeClass, Browser, getValue, setValue } from '@syncfusion/ej2-base';\nimport { parentsUntil, getUid, appendChildren, getDatePredicate, getObject, extendObjWithFn, eventPromise, setChecked, clearReactVueTemplates } from '../base/util';\nimport { remove, debounce, Internationalization } from '@syncfusion/ej2-base';\nimport { DataUtil, Query, DataManager, Predicate } from '@syncfusion/ej2-data';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport * as events from '../base/constant';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { getForeignData } from '../base/util';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { getFilterMenuPostion, toogleCheckbox, createCboxWithWrap, removeAddCboxClasses, getColumnByForeignKeyValue } from '../base/util';\n/**\n * @hidden\n * `CheckBoxFilterBase` module is used to handle filtering action.\n */\nvar CheckBoxFilterBase = /** @class */ (function () {\n    /**\n     * Constructor for checkbox filtering module\n     *\n     * @param {IXLFilter} parent - specifies the IXLFilter\n     * @hidden\n     */\n    function CheckBoxFilterBase(parent) {\n        this.existingPredicate = {};\n        this.foreignKeyQuery = new Query();\n        /** @hidden */\n        this.filterState = true;\n        this.values = {};\n        this.renderEmpty = false;\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.valueFormatter = new ValueFormatter(this.parent.locale);\n        this.cBoxTrue = createCheckBox(this.parent.createElement, false, { checked: true, label: ' ' });\n        this.cBoxFalse = createCheckBox(this.parent.createElement, false, { checked: false, label: ' ' });\n        this.cBoxTrue.insertBefore(this.parent.createElement('input', {\n            className: 'e-chk-hidden', attrs: { type: 'checkbox' }\n        }), this.cBoxTrue.firstChild);\n        this.cBoxFalse.insertBefore(this.parent.createElement('input', {\n            className: 'e-chk-hidden', attrs: { 'type': 'checkbox' }\n        }), this.cBoxFalse.firstChild);\n        this.cBoxFalse.querySelector('.e-frame').classList.add('e-uncheck');\n        if (this.parent.enableRtl) {\n            addClass([this.cBoxTrue, this.cBoxFalse], ['e-rtl']);\n        }\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    CheckBoxFilterBase.prototype.destroy = function () {\n        this.closeDialog();\n    };\n    CheckBoxFilterBase.prototype.wireEvents = function () {\n        EventHandler.add(this.dlg, 'click', this.clickHandler, this);\n        EventHandler.add(this.dlg, 'keyup', this.keyupHandler, this);\n        this.searchHandler = debounce(this.searchBoxKeyUp, 200);\n        var elem = this.dialogObj.element.querySelector('.e-searchinput');\n        if (elem) {\n            EventHandler.add(elem, 'keyup', this.searchHandler, this);\n        }\n    };\n    CheckBoxFilterBase.prototype.unWireEvents = function () {\n        EventHandler.remove(this.dlg, 'click', this.clickHandler);\n        EventHandler.remove(this.dlg, 'keyup', this.keyupHandler);\n        var elem = this.dialogObj.element.querySelector('.e-searchinput');\n        if (elem) {\n            EventHandler.remove(elem, 'keyup', this.searchHandler);\n        }\n    };\n    CheckBoxFilterBase.prototype.foreignKeyFilter = function (args, fColl, mPredicate) {\n        var _this = this;\n        var fPredicate = {};\n        var filterCollection = [];\n        var query = this.foreignKeyQuery.clone();\n        this.options.column.dataSource.\n            executeQuery(query.where(mPredicate)).then(function (e) {\n            _this.options.column.columnData = e.result;\n            _this.parent.notify(events.generateQuery, { predicate: fPredicate, column: _this.options.column });\n            args.ejpredicate = fPredicate.predicate.predicates;\n            var fpred = fPredicate.predicate.predicates;\n            for (var i = 0; i < fpred.length; i++) {\n                filterCollection.push({\n                    field: fpred[i].field,\n                    predicate: 'or',\n                    matchCase: fpred[i].ignoreCase,\n                    ignoreAccent: fpred[i].ignoreAccent,\n                    operator: fpred[i].operator,\n                    value: fpred[i].value,\n                    type: _this.options.type\n                });\n            }\n            args.filterCollection = filterCollection.length ? filterCollection :\n                fColl.filter(function (col) { return col.field = _this.options.field; });\n            _this.options.handler(args);\n        });\n    };\n    CheckBoxFilterBase.prototype.foreignFilter = function (args, value) {\n        var operator = this.options.isRemote ?\n            (this.options.column.type === 'string' ? 'contains' : 'equal') : (this.options.column.type ? 'contains' : 'equal');\n        var initalPredicate = new Predicate(this.options.column.foreignKeyValue, operator, value, true, this.options.ignoreAccent);\n        this.foreignKeyFilter(args, [args.filterCollection], initalPredicate);\n    };\n    CheckBoxFilterBase.prototype.searchBoxClick = function (e) {\n        var target = e.target;\n        if (target.classList.contains('e-searchclear')) {\n            this.sInput.value = '';\n            this.refreshCheckboxes();\n            this.updateSearchIcon();\n            this.sInput.focus();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CheckBoxFilterBase.prototype.searchBoxKeyUp = function (e) {\n        this.refreshCheckboxes();\n        this.updateSearchIcon();\n    };\n    CheckBoxFilterBase.prototype.updateSearchIcon = function () {\n        if (this.sInput.value.length) {\n            classList(this.sIcon, ['e-chkcancel-icon'], ['e-search-icon']);\n        }\n        else {\n            classList(this.sIcon, ['e-search-icon'], ['e-chkcancel-icon']);\n        }\n    };\n    /**\n     * Gets the localized label by locale keyword.\n     *\n     * @param {string} key - Defines localization key\n     * @returns {string} - returns localization label\n     */\n    CheckBoxFilterBase.prototype.getLocalizedLabel = function (key) {\n        return this.localeObj.getConstant(key);\n    };\n    CheckBoxFilterBase.prototype.updateDataSource = function () {\n        var dataSource = this.options.dataSource;\n        var str = 'object';\n        if (!(dataSource instanceof DataManager)) {\n            for (var i = 0; i < dataSource.length; i++) {\n                // eslint-disable-next-line valid-typeof\n                if (typeof dataSource !== str) {\n                    var obj = {};\n                    obj[this.options.field] = dataSource[i];\n                    dataSource[i] = obj;\n                }\n            }\n        }\n    };\n    CheckBoxFilterBase.prototype.updateModel = function (options) {\n        this.options = options;\n        this.existingPredicate = options.actualPredicate || {};\n        this.options.dataSource = options.dataSource;\n        this.options.dataManager = options.dataManager ? options.dataManager : options.dataSource;\n        this.updateDataSource();\n        this.options.type = options.type;\n        this.options.format = options.format || '';\n        this.options.ignoreAccent = options.ignoreAccent || false;\n        this.options.filteredColumns = options.filteredColumns || this.parent.filterSettings.columns;\n        this.options.query = options.query || new Query();\n        this.options.allowCaseSensitive = options.allowCaseSensitive || false;\n        this.options.uid = options.column.uid;\n        this.values = {};\n        this.localeObj = options.localeObj;\n        this.isFiltered = options.filteredColumns.length;\n    };\n    CheckBoxFilterBase.prototype.getAndSetChkElem = function (options) {\n        this.dlg = this.parent.createElement('div', {\n            id: this.id + this.options.type + '_excelDlg',\n            attrs: { uid: this.options.column.uid },\n            className: 'e-checkboxfilter e-filter-popup'\n        });\n        this.sBox = this.parent.createElement('div', { className: 'e-searchcontainer' });\n        if (!options.hideSearchbox) {\n            this.sInput = this.parent.createElement('input', {\n                id: this.id + '_SearchBox',\n                className: 'e-searchinput'\n            });\n            this.sIcon = this.parent.createElement('span', {\n                className: 'e-searchclear e-search-icon e-icons e-input-group-icon', attrs: {\n                    type: 'text', title: this.getLocalizedLabel('Search')\n                }\n            });\n            this.searchBox = this.parent.createElement('span', { className: 'e-searchbox e-fields' });\n            this.searchBox.appendChild(this.sInput);\n            this.sBox.appendChild(this.searchBox);\n            var inputargs = {\n                element: this.sInput, floatLabelType: 'Never', properties: {\n                    placeholder: this.getLocalizedLabel('Search')\n                }\n            };\n            Input.createInput(inputargs, this.parent.createElement);\n            this.searchBox.querySelector('.e-input-group').appendChild(this.sIcon);\n        }\n        this.spinner = this.parent.createElement('div', { className: 'e-spinner' }); //for spinner\n        this.cBox = this.parent.createElement('div', {\n            id: this.id + this.options.type + '_CheckBoxList',\n            className: 'e-checkboxlist e-fields'\n        });\n        this.spinner.appendChild(this.cBox);\n        this.sBox.appendChild(this.spinner);\n        return this.sBox;\n    };\n    CheckBoxFilterBase.prototype.showDialog = function (options) {\n        var args = {\n            requestType: events.filterBeforeOpen,\n            columnName: this.options.field, columnType: this.options.type, cancel: false\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.notify(events.cBoxFltrBegin, args);\n        if (args.cancel) {\n            options.cancel = args.cancel;\n            return;\n        }\n        this.dialogObj = new Dialog({\n            visible: false, content: this.sBox,\n            close: this.closeDialog.bind(this),\n            enableRtl: this.parent.enableRtl,\n            width: (!isNullOrUndefined(parentsUntil(options.target, 'e-bigger')))\n                || this.parent.element.classList.contains('e-device') ? 260 : 255,\n            target: this.parent.element, animationSettings: { effect: 'None' },\n            buttons: [{\n                    click: this.btnClick.bind(this),\n                    buttonModel: {\n                        content: this.getLocalizedLabel(this.isExcel ? 'OKButton' : 'FilterButton'),\n                        cssClass: 'e-primary', isPrimary: true\n                    }\n                },\n                {\n                    click: this.btnClick.bind(this),\n                    buttonModel: { cssClass: 'e-flat', content: this.getLocalizedLabel(this.isExcel ? 'CancelButton' : 'ClearButton') }\n                }],\n            created: this.dialogCreated.bind(this),\n            open: this.dialogOpen.bind(this)\n        });\n        var isStringTemplate = 'isStringTemplate';\n        this.dialogObj[isStringTemplate] = true;\n        this.renderResponsiveFilter(options);\n        this.dlg.setAttribute('aria-label', this.getLocalizedLabel('ExcelFilterDialogARIA'));\n        if (options.isResponsiveFilter) {\n            var responsiveCnt = document.querySelector('.e-responsive-dialog > .e-dlg-content > .e-mainfilterdiv');\n            responsiveCnt.appendChild(this.dlg);\n        }\n        else {\n            this.parent.element.appendChild(this.dlg);\n        }\n        this.dialogObj.appendTo(this.dlg);\n        this.dialogObj.element.style.maxHeight = options.isResponsiveFilter ? 'none' : this.options.height + 'px';\n        this.dialogObj.show();\n        var content = this.dialogObj.element.querySelector('.e-dlg-content');\n        content.appendChild(this.sBox);\n        this.wireEvents();\n        createSpinner({ target: this.spinner }, this.parent.createElement);\n        showSpinner(this.spinner);\n        this.getAllData();\n    };\n    CheckBoxFilterBase.prototype.renderResponsiveFilter = function (options) {\n        if (options.isResponsiveFilter) {\n            this.dialogObj.buttons = [{}];\n            this.dialogObj.position = { X: '', Y: '' };\n            this.dialogObj.target = document.querySelector('.e-resfilter > .e-dlg-content > .e-mainfilterdiv');\n            this.dialogObj.width = '100%';\n        }\n    };\n    CheckBoxFilterBase.prototype.dialogCreated = function (e) {\n        if (this.options.isResponsiveFilter) {\n            this.dialogObj.element.style.left = '0px';\n        }\n        else {\n            if (!Browser.isDevice) {\n                getFilterMenuPostion(this.options.target, this.dialogObj);\n            }\n            else {\n                this.dialogObj.position = { X: 'center', Y: 'center' };\n            }\n        }\n        if (this.options.column.showColumnMenu) {\n            this.parent.notify(events.filterDialogCreated, e);\n        }\n    };\n    CheckBoxFilterBase.prototype.openDialog = function (options) {\n        this.updateModel(options);\n        this.getAndSetChkElem(options);\n        this.showDialog(options);\n    };\n    CheckBoxFilterBase.prototype.closeDialog = function () {\n        if (this.dialogObj && !this.dialogObj.isDestroyed) {\n            this.isBlanks = false;\n            var filterTemplateCol = this.options.columns.filter(function (col) { return col.getFilterItemTemplate(); });\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var registeredTemplate = this.parent.registeredTemplate;\n            if (filterTemplateCol.length && !isNullOrUndefined(registeredTemplate) && registeredTemplate.filterItemTemplate) {\n                this.parent.destroyTemplate(['filterItemTemplate']);\n            }\n            if ((this.parent.isReact || this.parent.isVue) && this.parent.destroyTemplate !== undefined) {\n                clearReactVueTemplates(this.parent, ['filterItemTemplate']);\n            }\n            this.parent.notify(events.filterMenuClose, { field: this.options.field });\n            this.dialogObj.destroy();\n            this.unWireEvents();\n            remove(this.dlg);\n            this.dlg = null;\n            this.parent.notify(events.filterDialogClose, {});\n        }\n    };\n    /**\n     * @param {Column} col - Defines column details\n     * @returns {void}\n     * @hidden\n     */\n    CheckBoxFilterBase.prototype.clearFilter = function (col) {\n        // eslint-disable-next-line max-len\n        var args = { instance: this, handler: this.clearFilter, cancel: false };\n        this.parent.notify(events.fltrPrevent, args);\n        if (args.cancel) {\n            return;\n        }\n        this.options.handler({ action: 'clear-filter', field: col ? col.field : this.options.field });\n    };\n    CheckBoxFilterBase.prototype.btnClick = function (e) {\n        if (this.filterState) {\n            if ((e.target.tagName.toLowerCase() === 'input' && e.target.classList.contains('e-searchinput')) ||\n                e.keyCode === 13) {\n                this.fltrBtnHandler();\n            }\n            else {\n                var text = e.target.firstChild.textContent.toLowerCase();\n                if (this.getLocalizedLabel(this.isExcel ? 'OKButton' : 'FilterButton').toLowerCase() === text) {\n                    this.fltrBtnHandler();\n                }\n                else if (this.getLocalizedLabel('ClearButton').toLowerCase() === text) {\n                    this.clearFilter();\n                }\n            }\n            this.closeDialog();\n        }\n        else if (!(e.target.tagName.toLowerCase() === 'input')) {\n            this.clearFilter();\n            this.closeDialog();\n        }\n        if (this.options.column.showColumnMenu) {\n            this.parent.notify(events.afterFilterColumnMenuClose, {});\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    CheckBoxFilterBase.prototype.fltrBtnHandler = function () {\n        var _this = this;\n        var checked = [].slice.call(this.cBox.querySelectorAll('.e-check:not(.e-selectall)'));\n        var check = checked;\n        var optr = 'equal';\n        var ddlValue = this.dialogObj.element.querySelector('.e-dropdownlist');\n        if (ddlValue) {\n            this.options.operator = optr = ddlValue.ej2_instances[0].value;\n        }\n        this.isMenuNotEqual = this.options.operator === 'notequal';\n        var searchInput;\n        if (!this.options.hideSearchbox) {\n            searchInput = this.searchBox.querySelector('.e-searchinput');\n        }\n        var caseSen = this.options.allowCaseSensitive;\n        var defaults = {\n            field: this.options.field, predicate: this.isMenuNotEqual ? 'and' : 'or', uid: this.options.uid,\n            operator: optr, type: this.options.type, matchCase: caseSen, ignoreAccent: this.options.ignoreAccent\n        };\n        var isNotEqual = this.itemsCnt !== checked.length && this.itemsCnt - checked.length < checked.length;\n        if (isNotEqual && searchInput && searchInput.value === '') {\n            optr = this.isMenuNotEqual ? 'equal' : 'notequal';\n            checked = [].slice.call(this.cBox.querySelectorAll('.e-uncheck:not(.e-selectall)'));\n            defaults.predicate = this.isMenuNotEqual ? 'or' : 'and';\n            defaults.operator = optr;\n        }\n        var value;\n        var val;\n        var length;\n        var fObj;\n        var coll = [];\n        if (checked.length !== this.itemsCnt || (searchInput && searchInput.value && searchInput.value !== '')) {\n            for (var i = 0; i < checked.length; i++) {\n                value = this.values[parentsUntil(checked[i], 'e-ftrchk').getAttribute('uid')];\n                fObj = extend({}, { value: value }, defaults);\n                if (value && !value.toString().length) {\n                    fObj.operator = isNotEqual ? 'notequal' : 'equal';\n                }\n                if (value === '' || isNullOrUndefined(value)) {\n                    coll = coll.concat(CheckBoxFilterBase.generateNullValuePredicates(defaults));\n                }\n                else {\n                    coll.push(fObj);\n                }\n                var args = {\n                    instance: this, handler: this.fltrBtnHandler, arg1: fObj.field, arg2: fObj.predicate, arg3: fObj.operator,\n                    arg4: fObj.matchCase, arg5: fObj.ignoreAccent, arg6: fObj.value, cancel: false\n                };\n                this.parent.notify(events.fltrPrevent, args);\n                if (args.cancel) {\n                    return;\n                }\n            }\n            if (this.options.type === 'date' || this.options.type === 'datetime') {\n                length = check.length - 1;\n                val = this.values[parentsUntil(check[length], 'e-ftrchk').getAttribute('uid')];\n                if (isNullOrUndefined(val) && isNotEqual) {\n                    coll.push({\n                        field: defaults.field, matchCase: defaults.matchCase, operator: 'equal',\n                        predicate: 'and', value: null\n                    });\n                }\n            }\n            this.initiateFilter(coll);\n        }\n        else {\n            var isClearFilter = this.options.filteredColumns.some(function (value) {\n                return _this.options.field === value.field;\n            });\n            if (isClearFilter) {\n                this.clearFilter();\n            }\n        }\n    };\n    // eslint-disable-next-line\n    /** @hidden */\n    CheckBoxFilterBase.generateNullValuePredicates = function (defaults) {\n        var coll = [];\n        if (defaults.type === 'string') {\n            coll.push({\n                field: defaults.field, ignoreAccent: defaults.ignoreAccent, matchCase: defaults.matchCase,\n                operator: defaults.operator, predicate: defaults.predicate, value: ''\n            });\n        }\n        coll.push({\n            field: defaults.field,\n            matchCase: defaults.matchCase, operator: defaults.operator, predicate: defaults.predicate, value: null\n        });\n        coll.push({\n            field: defaults.field, matchCase: defaults.matchCase, operator: defaults.operator,\n            predicate: defaults.predicate, value: undefined\n        });\n        return coll;\n    };\n    CheckBoxFilterBase.prototype.initiateFilter = function (fColl) {\n        var firstVal = fColl[0];\n        var predicate;\n        if (!isNullOrUndefined(firstVal)) {\n            predicate = firstVal.ejpredicate ? firstVal.ejpredicate :\n                new Predicate(firstVal.field, firstVal.operator, firstVal.value, !firstVal.matchCase, firstVal.ignoreAccent);\n            for (var j = 1; j < fColl.length; j++) {\n                predicate = fColl[j].ejpredicate !== undefined ?\n                    predicate[fColl[j].predicate](fColl[j].ejpredicate) :\n                    predicate[fColl[j].predicate](fColl[j].field, fColl[j].operator, fColl[j].value, !fColl[j].matchCase, fColl[j].ignoreAccent);\n            }\n            var args = {\n                action: 'filtering', filterCollection: fColl, field: this.options.field,\n                ejpredicate: Predicate.or(predicate)\n            };\n            this.options.handler(args);\n        }\n    };\n    CheckBoxFilterBase.prototype.isForeignColumn = function (col) {\n        return col.isForeignColumn ? col.isForeignColumn() : false;\n    };\n    CheckBoxFilterBase.prototype.refreshCheckboxes = function () {\n        var _this = this;\n        var val = this.sInput.value;\n        var column = this.options.column;\n        var query = this.isForeignColumn(column) ? this.foreignKeyQuery.clone() : this.options.query.clone();\n        var foreignQuery = this.options.query.clone();\n        var pred = query.queries.filter(function (e) { return e && e.fn === 'onWhere'; })[0];\n        query.queries = [];\n        foreignQuery.queries = [];\n        var parsed = (this.options.type !== 'string' && parseFloat(val)) ? parseFloat(val) : val;\n        var operator = this.options.isRemote ?\n            (this.options.type === 'string' ? 'contains' : 'equal') : (this.options.type ? 'contains' : 'equal');\n        var matchCase = true;\n        var ignoreAccent = this.options.ignoreAccent;\n        var field = this.isForeignColumn(column) ? column.foreignKeyValue : column.field;\n        parsed = (parsed === '' || parsed === undefined) ? undefined : parsed;\n        var coll = [];\n        var defaults = {\n            field: field, predicate: 'or', uid: this.options.uid,\n            operator: 'equal', type: this.options.type, matchCase: matchCase, ignoreAccent: ignoreAccent\n        };\n        var predicte;\n        var moduleName = this.options.dataManager.adaptor.getModuleName;\n        if (this.options.type === 'boolean') {\n            if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterTrue').toLowerCase().indexOf(parsed.toLowerCase()) !== -1) {\n                parsed = 'true';\n            }\n            else if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterFalse').toLowerCase().indexOf(parsed.toLowerCase()) !== -1) {\n                parsed = 'false';\n            }\n            if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterTrue').toLowerCase().indexOf(parsed.toLowerCase()) !== -1 && moduleName) {\n                // eslint-disable-next-line no-constant-condition\n                parsed = (moduleName() === 'ODataAdaptor' || 'ODataV4Adaptor') ? true : 'true';\n            }\n            else if (parsed !== undefined &&\n                this.getLocalizedLabel('FilterFalse').toLowerCase().indexOf(parsed.toLowerCase()) !== -1 && moduleName) {\n                // eslint-disable-next-line no-constant-condition\n                parsed = (moduleName() === 'ODataAdaptor' || 'ODataV4Adaptor') ? false : 'false';\n            }\n            operator = 'equal';\n        }\n        if ((this.options.type === 'date' || this.options.type === 'datetime') && this.options.format) {\n            var intl = new Internationalization();\n            var format = typeof (this.options.format) === 'string' ? this.options.format :\n                this.options.format.format;\n            if (format) {\n                parsed = intl.parseDate(val, { format: format }) || new Date(val);\n            }\n            else {\n                parsed = new Date(val);\n            }\n        }\n        this.addDistinct(query);\n        var args = {\n            requestType: events.filterSearchBegin,\n            filterModel: this, columnName: field, column: column,\n            operator: operator, matchCase: matchCase, ignoreAccent: ignoreAccent, filterChoiceCount: null,\n            query: query, value: parsed\n        };\n        this.parent.trigger(events.actionBegin, args, function (filterargs) {\n            // eslint-disable-next-line no-self-assign\n            filterargs.operator = filterargs.operator;\n            predicte = new Predicate(field, filterargs.operator, parsed, filterargs.matchCase, filterargs.ignoreAccent);\n            if (_this.options.type === 'date' || _this.options.type === 'datetime') {\n                operator = 'equal';\n                var filterObj = {\n                    field: field, operator: operator, value: parsed, matchCase: matchCase,\n                    ignoreAccent: ignoreAccent\n                };\n                if (!isNullOrUndefined(parsed)) {\n                    predicte = getDatePredicate(filterObj, _this.options.type);\n                }\n            }\n            if (val && typeof val === 'string' && _this.isBlanks &&\n                _this.getLocalizedLabel('Blanks').toLowerCase().indexOf(val.toLowerCase()) >= 0) {\n                coll = coll.concat(CheckBoxFilterBase.generateNullValuePredicates(defaults));\n                var emptyValPredicte = CheckBoxFilterBase.generatePredicate(coll);\n                emptyValPredicte.predicates.push(predicte);\n                query.where(emptyValPredicte);\n            }\n            else if (val.length) {\n                predicte = !isNullOrUndefined(pred) ? predicte.and(pred.e) : predicte;\n                query.where(predicte);\n            }\n            else if (!isNullOrUndefined(pred)) {\n                query.where(pred.e);\n            }\n            filterargs.filterChoiceCount = !isNullOrUndefined(filterargs.filterChoiceCount) ? filterargs.filterChoiceCount : 1000;\n            var fPredicate = {};\n            showSpinner(_this.spinner);\n            _this.renderEmpty = false;\n            if (_this.isForeignColumn(column) && val.length) {\n                var colData = ('result' in column.dataSource) ? new DataManager(column.dataSource.result) :\n                    column.dataSource;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                colData.executeQuery(query).then(function (e) {\n                    var columnData = _this.options.column.columnData;\n                    _this.options.column.columnData = e.result;\n                    _this.parent.notify(events.generateQuery, { predicate: fPredicate, column: column });\n                    if (fPredicate.predicate.predicates.length) {\n                        foreignQuery.where(fPredicate.predicate);\n                    }\n                    else {\n                        _this.renderEmpty = true;\n                    }\n                    _this.options.column.columnData = columnData;\n                    foreignQuery.take(filterargs.filterChoiceCount);\n                    _this.search(filterargs, foreignQuery);\n                });\n            }\n            else {\n                query.take(filterargs.filterChoiceCount);\n                _this.search(filterargs, query);\n            }\n        });\n    };\n    CheckBoxFilterBase.prototype.search = function (args, query) {\n        if (this.parent.dataSource && 'result' in this.parent.dataSource) {\n            this.filterEvent(args, query);\n        }\n        else {\n            this.processSearch(query);\n        }\n    };\n    CheckBoxFilterBase.prototype.getPredicateFromCols = function (columns) {\n        var predicates = CheckBoxFilterBase.getPredicate(columns);\n        var predicateList = [];\n        var fPredicate = {};\n        var isGrid = this.parent.getForeignKeyColumns !== undefined;\n        var foreignColumn = isGrid ? this.parent.getForeignKeyColumns() : [];\n        for (var _i = 0, _a = Object.keys(predicates); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var col = void 0;\n            if (isGrid && this.parent.getColumnByField(prop).isForeignColumn()) {\n                col = getColumnByForeignKeyValue(prop, foreignColumn);\n            }\n            if (col) {\n                this.parent.notify(events.generateQuery, { predicate: fPredicate, column: col });\n                if (fPredicate.predicate.predicates.length) {\n                    predicateList.push(Predicate.or(fPredicate.predicate.predicates));\n                }\n            }\n            else {\n                predicateList.push(predicates[prop]);\n            }\n        }\n        return predicateList.length && Predicate.and(predicateList);\n    };\n    CheckBoxFilterBase.prototype.getQuery = function () {\n        return this.parent.getQuery ? this.parent.getQuery().clone() : new Query();\n    };\n    CheckBoxFilterBase.prototype.getAllData = function () {\n        var _this = this;\n        var query = this.getQuery();\n        query.requiresCount(); //consider take query\n        this.addDistinct(query);\n        var args = {\n            requestType: events.filterChoiceRequest, query: query, filterChoiceCount: null\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.trigger(events.actionBegin, args, function (args) {\n            args.filterChoiceCount = !isNullOrUndefined(args.filterChoiceCount) ? args.filterChoiceCount : 1000;\n            query.take(args.filterChoiceCount);\n            if (_this.parent.dataSource && 'result' in _this.parent.dataSource) {\n                _this.filterEvent(args, query);\n            }\n            else {\n                _this.processDataOperation(query, true);\n            }\n        });\n    };\n    CheckBoxFilterBase.prototype.addDistinct = function (query) {\n        var filteredColumn = DataUtil.distinct(this.options.filteredColumns, 'field');\n        if (filteredColumn.indexOf(this.options.column.field) <= -1) {\n            filteredColumn = filteredColumn.concat(this.options.column.field);\n        }\n        query.distinct(filteredColumn);\n        return query;\n    };\n    CheckBoxFilterBase.prototype.filterEvent = function (args, query) {\n        var _this = this;\n        var defObj = eventPromise(args, query);\n        this.parent.trigger(events.dataStateChange, defObj.state);\n        var def = defObj.deffered;\n        def.promise.then(function (e) {\n            _this.dataSuccess(e);\n        });\n    };\n    CheckBoxFilterBase.prototype.processDataOperation = function (query, isInitial) {\n        var _this = this;\n        this.options.dataSource = this.options.dataSource instanceof DataManager ?\n            this.options.dataSource : new DataManager(this.options.dataSource);\n        var allPromise = [];\n        var runArray = [];\n        if (this.isForeignColumn(this.options.column) && isInitial) {\n            var colData = ('result' in this.options.column.dataSource) ?\n                new DataManager(this.options.column.dataSource.result) :\n                this.options.column.dataSource;\n            this.foreignKeyQuery.params = query.params;\n            allPromise.push(colData.executeQuery(this.foreignKeyQuery));\n            runArray.push(function (data) { return _this.foreignKeyData = data; });\n        }\n        allPromise.push(this.options.dataSource.executeQuery(query));\n        runArray.push(this.dataSuccess.bind(this));\n        var i = 0;\n        Promise.all(allPromise).then(function (e) {\n            for (var j = 0; j < e.length; j++) {\n                runArray[i++](e[j].result);\n            }\n        });\n    };\n    CheckBoxFilterBase.prototype.dataSuccess = function (e) {\n        this.fullData = e;\n        var args1 = { dataSource: this.fullData, executeQuery: true, field: this.options.field };\n        this.parent.notify(events.beforeCheckboxRenderer, args1);\n        if (args1.executeQuery) {\n            var query = new Query();\n            if (this.parent.searchSettings && this.parent.searchSettings.key.length) {\n                var sSettings = this.parent.searchSettings;\n                var fields = sSettings.fields.length ? sSettings.fields : this.options.columns.map(function (f) { return f.field; });\n                query.search(sSettings.key, fields, sSettings.operator, sSettings.ignoreCase, sSettings.ignoreAccent);\n            }\n            if ((this.options.filteredColumns.length)) {\n                var cols = [];\n                for (var i = 0; i < this.options.filteredColumns.length; i++) {\n                    var filterColumn = this.options.filteredColumns[i];\n                    if (this.options.uid) {\n                        filterColumn.uid = filterColumn.uid || this.parent.getColumnByField(filterColumn.field).uid;\n                        if (filterColumn.uid !== this.options.uid) {\n                            cols.push(this.options.filteredColumns[i]);\n                        }\n                    }\n                    else {\n                        if (filterColumn.field !== this.options.field) {\n                            cols.push(this.options.filteredColumns[i]);\n                        }\n                    }\n                }\n                var predicate = this.getPredicateFromCols(cols);\n                if (predicate) {\n                    query.where(predicate);\n                }\n            }\n            // query.select(this.options.field);\n            var result = new DataManager(args1.dataSource).executeLocal(query);\n            var col = this.options.column;\n            this.filteredData = CheckBoxFilterBase.getDistinct(result, this.options.field, col, this.foreignKeyData).records || [];\n        }\n        var data = args1.executeQuery ? this.filteredData : args1.dataSource;\n        this.processDataSource(null, true, data, args1);\n        if (this.sInput) {\n            this.sInput.focus();\n        }\n        var args = {\n            requestType: events.filterAfterOpen,\n            columnName: this.options.field, columnType: this.options.type\n        };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.notify(events.cBoxFltrComplete, args);\n    };\n    CheckBoxFilterBase.prototype.processDataSource = function (query, isInitial, dataSource, args) {\n        showSpinner(this.spinner);\n        // query = query ? query : this.options.query.clone();\n        // query.requiresCount();\n        // let result: Object = new DataManager(dataSource as JSON[]).executeLocal(query);\n        // let res: { result: Object[] } = result as { result: Object[] };\n        this.updateResult();\n        this.createFilterItems(dataSource, isInitial, args);\n    };\n    CheckBoxFilterBase.prototype.processSearch = function (query) {\n        this.processDataOperation(query);\n    };\n    CheckBoxFilterBase.prototype.updateResult = function () {\n        this.result = {};\n        var predicate = this.getPredicateFromCols(this.options.filteredColumns);\n        var query = new Query();\n        if (predicate) {\n            query.where(predicate);\n        }\n        this.parent.notify(events.beforeCheckboxRendererQuery, { query: query });\n        var result = new DataManager(this.fullData).executeLocal(query);\n        for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n            var res = result_1[_i];\n            this.result[getObject(this.options.field, res)] = true;\n        }\n    };\n    CheckBoxFilterBase.prototype.clickHandler = function (e) {\n        var target = e.target;\n        var elem = parentsUntil(target, 'e-checkbox-wrapper');\n        if (parentsUntil(target, 'e-searchbox')) {\n            this.searchBoxClick(e);\n        }\n        if (elem) {\n            var selectAll = elem.querySelector('.e-selectall');\n            if (selectAll) {\n                this.updateAllCBoxes(!selectAll.classList.contains('e-check'));\n            }\n            else {\n                toogleCheckbox(elem.parentElement);\n            }\n            this.updateIndeterminatenBtn();\n            elem.querySelector('.e-chk-hidden').focus();\n        }\n        this.setFocus(parentsUntil(elem, 'e-ftrchk'));\n    };\n    CheckBoxFilterBase.prototype.keyupHandler = function (e) {\n        this.setFocus(parentsUntil(e.target, 'e-ftrchk'));\n    };\n    CheckBoxFilterBase.prototype.setFocus = function (elem) {\n        var prevElem = this.dlg.querySelector('.e-chkfocus');\n        if (prevElem) {\n            prevElem.classList.remove('e-chkfocus');\n        }\n        if (elem) {\n            elem.classList.add('e-chkfocus');\n        }\n    };\n    CheckBoxFilterBase.prototype.updateAllCBoxes = function (checked) {\n        var cBoxes = [].slice.call(this.cBox.getElementsByClassName('e-frame'));\n        for (var _i = 0, cBoxes_1 = cBoxes; _i < cBoxes_1.length; _i++) {\n            var cBox = cBoxes_1[_i];\n            removeAddCboxClasses(cBox, checked);\n            setChecked(cBox.previousSibling, checked);\n        }\n    };\n    CheckBoxFilterBase.prototype.dialogOpen = function () {\n        if (this.parent.element.classList.contains('e-device')) {\n            this.dialogObj.element.querySelector('.e-input-group').classList.remove('e-input-focus');\n            if (!this.options.isResponsiveFilter) {\n                this.dialogObj.element.querySelector('.e-btn').focus();\n            }\n        }\n    };\n    CheckBoxFilterBase.prototype.createCheckbox = function (value, checked, data) {\n        var elem = checked ? this.cBoxTrue.cloneNode(true) :\n            this.cBoxFalse.cloneNode(true);\n        setChecked(elem.querySelector('input'), checked);\n        var label = elem.querySelector('.e-label');\n        var dummyData = extendObjWithFn({}, data, { column: this.options.column, parent: this.parent });\n        label.innerHTML = !isNullOrUndefined(value) && value.toString().length ? value :\n            this.getLocalizedLabel('Blanks');\n        if (label.innerHTML === this.getLocalizedLabel('Blanks')) {\n            this.isBlanks = true;\n        }\n        if (typeof value === 'boolean') {\n            label.innerHTML = value === true ? this.getLocalizedLabel('FilterTrue') : this.getLocalizedLabel('FilterFalse');\n        }\n        addClass([label], ['e-checkboxfiltertext']);\n        if (this.options.template && data[this.options.column.field] !== this.getLocalizedLabel('SelectAll')) {\n            label.innerHTML = '';\n            var isReactCompiler = this.parent.isReact && this.options.column.filter\n                && typeof (this.options.column.filter.itemTemplate) !== 'string';\n            if (isReactCompiler) {\n                this.options.template(dummyData, this.parent, 'filterItemTemplate', null, null, null, label);\n                this.parent.renderTemplates();\n            }\n            else {\n                appendChildren(label, this.options.template(dummyData, this.parent, 'filterItemTemplate'));\n            }\n        }\n        return elem;\n    };\n    CheckBoxFilterBase.prototype.updateIndeterminatenBtn = function () {\n        var cnt = this.cBox.children.length - 1;\n        var className = [];\n        var disabled = false;\n        var elem = this.cBox.querySelector('.e-selectall');\n        var selected = this.cBox.querySelectorAll('.e-check:not(.e-selectall)').length;\n        var btn;\n        if (!this.options.isResponsiveFilter) {\n            btn = this.dialogObj.btnObj[0];\n            btn.disabled = false;\n        }\n        var input = elem.previousSibling;\n        setChecked(input, false);\n        input.indeterminate = false;\n        if (cnt === selected) {\n            className = ['e-check'];\n            setChecked(input, true);\n        }\n        else if (selected) {\n            className = ['e-stop'];\n            input.indeterminate = true;\n        }\n        else {\n            className = ['e-uncheck'];\n            disabled = true;\n            if (btn) {\n                btn.disabled = true;\n            }\n        }\n        if (btn) {\n            this.filterState = !btn.disabled;\n            btn.dataBind();\n        }\n        removeClass([elem], ['e-check', 'e-stop', 'e-uncheck']);\n        addClass([elem], className);\n        this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: disabled });\n    };\n    CheckBoxFilterBase.prototype.createFilterItems = function (data, isInitial, args1) {\n        var _a;\n        var cBoxes = this.parent.createElement('div');\n        var btn;\n        var disabled = false;\n        if (!this.options.isResponsiveFilter) {\n            btn = this.dialogObj.btnObj[0];\n        }\n        var nullCounter = -1;\n        var key = 'ejValue';\n        if (!args1.executeQuery) {\n            key = args1.field;\n        }\n        for (var i = 0; i < data.length; i++) {\n            var val = getValue(key, data[i]);\n            if (val === '' || isNullOrUndefined(val)) {\n                nullCounter = nullCounter + 1;\n            }\n        }\n        this.itemsCnt = nullCounter !== -1 ? data.length - nullCounter : data.length;\n        if (data.length && !this.renderEmpty) {\n            var selectAllValue = this.getLocalizedLabel('SelectAll');\n            var innerDiv = this.cBox.querySelector('.e-checkfltrnmdiv');\n            if (innerDiv) {\n                innerDiv.classList.remove('e-checkfltrnmdiv');\n            }\n            var checkBox = this.createCheckbox(selectAllValue, false, (_a = {}, _a[this.options.field] = selectAllValue, _a));\n            var selectAll = createCboxWithWrap(getUid('cbox'), checkBox, 'e-ftrchk');\n            selectAll.querySelector('.e-frame').classList.add('e-selectall');\n            cBoxes.appendChild(selectAll);\n            var predicate = new Predicate('field', 'equal', this.options.field);\n            if (this.options.foreignKeyValue) {\n                predicate = predicate.or('field', 'equal', this.options.foreignKeyValue);\n            }\n            var isColFiltered = new DataManager(this.options.filteredColumns).executeLocal(new Query().where(predicate)).length;\n            var isRndere = void 0;\n            for (var i = 0; i < data.length; i++) {\n                var uid = getUid('cbox');\n                this.values[uid] = getValue(key, data[i]);\n                var value = getValue(this.options.field, data[i]);\n                if (this.options.formatFn) {\n                    value = this.valueFormatter.toView(value, this.options.formatFn);\n                }\n                var args_1 = { value: value, column: this.options.column, data: data[i] };\n                this.parent.notify(events.filterCboxValue, args_1);\n                value = args_1.value;\n                if ((value === '' || isNullOrUndefined(value))) {\n                    if (isRndere) {\n                        continue;\n                    }\n                    isRndere = true;\n                }\n                var checkbox = this.createCheckbox(value, this.getCheckedState(isColFiltered, this.values[uid]), getValue('dataObj', data[i]));\n                cBoxes.appendChild(createCboxWithWrap(uid, checkbox, 'e-ftrchk'));\n            }\n            this.cBox.innerHTML = '';\n            appendChildren(this.cBox, [].slice.call(cBoxes.children));\n            this.updateIndeterminatenBtn();\n            if (btn) {\n                btn.disabled = false;\n            }\n            disabled = false;\n        }\n        else {\n            cBoxes.appendChild(this.parent.createElement('span', { innerHTML: this.getLocalizedLabel('NoResult') }));\n            this.cBox.innerHTML = '';\n            this.cBox.appendChild(this.parent.createElement('div', { className: 'e-checkfltrnmdiv' }));\n            appendChildren(this.cBox.children[0], [].slice.call(cBoxes.children));\n            if (btn) {\n                btn.disabled = true;\n            }\n            disabled = true;\n        }\n        if (btn) {\n            this.filterState = !btn.disabled;\n            btn.dataBind();\n        }\n        var args = { requestType: events.filterChoiceRequest, dataSource: this.renderEmpty ? [] : data };\n        var filterModel = 'filterModel';\n        args[filterModel] = this;\n        this.parent.notify(events.cBoxFltrComplete, args);\n        this.parent.notify(events.refreshCustomFilterOkBtn, { disabled: disabled });\n        hideSpinner(this.spinner);\n    };\n    CheckBoxFilterBase.prototype.getCheckedState = function (isColFiltered, value) {\n        if (!this.isFiltered || !isColFiltered) {\n            return true;\n        }\n        else {\n            var checkState = this.result[value];\n            return this.options.operator === 'notequal' ? !checkState : checkState;\n        }\n    };\n    CheckBoxFilterBase.getDistinct = function (json, field, column, foreignKeyData) {\n        var len = json.length;\n        var result = [];\n        var value;\n        var ejValue = 'ejValue';\n        var lookup = {};\n        var isForeignKey = column && column.isForeignColumn ? column.isForeignColumn() : false;\n        while (len--) {\n            value = json[len];\n            value = getObject(field, value); //local remote diff, check with mdu\n            if (!(value in lookup)) {\n                var obj = {};\n                obj[ejValue] = value;\n                lookup[value] = true;\n                if (isForeignKey) {\n                    var foreignDataObj = getForeignData(column, {}, value, foreignKeyData)[0];\n                    setValue(events.foreignKeyData, foreignDataObj, json[len]);\n                    value = getValue(column.foreignKeyValue, foreignDataObj);\n                }\n                setValue(field, isNullOrUndefined(value) ? null : value, obj);\n                setValue('dataObj', json[len], obj);\n                result.push(obj);\n            }\n        }\n        return DataUtil.group(DataUtil.sort(result, field, DataUtil.fnAscending), 'ejValue');\n    };\n    CheckBoxFilterBase.getPredicate = function (columns) {\n        var cols = DataUtil.distinct(columns, 'field', true) || [];\n        var collection = [];\n        var pred = {};\n        for (var i = 0; i < cols.length; i++) {\n            collection = new DataManager(columns).executeLocal(new Query().where('field', 'equal', cols[i].field));\n            if (collection.length !== 0) {\n                pred[cols[i].field] = CheckBoxFilterBase.generatePredicate(collection);\n            }\n        }\n        return pred;\n    };\n    CheckBoxFilterBase.generatePredicate = function (cols) {\n        var len = cols ? cols.length : 0;\n        var predicate;\n        var operate = 'or';\n        var first = CheckBoxFilterBase.updateDateFilter(cols[0]);\n        first.ignoreAccent = !isNullOrUndefined(first.ignoreAccent) ? first.ignoreAccent : false;\n        if (first.type === 'date' || first.type === 'datetime') {\n            predicate = getDatePredicate(first, first.type);\n        }\n        else {\n            predicate = first.ejpredicate ? first.ejpredicate :\n                new Predicate(first.field, first.operator, first.value, !CheckBoxFilterBase.getCaseValue(first), first.ignoreAccent);\n        }\n        for (var p = 1; p < len; p++) {\n            cols[p] = CheckBoxFilterBase.updateDateFilter(cols[p]);\n            if (len > 2 && p > 1 && cols[p].predicate === 'or') {\n                if (cols[p].type === 'date' || cols[p].type === 'datetime') {\n                    predicate.predicates.push(getDatePredicate(cols[p], cols[p].type));\n                }\n                else {\n                    predicate.predicates.push(new Predicate(cols[p].field, cols[p].operator, cols[p].value, !CheckBoxFilterBase.getCaseValue(cols[p]), cols[p].ignoreAccent));\n                }\n            }\n            else {\n                if (cols[p].type === 'date' || cols[p].type === 'datetime') {\n                    if (cols[p].predicate === 'and' && cols[p].operator === 'equal') {\n                        predicate = predicate[operate](getDatePredicate(cols[p], cols[p].type), cols[p].type, cols[p].ignoreAccent);\n                    }\n                    else {\n                        predicate = predicate[(cols[p].predicate)](getDatePredicate(cols[p], cols[p].type), cols[p].type, cols[p].ignoreAccent);\n                    }\n                }\n                else {\n                    predicate = cols[p].ejpredicate ?\n                        predicate[cols[p].predicate](cols[p].ejpredicate) :\n                        predicate[(cols[p].predicate)](cols[p].field, cols[p].operator, cols[p].value, !CheckBoxFilterBase.getCaseValue(cols[p]), cols[p].ignoreAccent);\n                }\n            }\n        }\n        return predicate || null;\n    };\n    CheckBoxFilterBase.getCaseValue = function (filter) {\n        if (isNullOrUndefined(filter.matchCase)) {\n            if (filter.type === 'string' || isNullOrUndefined(filter.type) && typeof (filter.value) === 'string') {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return filter.matchCase;\n        }\n    };\n    CheckBoxFilterBase.updateDateFilter = function (filter) {\n        if ((filter.type === 'date' || filter.type === 'datetime' || filter.value instanceof Date)) {\n            filter.type = filter.type || 'date';\n        }\n        return filter;\n    };\n    return CheckBoxFilterBase;\n}());\nexport { CheckBoxFilterBase };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Cell\n *\n * @hidden\n */\nvar Cell = /** @class */ (function () {\n    function Cell(options) {\n        this.isSpanned = false;\n        this.isRowSpanned = false;\n        merge(this, options);\n    }\n    Cell.prototype.clone = function () {\n        var cell = new Cell({});\n        merge(cell, this);\n        return cell;\n    };\n    return Cell;\n}());\nexport { Cell };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { merge, isNullOrUndefined, extend, Property } from '@syncfusion/ej2-base';\nimport { Query, DataUtil } from '@syncfusion/ej2-data';\nimport { ValueFormatter } from '../services/value-formatter';\nimport { getUid, templateCompiler, getForeignData, getObject } from '../base/util';\n/**\n * Represents Grid `Column` model class.\n */\nvar Column = /** @class */ (function () {\n    function Column(options, parent) {\n        var _this = this;\n        /**\n         * If `disableHtmlEncode` is set to true, it encodes the HTML of the header and content cells.\n         *\n         * @default true\n         */\n        this.disableHtmlEncode = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * If `allowGrouping` set to false, then it disables grouping of a particular column.\n         * By default all columns are groupable.\n         *\n         * @default true\n         */\n        this.allowGrouping = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `showColumnMenu` set to false, then it disable the column menu of a particular column.\n         * By default column menu will show for all columns\n         *\n         * @default true\n         */\n        this.showColumnMenu = true;\n        /**\n         * If `enableGroupByFormat` set to true, then it groups the particular column by formatted values.\n         *\n         * @default true\n         */\n        this.enableGroupByFormat = false;\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         *  It is used to customize the default filter options for a specific columns.\n         * * type -  Specifies the filter type as menu or checkbox.\n         * * ui - to render custom component for specific column it has following functions.\n         * * ui.create  It is used for creating custom components.\n         * * ui.read -  It is used for read the value from the component.\n         * * ui.write - It is used to apply component model as dynamically.\n         * {% codeBlock src=\"grid/filter-menu-api/index.ts\" %}{% endcodeBlock %}\n         *\n         * > Check the [`Filter UI`](../../grid/filtering/#custom-component-in-filter-menu) for its customization.\n         *\n         *  @default {}\n         */\n        this.filter = {};\n        /**\n         * If `showInColumnChooser` set to false, then hide the particular column in column chooser.\n         *  By default all columns are displayed in column Chooser.\n         *\n         * @default true\n         */\n        this.showInColumnChooser = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        /**\n         * If `allowSearching` set to false, then it disables Searching of a particular column.\n         * By default all columns allow Searching.\n         *\n         * @default true\n         */\n        this.allowSearching = true;\n        /**\n         * If `autoFit` set to true, then the particular column content width will be\n         * adjusted based on its content in the initial rendering itself.\n         * Setting this property as true is equivalent to calling `autoFitColumns` method in the `dataBound` event.\n         *\n         * @default false\n         */\n        this.autoFit = false;\n        this.sortDirection = 'Descending';\n        /**\n         * @returns {Function} returns the edit template\n         * @hidden */\n        this.getEditTemplate = function () { return _this.editTemplateFn; };\n        /**\n         * @returns {Function} returns the filter template\n         * @hidden */\n        this.getFilterTemplate = function () { return _this.filterTemplateFn; };\n        merge(this, options);\n        this.parent = parent;\n        if (this.type === 'none') {\n            this.type = null;\n        }\n        else if (this.type) {\n            this.type = typeof (this.type) === 'string' ? this.type.toLowerCase() : undefined;\n        }\n        if (this.editType) {\n            this.editType = this.editType.toLowerCase();\n        }\n        if (isNullOrUndefined(this.uid)) {\n            this.uid = getUid('grid-column');\n        }\n        var valueFormatter = new ValueFormatter();\n        if (options.format && (options.format.skeleton || (options.format.format &&\n            typeof options.format.format === 'string'))) {\n            this.setFormatter(valueFormatter.getFormatFunction(extend({}, options.format)));\n            this.setParser(valueFormatter.getParserFunction(options.format));\n        }\n        this.toJSON = function () {\n            var col = {};\n            var skip = ['filter', 'dataSource', 'headerText', 'template', 'headerTemplate', 'edit',\n                'editTemplate', 'filterTemplate', 'commandsTemplate', 'parent'];\n            var keys = Object.keys(_this);\n            for (var i = 0; i < keys.length; i++) {\n                if (keys[i] === 'columns') {\n                    col[keys[i]] = [];\n                    for (var j = 0; j < _this[keys[i]].length; j++) {\n                        col[keys[i]].push(_this[keys[i]][j].toJSON());\n                    }\n                }\n                else if (skip.indexOf(keys[i]) < 0) {\n                    col[keys[i]] = _this[keys[i]];\n                }\n            }\n            return col;\n        };\n        if (!this.field) {\n            this.allowFiltering = false;\n            this.allowGrouping = false;\n            this.allowSorting = false;\n            if (this.columns) {\n                this.allowResizing = this.columns.some(function (col) {\n                    return col.allowResizing;\n                });\n            }\n        }\n        if (this.commands && !this.textAlign) {\n            this.textAlign = 'Right';\n        }\n        if (this.template || this.commandsTemplate) {\n            this.templateFn = templateCompiler(this.template || this.commandsTemplate);\n        }\n        if (this.headerTemplate) {\n            this.headerTemplateFn = templateCompiler(this.headerTemplate);\n        }\n        if (!isNullOrUndefined(this.filter) && this.filter.itemTemplate) {\n            this.fltrTemplateFn = templateCompiler(this.filter.itemTemplate);\n        }\n        if (this.editTemplate) {\n            this.editTemplateFn = templateCompiler(this.editTemplate);\n        }\n        if (this.filterTemplate) {\n            this.filterTemplateFn = templateCompiler(this.filterTemplate);\n        }\n        if (this.isForeignColumn() &&\n            (isNullOrUndefined(this.editType) || this.editType === 'dropdownedit' || this.editType === 'defaultedit')) {\n            this.editType = 'dropdownedit';\n            if (this.edit.params && this.edit.params.dataSource) {\n                this.edit.params.ddEditedData = true;\n            }\n            this.edit.params = extend({\n                dataSource: this.dataSource,\n                query: new Query(), fields: { value: this.foreignKeyField || this.field, text: this.foreignKeyValue }\n            }, this.edit.params);\n        }\n        if (this.sortComparer) {\n            var a_1 = this.sortComparer;\n            this.sortComparer = function (x, y, xObj, yObj) {\n                if (typeof a_1 === 'string') {\n                    a_1 = getObject(a_1, window);\n                }\n                if (_this.sortDirection === 'Descending') {\n                    var z = x;\n                    x = y;\n                    y = z;\n                    var obj = xObj;\n                    xObj = yObj;\n                    yObj = obj;\n                }\n                return a_1(x, y, xObj, yObj);\n            };\n        }\n        if (!this.sortComparer && this.isForeignColumn()) {\n            this.sortComparer = function (x, y) {\n                x = getObject(_this.foreignKeyValue, getForeignData(_this, {}, x)[0]);\n                y = getObject(_this.foreignKeyValue, getForeignData(_this, {}, y)[0]);\n                return _this.sortDirection === 'Descending' ? DataUtil.fnDescending(x, y) : DataUtil.fnAscending(x, y);\n            };\n        }\n    }\n    /**\n     * @returns {string} returns the sort direction\n     * @hidden */\n    Column.prototype.getSortDirection = function () {\n        return this.sortDirection;\n    };\n    /**\n     * @param {string} direction - specifies the direction\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setSortDirection = function (direction) {\n        this.sortDirection = direction;\n    };\n    /**\n     * @returns {freezeTable} returns the FreezeTable\n     * @hidden */\n    Column.prototype.getFreezeTableName = function () {\n        return this.freezeTable;\n    };\n    /**\n     * @param {Column} column - specifies the column\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setProperties = function (column) {\n        //Angular two way binding\n        var keys = Object.keys(column);\n        for (var i = 0; i < keys.length; i++) {\n            this[keys[i]] = column[keys[i]];\n            //Refresh the react columnTemplates on state change\n            if (this.parent && this.parent.isReact) {\n                if (keys[i] === 'template') {\n                    this.parent.refreshReactColumnTemplateByUid(this.uid);\n                }\n                else if (keys[i] === 'headerTemplate') {\n                    this.headerTemplateFn = templateCompiler(column[keys[i]]);\n                    this.parent.refreshReactHeaderTemplateByUid(this.uid);\n                }\n            }\n        }\n    };\n    /**\n     * @returns {boolean} returns true for foreign column\n     * @hidden\n     * It defines the column is foreign key column or not.\n     */\n    Column.prototype.isForeignColumn = function () {\n        return !!(this.dataSource && this.foreignKeyValue);\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden\n     */\n    Column.prototype.getFormatter = function () {\n        return this.formatFn;\n    };\n    /**\n     * @param {Function} value - specifies the value\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setFormatter = function (value) {\n        this.formatFn = value;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getParser = function () {\n        return this.parserFn;\n    };\n    /**\n     * @param {Function} value - specifies the value\n     * @returns {void}\n     * @hidden\n     */\n    Column.prototype.setParser = function (value) {\n        this.parserFn = value;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getColumnTemplate = function () {\n        return this.templateFn;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getHeaderTemplate = function () {\n        return this.headerTemplateFn;\n    };\n    /**\n     * @returns {Function} returns the function\n     * @hidden */\n    Column.prototype.getFilterItemTemplate = function () {\n        return this.fltrTemplateFn;\n    };\n    /**\n     * @returns {string} returns the string\n     * @hidden */\n    Column.prototype.getDomSetter = function () {\n        return this.disableHtmlEncode ? 'textContent' : 'innerHTML';\n    };\n    return Column;\n}());\nexport { Column };\n/**\n * Define options for custom command buttons.\n */\nvar CommandColumnModel = /** @class */ (function () {\n    function CommandColumnModel() {\n    }\n    __decorate([\n        Property()\n    ], CommandColumnModel.prototype, \"title\", void 0);\n    __decorate([\n        Property()\n    ], CommandColumnModel.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], CommandColumnModel.prototype, \"buttonOption\", void 0);\n    return CommandColumnModel;\n}());\nexport { CommandColumnModel };\n/**\n * Defines Grid column\n */\nvar GridColumn = /** @class */ (function (_super) {\n    __extends(GridColumn, _super);\n    function GridColumn() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], GridColumn.prototype, \"columns\", void 0);\n    return GridColumn;\n}(Column));\nexport { GridColumn };\n/**\n * Defines stacked grid column\n */\nvar StackedColumn = /** @class */ (function (_super) {\n    __extends(StackedColumn, _super);\n    function StackedColumn() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StackedColumn;\n}(GridColumn));\nexport { StackedColumn };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Row\n *\n * @hidden\n */\nvar Row = /** @class */ (function () {\n    function Row(options, parent) {\n        merge(this, options);\n        this.parent = parent;\n    }\n    Row.prototype.clone = function () {\n        var row = new Row({});\n        merge(row, this);\n        row.cells = this.cells.map(function (cell) { return cell.clone(); });\n        return row;\n    };\n    /**\n     * Replaces the row data and grid refresh the particular row element only.\n     *\n     * @param  {Object} data - To update new data for the particular row.\n     * @returns {void}\n     */\n    Row.prototype.setRowValue = function (data) {\n        if (!this.parent) {\n            return;\n        }\n        var key = this.data[this.parent.getPrimaryKeyFieldNames()[0]];\n        this.parent.setRowData(key, data);\n    };\n    /**\n     * Replaces the given field value and refresh the particular cell element only.\n     *\n     * @param {string} field - Specifies the field name which you want to update.\n     * @param {string | number | boolean | Date} value - To update new value for the particular cell.\n     * @returns {void}\n     */\n    Row.prototype.setCellValue = function (field, value) {\n        if (!this.parent) {\n            return;\n        }\n        var isValDiff = !(this.data[field].toString() === value.toString());\n        if (isValDiff) {\n            var pKeyField = this.parent.getPrimaryKeyFieldNames()[0];\n            var key = this.data[pKeyField];\n            this.parent.setCellValue(key, field, value);\n            this.makechanges(pKeyField, this.data);\n        }\n        else {\n            return;\n        }\n    };\n    Row.prototype.makechanges = function (key, data) {\n        if (!this.parent) {\n            return;\n        }\n        var gObj = this.parent;\n        var dataManager = gObj.getDataModule().dataManager;\n        dataManager.update(key, data);\n    };\n    return Row;\n}());\nexport { Row };\n","import { isNullOrUndefined, attributes } from '@syncfusion/ej2-base';\nimport { iterateArrayOrObject } from '../base/util';\nimport { CellType } from '../base/enum';\n/**\n * `CellMergeRender` module.\n *\n * @hidden\n */\nvar CellMergeRender = /** @class */ (function () {\n    function CellMergeRender(serviceLocator, parent) {\n        this.serviceLocator = serviceLocator;\n        this.parent = parent;\n    }\n    CellMergeRender.prototype.render = function (cellArgs, row, i, td) {\n        var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n        var cellRenderer = cellRendererFact.getCellRenderer(row.cells[i].cellType || CellType.Data);\n        var colSpan = row.cells[i].cellSpan ? row.cells[i].cellSpan :\n            (cellArgs.colSpan + i) <= row.cells.length ? cellArgs.colSpan : row.cells.length - i;\n        var rowSpan = cellArgs.rowSpan;\n        var visible = 0;\n        var spannedCell;\n        if (row.index > 0) {\n            var cells = this.parent.groupSettings.columns.length > 0 &&\n                !this.parent.getRowsObject()[row.index - 1].isDataRow ? this.parent.getRowsObject()[row.index].cells :\n                this.parent.getRowsObject()[row.index - 1].cells;\n            var targetCell_1 = row.cells[i];\n            var uid_1 = 'uid';\n            spannedCell = cells.filter(function (cell) { return cell.column.uid === targetCell_1.column[uid_1]; })[0];\n        }\n        var colSpanLen = spannedCell && spannedCell.colSpanRange > 1 && spannedCell.rowSpanRange > 1 ?\n            spannedCell.colSpanRange : colSpan;\n        for (var j = i + 1; j < i + colSpanLen && j < row.cells.length; j++) {\n            if (row.cells[j].visible === false) {\n                visible++;\n            }\n            else {\n                row.cells[j].isSpanned = true;\n            }\n        }\n        if (visible > 0) {\n            for (var j = i + colSpan; j < i + colSpan + visible && j < row.cells.length; j++) {\n                row.cells[j].isSpanned = true;\n            }\n            if (i + colSpan + visible >= row.cells.length) {\n                colSpan -= (i + colSpan + visible) - row.cells.length;\n            }\n        }\n        if (row.cells[i].cellSpan) {\n            row.data[cellArgs.column.field] = row.cells[i].spanText;\n            td = cellRenderer.render(row.cells[i], row.data, { 'index': !isNullOrUndefined(row.index) ? row.index.toString() : '' });\n        }\n        if (colSpan > 1) {\n            attributes(td, { 'colSpan': colSpan.toString(), 'aria-colSpan': colSpan.toString() });\n        }\n        if (rowSpan > 1) {\n            attributes(td, { 'rowspan': rowSpan.toString(), 'aria-rowspan': rowSpan.toString() });\n            row.cells[i].isRowSpanned = true;\n            row.cells[i].rowSpanRange = Number(rowSpan);\n            if (colSpan > 1) {\n                row.cells[i].colSpanRange = Number(colSpan);\n            }\n        }\n        if (row.index > 0 && (spannedCell.rowSpanRange > 1)) {\n            row.cells[i].isSpanned = true;\n            row.cells[i].rowSpanRange = Number(spannedCell.rowSpanRange - 1);\n            row.cells[i].colSpanRange = spannedCell.rowSpanRange > 0 ? spannedCell.colSpanRange : 1;\n        }\n        if (this.parent.enableColumnVirtualization && !row.cells[i].cellSpan &&\n            !this.containsKey(cellArgs.column.field, cellArgs.data[cellArgs.column.field])) {\n            this.backupMergeCells(cellArgs.column.field, cellArgs.data[cellArgs.column.field], cellArgs.colSpan);\n        }\n        return td;\n    };\n    CellMergeRender.prototype.backupMergeCells = function (fName, data, span) {\n        this.setMergeCells(this.generteKey(fName, data), span);\n    };\n    CellMergeRender.prototype.generteKey = function (fname, data) {\n        return fname + '__' + data.toString();\n    };\n    CellMergeRender.prototype.splitKey = function (key) {\n        return key.split('__');\n    };\n    CellMergeRender.prototype.containsKey = function (fname, data) {\n        // eslint-disable-next-line no-prototype-builtins\n        return this.getMergeCells().hasOwnProperty(this.generteKey(fname, data));\n    };\n    CellMergeRender.prototype.getMergeCells = function () {\n        return this.parent.mergeCells;\n    };\n    CellMergeRender.prototype.setMergeCells = function (key, span) {\n        this.parent.mergeCells[key] = span;\n    };\n    CellMergeRender.prototype.updateVirtualCells = function (rows) {\n        var mCells = this.getMergeCells();\n        for (var _i = 0, _a = Object.keys(mCells); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var value = mCells[key];\n            var merge = this.splitKey(key);\n            var columnIndex = this.getIndexFromAllColumns(merge[0]);\n            var vColumnIndices = this.parent.getColumnIndexesInView();\n            var span = value - (vColumnIndices[0] - columnIndex);\n            if (columnIndex < vColumnIndices[0] && span > 1) {\n                for (var _b = 0, rows_1 = rows; _b < rows_1.length; _b++) {\n                    var row = rows_1[_b];\n                    if (row.data[merge[0]].toString() === merge[1].toString()) {\n                        row.cells[0].cellSpan = span;\n                        row.cells[0].spanText = merge[1];\n                        break;\n                    }\n                }\n            }\n        }\n        return rows;\n    };\n    CellMergeRender.prototype.getIndexFromAllColumns = function (field) {\n        var index = iterateArrayOrObject(this.parent.getVisibleColumns(), function (item, index) {\n            if (item.field === field) {\n                return index;\n            }\n            return undefined;\n        })[0];\n        return index;\n    };\n    return CellMergeRender;\n}());\nexport { CellMergeRender };\n","import { remove } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nimport { doesImplementInterface, setStyleAndAttributes, appendChildren, extendObjWithFn } from '../base/util';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { foreignKeyData } from '../base/constant';\nimport { CellType } from '../base/enum';\nimport * as literals from '../base/string-literals';\n/**\n * CellRenderer class which responsible for building cell content.\n *\n * @hidden\n */\nvar CellRenderer = /** @class */ (function () {\n    function CellRenderer(parent, locator) {\n        this.localizer = locator.getService('localization');\n        this.formatter = locator.getService('valueFormatter');\n        this.parent = parent;\n        this.element = this.parent.createElement('TD', { className: literals.rowCell, attrs: { role: 'gridcell', tabindex: '-1' } });\n        this.rowChkBox = this.parent.createElement('input', { className: 'e-checkselect', attrs: { 'type': 'checkbox', 'aria-label': 'checkbox' } });\n    }\n    /**\n     * Function to return the wrapper for the TD content\n     *\n     * @returns {string | Element} returns the string\n     */\n    CellRenderer.prototype.getGui = function () {\n        return '';\n    };\n    /**\n     * Function to format the cell value.\n     *\n     * @param  {Column} column - specifies the column\n     * @param  {Object} value - specifies the value\n     * @param  {Object} data - specifies the data\n     * @returns {string} returns the format\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CellRenderer.prototype.format = function (column, value, data) {\n        if (!isNullOrUndefined(column.format)) {\n            if (column.type === 'number' && isNaN(parseInt(value, 10))) {\n                value = null;\n            }\n            value = this.formatter.toView(value, column.getFormatter());\n        }\n        return isNullOrUndefined(value) ? '' : value.toString();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CellRenderer.prototype.evaluate = function (node, cell, data, attributes, fData, isEdit) {\n        var _a;\n        var result;\n        if (cell.column.template) {\n            var isReactCompiler = this.parent.isReact && typeof (cell.column.template) !== 'string';\n            var literals_1 = ['index'];\n            var dummyData = extendObjWithFn({}, data, (_a = {}, _a[foreignKeyData] = fData, _a.column = cell.column, _a));\n            var templateID = this.parent.element.id + cell.column.uid;\n            var str = 'isStringTemplate';\n            if (isReactCompiler) {\n                var copied = { 'index': attributes[literals_1[0]] };\n                cell.column.getColumnTemplate()(extend(copied, dummyData), this.parent, 'columnTemplate', templateID, this.parent[str], null, node);\n                this.parent.renderTemplates();\n            }\n            else {\n                result = cell.column.getColumnTemplate()(extend({ 'index': attributes[literals_1[0]] }, dummyData), this.parent, 'template', templateID, this.parent[str]);\n            }\n            if (!isReactCompiler) {\n                appendChildren(node, result);\n            }\n            this.parent.notify('template-result', { template: result });\n            result = null;\n            node.setAttribute('aria-label', node.innerText + ' is template cell' + ' column header ' +\n                cell.column.headerText);\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Function to invoke the custom formatter available in the column object.\n     *\n     * @param  {Column} column - specifies the column\n     * @param  {Object} value - specifies the value\n     * @param  {Object} data - specifies the data\n     * @returns {Object} returns the object\n     */\n    CellRenderer.prototype.invokeFormatter = function (column, value, data) {\n        if (!isNullOrUndefined(column.formatter)) {\n            if (doesImplementInterface(column.formatter, 'getValue')) {\n                var formatter = column.formatter;\n                value = new formatter().getValue(column, data);\n            }\n            else if (typeof column.formatter === 'function') {\n                value = column.formatter(column, data);\n            }\n            else {\n                value = column.formatter.getValue(column, data);\n            }\n        }\n        return value;\n    };\n    /**\n     * Function to render the cell content based on Column object.\n     *\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {Object} attributes - specifies the attributes\n     * @param {boolean} isExpand - specifies the boolean for expand\n     * @param {boolean} isEdit - specifies the boolean for edit\n     * @returns {Element} returns the element\n     */\n    CellRenderer.prototype.render = function (cell, data, attributes, isExpand, isEdit) {\n        return this.refreshCell(cell, data, attributes, isEdit);\n    };\n    /**\n     * Function to refresh the cell content based on Column object.\n     *\n     * @param {Element} td - specifies the element\n     * @param {Cell<Column>} cell - specifies the cell\n     * @param {Object} data - specifies the data\n     * @param {Object} attributes - specifies the attribute\n     * @returns {void}\n     */\n    CellRenderer.prototype.refreshTD = function (td, cell, data, attributes) {\n        var isEdit = this.parent.editSettings.mode === 'Batch' && td.classList.contains('e-editedbatchcell');\n        if (this.parent.isReact) {\n            td.innerHTML = '';\n            var cellIndex = td.cellIndex;\n            var parentRow = td.parentElement;\n            remove(td);\n            var newTD = this.refreshCell(cell, data, attributes, isEdit);\n            this.cloneAttributes(newTD, td);\n            if (parentRow.cells.length !== cellIndex - 1) {\n                parentRow.insertBefore(newTD, parentRow.cells[cellIndex]);\n            }\n            else {\n                parentRow.appendChild(newTD);\n            }\n        }\n        else {\n            var node = this.refreshCell(cell, data, attributes, isEdit);\n            td.innerHTML = '';\n            td.setAttribute('aria-label', node.getAttribute('aria-label'));\n            var elements = [].slice.call(node.childNodes);\n            for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                var elem = elements_1[_i];\n                td.appendChild(elem);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CellRenderer.prototype.cloneAttributes = function (target, source) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var attrs = source.attributes;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var i = attrs.length;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var attr;\n        while (i--) {\n            attr = attrs[i];\n            target.setAttribute(attr.name, attr.value);\n        }\n    };\n    CellRenderer.prototype.refreshCell = function (cell, data, attributes, isEdit) {\n        var _a;\n        var node = this.element.cloneNode();\n        var column = cell.column;\n        var fData;\n        if (cell.isForeignKey) {\n            fData = cell.foreignKeyData[0] || (_a = {}, _a[column.foreignKeyValue] = column.format ? null : '', _a);\n        }\n        //Prepare innerHtml\n        var innerHtml = this.getGui();\n        var value = cell.isForeignKey ? this.getValue(column.foreignKeyValue, fData, column) :\n            this.getValue(column.field, data, column);\n        if ((column.type === 'date' || column.type === 'datetime') && !isNullOrUndefined(value)) {\n            value = new Date(value);\n        }\n        value = this.format(column, value, data);\n        innerHtml = value.toString();\n        if (column.type === 'boolean' && !column.displayAsCheckBox) {\n            var localeStr = (value !== 'true' && value !== 'false') ? null : value === 'true' ? 'True' : 'False';\n            innerHtml = localeStr ? this.localizer.getConstant(localeStr) : innerHtml;\n        }\n        var fromFormatter = this.invokeFormatter(column, value, data);\n        innerHtml = !isNullOrUndefined(column.formatter) ? isNullOrUndefined(fromFormatter) ? '' : fromFormatter.toString() : innerHtml;\n        node.setAttribute('aria-label', innerHtml + ' column header ' + cell.column.headerText);\n        if (this.evaluate(node, cell, data, attributes, fData, isEdit) && column.type !== 'checkbox') {\n            this.appendHtml(node, innerHtml, column.getDomSetter ? column.getDomSetter() : 'innerHTML');\n        }\n        else if (column.type === 'checkbox') {\n            node.classList.add(literals.gridChkBox);\n            node.setAttribute('aria-label', 'checkbox');\n            if (this.parent.selectionSettings.persistSelection) {\n                value = value === 'true';\n            }\n            else {\n                value = false;\n            }\n            var checkWrap = createCheckBox(this.parent.createElement, false, { checked: value, label: ' ' });\n            this.rowChkBox.id = 'checkbox-' + cell.rowID;\n            checkWrap.insertBefore(this.rowChkBox.cloneNode(), checkWrap.firstChild);\n            node.appendChild(checkWrap);\n        }\n        if (this.parent.checkAllRows === 'Check' && this.parent.enableVirtualization) {\n            cell.isSelected = true;\n        }\n        this.setAttributes(node, cell, attributes);\n        if (column.type === 'boolean' && column.displayAsCheckBox) {\n            var checked = isNaN(parseInt(value.toString(), 10)) ? value === 'true' : parseInt(value.toString(), 10) > 0;\n            var checkWrap = createCheckBox(this.parent.createElement, false, { checked: checked, label: ' ' });\n            node.innerHTML = '';\n            checkWrap.classList.add('e-checkbox-disabled');\n            node.appendChild(checkWrap);\n            node.setAttribute('aria-label', checked + ' column header ' + cell.column.headerText);\n        }\n        return node;\n    };\n    /**\n     * Function to specifies how the result content to be placed in the cell.\n     *\n     * @param {Element} node - specifies the node\n     * @param {string|Element} innerHtml - specifies the innerHTML\n     * @param {string} property - specifies the element\n     * @returns {Element} returns the element\n     */\n    CellRenderer.prototype.appendHtml = function (node, innerHtml, property) {\n        if (property === void 0) { property = 'innerHTML'; }\n        node[property] = innerHtml;\n        return node;\n    };\n    /**\n     * @param {HTMLElement} node - specifies the node\n     * @param {cell<Column>} cell - specifies the cell\n     * @param {Object} attributes - specifies the attributes\n     * @returns {void}\n     * @hidden\n     */\n    CellRenderer.prototype.setAttributes = function (node, cell, attributes) {\n        var column = cell.column;\n        this.buildAttributeFromCell(node, cell, column.type === 'checkbox');\n        setStyleAndAttributes(node, attributes);\n        setStyleAndAttributes(node, cell.attributes);\n        if (column.customAttributes) {\n            setStyleAndAttributes(node, column.customAttributes);\n        }\n        if (this.parent.rowRenderingMode === 'Vertical') {\n            setStyleAndAttributes(node, { 'data-cell': column.headerText });\n        }\n        if (column.textAlign) {\n            node.style.textAlign = column.textAlign;\n        }\n        if (column.clipMode === 'Clip' || (!column.clipMode && this.parent.clipMode === 'Clip')) {\n            node.classList.add('e-gridclip');\n        }\n        else if (column.clipMode === 'EllipsisWithTooltip' || (!column.clipMode && this.parent.clipMode === 'EllipsisWithTooltip')) {\n            if (column.type !== 'checkbox') {\n                node.classList.add('e-ellipsistooltip');\n            }\n        }\n    };\n    CellRenderer.prototype.buildAttributeFromCell = function (node, cell, isCheckBoxType) {\n        var attr = {};\n        var prop = { 'colindex': literals.ariaColIndex };\n        var classes = [];\n        if (cell.colSpan) {\n            attr.colSpan = cell.colSpan;\n        }\n        if (cell.rowSpan) {\n            attr.rowSpan = cell.rowSpan;\n        }\n        if (cell.isTemplate) {\n            classes.push('e-templatecell');\n        }\n        if (cell.isSelected) {\n            classes.push.apply(classes, ['e-selectionbackground', 'e-active']);\n            if (isCheckBoxType) {\n                node.querySelector('.e-frame').classList.add('e-check');\n            }\n        }\n        if (cell.isColumnSelected) {\n            classes.push.apply(classes, ['e-columnselection']);\n        }\n        if (cell.cellType === CellType.Header) {\n            attr[prop.colindex] = cell.colIndex;\n        }\n        else if (!isNullOrUndefined(cell.index)) {\n            attr[prop.colindex] = cell.index;\n        }\n        if (!cell.visible) {\n            classes.push('e-hide');\n        }\n        attr.class = classes;\n        setStyleAndAttributes(node, attr);\n    };\n    CellRenderer.prototype.getValue = function (field, data, column) {\n        return column.valueAccessor(field, data, column);\n    };\n    return CellRenderer;\n}());\nexport { CellRenderer };\n","import { Dialog } from '@syncfusion/ej2-popups';\nimport { EventHandler, remove } from '@syncfusion/ej2-base';\nimport { parentsUntil, addBiggerDialog, addRemoveEventListener } from '../base/util';\nimport * as events from '../base/constant';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ResponsiveDialogAction } from '../base/enum';\n/**\n *\n * The `ResponsiveDialogRenderer` module is used to render the responsive dialogs.\n */\nvar ResponsiveDialogRenderer = /** @class */ (function () {\n    function ResponsiveDialogRenderer(parent, serviceLocator) {\n        this.sortedCols = [];\n        this.sortPredicate = [];\n        /** @hidden */\n        this.isCustomDialog = false;\n        this.parent = parent;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    ResponsiveDialogRenderer.prototype.addEventListener = function () {\n        this.evtHandlers = [{ event: events.filterDialogClose, handler: this.closeCustomDialog },\n            { event: events.refreshCustomFilterOkBtn, handler: this.refreshCustomFilterOkBtn },\n            { event: events.renderResponsiveCmenu, handler: this.renderResponsiveContextMenu },\n            { event: events.filterCmenuSelect, handler: this.renderCustomFilterDiv },\n            { event: events.customFilterClose, handler: this.customExFilterClose },\n            { event: events.refreshCustomFilterClearBtn, handler: this.refreshCustomFilterClearBtn }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.onActionCompleteFn = this.editComplate.bind(this);\n        this.parent.addEventListener(events.actionComplete, this.onActionCompleteFn);\n    };\n    ResponsiveDialogRenderer.prototype.customExFilterClose = function () {\n        this.isCustomDlgRender = false;\n    };\n    ResponsiveDialogRenderer.prototype.renderCustomFilterDiv = function () {\n        var header = this.customResponsiveDlg.element.querySelector('.e-dlg-header-content');\n        var title = header.querySelector('.e-dlg-custom-header');\n        var closeBtn = header.querySelector('.e-dlg-closeicon-btn');\n        this.isCustomDlgRender = true;\n        this.parent.filterModule.filterModule.closeDialog();\n        this.saveBtn.element.style.display = '';\n        this.refreshCustomFilterOkBtn({ disabled: false });\n        this.backBtn.element.style.display = 'none';\n        closeBtn.style.display = '';\n        title.innerHTML = this.parent.localeObj.getConstant('CustomFilter');\n        var content = this.customResponsiveDlg.element.querySelector('.e-dlg-content');\n        this.customExcelFilterParent = this.parent.createElement('div', { className: 'e-xl-customfilterdiv e-default-filter' });\n        content.appendChild(this.customExcelFilterParent);\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveContextMenu = function (args) {\n        if (this.action === ResponsiveDialogAction.isFilter) {\n            var content = this.customResponsiveDlg.element.querySelector('.e-dlg-content');\n            var header = this.customResponsiveDlg.element.querySelector('.e-dlg-header-content');\n            var closeBtn = header.querySelector('.e-dlg-closeicon-btn');\n            var text = header.querySelector('.e-dlg-custom-header');\n            if (args.isOpen) {\n                content.firstChild.style.display = 'none';\n                content.appendChild(args.target);\n                closeBtn.style.display = 'none';\n                this.saveBtn.element.style.display = 'none';\n                this.filterClearBtn.element.style.display = 'none';\n                text.innerHTML = args.header;\n                var backBtn = this.parent.createElement('button');\n                var span = this.parent.createElement('span', { className: 'e-btn-icon e-resfilterback e-icons' });\n                backBtn.appendChild(span);\n                this.backBtn = new Button({\n                    cssClass: 'e-res-back-btn'\n                });\n                this.backBtn.appendTo(backBtn);\n                text.parentElement.insertBefore(backBtn, text);\n            }\n            else if (this.backBtn && !this.isCustomDlgRender) {\n                content.firstChild.style.display = '';\n                remove(this.backBtn.element);\n                closeBtn.style.display = '';\n                this.saveBtn.element.style.display = '';\n                if (this.isFiltered) {\n                    this.filterClearBtn.element.style.display = '';\n                }\n                text.innerHTML = this.getHeaderTitle({ action: ResponsiveDialogAction.isFilter }, args.col);\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.refreshCustomFilterClearBtn = function (args) {\n        if (this.filterClearBtn) {\n            this.isFiltered = args.isFiltered;\n            this.filterClearBtn.element.style.display = args.isFiltered ? '' : 'none';\n        }\n    };\n    ResponsiveDialogRenderer.prototype.refreshCustomFilterOkBtn = function (args) {\n        if (this.saveBtn) {\n            this.saveBtn.disabled = args.disabled;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveContent = function (col) {\n        var _this = this;\n        var gObj = this.parent;\n        if (col) {\n            this.filterParent = this.parent.createElement('div', { className: 'e-mainfilterdiv e-default-filter', id: col.uid + '-main-filter' });\n            return this.filterParent;\n        }\n        else {\n            var cols = gObj.getColumns();\n            this.customColumnDiv = gObj.createElement('div', { className: 'columndiv', styles: 'width: 100%' });\n            var sortBtnParent = gObj.createElement('div', { className: 'e-ressortbutton-parent' });\n            var filteredCols = [];\n            var isSort = this.action === ResponsiveDialogAction.isSort;\n            var isFilter = this.action === ResponsiveDialogAction.isFilter;\n            if (isFilter) {\n                for (var i = 0; i < gObj.filterSettings.columns.length; i++) {\n                    filteredCols.push(gObj.filterSettings.columns[i].field);\n                }\n            }\n            for (var i = 0; i < cols.length; i++) {\n                if (!cols[i].visible || (!cols[i].allowSorting && isSort) || (!cols[i].allowFiltering && isFilter)) {\n                    continue;\n                }\n                var cDiv = gObj.createElement('div', { className: 'e-responsivecoldiv' });\n                cDiv.setAttribute('data-e-mappingname', cols[i].field);\n                cDiv.setAttribute('data-e-mappinguid', cols[i].uid);\n                var span = gObj.createElement('span', { innerHTML: cols[i].headerText, className: 'e-res-header-text' });\n                cDiv.appendChild(span);\n                this.customColumnDiv.appendChild(cDiv);\n                if (isSort) {\n                    var fields = this.getSortedFieldsAndDirections('field');\n                    var index = fields.indexOf(cols[i].field);\n                    var button = gObj.createElement('button', { id: gObj.element.id + cols[i].field + 'sortbutton' });\n                    var clone = sortBtnParent.cloneNode();\n                    clone.appendChild(button);\n                    cDiv.appendChild(clone);\n                    var btnObj = new Button({\n                        cssClass: 'e-ressortbutton'\n                    });\n                    btnObj.appendTo(button);\n                    button.innerHTML = index > -1 ? this.parent.sortSettings.columns[index].direction : 'None';\n                    button.onclick = function (e) {\n                        _this.sortButtonClickHandler(e.target);\n                    };\n                }\n                if (isFilter && filteredCols.indexOf(cols[i].field) > -1) {\n                    var divIcon = gObj.createElement('div', { className: 'e-icons e-res-icon e-filtersetdiv' });\n                    var iconSpan = gObj.createElement('span', { className: 'e-icons e-res-icon e-filterset' });\n                    iconSpan.setAttribute('colType', cols[i].type);\n                    divIcon.appendChild(iconSpan);\n                    cDiv.appendChild(divIcon);\n                }\n            }\n            EventHandler.add(this.customColumnDiv, 'click', this.customFilterColumnClickHandler, this);\n            return this.customColumnDiv;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.getSortedFieldsAndDirections = function (name) {\n        var fields = [];\n        for (var i = 0; i < this.parent.sortSettings.columns.length; i++) {\n            fields.push(this.parent.sortSettings.columns[i][name]);\n        }\n        return fields;\n    };\n    ResponsiveDialogRenderer.prototype.sortButtonClickHandler = function (target) {\n        if (target) {\n            var columndiv = parentsUntil(target, 'e-responsivecoldiv');\n            var field = columndiv.getAttribute('data-e-mappingname');\n            if (!this.parent.allowMultiSorting) {\n                this.sortPredicate = [];\n                this.sortedCols = [];\n                this.isSortApplied = false;\n                this.resetSortButtons(target);\n            }\n            var txt = target.textContent;\n            var direction = txt === 'None' ? 'Ascending' : txt === 'Ascending' ? 'Descending' : 'None';\n            target.innerHTML = direction;\n            this.setSortedCols(field, direction);\n        }\n    };\n    ResponsiveDialogRenderer.prototype.resetSortButtons = function (target) {\n        var buttons = [].slice.call(this.customColumnDiv.getElementsByClassName('e-ressortbutton'));\n        for (var i = 0; i < buttons.length; i++) {\n            if (buttons[i] !== target) {\n                buttons[i].innerHTML = 'None';\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.setSortedCols = function (field, direction) {\n        var fields = this.getCurrentSortedFields();\n        var index = fields.indexOf(field);\n        if (this.parent.allowMultiSorting && index > -1) {\n            this.sortedCols.splice(index, 1);\n            this.sortPredicate.splice(index, 1);\n        }\n        this.isSortApplied = true;\n        if (direction !== 'None') {\n            this.sortedCols.push(field);\n            this.sortPredicate.push({ field: field, direction: direction });\n        }\n    };\n    ResponsiveDialogRenderer.prototype.getCurrentSortedFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.sortedCols.length; i++) {\n            fields.push(this.sortedCols[i]);\n        }\n        return fields;\n    };\n    ResponsiveDialogRenderer.prototype.customFilterColumnClickHandler = function (e) {\n        if (this.action !== ResponsiveDialogAction.isFilter) {\n            return;\n        }\n        var gObj = this.parent;\n        var target = e.target;\n        if (gObj.filterSettings.type !== 'FilterBar') {\n            if (target.classList.contains('e-responsivecoldiv') || target.parentElement.classList.contains('e-responsivecoldiv')) {\n                var field = target.getAttribute('data-e-mappingname');\n                if (!field) {\n                    field = target.parentElement.getAttribute('data-e-mappingname');\n                }\n                if (field) {\n                    var col = gObj.getColumnByField(field);\n                    this.isRowResponsive = true;\n                    this.showResponsiveDialog(col);\n                }\n            }\n            else if (target.classList.contains('e-filterset') || target.parentElement.classList.contains('e-filtersetdiv')) {\n                var colDiv = parentsUntil(target, 'e-responsivecoldiv');\n                if (colDiv) {\n                    var field = colDiv.getAttribute('data-e-mappingname');\n                    var col = gObj.getColumnByField(field);\n                    if (col.filter.type === 'Menu' || (!col.filter.type && gObj.filterSettings.type === 'Menu')) {\n                        this.isDialogClose = true;\n                    }\n                    this.parent.filterModule.filterModule.clearCustomFilter(col);\n                    this.removeCustomDlgFilterEle(target);\n                }\n            }\n        }\n    };\n    /**\n     * Function to show the responsive dialog\n     *\n     * @param {Column} col - specifies the column\n     * @returns {void}\n     */\n    ResponsiveDialogRenderer.prototype.showResponsiveDialog = function (col) {\n        if (this.isCustomDialog && this.action === ResponsiveDialogAction.isFilter && !this.isRowResponsive) {\n            this.renderCustomFilterDialog();\n        }\n        else {\n            this.filteredCol = col;\n            this.renderResponsiveDialog(col);\n            if (this.parent.enableAdaptiveUI && col) {\n                this.parent.filterModule.setFilterModel(col);\n                this.parent.filterModule.filterModule.openDialog(this.parent.filterModule.createOptions(col, undefined));\n            }\n            if (this.action === ResponsiveDialogAction.isSort) {\n                var args = {\n                    cancel: false, dialogObj: this.customResponsiveDlg, requestType: 'beforeOpenAptiveSortDialog'\n                };\n                this.parent.trigger(events.beforeOpenAdaptiveDialog, args);\n                if (args.cancel) {\n                    return;\n                }\n            }\n            this.customResponsiveDlg.show(true);\n            this.customResponsiveDlg.element.style.maxHeight = '100%';\n            this.setTopToChildDialog(this.customResponsiveDlg.element);\n        }\n    };\n    ResponsiveDialogRenderer.prototype.setTopToChildDialog = function (dialogEle) {\n        var child = dialogEle.querySelector('.e-dialog');\n        if (child) {\n            var top_1 = dialogEle.querySelector('.e-dlg-header-content').getBoundingClientRect().height;\n            child.style.top = top_1 + 'px';\n        }\n    };\n    ResponsiveDialogRenderer.prototype.renderCustomFilterDialog = function (col) {\n        var gObj = this.parent;\n        if (this.action === ResponsiveDialogAction.isFilter && gObj.filterSettings.type === 'FilterBar') {\n            return;\n        }\n        var outerDiv = this.parent.createElement('div', {\n            id: gObj.element.id + 'customfilter', className: 'e-customfilterdiv e-responsive-dialog'\n        });\n        this.parent.element.appendChild(outerDiv);\n        this.customFilterDlg = this.getDialogOptions(col, true);\n        var args = {\n            cancel: false, dialogObj: this.customFilterDlg, requestType: 'beforeOpenAptiveFilterDialog'\n        };\n        this.parent.trigger(events.beforeOpenAdaptiveDialog, args);\n        if (args.cancel) {\n            return;\n        }\n        this.customFilterDlg.appendTo(outerDiv);\n        this.customFilterDlg.show(true);\n        this.customFilterDlg.element.style.maxHeight = '100%';\n    };\n    ResponsiveDialogRenderer.prototype.getDialogOptions = function (col, isCustomFilter, id) {\n        var options = new Dialog({\n            isModal: true,\n            showCloseIcon: true,\n            closeOnEscape: false,\n            locale: this.parent.locale,\n            target: this.parent.adaptiveDlgTarget ? this.parent.adaptiveDlgTarget : document.body,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.renderResponsiveContent(col),\n            open: this.dialogOpen.bind(this),\n            created: this.dialogCreated.bind(this),\n            close: this.beforeDialogClose.bind(this),\n            width: '100%',\n            height: '100%',\n            animationSettings: { effect: 'None' }\n        });\n        var isStringTemplate = 'isStringTemplate';\n        options[isStringTemplate] = true;\n        if (isCustomFilter) {\n            options.header = this.renderResponsiveHeader(col, undefined, true);\n            options.cssClass = 'e-customfilter';\n        }\n        else {\n            options.header = this.renderResponsiveHeader(col);\n            options.cssClass = this.parent.rowRenderingMode === 'Vertical' && this.action === ResponsiveDialogAction.isFilter\n                ? 'e-res' + id + ' e-row-responsive-filter' : 'e-res' + id;\n        }\n        return options;\n    };\n    ResponsiveDialogRenderer.prototype.renderResponsiveDialog = function (col) {\n        var gObj = this.parent;\n        if (this.action === ResponsiveDialogAction.isFilter && gObj.filterSettings.type === 'FilterBar') {\n            return;\n        }\n        var id = this.action === ResponsiveDialogAction.isFilter ? 'filter' : 'sort';\n        var outerDiv = this.parent.createElement('div', {\n            id: gObj.element.id + 'responsive' + id, className: 'e-res' + id + 'div e-responsive-dialog'\n        });\n        this.parent.element.appendChild(outerDiv);\n        this.customResponsiveDlg = this.getDialogOptions(col, false, id);\n        this.customResponsiveDlg.appendTo(outerDiv);\n    };\n    ResponsiveDialogRenderer.prototype.dialogCreated = function () {\n        addBiggerDialog(this.parent);\n    };\n    ResponsiveDialogRenderer.prototype.dialogOpen = function () {\n        if (this.action === ResponsiveDialogAction.isSort && this.parent.allowMultiSorting) {\n            for (var i = 0; i < this.parent.sortSettings.columns.length; i++) {\n                this.sortedCols.push(this.parent.sortSettings.columns[i].field);\n                var sortField = this.parent.sortSettings.columns[i].field;\n                var sortDirection = this.parent.sortSettings.columns[i].direction;\n                this.sortPredicate.push({ field: sortField, direction: sortDirection });\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.beforeDialogClose = function (args) {\n        this.isDialogClose = args.element && !args.element.querySelector('.e-xl-customfilterdiv')\n            && args.element.classList.contains('e-resfilterdiv');\n        if (this.action === ResponsiveDialogAction.isFilter) {\n            if (args.element.classList.contains('e-resfilterdiv')) {\n                this.parent.filterModule.filterModule.closeResponsiveDialog(this.isCustomDlgRender);\n            }\n            else if (args.element.classList.contains('e-customfilterdiv')) {\n                this.closeCustomFilter();\n            }\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            this.closeCustomDialog();\n        }\n        this.parent.off(events.enterKeyHandler, this.keyHandler);\n    };\n    ResponsiveDialogRenderer.prototype.sortColumn = function () {\n        if (!this.isSortApplied) {\n            this.closeCustomDialog();\n            return;\n        }\n        if (this.sortPredicate.length) {\n            this.parent.setProperties({ sortSettings: { columns: [] } }, true);\n        }\n        for (var i = 0; i < this.sortPredicate.length; i++) {\n            this.parent.sortColumn(this.sortPredicate[i].field, this.sortPredicate[i].direction, this.parent.allowMultiSorting);\n        }\n        if (!this.sortPredicate.length) {\n            this.parent.clearSorting();\n        }\n        this.closeCustomDialog();\n    };\n    ResponsiveDialogRenderer.prototype.getHeaderTitle = function (args, col) {\n        var gObj = this.parent;\n        var title;\n        if (this.action === ResponsiveDialogAction.isEdit) {\n            title = gObj.localeObj.getConstant('EditFormTitle') + args.primaryKeyValue[0];\n        }\n        else if (this.action === ResponsiveDialogAction.isAdd) {\n            title = gObj.localeObj.getConstant('AddFormTitle');\n        }\n        else if (this.action === ResponsiveDialogAction.isFilter) {\n            title = col ? col.headerText || col.field : gObj.localeObj.getConstant('FilterButton');\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            title = gObj.localeObj.getConstant('Sort');\n        }\n        return title;\n    };\n    ResponsiveDialogRenderer.prototype.getDialogName = function (action) {\n        var name;\n        if (action === ResponsiveDialogAction.isAdd || action === ResponsiveDialogAction.isEdit) {\n            name = 'dialogEdit_wrapper_title';\n        }\n        else if (action === ResponsiveDialogAction.isFilter) {\n            name = 'responsive_filter_dialog_wrapper';\n        }\n        return name;\n    };\n    ResponsiveDialogRenderer.prototype.getButtonText = function (action) {\n        var text;\n        if (action === ResponsiveDialogAction.isAdd || action === ResponsiveDialogAction.isEdit) {\n            text = 'Save';\n        }\n        else if (action === ResponsiveDialogAction.isFilter || this.action === ResponsiveDialogAction.isSort) {\n            text = 'OKButton';\n        }\n        return text;\n    };\n    /**\n     * Function to render the responsive header\n     *\n     * @param {Column} col - specifies the column\n     * @param {ResponsiveDialogArgs} args - specifies the responsive dialog arguments\n     * @param {boolean} isCustomFilter - specifies whether it is custom filter or not\n     * @returns {HTMLElement | string} returns the html element or string\n     */\n    ResponsiveDialogRenderer.prototype.renderResponsiveHeader = function (col, args, isCustomFilter) {\n        var _this = this;\n        var gObj = this.parent;\n        gObj.on(events.enterKeyHandler, this.keyHandler, this);\n        var id = gObj.element.id + this.getDialogName(this.action);\n        var header = gObj.createElement('div', { className: 'e-res-custom-element' });\n        var titleDiv = gObj.createElement('div', { className: 'e-dlg-custom-header', id: id });\n        titleDiv.innerHTML = this.getHeaderTitle(args, col);\n        header.appendChild(titleDiv);\n        var saveBtn = gObj.createElement('button');\n        if (!isCustomFilter) {\n            this.saveBtn = new Button({\n                cssClass: 'e-primary e-flat e-res-apply-btn'\n            });\n            saveBtn.innerHTML = gObj.localeObj.getConstant(this.getButtonText(this.action));\n            this.saveBtn.appendTo(saveBtn);\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            saveBtn.onclick = function (e) {\n                _this.dialogHdrBtnClickHandler();\n            };\n        }\n        var isSort = this.action === ResponsiveDialogAction.isSort;\n        var isFilter = this.action === ResponsiveDialogAction.isFilter;\n        if (isFilter || isSort) {\n            var id_1 = isSort ? 'sort' : 'filter';\n            var clearBtn = gObj.createElement('button');\n            this.filterClearBtn = new Button({\n                cssClass: 'e-primary e-flat e-res-' + id_1 + '-clear-btn'\n            });\n            if (isFilter) {\n                var span = gObj.createElement('span', { className: 'e-btn-icon e-icon-filter-clear e-icons' });\n                clearBtn.appendChild(span);\n            }\n            else {\n                clearBtn.innerHTML = gObj.localeObj.getConstant('Clear');\n            }\n            header.appendChild(clearBtn);\n            this.filterClearBtn.appendTo(clearBtn);\n            clearBtn.onclick = function (e) {\n                if ((parentsUntil(e.target, 'e-customfilter'))) {\n                    _this.parent.filterModule.clearFiltering();\n                    _this.removeCustomDlgFilterEle();\n                }\n                else {\n                    if (isFilter) {\n                        _this.filterClear();\n                    }\n                    else {\n                        _this.resetSortButtons();\n                        _this.sortedCols = [];\n                        _this.sortPredicate = [];\n                        _this.isSortApplied = true;\n                    }\n                }\n            };\n            header.appendChild(clearBtn);\n        }\n        if (!isCustomFilter) {\n            header.appendChild(saveBtn);\n        }\n        return header;\n    };\n    ResponsiveDialogRenderer.prototype.filterClear = function () {\n        this.parent.filterModule.filterModule.clearCustomFilter(this.filteredCol);\n        this.parent.filterModule.filterModule.closeResponsiveDialog();\n    };\n    ResponsiveDialogRenderer.prototype.dialogHdrBtnClickHandler = function () {\n        if (this.action === ResponsiveDialogAction.isEdit || this.action === ResponsiveDialogAction.isAdd) {\n            this.parent.endEdit();\n        }\n        else if (this.action === ResponsiveDialogAction.isFilter) {\n            this.parent.filterModule.filterModule.applyCustomFilter({ col: this.filteredCol, isCustomFilter: this.isCustomDlgRender });\n        }\n        else if (this.action === ResponsiveDialogAction.isSort) {\n            this.sortColumn();\n        }\n    };\n    ResponsiveDialogRenderer.prototype.closeCustomDialog = function () {\n        if (this.isCustomDlgRender) {\n            var mainfilterdiv = this.customResponsiveDlg.element.querySelector('.e-mainfilterdiv');\n            remove(mainfilterdiv);\n            return;\n        }\n        this.isRowResponsive = false;\n        this.isCustomDlgRender = false;\n        this.destroyCustomFilterDialog();\n    };\n    ResponsiveDialogRenderer.prototype.destroyCustomFilterDialog = function () {\n        if (!this.customResponsiveDlg) {\n            return;\n        }\n        var elem = document.getElementById(this.customResponsiveDlg.element.id);\n        if (this.customResponsiveDlg && !this.customResponsiveDlg.isDestroyed && elem) {\n            this.customResponsiveDlg.destroy();\n            remove(elem);\n        }\n        this.closeCustomFilter();\n        if (this.action === ResponsiveDialogAction.isSort) {\n            this.sortPredicate = [];\n            this.sortedCols = [];\n            this.isSortApplied = false;\n        }\n    };\n    ResponsiveDialogRenderer.prototype.closeCustomFilter = function () {\n        if (!this.isDialogClose && this.customFilterDlg) {\n            var customEle = document.getElementById(this.customFilterDlg.element.id);\n            if (this.customFilterDlg && !this.customFilterDlg.isDestroyed && customEle) {\n                this.customFilterDlg.destroy();\n                remove(customEle);\n            }\n        }\n        this.isCustomDialog = false;\n        this.isDialogClose = false;\n    };\n    ResponsiveDialogRenderer.prototype.removeCustomDlgFilterEle = function (target) {\n        if (target) {\n            if (target.parentElement.classList.contains('e-filtersetdiv')) {\n                remove(target.parentElement);\n            }\n            else {\n                remove(target);\n            }\n        }\n        else {\n            var child = this.customColumnDiv.children;\n            for (var i = 0; i < child.length; i++) {\n                target = child[i].querySelector('.e-filtersetdiv');\n                if (target) {\n                    remove(target);\n                    i--;\n                }\n            }\n        }\n    };\n    ResponsiveDialogRenderer.prototype.keyHandler = function (e) {\n        if (e.keyCode === 13 && ((this.action === ResponsiveDialogAction.isFilter\n            && e.target.classList.contains('e-searchinput'))\n            || (this.action === ResponsiveDialogAction.isEdit || this.action === ResponsiveDialogAction.isAdd))) {\n            this.dialogHdrBtnClickHandler();\n        }\n    };\n    ResponsiveDialogRenderer.prototype.editComplate = function (args) {\n        if (args.requestType === 'save' || args.requestType === 'cancel') {\n            this.parent.off(events.enterKeyHandler, this.keyHandler);\n        }\n    };\n    ResponsiveDialogRenderer.prototype.removeEventListener = function () {\n        if (this.customColumnDiv) {\n            EventHandler.remove(this.customColumnDiv, 'click', this.customFilterColumnClickHandler);\n        }\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n        this.parent.removeEventListener(events.actionComplete, this.onActionCompleteFn);\n    };\n    return ResponsiveDialogRenderer;\n}());\nexport { ResponsiveDialogRenderer };\n","import { isNullOrUndefined, extend, addClass } from '@syncfusion/ej2-base';\nimport { attributes as addAttributes } from '@syncfusion/ej2-base';\nimport { rowDataBound, queryCellInfo } from '../base/constant';\nimport { setStyleAndAttributes, getObject, extendObjWithFn } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { CellMergeRender } from './cell-merge-renderer';\nimport * as literals from '../base/string-literals';\n/**\n * RowRenderer class which responsible for building row content.\n *\n * @hidden\n */\nvar RowRenderer = /** @class */ (function () {\n    function RowRenderer(serviceLocator, cellType, parent) {\n        this.isSpan = false;\n        this.cellType = cellType;\n        this.serviceLocator = serviceLocator;\n        this.parent = parent;\n        this.element = this.parent.createElement('tr', { attrs: { role: 'row' } });\n    }\n    /* eslint-disable */\n    /**\n     * Function to render the row content based on Column[] and data.\n     *\n     * @param {Row<T>} row - specifies the row\n     * @param {Column[]} columns - specifies the columns\n     * @param {Object} attributes - specifies the attributes\n     * @param {string} rowTemplate - specifies the rowTemplate\n     * @param {Element} cloneNode - specifies the cloneNode\n     * @returns {Element} returns the element\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.render = function (row, columns, attributes, rowTemplate, cloneNode) {\n        return this.refreshRow(row, columns, attributes, rowTemplate, cloneNode);\n    };\n    /* eslint-disable */\n    /**\n     * Function to refresh the row content based on Column[] and data.\n     *\n     * @param {Row<T>} row - specifies the row\n     * @param {Column[]} columns - specifies the column\n     * @param {boolean} isChanged - specifies isChanged\n     * @param {Object} attributes - specifies the attributes\n     * @param {string} rowTemplate - specifies the rowTemplate\n     * @returns {void}\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.refresh = function (row, columns, isChanged, attributes, rowTemplate) {\n        if (isChanged) {\n            row.data = extendObjWithFn({}, row.changes);\n            this.refreshMergeCells(row);\n        }\n        var node = this.parent.element.querySelector('[data-uid=' + row.uid + ']');\n        var tr = this.refreshRow(row, columns, attributes, rowTemplate, null, isChanged);\n        var cells = [].slice.call(tr.cells);\n        node.innerHTML = '';\n        for (var _i = 0, cells_1 = cells; _i < cells_1.length; _i++) {\n            var cell = cells_1[_i];\n            node.appendChild(cell);\n        }\n    };\n    // tslint:disable-next-line:max-func-body-length\n    RowRenderer.prototype.refreshRow = function (row, columns, attributes, rowTemplate, cloneNode, isEdit) {\n        var tr = !isNullOrUndefined(cloneNode) ? cloneNode : this.element.cloneNode();\n        var rowArgs = { data: row.data };\n        var cellArgs = { data: row.data };\n        var chekBoxEnable = this.parent.getColumns().filter(function (col) { return col.type === 'checkbox' && col.field; })[0];\n        var value = false;\n        if (chekBoxEnable) {\n            value = getObject(chekBoxEnable.field, rowArgs.data);\n        }\n        var selIndex = this.parent.getSelectedRowIndexes();\n        if (row.isDataRow) {\n            row.isSelected = selIndex.indexOf(row.index) > -1 || value;\n        }\n        if (row.isDataRow && this.parent.isCheckBoxSelection\n            && this.parent.checkAllRows === 'Check' && this.parent.enableVirtualization) {\n            row.isSelected = true;\n            if (selIndex.indexOf(row.index) === -1) {\n                selIndex.push(row.index);\n            }\n        }\n        this.buildAttributeFromRow(tr, row);\n        addAttributes(tr, extend({}, attributes, {}));\n        setStyleAndAttributes(tr, row.attributes);\n        var cellRendererFact = this.serviceLocator.getService('cellRendererFactory');\n        var _loop_1 = function (i, len) {\n            var cell = row.cells[i];\n            cell.isSelected = row.isSelected;\n            cell.isColumnSelected = cell.column.isSelected;\n            var cellRenderer = cellRendererFact.getCellRenderer(row.cells[i].cellType || CellType.Data);\n            var attrs = { 'index': !isNullOrUndefined(row.index) ? row.index.toString() : '' };\n            if (row.isExpand && row.cells[i].cellType === CellType.DetailExpand) {\n                attrs['class'] = this_1.parent.isPrinting ? 'e-detailrowcollapse' : 'e-detailrowexpand';\n            }\n            var td = cellRenderer.render(row.cells[i], row.data, attrs, row.isExpand, isEdit);\n            if (row.cells[i].cellType !== CellType.Filter) {\n                if (row.cells[i].cellType === CellType.Data || row.cells[i].cellType === CellType.CommandColumn) {\n                    this_1.parent.trigger(queryCellInfo, extend(cellArgs, {\n                        cell: td, column: cell.column, colSpan: 1,\n                        rowSpan: 1, foreignKeyData: row.cells[i].foreignKeyData,\n                        requestType: this_1.parent.requestTypeAction\n                    }));\n                    var isRowSpanned = false;\n                    if (row.index > 0 && this_1.isSpan) {\n                        var prevRowCells = this_1.parent.groupSettings.columns.length > 0 &&\n                            !this_1.parent.getRowsObject()[row.index - 1].isDataRow ?\n                            this_1.parent.getRowsObject()[row.index].cells : this_1.parent.getRowsObject()[row.index - 1].cells;\n                        var uid_1 = 'uid';\n                        var prevRowCell = prevRowCells.filter(function (cell) {\n                            return cell.column.uid === row.cells[i].column[uid_1];\n                        })[0];\n                        isRowSpanned = prevRowCell.isRowSpanned ? prevRowCell.isRowSpanned : prevRowCell.rowSpanRange > 1;\n                    }\n                    if (cellArgs.colSpan > 1 || row.cells[i].cellSpan > 1 || cellArgs.rowSpan > 1 || isRowSpanned) {\n                        this_1.isSpan = true;\n                        var cellMerge = new CellMergeRender(this_1.serviceLocator, this_1.parent);\n                        td = cellMerge.render(cellArgs, row, i, td);\n                    }\n                }\n                if (!row.cells[i].isSpanned) {\n                    tr.appendChild(td);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0, len = row.cells.length; i < len; i++) {\n            _loop_1(i, len);\n        }\n        var args = { row: tr, rowHeight: this.parent.rowHeight };\n        if (row.isDataRow) {\n            this.parent.trigger(rowDataBound, extend(rowArgs, args));\n            if (this.parent.childGrid || this.parent.isRowDragable() || this.parent.detailTemplate) {\n                var td = tr.querySelectorAll('.e-rowcell:not(.e-hide)')[0];\n                if (td) {\n                    td.classList.add('e-detailrowvisible');\n                }\n            }\n        }\n        if (this.parent.enableVirtualization) {\n            rowArgs.rowHeight = this.parent.rowHeight;\n        }\n        if (rowArgs.rowHeight) {\n            tr.style.height = rowArgs.rowHeight + 'px';\n        }\n        else if (this.parent.rowHeight && (tr.querySelector('.e-headercell') || tr.querySelector('.e-groupcaption'))) {\n            tr.style.height = this.parent.rowHeight + 'px';\n        }\n        if (row.cssClass) {\n            tr.classList.add(row.cssClass);\n        }\n        if (row.lazyLoadCssClass) {\n            tr.classList.add(row.lazyLoadCssClass);\n        }\n        var vFTable = this.parent.enableColumnVirtualization && this.parent.frozenColumns !== 0;\n        if (!vFTable && this.parent.aggregates.length && this.parent.element.scrollHeight > this.parent.height) {\n            for (var i = 0; i < this.parent.aggregates.length; i++) {\n                var property = 'properties';\n                var column = 'columns';\n                if (this.parent.aggregates[i][property][column][0].footerTemplate) {\n                    var summarycell = [].slice.call(tr.getElementsByClassName('e-summarycell'));\n                    if (summarycell.length) {\n                        var lastSummaryCell = (summarycell[summarycell.length - 1]);\n                        addClass([lastSummaryCell], ['e-lastsummarycell']);\n                        var firstSummaryCell = (summarycell[0]);\n                        addClass([firstSummaryCell], ['e-firstsummarycell']);\n                    }\n                }\n            }\n        }\n        return tr;\n    };\n    RowRenderer.prototype.refreshMergeCells = function (row) {\n        for (var _i = 0, _a = row.cells; _i < _a.length; _i++) {\n            var cell = _a[_i];\n            cell.isSpanned = false;\n        }\n        return row;\n    };\n    /* eslint-disable */\n    /**\n     * Function to check and add alternative row css class.\n     *\n     * @param {Element} tr - specifies the tr element\n     * @param {Row<T>} row - specifies the row\n     * @returns {void}\n     */\n    /* eslint-enable */\n    RowRenderer.prototype.buildAttributeFromRow = function (tr, row) {\n        var attr = {};\n        var prop = { 'rowindex': literals.ariaRowIndex, 'dataUID': 'data-uid', 'ariaSelected': 'aria-selected' };\n        var classes = [];\n        if (row.isDataRow) {\n            classes.push(literals.row);\n        }\n        if (row.isAltRow) {\n            classes.push('e-altrow');\n        }\n        if (!isNullOrUndefined(row.index)) {\n            attr[prop.rowindex] = row.index;\n        }\n        if (row.rowSpan) {\n            attr.rowSpan = row.rowSpan;\n        }\n        if (row.uid) {\n            attr[prop.dataUID] = row.uid;\n        }\n        if (row.isSelected) {\n            attr[prop.ariaSelected] = true;\n        }\n        if (row.visible === false) {\n            classes.push('e-hide');\n        }\n        attr.class = classes;\n        setStyleAndAttributes(tr, attr);\n    };\n    return RowRenderer;\n}());\nexport { RowRenderer };\n","/**\n * AriaService\n *\n * @hidden\n */\nvar AriaService = /** @class */ (function () {\n    function AriaService() {\n    }\n    AriaService.prototype.setOptions = function (target, options) {\n        var props = Object.keys(options);\n        for (var i = 0; i < props.length; i++) {\n            setStateAndProperties(target, config[props[i]], options[props[i]]);\n        }\n    };\n    AriaService.prototype.setExpand = function (target, expand) {\n        setStateAndProperties(target, config.expand, expand);\n    };\n    AriaService.prototype.setSort = function (target, direction) {\n        setStateAndProperties(target, config.sort, direction, typeof direction === 'boolean');\n    };\n    AriaService.prototype.setBusy = function (target, isBusy) {\n        setStateAndProperties(target, config.busy, isBusy);\n        setStateAndProperties(target, config.invalid, null, true);\n    };\n    AriaService.prototype.setGrabbed = function (target, isGrabbed, remove) {\n        setStateAndProperties(target, config.grabbed, isGrabbed, remove);\n    };\n    AriaService.prototype.setDropTarget = function (target, isTarget) {\n        setStateAndProperties(target, config.dropeffect, 'copy', !isTarget);\n    };\n    return AriaService;\n}());\nexport { AriaService };\n/**\n * @param {HTMLElement} target - specifies the target\n * @param {string} attribute - specifies the attribute\n * @param {ValueType} value - specifies the value\n * @param {boolean} remove - specifies the boolean for remove\n * @returns {void}\n * @hidden\n */\nfunction setStateAndProperties(target, attribute, value, remove) {\n    if (remove && target) {\n        target.removeAttribute(attribute);\n        return;\n    }\n    if (target) {\n        target.setAttribute(attribute, value);\n    }\n}\nvar config = {\n    expand: 'aria-expanded',\n    role: 'role',\n    selected: 'aria-selected',\n    multiselectable: 'aria-multiselectable',\n    sort: 'aria-sort',\n    busy: 'aria-busy',\n    invalid: 'aria-invalid',\n    grabbed: 'aria-grabbed',\n    dropeffect: 'aria-dropeffect',\n    haspopup: 'aria-haspopup',\n    level: 'aria-level',\n    colcount: 'aria-colcount',\n    rowcount: 'aria-rowcount'\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { EventHandler, getValue, closest, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, extend, Browser } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport * as event from '../base/constant';\nimport { Row } from '../models/row';\nimport { RowModelGenerator } from './row-model-generator';\nimport { parentsUntil, addRemoveEventListener } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * FocusStrategy class\n *\n * @hidden\n */\nvar FocusStrategy = /** @class */ (function () {\n    function FocusStrategy(parent) {\n        this.currentInfo = {};\n        this.oneTime = true;\n        this.swap = {};\n        /** @hidden */\n        this.isInfiniteScroll = false;\n        this.forget = false;\n        this.skipFocus = true;\n        this.focusByClick = false;\n        this.prevIndexes = {};\n        this.refMatrix = this.refreshMatrix(true);\n        this.actions = ['downArrow', 'upArrow'];\n        this.isVirtualScroll = false;\n        this.parent = parent;\n        this.rowModelGen = new RowModelGenerator(this.parent);\n        this.addEventListener();\n    }\n    FocusStrategy.prototype.focusCheck = function (e) {\n        var target = e.target;\n        this.focusByClick = true;\n        this.skipFocus = target.classList.contains('e-grid');\n    };\n    FocusStrategy.prototype.onFocus = function (e) {\n        if (this.parent.isDestroyed || Browser.isDevice || this.parent.enableVirtualization) {\n            return;\n        }\n        this.setActive(!this.parent.enableHeaderFocus && this.parent.frozenRows === 0, this.parent.isFrozenGrid());\n        if (!this.parent.enableHeaderFocus && !this.parent.getCurrentViewRecords().length && ((this.parent.editSettings.mode !== 'Batch')\n            || (this.parent.editSettings.mode === 'Batch' && !this.parent.editModule.getBatchChanges()[literals.addedRecords].length))) {\n            this.getContent().matrix.\n                generate(this.rowModelGen.generateRows({ rows: [new Row({ isDataRow: true })] }), this.getContent().selector, false);\n        }\n        var current = this.getContent().matrix.get(0, -1, [0, 1], null, this.getContent().validator());\n        this.getContent().matrix.select(current[0], current[1]);\n        if (this.skipFocus) {\n            this.focus(e);\n            this.skipFocus = false;\n        }\n    };\n    FocusStrategy.prototype.passiveFocus = function (e) {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (e.target && e.target.classList.contains('e-detailcell')) {\n            this.currentInfo.skipAction = false;\n            addClass([this.currentInfo.element], ['e-focused', 'e-focus']);\n        }\n    };\n    FocusStrategy.prototype.onBlur = function (e) {\n        if ((this.parent.isEdit || e && (!e.relatedTarget || closest(e.relatedTarget, '.e-grid')))\n            && !(isNullOrUndefined(e.relatedTarget) && parseInt(e.target.getAttribute('aria-colindex'), 10) === 0 &&\n                parseInt(e.target.getAttribute('index'), 10) === 0)) {\n            return;\n        }\n        this.removeFocus();\n        this.skipFocus = true;\n        this.currentInfo.skipAction = false;\n        this.parent.element.tabIndex = 0;\n    };\n    FocusStrategy.prototype.onClick = function (e, force) {\n        if (parentsUntil(e.target, 'e-filterbarcell') && (parentsUntil(e.target, 'e-multiselect') ||\n            e.target.classList.contains('e-input-group-icon'))) {\n            return;\n        }\n        var isContent = !isNullOrUndefined(closest(e.target, '.' + literals.gridContent));\n        var isHeader = !isNullOrUndefined(closest(e.target, '.' + literals.gridHeader));\n        isContent = isContent && isHeader ? !isContent : isContent;\n        var isFrozen = !isNullOrUndefined(closest(e.target, '.' + literals.frozenContent)) ||\n            !isNullOrUndefined(closest(e.target, '.' + literals.frozenHeader));\n        var isFrozenRight = false;\n        if (this.parent.getFrozenMode() === literals.leftRight) {\n            isFrozenRight = !isNullOrUndefined(closest(e.target, '.e-frozen-right-content')) ||\n                !isNullOrUndefined(closest(e.target, '.e-frozen-right-header'));\n            isFrozen = isFrozen && !isFrozenRight;\n        }\n        if (!isContent && isNullOrUndefined(closest(e.target, '.' + literals.gridHeader)) ||\n            e.target.classList.contains(literals.content) ||\n            !isNullOrUndefined(closest(e.target, '.e-unboundcell'))) {\n            return;\n        }\n        this.setActive(isContent, isFrozen, isFrozenRight);\n        if (!isContent && isNullOrUndefined(closest(e.target, '.' + literals.gridHeader))) {\n            this.clearOutline();\n            return;\n        }\n        var beforeArgs = { cancel: false, byKey: false, byClick: !isNullOrUndefined(e.target), clickArgs: e };\n        this.parent.notify(event.beforeCellFocused, beforeArgs);\n        if (beforeArgs.cancel || closest(e.target, '.e-inline-edit')) {\n            return;\n        }\n        this.setActive(isContent, isFrozen, isFrozenRight);\n        if (this.getContent()) {\n            var returnVal = this.getContent().onClick(e, force);\n            if (returnVal === false) {\n                return;\n            }\n            this.focus();\n        }\n    };\n    FocusStrategy.prototype.onKeyPress = function (e) {\n        if (this.skipOn(e)) {\n            return;\n        }\n        this.activeKey = e.action;\n        var beforeArgs = { cancel: false, byKey: true, byClick: false, keyArgs: e };\n        this.parent.notify(event.beforeCellFocused, beforeArgs);\n        if (beforeArgs.cancel) {\n            return;\n        }\n        var bValue = this.getContent().matrix.current;\n        this.currentInfo.outline = true;\n        var swapInfo = this.getContent().jump(e.action, bValue);\n        this.swap = swapInfo;\n        if (swapInfo.swap) {\n            this.setActive(!swapInfo.toHeader, swapInfo.toFrozen, swapInfo.toFrozenRight);\n            this.getContent().matrix.current = this.getContent().getNextCurrent(bValue, swapInfo, this.active, e.action);\n            this.prevIndexes = {};\n        }\n        this.setActiveByKey(e.action, this.getContent());\n        var returnVal = this.content.lastIdxCell ? false : this.getContent().onKeyPress(e);\n        if (returnVal === false) {\n            this.clearIndicator();\n            if (e.action === 'shiftTab' && bValue.toString() === [0, 0].toString()) {\n                this.parent.element.tabIndex = -1;\n            }\n            return;\n        }\n        e.preventDefault();\n        this.focus(e);\n    };\n    FocusStrategy.prototype.skipOn = function (e) {\n        var target = e.target;\n        if (!target) {\n            return false;\n        }\n        if (this.currentInfo.skipAction) {\n            this.clearIndicator();\n            return true;\n        }\n        if (['pageUp', 'pageDown', 'altDownArrow'].indexOf(e.action) > -1) {\n            this.clearIndicator();\n            return true;\n        }\n        var th = closest(target, 'th') && !closest(target, 'th').tabIndex;\n        if (e.target.classList.contains('e-filterbaroperator') && (e.keyCode === 13 || e.keyCode === 27)) {\n            var inputTarget = closest(e.target, '.e-filterbarcell');\n            inputTarget.querySelector('input').focus();\n        }\n        if (th && closest(document.activeElement, '.e-filterbarcell') !== null) {\n            this.removeFocus();\n        }\n        var filterCell = closest(document.activeElement, '.e-filterbarcell') !== null;\n        if (this.parent.enableHeaderFocus && filterCell) {\n            var matrix = this.active.matrix;\n            var current = matrix.current;\n            filterCell = matrix.matrix[current[0]].lastIndexOf(1) !== current[1];\n        }\n        return (e.action === 'delete'\n            || (this.parent.editSettings.mode !== 'Batch' && (this.parent.isEdit || ['insert', 'f2'].indexOf(e.action) > -1))\n            || (filterCell ||\n                closest(document.activeElement, '#' + this.parent.element.id + '_searchbar') !== null\n                    && ['enter', 'leftArrow', 'rightArrow',\n                        'shiftLeft', 'shiftRight', 'ctrlPlusA'].indexOf(e.action) > -1)\n            || (closest(target, '.' + literals.gridContent) === null && closest(target, '.' + literals.gridHeader) === null)\n            || (e.action === 'space' && (!target.classList.contains(literals.gridChkBox) && closest(target, '.' + literals.gridChkBox) === null\n                && closest(target, '.e-headerchkcelldiv') === null))) || closest(target, '.e-filter-popup') !== null;\n    };\n    FocusStrategy.prototype.focusVirtualElement = function (e) {\n        var _this = this;\n        if (this.parent.enableVirtualization || this.parent.enableInfiniteScrolling) {\n            var data = { virtualData: {}, isAdd: false, isCancel: false };\n            this.parent.notify(event.getVirtualData, data);\n            var isKeyFocus = this.actions.some(function (value) { return value === _this.activeKey; });\n            var isSelected = this.parent.contentModule ?\n                this.parent.contentModule.selectedRowIndex > -1 : false;\n            if (data.isAdd || Object.keys(data.virtualData).length || isKeyFocus || data.isCancel || isSelected) {\n                this.parent.notify(event.resetVirtualFocus, { isCancel: false });\n                data.isCancel = false;\n                this.parent.contentModule.selectedRowIndex = -1;\n                if (isKeyFocus) {\n                    this.activeKey = this.empty;\n                    this.parent.notify('virtaul-key-handler', e);\n                }\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.currentInfo.elementToFocus.focus({ preventScroll: true });\n            }\n            else {\n                if (this.isVirtualScroll || this.isInfiniteScroll) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    this.currentInfo.elementToFocus.focus({ preventScroll: true });\n                }\n                else {\n                    this.currentInfo.elementToFocus.focus();\n                }\n            }\n        }\n        this.isVirtualScroll = this.isInfiniteScroll = false;\n    };\n    FocusStrategy.prototype.getFocusedElement = function () {\n        return this.currentInfo.elementToFocus;\n    };\n    FocusStrategy.prototype.getContent = function () {\n        return this.active || this.content;\n    };\n    FocusStrategy.prototype.setActive = function (content, isFrozen, isFrozenRight) {\n        this.active = content ? isFrozen ? this.fContent : isFrozenRight ? this.frContent : this.content :\n            isFrozen ? this.fHeader : isFrozenRight ? this.frHeader : this.header;\n    };\n    FocusStrategy.prototype.setFocusedElement = function (element, e) {\n        var _this = this;\n        this.currentInfo.elementToFocus = element;\n        setTimeout(function () {\n            if (!isNullOrUndefined(_this.currentInfo.elementToFocus)) {\n                if (_this.parent.enableVirtualization || _this.parent.enableInfiniteScrolling) {\n                    _this.focusVirtualElement(e);\n                }\n                else {\n                    _this.currentInfo.elementToFocus.focus();\n                }\n            }\n        }, 0);\n    };\n    FocusStrategy.prototype.focus = function (e) {\n        this.parent.notify(event.virtaulCellFocus, e);\n        this.removeFocus();\n        this.addFocus(this.getContent().getFocusInfo(), e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    FocusStrategy.prototype.removeFocus = function (e) {\n        if (!this.currentInfo.element) {\n            return;\n        }\n        removeClass([this.currentInfo.element, this.currentInfo.elementToFocus], ['e-focused', 'e-focus']);\n        this.currentInfo.element.tabIndex = -1;\n    };\n    /**\n     * @returns {void}\n     * @hidden */\n    FocusStrategy.prototype.addOutline = function () {\n        var info = this.getContent().getFocusInfo();\n        if (info.element) {\n            addClass([info.element], ['e-focused']);\n            addClass([info.elementToFocus], ['e-focus']);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden */\n    FocusStrategy.prototype.focusHeader = function () {\n        this.setActive(false, this.parent.isFrozenGrid());\n        this.resetFocus();\n    };\n    /**\n     * @returns {void}\n     * @hidden */\n    FocusStrategy.prototype.focusContent = function () {\n        this.setActive(true, this.parent.isFrozenGrid());\n        this.resetFocus();\n    };\n    FocusStrategy.prototype.resetFocus = function () {\n        var current = this.getContent().matrix.get(0, -1, [0, 1], null, this.getContent().validator());\n        this.getContent().matrix.select(current[0], current[1]);\n        this.focus();\n    };\n    FocusStrategy.prototype.addFocus = function (info, e) {\n        this.currentInfo = info;\n        this.currentInfo.outline = info.outline && !isNullOrUndefined(e);\n        if (this.isInfiniteScroll) {\n            this.currentInfo.outline = true;\n        }\n        if (!info.element) {\n            return;\n        }\n        var isFocused = info.elementToFocus.classList.contains('e-focus');\n        if (isFocused) {\n            return;\n        }\n        if (this.currentInfo.outline) {\n            addClass([info.element], ['e-focused']);\n        }\n        addClass([info.elementToFocus], ['e-focus']);\n        info.element.tabIndex = 0;\n        if (!isFocused) {\n            this.setFocusedElement(info.elementToFocus, e);\n        }\n        this.parent.notify(event.cellFocused, {\n            element: info.elementToFocus,\n            parent: info.element,\n            indexes: this.getContent().matrix.current,\n            byKey: !isNullOrUndefined(e),\n            byClick: isNullOrUndefined(e),\n            keyArgs: e,\n            isJump: this.swap.swap,\n            container: this.getContent().getInfo(e),\n            outline: !isNullOrUndefined(e),\n            swapInfo: this.swap\n        });\n        var _a = this.getContent().matrix.current, rowIndex = _a[0], cellIndex = _a[1];\n        this.prevIndexes = { rowIndex: rowIndex, cellIndex: cellIndex };\n        this.focusedColumnUid = this.parent.getColumnByIndex(cellIndex).uid;\n        this.focusByClick = false;\n    };\n    FocusStrategy.prototype.refreshMatrix = function (content) {\n        var _this = this;\n        return function (e) {\n            if (content && (e.args && e.args.isFrozen) && !_this.fContent) {\n                _this.fContent = new FixedContentFocus(_this.parent);\n            }\n            else if (content && !_this.frContent && (e.args && e.args.renderFrozenRightContent)) {\n                _this.frContent = new FixedRightContentFocus(_this.parent);\n            }\n            else if (content && !_this.content) {\n                _this.content = new ContentFocus(_this.parent);\n            }\n            if (!content && (e.args && e.args.isFrozen) && !_this.fHeader) {\n                _this.fHeader = new FixedHeaderFocus(_this.parent);\n            }\n            else if (!content && (e.args && e.args.renderFrozenRightContent) && !_this.frHeader) {\n                _this.frHeader = new FixedRightHeaderFocus(_this.parent);\n            }\n            else if (!content && !_this.header) {\n                _this.header = new HeaderFocus(_this.parent);\n            }\n            var cFocus = content ? (e.args && e.args.isFrozen) ? _this.fContent : (e.args && e.args.renderFrozenRightContent)\n                ? _this.frContent : _this.content : (e.args && e.args.isFrozen) ? _this.fHeader : (e.args && e.args.renderFrozenRightContent)\n                ? _this.frHeader : _this.header;\n            var rows = content ? e.rows.slice(_this.parent.frozenRows) : e.rows;\n            var updateRow = content ? e.rows.slice(0, _this.parent.frozenRows) : e.rows;\n            if (_this.parent.isCollapseStateEnabled() && content) {\n                rows = rows.filter(function (x) { return x.visible !== false; });\n            }\n            var isRowTemplate = !isNullOrUndefined(_this.parent.rowTemplate);\n            var matrix = cFocus.matrix.generate(updateRow, cFocus.selector, isRowTemplate);\n            if (e.name === 'batchAdd' && _this.parent.isFrozenGrid()) {\n                var mRows = _this.parent.getMovableRowsObject();\n                var newMovableRows = mRows.map(function (row) { return row.clone(); });\n                var newFrozenRows = rows.map(function (row) { return row.clone(); });\n                _this.fContent.matrix.generate(newFrozenRows, _this.fContent.selector, isRowTemplate);\n                _this.content.matrix.generate(newMovableRows, _this.content.selector, isRowTemplate);\n                if (_this.parent.getFrozenMode() === literals.leftRight) {\n                    var frRows = _this.parent.getFrozenRightRowsObject();\n                    var newfrRows = frRows.map(function (row) { return row.clone(); });\n                    _this.frContent.matrix.generate(newfrRows, _this.frContent.selector, isRowTemplate);\n                }\n            }\n            else {\n                cFocus.matrix.generate(rows, cFocus.selector, isRowTemplate);\n            }\n            cFocus.generateRows(updateRow, {\n                matrix: matrix, handlerInstance: (e.args && e.args.isFrozen) ? _this.fHeader\n                    : (e.args && e.args.renderFrozenRightContent) ? _this.frHeader : _this.header\n            });\n            if (!Browser.isDevice && e && e.args) {\n                if (!_this.focusByClick && e.args.requestType === 'paging') {\n                    _this.skipFocus = false;\n                    _this.parent.element.focus();\n                }\n                if (e.args.requestType === 'grouping') {\n                    _this.skipFocus = true;\n                }\n            }\n            if (e && e.args && e.args.requestType === 'virtualscroll') {\n                if (_this.currentInfo.uid) {\n                    var index_1;\n                    var bool = e.rows.some(function (row, i) {\n                        index_1 = i;\n                        return row.uid === _this.currentInfo.uid;\n                    });\n                    if (bool) {\n                        _this.content.matrix.current[0] = index_1;\n                        _this.content.matrix.current[1] = _this.parent.getColumnIndexByUid(_this.focusedColumnUid) || 0;\n                        var focusElement = _this.getContent().getFocusInfo().elementToFocus;\n                        if (focusElement) {\n                            var cellPosition = focusElement.getBoundingClientRect();\n                            var gridPosition = _this.parent.element.getBoundingClientRect();\n                            if (cellPosition.top >= 0 && cellPosition.left >= 0 &&\n                                cellPosition.right <= Math.min(gridPosition.right, window.innerWidth ||\n                                    document.documentElement.clientWidth) &&\n                                cellPosition.bottom <= Math.min(gridPosition.bottom, window.innerHeight ||\n                                    document.documentElement.clientHeight)) {\n                                _this.isVirtualScroll = true;\n                                _this.focus();\n                            }\n                        }\n                    }\n                }\n                else if (e.args.focusElement && e.args.focusElement.classList.contains('e-filtertext')) {\n                    var focusElement = _this.parent.element.querySelector('#' + e.args.focusElement.id);\n                    if (focusElement) {\n                        focusElement.focus();\n                    }\n                }\n            }\n        };\n    };\n    FocusStrategy.prototype.addEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        EventHandler.add(this.parent.element, 'mousedown', this.focusCheck, this);\n        EventHandler.add(this.parent.element, 'focus', this.onFocus, this);\n        this.parent.element.addEventListener('focus', this.passiveHandler = function (e) { return _this.passiveFocus(e); }, true);\n        EventHandler.add(this.parent.element, 'focusout', this.onBlur, this);\n        this.evtHandlers = [{ event: event.keyPressed, handler: this.onKeyPress },\n            { event: event.click, handler: this.onClick },\n            { event: event.contentReady, handler: this.refMatrix },\n            { event: event.partialRefresh, handler: this.refMatrix },\n            { event: event.refreshExpandandCollapse, handler: this.refMatrix },\n            { event: event.headerRefreshed, handler: this.refreshMatrix() },\n            { event: event.closeEdit, handler: this.restoreFocus },\n            { event: event.restoreFocus, handler: this.restoreFocus },\n            { event: 'start-edit', handler: this.clearIndicator },\n            { event: 'start-add', handler: this.clearIndicator },\n            { event: 'sorting-complete', handler: this.restoreFocus },\n            { event: 'filtering-complete', handler: this.filterfocus },\n            { event: 'grouping-complete', handler: this.restoreFocusWithAction },\n            { event: 'ungrouping-complete', handler: this.restoreFocusWithAction },\n            { event: event.batchAdd, handler: this.refMatrix },\n            { event: event.batchCancel, handler: this.refMatrix },\n            { event: event.batchDelete, handler: this.refMatrix },\n            { event: event.detailDataBound, handler: this.refMatrix },\n            { event: event.onEmpty, handler: this.refMatrix },\n            { event: event.cellFocused, handler: this.internalCellFocus }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    };\n    FocusStrategy.prototype.filterfocus = function () {\n        if (this.parent.filterSettings.type !== 'FilterBar') {\n            this.restoreFocus();\n        }\n    };\n    FocusStrategy.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        EventHandler.remove(this.parent.element, 'mousedown', this.focusCheck);\n        EventHandler.remove(this.parent.element, 'focus', this.onFocus);\n        EventHandler.remove(this.parent.element, 'focusout', this.onBlur);\n        this.parent.element.removeEventListener('focus', this.passiveHandler, true);\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n    };\n    FocusStrategy.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    FocusStrategy.prototype.restoreFocus = function () {\n        this.addFocus(this.getContent().getFocusInfo());\n    };\n    FocusStrategy.prototype.restoreFocusWithAction = function (e) {\n        if (!this.parent.enableInfiniteScrolling) {\n            var matrix = this.getContent().matrix;\n            var current = matrix.current;\n            switch (e.requestType) {\n                case 'grouping':\n                case 'ungrouping':\n                    current[1] = current.length &&\n                        !this.parent.groupSettings.showGroupedColumn && !isNullOrUndefined(matrix.matrix[current[0]]) ?\n                        matrix.matrix[current[0]].indexOf(1) : e.requestType === 'grouping' ? current[1] + 1 : current[1] - 1;\n                    break;\n            }\n            this.getContent().matrix.current = current;\n            this.addFocus(this.getContent().getFocusInfo());\n        }\n    };\n    FocusStrategy.prototype.clearOutline = function () {\n        this.getContent().matrix.current = this.getContent().matrix.get(0, -1, [0, 1], 'downArrow', this.getContent().validator());\n        this.clearIndicator();\n    };\n    FocusStrategy.prototype.clearIndicator = function () {\n        if (!this.currentInfo.element || !this.currentInfo.elementToFocus) {\n            return;\n        }\n        removeClass([this.currentInfo.element, this.currentInfo.elementToFocus], ['e-focus', 'e-focused']);\n    };\n    FocusStrategy.prototype.getPrevIndexes = function () {\n        var forget = this.forget;\n        this.forget = false;\n        return forget || !Object.keys(this.prevIndexes).length ? { rowIndex: null, cellIndex: null } : this.prevIndexes;\n    };\n    FocusStrategy.prototype.forgetPrevious = function () {\n        this.forget = true;\n    };\n    FocusStrategy.prototype.setActiveByKey = function (action, active) {\n        var _this = this;\n        if (!this.parent.isFrozenGrid() && this.parent.frozenRows === 0) {\n            return;\n        }\n        // eslint-disable-next-line prefer-const\n        var info;\n        var actions = {\n            'home': function () { return ({ toHeader: !info.isContent, toFrozen: true }); },\n            'end': function () { return ({ toHeader: !info.isContent, toFrozen: false }); },\n            'ctrlHome': function () { return ({ toHeader: true, toFrozen: _this.parent.isFrozenGrid() }); },\n            'ctrlEnd': function () { return ({ toHeader: false, toFrozen: false }); }\n        };\n        if (!(action in actions)) {\n            return;\n        }\n        info = active.getInfo();\n        var swap = actions[action]();\n        this.setActive(!swap.toHeader, swap.toFrozen);\n        this.getContent().matrix.current = active.matrix.current;\n    };\n    FocusStrategy.prototype.internalCellFocus = function (e) {\n        if (!(e.byKey && e.container.isContent && e.keyArgs.action === 'enter'\n            && (e.parent.classList.contains('e-detailcell') ||\n                e.parent.classList.contains('e-unboundcell') || e.parent.classList.contains('e-templatecell')))) {\n            return;\n        }\n        this.clearIndicator();\n        var focusEle = this.getContent().getFocusable(this.getFocusedElement());\n        this.setFocusedElement(focusEle);\n        this.currentInfo.skipAction = true;\n    };\n    return FocusStrategy;\n}());\nexport { FocusStrategy };\n/**\n * Create matrix from row collection which act as mental model for cell navigation\n *\n * @hidden\n */\nvar Matrix = /** @class */ (function () {\n    function Matrix() {\n        this.matrix = [];\n        this.current = [];\n    }\n    Matrix.prototype.set = function (rowIndex, columnIndex, allow) {\n        rowIndex = Math.max(0, Math.min(rowIndex, this.rows));\n        columnIndex = Math.max(0, Math.min(columnIndex, this.columns));\n        this.matrix[rowIndex] = this.matrix[rowIndex] || [];\n        this.matrix[rowIndex][columnIndex] = allow ? 1 : 0;\n    };\n    Matrix.prototype.get = function (rowIndex, columnIndex, navigator, action, validator) {\n        var tmp = columnIndex;\n        if (rowIndex + navigator[0] < 0) {\n            return [rowIndex, columnIndex];\n        }\n        rowIndex = Math.max(0, Math.min(rowIndex + navigator[0], this.rows));\n        var emptyTable = true;\n        if (isNullOrUndefined(this.matrix[rowIndex])) {\n            return null;\n        }\n        columnIndex = Math.max(0, Math.min(columnIndex + navigator[1], this.matrix[rowIndex].length - 1));\n        if (tmp + navigator[1] > this.matrix[rowIndex].length - 1 && validator(rowIndex, columnIndex, action)) {\n            return [rowIndex, tmp];\n        }\n        var first = this.first(this.matrix[rowIndex], columnIndex, navigator, true, action);\n        columnIndex = first === null ? tmp : first;\n        var val = getValue(rowIndex + \".\" + columnIndex, this.matrix);\n        if (rowIndex === this.rows && (action === 'downArrow' || action === 'enter')) {\n            navigator[0] = -1;\n        }\n        if (first === null) {\n            for (var i = 0; i < this.rows; i++) {\n                if (this.matrix[i].some(function (v) { return v === 1; })) {\n                    emptyTable = false;\n                    break;\n                }\n            }\n            if (emptyTable) {\n                rowIndex = this.current[0];\n                return [rowIndex, columnIndex];\n            }\n        }\n        return this.inValid(val) || !validator(rowIndex, columnIndex, action) ?\n            this.get(rowIndex, tmp, navigator, action, validator) : [rowIndex, columnIndex];\n    };\n    Matrix.prototype.first = function (vector, index, navigator, moveTo, action) {\n        if (((index < 0 || index === vector.length) && this.inValid(vector[index])\n            && (action !== 'upArrow' && action !== 'downArrow')) || !vector.some(function (v) { return v === 1; })) {\n            return null;\n        }\n        return !this.inValid(vector[index]) ? index :\n            this.first(vector, (['upArrow', 'downArrow', 'shiftUp', 'shiftDown'].indexOf(action) !== -1) ? moveTo ? 0 : ++index : index + navigator[1], navigator, false, action);\n    };\n    Matrix.prototype.select = function (rowIndex, columnIndex) {\n        rowIndex = Math.max(0, Math.min(rowIndex, this.rows));\n        columnIndex = Math.max(0, Math.min(columnIndex, this.matrix[rowIndex].length - 1));\n        this.current = [rowIndex, columnIndex];\n    };\n    Matrix.prototype.generate = function (rows, selector, isRowTemplate) {\n        this.rows = rows.length - 1;\n        this.matrix = [];\n        for (var i = 0; i < rows.length; i++) {\n            var cells = rows[i].cells.filter(function (c) { return c.isSpanned !== true; });\n            this.columns = Math.max(cells.length - 1, this.columns | 0);\n            for (var j = 0; j < cells.length; j++) {\n                this.set(i, j, rows[i].visible === false ? false : selector(rows[i], cells[j], isRowTemplate));\n            }\n        }\n        return this.matrix;\n    };\n    Matrix.prototype.inValid = function (value) {\n        return value === 0 || value === undefined;\n    };\n    return Matrix;\n}());\nexport { Matrix };\n/**\n * @hidden\n */\nvar ContentFocus = /** @class */ (function () {\n    function ContentFocus(parent) {\n        var _this = this;\n        this.matrix = new Matrix();\n        this.lastIdxCell = false;\n        this.parent = parent;\n        this.keyActions = {\n            'rightArrow': [0, 1],\n            'tab': [0, 1],\n            'leftArrow': [0, -1],\n            'shiftTab': [0, -1],\n            'upArrow': [-1, 0],\n            'downArrow': [1, 0],\n            'shiftUp': [-1, 0],\n            'shiftDown': [1, 0],\n            'shiftRight': [0, 1],\n            'shiftLeft': [0, -1],\n            'enter': [1, 0],\n            'shiftEnter': [-1, 0]\n        };\n        this.indexesByKey = function (action) {\n            var opt = {\n                'home': [_this.matrix.current[0], -1, 0, 1],\n                'end': [_this.matrix.current[0], _this.matrix.columns + 1, 0, -1],\n                'ctrlHome': [0, -1, 0, 1],\n                'ctrlEnd': [_this.matrix.rows, _this.matrix.columns + 1, 0, -1]\n            };\n            return opt[action] || null;\n        };\n    }\n    ContentFocus.prototype.getTable = function () {\n        return (this.parent.isFrozenGrid() ?\n            this.parent.getContent().querySelector('.e-movablecontent .e-table') :\n            this.parent.getContentTable());\n    };\n    ContentFocus.prototype.onKeyPress = function (e) {\n        var navigator = this.keyActions[e.action];\n        var current = this.getCurrentFromAction(e.action, navigator, e.action in this.keyActions, e);\n        if (!current) {\n            return;\n        }\n        if ((['tab', 'shiftTab'].indexOf(e.action) > -1 && this.matrix.current || []).toString() === current.toString()) {\n            if (current.toString() === [this.matrix.rows, this.matrix.columns].toString() ||\n                current.toString() === [0, 0].toString() || (this.matrix.current[0] === this.matrix.rows &&\n                this.matrix.current.toString() === current.toString())) {\n                return false;\n            }\n            else {\n                current = this.editNextRow(current[0], current[1], e.action);\n            }\n        }\n        this.matrix.select(current[0], current[1]);\n    };\n    ContentFocus.prototype.editNextRow = function (rowIndex, cellIndex, action) {\n        var gObj = this.parent;\n        var editNextRow = gObj.editSettings.allowNextRowEdit && (gObj.isEdit || gObj.isLastCellPrimaryKey);\n        var visibleIndex = gObj.getColumnIndexByField(gObj.getVisibleColumns()[0].field);\n        var cell = this.getTable().rows[rowIndex].cells[cellIndex];\n        if (action === 'tab' && editNextRow) {\n            rowIndex++;\n            var index = (this.getTable().rows[rowIndex].getElementsByClassName('e-indentcell').length +\n                this.getTable().rows[rowIndex].getElementsByClassName('e-detailrowcollapse').length);\n            cellIndex = visibleIndex + index;\n        }\n        if (action === 'shiftTab' && editNextRow) {\n            rowIndex--;\n            cellIndex = gObj.getColumnIndexByField(gObj.getVisibleColumns()[gObj.getVisibleColumns().length - 1].field);\n        }\n        return !cell.classList.contains(literals.rowCell) && !cell.classList.contains('e-headercell') &&\n            !cell.classList.contains('e-groupcaption') ?\n            this.editNextRow(rowIndex, cellIndex, action) : [rowIndex, cellIndex];\n    };\n    ContentFocus.prototype.getCurrentFromAction = function (action, navigator, isPresent, e) {\n        if (navigator === void 0) { navigator = [0, 0]; }\n        if (!isPresent && !this.indexesByKey(action) || (this.matrix.current.length === 0)) {\n            return null;\n        }\n        if (!this.shouldFocusChange(e)) {\n            return this.matrix.current;\n        }\n        var _a = this.indexesByKey(action) || this.matrix.current.concat(navigator), rowIndex = _a[0], cellIndex = _a[1], rN = _a[2], cN = _a[3];\n        var current = this.matrix.get(rowIndex, cellIndex, [rN, cN], action, this.validator());\n        return current;\n    };\n    ContentFocus.prototype.onClick = function (e, force) {\n        var target = e.target;\n        this.target = target;\n        target = (target.classList.contains(literals.rowCell) ? target : closest(target, 'td'));\n        target = target ? target : closest(e.target, 'td.e-detailrowcollapse')\n            || closest(e.target, 'td.e-detailrowexpand');\n        target = closest(e.target, 'td.e-detailcell') ?\n            isNullOrUndefined(closest(closest(e.target, '.e-grid'), 'td.e-detailcell')) ? null : target : target;\n        target = target && closest(target, 'table').classList.contains(literals.table) ? target : null;\n        if (!target) {\n            return false;\n        }\n        var _a = [target.parentElement.rowIndex, target.cellIndex], rowIndex = _a[0], cellIndex = _a[1];\n        var _b = this.matrix.current, oRowIndex = _b[0], oCellIndex = _b[1];\n        var val = getValue(rowIndex + \".\" + cellIndex, this.matrix.matrix);\n        if (this.matrix.inValid(val) || (!force && oRowIndex === rowIndex && oCellIndex === cellIndex) ||\n            (!parentsUntil(e.target, literals.rowCell) && !parentsUntil(e.target, 'e-groupcaption'))) {\n            return false;\n        }\n        this.matrix.select(rowIndex, cellIndex);\n    };\n    ContentFocus.prototype.getFocusInfo = function () {\n        var info = {};\n        var _a = this.matrix.current, _b = _a[0], rowIndex = _b === void 0 ? 0 : _b, _c = _a[1], cellIndex = _c === void 0 ? 0 : _c;\n        this.matrix.current = [rowIndex, cellIndex];\n        info.element = !isNullOrUndefined(this.getTable().rows[rowIndex]) ? this.getTable().rows[rowIndex].cells[cellIndex] : null;\n        if (!info.element) {\n            return info;\n        }\n        info.elementToFocus = !info.element.classList.contains('e-unboundcell') && !info.element.classList.contains('e-detailcell')\n            ? this.getFocusable(info.element) : info.element;\n        info.outline = true;\n        info.uid = info.element.parentElement.getAttribute('data-uid');\n        return info;\n    };\n    ContentFocus.prototype.getFocusable = function (element) {\n        var query = 'button, [href], input:not([type=\"hidden\"]), select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n        var isTemplate = !isNullOrUndefined(closest(element, '.e-templatecell'));\n        if (this.parent.isEdit) {\n            query = 'input:not([type=\"hidden\"]), select:not([aria-hidden=\"true\"]), textarea';\n        }\n        var child = [].slice.call(element.querySelectorAll(query));\n        /* Select the first focusable child element\n         * if no child found then select the cell itself.\n         * if Grid is in editable state, check for editable control inside child.\n         */\n        return child.length ? isTemplate && child.length > 1 ? this.target : child[0] : element;\n    };\n    ContentFocus.prototype.selector = function (row, cell, isRowTemplate) {\n        var types = [CellType.Expand, CellType.GroupCaption, CellType.CaptionSummary, CellType.GroupSummary];\n        return ((row.isDataRow && cell.visible && (cell.isDataCell || cell.isTemplate))\n            || (row.isDataRow && cell.cellType === CellType.DetailExpand && isNullOrUndefined(cell.visible))\n            || (!row.isDataRow && types.indexOf(cell.cellType) > -1)\n            || (cell.column && cell.visible && cell.column.type === 'checkbox')\n            || (cell.cellType === CellType.CommandColumn)\n            || (row.isDataRow && isRowTemplate))\n            && !(row.edit === 'delete' && row.isDirty);\n    };\n    ContentFocus.prototype.nextRowFocusValidate = function (index) {\n        var lastIndex = index;\n        for (var i = index, len = this.matrix.rows; i <= len; i++) {\n            if (this.matrix.matrix[index].indexOf(1) === -1) {\n                index = index + 1;\n            }\n            else {\n                return index;\n            }\n        }\n        this.lastIdxCell = true;\n        return lastIndex;\n    };\n    ContentFocus.prototype.previousRowFocusValidate = function (index) {\n        var firstIndex = index;\n        for (var i = index, len = 0; i >= len; i--) {\n            if (this.matrix.matrix[index].indexOf(1) === -1) {\n                index = index - 1;\n                if (index < 0) {\n                    this.lastIdxCell = true;\n                    return firstIndex;\n                }\n            }\n            else {\n                return index;\n            }\n        }\n        return firstIndex;\n    };\n    ContentFocus.prototype.jump = function (action, current) {\n        var frozenSwap = this.parent.getFrozenLeftCount() &&\n            ((action === 'leftArrow' || action === 'shiftTab') && current[1] === 0);\n        var right = ((action === 'rightArrow' || action === 'tab') && current[1] === this.matrix.columns);\n        var frSwap = this.parent.getFrozenMode() === literals.leftRight && right;\n        if (this.parent.getFrozenMode() === 'Right') {\n            frozenSwap = right;\n        }\n        this.lastIdxCell = false;\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'shiftEnter';\n        if (action === 'tab' && !this.parent.isEdit &&\n            current[1] === this.matrix.matrix[current[0]].lastIndexOf(1) && this.matrix.matrix.length - 1 !== current[0]) {\n            this.matrix.current[0] = this.nextRowFocusValidate(this.matrix.current[0] + 1);\n            this.matrix.current[1] = -1;\n            frozenSwap = this.parent.isFrozenGrid();\n        }\n        if (action === 'shiftTab' && !this.parent.isEdit &&\n            current[0] !== 0 && this.matrix.matrix[current[0]].indexOf(1) === current[1]) {\n            this.matrix.current[0] = this.previousRowFocusValidate(this.matrix.current[0] - 1);\n            this.matrix.current[1] = this.matrix.matrix[current[0]].length;\n        }\n        var isHeaderFocus = false;\n        var row = document.activeElement.parentElement;\n        if ((this.parent.enableVirtualization || this.parent.infiniteScrollSettings.enableCache)\n            && row.classList.contains(literals.row)) {\n            var rowIndex = parseInt(row.getAttribute(literals.ariaRowIndex), 10);\n            isHeaderFocus = rowIndex > 0;\n        }\n        var info = {\n            swap: !isHeaderFocus ? ((action === 'upArrow' || enterFrozen) && current[0] === 0) || frozenSwap || frSwap : false,\n            toHeader: (action === 'upArrow' || enterFrozen) && current[0] === 0,\n            toFrozen: frozenSwap,\n            toFrozenRight: frSwap\n        };\n        return info;\n    };\n    ContentFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current = [];\n        if (this.parent.getFrozenMode() === 'Right' || this.parent.getFrozenMode() === literals.leftRight) {\n            if (action === 'leftArrow' || action === 'shiftTab') {\n                current[0] = previous[0];\n                current[1] = active.matrix.columns + 1;\n            }\n            if (this.parent.getFrozenMode() === literals.leftRight && (action === 'rightArrow' || action === 'tab')) {\n                current[0] = previous[0];\n                current[1] = -1;\n            }\n        }\n        else if (action === 'rightArrow' || action === 'tab') {\n            current[0] = previous[0];\n            current[1] = -1;\n        }\n        if (action === 'downArrow' || action === 'enter') {\n            current[0] = -1;\n            current[1] = previous[1];\n        }\n        return current;\n    };\n    ContentFocus.prototype.generateRows = function (rows, optionals) {\n        var _a;\n        var matrix = optionals.matrix, handlerInstance = optionals.handlerInstance;\n        var len = handlerInstance.matrix.matrix.length;\n        var defaultLen = this.parent.allowFiltering && this.parent.filterSettings.type === 'FilterBar' ? len + 1 : len;\n        handlerInstance.matrix.matrix = handlerInstance.matrix.matrix.slice(0, defaultLen); //Header matrix update.\n        handlerInstance.matrix.rows = defaultLen;\n        (_a = handlerInstance.matrix.matrix).push.apply(_a, matrix);\n        handlerInstance.matrix.rows += matrix.length;\n    };\n    ContentFocus.prototype.getInfo = function (e) {\n        var info = this.getFocusInfo();\n        var _a = this.matrix.current, rIndex = _a[0], cIndex = _a[1];\n        var isData = info.element.classList.contains(literals.rowCell);\n        var isSelectable = isData || (e && e.action !== 'enter' && (info.element.classList.contains('e-detailrowcollapse')\n            || info.element.classList.contains('e-detailrowexpand')));\n        // eslint-disable-next-line max-len\n        var _b = [Math.min(parseInt(info.element.parentElement.getAttribute(literals.ariaRowIndex), 10), rIndex),\n            Math.min(parseInt(info.element.getAttribute(literals.ariaColIndex), 10), cIndex)], rowIndex = _b[0], cellIndex = _b[1];\n        return { isContent: true, isDataCell: isData, indexes: [rowIndex, cellIndex], isSelectable: isSelectable };\n    };\n    ContentFocus.prototype.validator = function () {\n        var table = this.getTable();\n        return function (rowIndex, cellIndex, action) {\n            if (!isNullOrUndefined(table.rows[rowIndex])) {\n                var cell = void 0;\n                cellIndex = table.querySelector('.e-emptyrow') ? 0 : cellIndex;\n                if (table.rows[rowIndex].cells[0].classList.contains('e-editcell')) {\n                    cell = table.rows[rowIndex].cells[0].querySelectorAll('td')[cellIndex];\n                }\n                else {\n                    cell = table.rows[rowIndex].cells[cellIndex];\n                }\n                var isCellWidth = cell.getBoundingClientRect().width !== 0;\n                if (action === 'enter' || action === 'shiftEnter') {\n                    return isCellWidth && cell.classList.contains(literals.rowCell);\n                }\n                if ((action === 'shiftUp' || action === 'shiftDown') && cell.classList.contains(literals.rowCell)) {\n                    return isCellWidth;\n                }\n                else if (action !== 'shiftUp' && action !== 'shiftDown') {\n                    return isCellWidth;\n                }\n            }\n            return false;\n        };\n    };\n    ContentFocus.prototype.shouldFocusChange = function (e) {\n        var _a = this.matrix.current, _b = _a[0], rIndex = _b === void 0 ? -1 : _b, _c = _a[1], cIndex = _c === void 0 ? -1 : _c;\n        if (rIndex < 0 || cIndex < 0) {\n            return true;\n        }\n        var cell = getValue(rIndex + \".cells.\" + cIndex, this.getTable().rows);\n        if (!cell) {\n            return true;\n        }\n        return e.action === 'enter' || e.action === 'shiftEnter' ?\n            cell.classList.contains(literals.rowCell) && !cell.classList.contains('e-unboundcell')\n                && (!cell.classList.contains('e-templatecell') || cell.classList.contains('e-editedbatchcell'))\n                && !cell.classList.contains('e-detailcell') : true;\n    };\n    ContentFocus.prototype.getGridSeletion = function () {\n        return this.parent.allowSelection && this.parent.selectionSettings.allowColumnSelection;\n    };\n    return ContentFocus;\n}());\nexport { ContentFocus };\n/**\n * @hidden\n */\nvar HeaderFocus = /** @class */ (function (_super) {\n    __extends(HeaderFocus, _super);\n    function HeaderFocus(parent) {\n        return _super.call(this, parent) || this;\n    }\n    HeaderFocus.prototype.getTable = function () {\n        return (this.parent.isFrozenGrid() ?\n            this.parent.getHeaderContent().querySelector('.e-movableheader .e-table') :\n            this.parent.getHeaderTable());\n    };\n    HeaderFocus.prototype.onClick = function (e) {\n        var target = e.target;\n        this.target = target;\n        target = (target.classList.contains('e-headercell') ? target : closest(target, 'th'));\n        if (!target && this.parent.frozenRows !== 0) {\n            target = (e.target.classList.contains(literals.rowCell) ? e.target :\n                closest(e.target, 'td'));\n        }\n        if (e.target.classList.contains('e-columnheader') ||\n            e.target.querySelector('.e-stackedheadercell')) {\n            return false;\n        }\n        if (!target) {\n            return;\n        }\n        var _a = [target.parentElement.rowIndex, target.cellIndex], rowIndex = _a[0], cellIndex = _a[1];\n        var val = getValue(rowIndex + \".\" + cellIndex, this.matrix.matrix);\n        if (this.matrix.inValid(val)) {\n            return false;\n        }\n        this.matrix.select(target.parentElement.rowIndex, target.cellIndex);\n    };\n    HeaderFocus.prototype.getFocusInfo = function () {\n        var info = {};\n        var _a = this.matrix.current, _b = _a[0], rowIndex = _b === void 0 ? 0 : _b, _c = _a[1], cellIndex = _c === void 0 ? 0 : _c;\n        info.element = this.getTable().rows[rowIndex].cells[cellIndex];\n        if (!isNullOrUndefined(info.element)) {\n            info.elementToFocus = this.getFocusable(info.element);\n            info.outline = !info.element.classList.contains('e-filterbarcell');\n        }\n        return info;\n    };\n    HeaderFocus.prototype.selector = function (row, cell) {\n        return (cell.visible && (cell.column.field !== undefined || cell.isTemplate || !isNullOrUndefined(cell.column.template))) ||\n            cell.column.type === 'checkbox' || cell.cellType === CellType.StackedHeader;\n    };\n    HeaderFocus.prototype.jump = function (action, current) {\n        var frozenSwap = this.parent.getFrozenLeftCount() &&\n            (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion()) || action === 'shiftTab') && current[1] === 0;\n        var right = (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion())\n            || action === 'tab') && current[1] === this.matrix.columns;\n        var frSwap = this.parent.getFrozenMode() === literals.leftRight && right;\n        if (this.parent.getFrozenMode() === 'Right') {\n            frozenSwap = right;\n        }\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'enter';\n        var isLastCell;\n        var lastRow;\n        var headerSwap = frozenSwap || frSwap;\n        var fMatrix = this.parent.focusModule.fHeader && this.parent.focusModule.fHeader.matrix.matrix;\n        var isPresent = fMatrix && !isNullOrUndefined(fMatrix[current[0]]);\n        if (this.parent.enableHeaderFocus && action === 'tab') {\n            lastRow = this.matrix.matrix.length - 1 === current[0];\n            isLastCell = current[1] === this.matrix.matrix[current[0]].lastIndexOf(1);\n            if (isLastCell) {\n                if (!lastRow) {\n                    this.matrix.current[0] = this.matrix.current[0] + 1;\n                }\n                else {\n                    this.matrix.current[0] = 0;\n                }\n                this.matrix.current[1] = -1;\n            }\n            if (this.parent.isFrozenGrid() && lastRow && isLastCell) {\n                frozenSwap = true;\n                headerSwap = false;\n            }\n        }\n        return {\n            swap: ((action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1) ||\n                (isPresent && (frozenSwap || frSwap)) || (action === 'tab' && lastRow && isLastCell),\n            toHeader: headerSwap,\n            toFrozen: frozenSwap,\n            toFrozenRight: frSwap\n        };\n    };\n    HeaderFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current1 = [];\n        if (this.parent.getFrozenMode() === 'Right' || this.parent.getFrozenMode() === literals.leftRight) {\n            if (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion()) || action === 'shiftTab') {\n                current1[0] = previous[0];\n                current1[1] = active.matrix.columns + 1;\n            }\n            if (this.parent.getFrozenMode() === literals.leftRight\n                && (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab')) {\n                current1[0] = previous[0];\n                current1[1] = -1;\n            }\n        }\n        else if (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') {\n            current1[0] = previous[0];\n            current1[1] = -1;\n        }\n        if (action === 'upArrow' || action === 'shiftEnter') {\n            current1[0] = this.matrix.matrix.length;\n            current1[1] = previous[1];\n        }\n        return current1;\n    };\n    HeaderFocus.prototype.generateRows = function (rows) {\n        var length = this.matrix.matrix.length;\n        if (this.parent.allowFiltering && this.parent.filterSettings.type === 'FilterBar') {\n            this.matrix.rows = ++this.matrix.rows;\n            var cells = rows[0].cells;\n            for (var i = 0; i < cells.length; i++) {\n                this.matrix.set(length, i, cells[i].visible && cells[i].column.allowFiltering !== false);\n            }\n        }\n    };\n    HeaderFocus.prototype.getInfo = function (e) {\n        return extend(_super.prototype.getInfo.call(this, e), { isContent: false, isHeader: true });\n    };\n    HeaderFocus.prototype.validator = function () {\n        return function () { return true; };\n    };\n    HeaderFocus.prototype.shouldFocusChange = function (e) {\n        var _a = this.matrix.current, rowIndex = _a[0], columnIndex = _a[1];\n        if (rowIndex < 0 || columnIndex < 0) {\n            return true;\n        }\n        var cell = getValue(rowIndex + \".cells.\" + columnIndex, this.getTable().rows);\n        if (!cell) {\n            return true;\n        }\n        return e.action === 'enter' || e.action === 'altDownArrow' ? !cell.classList.contains('e-headercell') : true;\n    };\n    return HeaderFocus;\n}(ContentFocus));\nexport { HeaderFocus };\nvar FixedContentFocus = /** @class */ (function (_super) {\n    __extends(FixedContentFocus, _super);\n    function FixedContentFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedContentFocus.prototype.getTable = function () {\n        return this.parent.getContent().querySelector('.e-frozencontent .e-table');\n    };\n    FixedContentFocus.prototype.jump = function (action, current) {\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'shiftEnter';\n        var toHeader = (action === 'upArrow' || enterFrozen) && current[0] === 0;\n        if (this.parent.getFrozenMode() === 'Right') {\n            var swap = toHeader || ((action === 'shiftTab' || action === 'leftArrow') && current[1] === 0);\n            return { swap: swap, toHeader: toHeader, toFrozen: toHeader };\n        }\n        return {\n            swap: toHeader || ((action === 'tab' || action === 'rightArrow') && current[1] === this.matrix.columns),\n            toHeader: toHeader,\n            toFrozen: toHeader\n        };\n    };\n    FixedContentFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current2 = [];\n        if (this.parent.getFrozenMode() === 'Right') {\n            if (action === 'rightArrow' || action === 'tab') {\n                current2[0] = previous[0];\n                current2[1] = -1;\n            }\n        }\n        else {\n            if (action === 'tab' && this.parent.enableHeaderFocus) {\n                current2[0] = previous[0];\n                current2[1] = -1;\n            }\n            if (action === 'leftArrow' || action === 'shiftTab') {\n                current2[0] = previous[0];\n                current2[1] = active.matrix.columns + 1;\n            }\n        }\n        if (action === 'downArrow' || action === 'enter') {\n            current2[0] = -1;\n            current2[1] = previous[1];\n        }\n        return current2;\n    };\n    return FixedContentFocus;\n}(ContentFocus));\nexport { FixedContentFocus };\nvar FixedHeaderFocus = /** @class */ (function (_super) {\n    __extends(FixedHeaderFocus, _super);\n    function FixedHeaderFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedHeaderFocus.prototype.jump = function (action, current) {\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'enter';\n        var hMatrix = this.parent.focusModule.header && this.parent.focusModule.header.matrix.matrix;\n        var isPresent = hMatrix && !isNullOrUndefined(hMatrix[current[0]]);\n        if (this.parent.getFrozenMode() === 'Right') {\n            var frSwap = (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion())\n                || action === 'shiftTab') && current[1] === 0;\n            var swap = ((action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1) ||\n                (isPresent && frSwap);\n            var toFrozen = (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1;\n            return { swap: swap, toHeader: frSwap, toFrozen: toFrozen };\n        }\n        return {\n            swap: (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1 || ((action === 'rightArrow' ||\n                (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') &&\n                current[1] === this.matrix.columns && isPresent),\n            toHeader: (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') &&\n                current[1] === this.matrix.columns,\n            toFrozen: (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1\n        };\n    };\n    FixedHeaderFocus.prototype.getTable = function () {\n        return (this.parent.getHeaderContent().querySelector('.e-frozenheader .e-table'));\n    };\n    FixedHeaderFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current3 = [];\n        if (this.parent.getFrozenMode() === 'Right') {\n            if (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') {\n                current3[0] = previous[0];\n                current3[1] = -1;\n            }\n        }\n        else {\n            if (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion()) || action === 'shiftTab') {\n                current3[0] = previous[0];\n                current3[1] = active.matrix.columns + 1;\n            }\n        }\n        if (action === 'upArrow' || action === 'shiftEnter') {\n            current3[0] = this.matrix.matrix.length;\n            current3[1] = previous[1];\n        }\n        return current3;\n    };\n    return FixedHeaderFocus;\n}(HeaderFocus));\nexport { FixedHeaderFocus };\n/** @hidden */\nvar SearchBox = /** @class */ (function () {\n    function SearchBox(searchBox) {\n        this.searchBox = searchBox;\n    }\n    SearchBox.prototype.searchFocus = function (args) {\n        args.target.parentElement.classList.add('e-input-focus');\n    };\n    SearchBox.prototype.searchBlur = function (args) {\n        args.target.parentElement.classList.remove('e-input-focus');\n    };\n    SearchBox.prototype.wireEvent = function () {\n        if (this.searchBox) {\n            EventHandler.add(this.searchBox, 'focus', this.searchFocus, this);\n            EventHandler.add(this.searchBox, 'blur', this.searchBlur, this);\n        }\n    };\n    SearchBox.prototype.unWireEvent = function () {\n        if (this.searchBox) {\n            EventHandler.remove(this.searchBox, 'focus', this.searchFocus);\n            EventHandler.remove(this.searchBox, 'blur', this.searchBlur);\n        }\n    };\n    return SearchBox;\n}());\nexport { SearchBox };\nvar FixedRightContentFocus = /** @class */ (function (_super) {\n    __extends(FixedRightContentFocus, _super);\n    function FixedRightContentFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedRightContentFocus.prototype.getTable = function () {\n        return this.parent.getContent().querySelector('.e-frozen-right-content .e-table');\n    };\n    FixedRightContentFocus.prototype.jump = function (action, current) {\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'shiftEnter';\n        var toHeader = (action === 'upArrow' || enterFrozen) && current[0] === 0;\n        return {\n            swap: toHeader || ((action === 'shiftTab' || action === 'leftArrow') && current[1] === 0),\n            toHeader: toHeader,\n            toFrozenRight: toHeader\n        };\n    };\n    FixedRightContentFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current2 = [];\n        if (action === 'rightArrow' || action === 'tab') {\n            current2[0] = previous[0];\n            current2[1] = -1;\n        }\n        if (action === 'downArrow' || action === 'enter') {\n            current2[0] = -1;\n            current2[1] = previous[1];\n        }\n        return current2;\n    };\n    return FixedRightContentFocus;\n}(ContentFocus));\nexport { FixedRightContentFocus };\nvar FixedRightHeaderFocus = /** @class */ (function (_super) {\n    __extends(FixedRightHeaderFocus, _super);\n    function FixedRightHeaderFocus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FixedRightHeaderFocus.prototype.jump = function (action, current) {\n        var headerMat = this.parent.focusModule.header && this.parent.focusModule.header.matrix.matrix;\n        var isPresent = headerMat && !isNullOrUndefined(headerMat[current[0]]);\n        var enterFrozen = this.parent.frozenRows !== 0 && action === 'enter';\n        var frozenSwap = (action === 'leftArrow' || (action === 'shiftLeft' && this.getGridSeletion())\n            || action === 'shiftTab') && current[1] === 0;\n        var swap = ((action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1) ||\n            (isPresent && frozenSwap);\n        var toFrozen = (action === 'downArrow' || enterFrozen) && current[0] === this.matrix.matrix.length - 1;\n        return { swap: swap, toHeader: frozenSwap, toFrozenRight: toFrozen };\n    };\n    FixedRightHeaderFocus.prototype.getTable = function () {\n        return (this.parent.getHeaderContent().querySelector('.e-frozen-right-header .e-table'));\n    };\n    FixedRightHeaderFocus.prototype.getNextCurrent = function (previous, swap, active, action) {\n        if (previous === void 0) { previous = []; }\n        var current3 = [];\n        if (action === 'rightArrow' || (action === 'shiftRight' && this.getGridSeletion()) || action === 'tab') {\n            current3[0] = previous[0];\n            current3[1] = 0;\n        }\n        if (action === 'upArrow' || action === 'shiftEnter') {\n            current3[0] = this.matrix.matrix.length;\n            current3[1] = previous[1];\n        }\n        return current3;\n    };\n    return FixedRightHeaderFocus;\n}(HeaderFocus));\nexport { FixedRightHeaderFocus };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Row } from '../models/row';\nimport { isNullOrUndefined, extend, setValue } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { GroupSummaryModelGenerator, CaptionSummaryModelGenerator } from '../services/summary-model-generator';\nimport { getForeignData, getUid } from '../../grid/base/util';\n/**\n * GroupModelGenerator is used to generate group caption rows and data rows.\n *\n * @hidden\n */\nvar GroupModelGenerator = /** @class */ (function (_super) {\n    __extends(GroupModelGenerator, _super);\n    function GroupModelGenerator(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.rows = [];\n        /** @hidden */\n        _this.index = 0;\n        _this.infiniteChildCount = 0;\n        _this.renderInfiniteAgg = true;\n        _this.parent = parent;\n        _this.summaryModelGen = new GroupSummaryModelGenerator(parent);\n        _this.captionModelGen = new CaptionSummaryModelGenerator(parent);\n        return _this;\n    }\n    GroupModelGenerator.prototype.generateRows = function (data, args) {\n        if (this.parent.groupSettings.columns.length === 0) {\n            return _super.prototype.generateRows.call(this, data, args);\n        }\n        this.isInfiniteScroll = (args.requestType === 'infiniteScroll');\n        this.rows = [];\n        this.index = this.parent.enableVirtualization || this.isInfiniteScroll ? args.startIndex : 0;\n        for (var i = 0, len = data.length; i < len; i++) {\n            this.infiniteChildCount = 0;\n            this.renderInfiniteAgg = true;\n            this.getGroupedRecords(0, data[i], data.level, i, undefined, this.rows.length);\n        }\n        this.index = 0;\n        if (this.parent.isCollapseStateEnabled()) {\n            this.ensureRowVisibility();\n        }\n        return this.rows;\n    };\n    GroupModelGenerator.prototype.getGroupedRecords = function (index, data, raw, parentid, childId, tIndex, parentUid) {\n        var _a;\n        var level = raw;\n        if (isNullOrUndefined(data.items)) {\n            if (isNullOrUndefined(data.GroupGuid)) {\n                this.rows = this.rows.concat(this.generateDataRows(data, index, parentid, this.rows.length, parentUid));\n            }\n            else {\n                for (var j = 0, len = data.length; j < len; j++) {\n                    this.getGroupedRecords(index, data[j], data.level, parentid, index, this.rows.length, parentUid);\n                }\n            }\n        }\n        else {\n            var preCaption = void 0;\n            var captionRow = this.generateCaptionRow(data, index, parentid, childId, tIndex, parentUid);\n            if (this.isInfiniteScroll) {\n                preCaption = this.getPreCaption(index, captionRow.data.key);\n            }\n            if (!preCaption) {\n                this.rows = this.rows.concat(captionRow);\n            }\n            else {\n                captionRow.uid = preCaption.uid;\n            }\n            if (data.items && data.items.length) {\n                this.getGroupedRecords(index + 1, data.items, data.items.level, parentid, index + 1, this.rows.length, captionRow.uid);\n            }\n            if (this.parent.aggregates.length && this.isRenderAggregate(captionRow)) {\n                var rowCnt = this.rows.length;\n                (_a = this.rows).push.apply(_a, this.summaryModelGen.generateRows(data, { level: level, parentUid: captionRow.uid }));\n                for (var i = rowCnt - 1; i >= 0; i--) {\n                    if (this.rows[i].isCaptionRow) {\n                        this.rows[i].aggregatesCount = this.rows.length - rowCnt;\n                    }\n                    else if (!this.rows[i].isCaptionRow && !this.rows[i].isDataRow) {\n                        break;\n                    }\n                }\n            }\n            if (preCaption) {\n                this.setInfiniteRowVisibility(preCaption);\n            }\n        }\n    };\n    GroupModelGenerator.prototype.isRenderAggregate = function (data) {\n        if (this.parent.enableInfiniteScrolling) {\n            if (!this.renderInfiniteAgg) {\n                return false;\n            }\n            this.getPreCaption(data.indent, data.data.key);\n            this.renderInfiniteAgg = data.data.count === this.infiniteChildCount;\n            return this.renderInfiniteAgg;\n        }\n        return !this.parent.enableInfiniteScrolling;\n    };\n    GroupModelGenerator.prototype.getPreCaption = function (indent, key) {\n        var rowObj = this.parent.getRowsObject().concat(this.rows);\n        var preCap;\n        this.infiniteChildCount = 0;\n        var i = rowObj.length;\n        while (i--) {\n            if (rowObj[i].isCaptionRow && rowObj[i].indent === indent\n                && rowObj[i].data.key === key) {\n                preCap = rowObj[i];\n            }\n            if (rowObj[i].indent === indent || rowObj[i].indent < indent) {\n                break;\n            }\n            if (rowObj[i].indent === indent + 1) {\n                this.infiniteChildCount++;\n            }\n        }\n        return preCap;\n    };\n    GroupModelGenerator.prototype.getCaptionRowCells = function (field, indent, data) {\n        var cells = [];\n        var visibles = [];\n        var column = this.parent.getColumnByField(field);\n        var indexes = this.parent.getColumnIndexesInView();\n        if (this.parent.enableColumnVirtualization) {\n            column = this.parent.columns.filter(function (c) { return c.field === field; })[0];\n        }\n        var groupedLen = this.parent.groupSettings.columns.length;\n        var gObj = this.parent;\n        if (!this.parent.enableColumnVirtualization || indexes.indexOf(indent) !== -1) {\n            for (var i = 0; i < indent; i++) {\n                cells.push(this.generateIndentCell());\n            }\n            cells.push(this.generateCell({}, null, CellType.Expand));\n        }\n        indent = this.parent.enableColumnVirtualization ? 1 :\n            (this.parent.getVisibleColumns().length + groupedLen + (gObj.detailTemplate || gObj.childGrid ? 1 : 0) -\n                indent + (this.parent.getVisibleColumns().length ? -1 : 0));\n        //Captionsummary cells will be added here.\n        if (this.parent.aggregates.length && !this.captionModelGen.isEmpty()) {\n            var captionCells = this.captionModelGen.generateRows(data)[0];\n            extend(data, captionCells.data);\n            var cIndex_1 = 0;\n            captionCells.cells.some(function (cell, index) { cIndex_1 = index; return cell.visible && cell.isDataCell; });\n            visibles = captionCells.cells.slice(cIndex_1).filter(function (cell) { return cell.visible; });\n            if (captionCells.visible && visibles[0].column.field === this.parent.getVisibleColumns()[0].field) {\n                visibles = visibles.slice(1);\n            }\n            if (this.parent.getVisibleColumns().length === 1) {\n                visibles = [];\n            }\n            indent = indent - visibles.length;\n        }\n        var cols = (!this.parent.enableColumnVirtualization ? [column] : this.parent.getColumns());\n        var wFlag = true;\n        for (var j = 0; j < cols.length; j++) {\n            var tmpFlag = wFlag && indexes.indexOf(indent) !== -1;\n            if (tmpFlag) {\n                wFlag = false;\n            }\n            var cellType = !this.parent.enableColumnVirtualization || tmpFlag ?\n                CellType.GroupCaption : CellType.GroupCaptionEmpty;\n            indent = this.parent.enableColumnVirtualization && cellType === CellType.GroupCaption ? indent + groupedLen : indent;\n            if (gObj.isRowDragable()) {\n                indent++;\n            }\n            cells.push(this.generateCell(column, null, cellType, indent));\n        }\n        cells.push.apply(cells, visibles);\n        return cells;\n    };\n    /**\n     * @param {GroupedData} data - specifies the data\n     * @param {number} indent - specifies the indent\n     * @param {number} parentID - specifies the parentID\n     * @param {number} childID - specifies the childID\n     * @param {number} tIndex - specifies the TIndex\n     * @param {string} parentUid - specifies the ParentUid\n     * @returns {Row<Column>} returns the Row object\n     * @hidden\n     */\n    GroupModelGenerator.prototype.generateCaptionRow = function (data, indent, parentID, childID, tIndex, parentUid) {\n        var options = {};\n        var records = 'records';\n        var col = this.parent.getColumnByField(data.field);\n        options.data = extend({}, data);\n        if (col) {\n            options.data.field = data.field;\n        }\n        options.isDataRow = false;\n        options.isExpand = !this.parent.groupSettings.enableLazyLoading && !this.parent.isCollapseStateEnabled();\n        options.parentGid = parentID;\n        options.childGid = childID;\n        options.tIndex = tIndex;\n        options.isCaptionRow = true;\n        options.parentUid = parentUid;\n        options.gSummary = !isNullOrUndefined(data.items[records]) ? data.items[records].length : data.items.length;\n        options.uid = getUid('grid-row');\n        var row = new Row(options);\n        row.indent = indent;\n        this.getForeignKeyData(row);\n        row.cells = this.getCaptionRowCells(data.field, indent, row.data);\n        return row;\n    };\n    GroupModelGenerator.prototype.getForeignKeyData = function (row) {\n        var data = row.data;\n        var col = this.parent.getColumnByField(data.field);\n        if (col && col.isForeignColumn && col.isForeignColumn()) {\n            var fkValue = (isNullOrUndefined(data.key) ? '' : col.valueAccessor(col.foreignKeyValue, getForeignData(col, {}, data.key)[0], col));\n            setValue('foreignKey', fkValue, row.data);\n        }\n    };\n    /**\n     * @param {Object[]} data - specifies the data\n     * @param {number} indent - specifies the indent\n     * @param {number} childID - specifies the childID\n     * @param {number} tIndex - specifies the tIndex\n     * @param {string} parentUid - specifies the ParentUid\n     * @returns {Row<Column>[]} returns the row object\n     * @hidden\n     */\n    GroupModelGenerator.prototype.generateDataRows = function (data, indent, childID, tIndex, parentUid) {\n        var rows = [];\n        var indexes = this.parent.getColumnIndexesInView();\n        for (var i = 0, len = data.length; i < len; i++, tIndex++) {\n            rows[i] = this.generateRow(data[i], this.index, i ? undefined : 'e-firstchildrow', indent, childID, tIndex, parentUid);\n            for (var j = 0; j < indent; j++) {\n                if (this.parent.enableColumnVirtualization && indexes.indexOf(indent) === -1) {\n                    continue;\n                }\n                rows[i].cells.unshift(this.generateIndentCell());\n            }\n            this.index++;\n        }\n        return rows;\n    };\n    GroupModelGenerator.prototype.generateIndentCell = function () {\n        return this.generateCell({}, null, CellType.Indent);\n    };\n    GroupModelGenerator.prototype.refreshRows = function (input) {\n        var indexes = this.parent.getColumnIndexesInView();\n        for (var i = 0; i < input.length; i++) {\n            if (input[i].isDataRow) {\n                input[i].cells = this.generateCells(input[i]);\n                for (var j = 0; j < input[i].indent; j++) {\n                    if (this.parent.enableColumnVirtualization && indexes.indexOf(input[i].indent) === -1) {\n                        continue;\n                    }\n                    input[i].cells.unshift(this.generateIndentCell());\n                }\n            }\n            else {\n                var cRow = this.generateCaptionRow(input[i].data, input[i].indent);\n                input[i].cells = cRow.cells;\n            }\n        }\n        return input;\n    };\n    GroupModelGenerator.prototype.setInfiniteRowVisibility = function (caption) {\n        if (!caption.isExpand || caption.visible === false) {\n            for (var _i = 0, _a = this.rows; _i < _a.length; _i++) {\n                var row = _a[_i];\n                if (row.parentUid === caption.uid) {\n                    row.visible = false;\n                    if (row.isCaptionRow) {\n                        this.setInfiniteRowVisibility(row);\n                    }\n                }\n            }\n        }\n    };\n    GroupModelGenerator.prototype.ensureRowVisibility = function () {\n        for (var i = 0; i < this.rows.length; i++) {\n            var row = this.rows[i];\n            if (!row.isCaptionRow) {\n                continue;\n            }\n            for (var j = i + 1; j < this.rows.length; j++) {\n                var childRow = this.rows[j];\n                if (row.uid === childRow.parentUid) {\n                    this.rows[j].visible = row.isExpand;\n                }\n            }\n        }\n    };\n    return GroupModelGenerator;\n}(RowModelGenerator));\nexport { GroupModelGenerator };\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\nimport { Row } from '../models/row';\nimport { CellType } from '../base/enum';\nimport { Cell } from '../models/cell';\nimport { getUid } from '../base/util';\nimport { getForeignData } from '../../grid/base/util';\nimport * as events from '../base/constant';\n/**\n * RowModelGenerator is used to generate grid data rows.\n *\n * @hidden\n */\nvar RowModelGenerator = /** @class */ (function () {\n    /**\n     * Constructor for header renderer module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     */\n    function RowModelGenerator(parent) {\n        this.parent = parent;\n    }\n    RowModelGenerator.prototype.generateRows = function (data, args) {\n        var rows = [];\n        var startIndex = this.parent.enableVirtualization && args ? args.startIndex : 0;\n        startIndex = this.parent.enableInfiniteScrolling && args ? this.getInfiniteIndex(args) : startIndex;\n        for (var i = 0, len = Object.keys(data).length; i < len; i++, startIndex++) {\n            rows[i] = this.generateRow(data[i], startIndex);\n        }\n        return rows;\n    };\n    RowModelGenerator.prototype.ensureColumns = function () {\n        //TODO: generate dummy column for group, detail here;\n        var cols = [];\n        if (this.parent.detailTemplate || this.parent.childGrid) {\n            var args = {};\n            this.parent.notify(events.detailIndentCellInfo, args);\n            cols.push(this.generateCell(args, null, CellType.DetailExpand));\n        }\n        if (this.parent.isRowDragable()) {\n            cols.push(this.generateCell({}, null, CellType.RowDragIcon));\n        }\n        return cols;\n    };\n    RowModelGenerator.prototype.generateRow = function (data, index, cssClass, indent, pid, tIndex, parentUid) {\n        var options = {};\n        options.foreignKeyData = {};\n        options.uid = getUid('grid-row');\n        options.data = data;\n        options.index = index;\n        options.indent = indent;\n        options.tIndex = tIndex;\n        options.isDataRow = true;\n        options.parentGid = pid;\n        options.parentUid = parentUid;\n        if (this.parent.isPrinting) {\n            if (this.parent.hierarchyPrintMode === 'All') {\n                options.isExpand = true;\n            }\n            else if (this.parent.hierarchyPrintMode === 'Expanded' && this.parent.expandedRows && this.parent.expandedRows[index]) {\n                options.isExpand = this.parent.expandedRows[index].isExpand;\n            }\n        }\n        options.cssClass = cssClass;\n        options.isAltRow = this.parent.enableAltRow ? index % 2 !== 0 : false;\n        options.isAltRow = this.parent.enableAltRow ? index % 2 !== 0 : false;\n        options.isSelected = this.parent.getSelectedRowIndexes().indexOf(index) > -1;\n        this.refreshForeignKeyRow(options);\n        var cells = this.ensureColumns();\n        var row = new Row(options, this.parent);\n        row.cells = this.parent.getFrozenMode() === 'Right' ? this.generateCells(options).concat(cells)\n            : cells.concat(this.generateCells(options));\n        return row;\n    };\n    RowModelGenerator.prototype.refreshForeignKeyRow = function (options) {\n        var foreignKeyColumns = this.parent.getForeignKeyColumns();\n        for (var i = 0; i < foreignKeyColumns.length; i++) {\n            setValue(foreignKeyColumns[i].field, getForeignData(foreignKeyColumns[i], options.data), options.foreignKeyData);\n        }\n    };\n    RowModelGenerator.prototype.generateCells = function (options) {\n        var dummies = this.parent.getColumns();\n        var tmp = [];\n        for (var i = 0; i < dummies.length; i++) {\n            tmp.push(this.generateCell(dummies[i], options.uid, isNullOrUndefined(dummies[i].commands) ? undefined : CellType.CommandColumn, null, i, options.foreignKeyData));\n        }\n        return tmp;\n    };\n    /**\n     *\n     * @param {Column} column - Defines column details\n     * @param {string} rowId - Defines row id\n     * @param {CellType} cellType  - Defines cell type\n     * @param {number} colSpan - Defines colSpan\n     * @param {number} oIndex - Defines index\n     * @param {Object} foreignKeyData - Defines foreign key data\n     * @returns {Cell<Column>} returns cell model\n     * @hidden\n     */\n    RowModelGenerator.prototype.generateCell = function (column, rowId, cellType, colSpan, oIndex, foreignKeyData) {\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': !isNullOrUndefined(column.field || column.template),\n            'isTemplate': !isNullOrUndefined(column.template),\n            'rowID': rowId,\n            'column': column,\n            'cellType': !isNullOrUndefined(cellType) ? cellType : CellType.Data,\n            'colSpan': colSpan,\n            'commands': column.commands,\n            'isForeignKey': column.isForeignColumn && column.isForeignColumn(),\n            'foreignKeyData': column.isForeignColumn && column.isForeignColumn() && getValue(column.field, foreignKeyData)\n        };\n        if (opt.isDataCell || opt.column.type === 'checkbox' || opt.commands) {\n            opt.index = oIndex;\n        }\n        return new Cell(opt);\n    };\n    RowModelGenerator.prototype.refreshRows = function (input) {\n        for (var i = 0; i < input.length; i++) {\n            this.refreshForeignKeyRow(input[i]);\n            input[i].cells = this.generateCells(input[i]);\n        }\n        return input;\n    };\n    RowModelGenerator.prototype.getInfiniteIndex = function (args) {\n        return args.requestType === 'infiniteScroll' || args.requestType === 'delete' || args.action === 'add'\n            ? args.startIndex : 0;\n    };\n    return RowModelGenerator;\n}());\nexport { RowModelGenerator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Row } from '../models/row';\nimport { Column } from '../models/column';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { calculateAggregate, getUid } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { Cell } from '../models/cell';\n/**\n * Summary row model generator\n *\n * @hidden\n */\nvar SummaryModelGenerator = /** @class */ (function () {\n    /**\n     * Constructor for Summary row model generator\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     */\n    function SummaryModelGenerator(parent) {\n        this.parent = parent;\n    }\n    SummaryModelGenerator.prototype.getData = function () {\n        var _this = this;\n        var rows = [];\n        var row = this.parent.aggregates.slice();\n        for (var i = 0; i < row.length; i++) {\n            var columns = row[i].columns.filter(function (column) {\n                return !(column.footerTemplate || column.groupFooterTemplate || column.groupCaptionTemplate)\n                    || _this.columnSelector(column);\n            });\n            if (columns.length) {\n                rows.push({ columns: columns });\n            }\n        }\n        return rows;\n    };\n    SummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.footerTemplate !== undefined;\n    };\n    SummaryModelGenerator.prototype.getColumns = function (start, end) {\n        var columns = [];\n        if (this.parent.allowGrouping) {\n            for (var i = 0; i < this.parent.groupSettings.columns.length; i++) {\n                columns.push(new Column({}));\n            }\n        }\n        if (this.parent.detailTemplate || !isNullOrUndefined(this.parent.childGrid)) {\n            columns.push(new Column({}));\n        }\n        if (this.parent.isRowDragable() && !start) {\n            columns.push(new Column({}));\n        }\n        columns.push.apply(columns, this.parent.getColumns());\n        end = end && !start ? end + this.parent.getIndentCount() : end;\n        return isNullOrUndefined(start) ? columns : columns.slice(start, end);\n    };\n    SummaryModelGenerator.prototype.generateRows = function (input, args, start, end, columns) {\n        if (input.length === 0) {\n            if (args === undefined || !args.count) {\n                return [];\n            }\n        }\n        var data = this.buildSummaryData(input, args);\n        var rows = [];\n        var row = this.getData();\n        for (var i = 0; i < row.length; i++) {\n            rows.push(this.getGeneratedRow(row[i], data[i], args ? args.level : undefined, start, end, args ? args.parentUid : undefined, columns));\n        }\n        return rows;\n    };\n    SummaryModelGenerator.prototype.getGeneratedRow = function (summaryRow, data, raw, start, end, parentUid, columns) {\n        var tmp = [];\n        var indents = this.getIndentByLevel();\n        var isDetailGridAlone = !isNullOrUndefined(this.parent.childGrid);\n        var indentLength = !start ? this.parent.getIndentCount() : 0;\n        if (this.parent.isRowDragable() && !start) {\n            indents = ['e-indentcelltop'];\n        }\n        var values = columns ? columns : this.getColumns(start, end);\n        for (var i = 0; i < values.length; i++) {\n            tmp.push(this.getGeneratedCell(values[i], summaryRow, i >= indentLength ? this.getCellType() :\n                i < this.parent.groupSettings.columns.length ? CellType.Indent : CellType.DetailFooterIntent, indents[i], isDetailGridAlone));\n        }\n        var row = new Row({ data: data, attributes: { class: 'e-summaryrow' } });\n        row.cells = tmp;\n        row.uid = getUid('grid-row');\n        row.parentUid = parentUid;\n        row.isAggregateRow = true;\n        row.visible = tmp.some(function (cell) { return cell.isDataCell && cell.visible; });\n        return row;\n    };\n    SummaryModelGenerator.prototype.getGeneratedCell = function (column, summaryRow, cellType, indent, isDetailGridAlone) {\n        //Get the summary column by display\n        var sColumn = summaryRow.columns.filter(function (scolumn) { return scolumn.columnName === column.field; })[0];\n        var attrs = {\n            'style': { 'textAlign': column.textAlign },\n            'e-mappinguid': column.uid, index: column.index\n        };\n        if (indent) {\n            attrs.class = indent;\n        }\n        if (isNullOrUndefined(indent) && isDetailGridAlone) {\n            attrs.class = 'e-detailindentcelltop';\n        }\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': !isNullOrUndefined(sColumn),\n            'isTemplate': sColumn && !isNullOrUndefined(sColumn.footerTemplate\n                || sColumn.groupFooterTemplate || sColumn.groupCaptionTemplate),\n            'column': sColumn || {},\n            'attributes': attrs,\n            'cellType': cellType\n        };\n        opt.column.headerText = column.headerText;\n        return new Cell(opt);\n    };\n    SummaryModelGenerator.prototype.buildSummaryData = function (data, args) {\n        var dummy = [];\n        var summaryRows = this.getData();\n        var single = {};\n        for (var i = 0; i < summaryRows.length; i++) {\n            single = {};\n            var column = summaryRows[i].columns;\n            for (var j = 0; j < column.length; j++) {\n                single = this.setTemplate(column[j], (args && args.aggregates) ? args : data, single);\n            }\n            dummy.push(single);\n        }\n        return dummy;\n    };\n    SummaryModelGenerator.prototype.getIndentByLevel = function () {\n        return this.parent.groupSettings.columns.map(function () { return 'e-indentcelltop'; });\n    };\n    SummaryModelGenerator.prototype.setTemplate = function (column, data, single) {\n        var types = column.type;\n        var helper = {};\n        var formatFn = column.getFormatter() || (function () { return function (a) { return a; }; })();\n        var group = data;\n        if (!(types instanceof Array)) {\n            types = [column.type];\n        }\n        for (var i = 0; i < types.length; i++) {\n            var key = column.field + ' - ' + types[i].toLowerCase();\n            var disp = column.columnName;\n            var val = types[i] !== 'Custom' && group.aggregates && key in group.aggregates ? group.aggregates[key] :\n                calculateAggregate(types[i], group.aggregates ? group : data, column, this.parent);\n            single[disp] = single[disp] || {};\n            single[disp][key] = val;\n            single[disp][types[i]] = !isNullOrUndefined(val) ? formatFn(val) : ' ';\n            if (group.field) {\n                single[disp].field = group.field;\n                single[disp].key = group.key;\n            }\n        }\n        helper.format = column.getFormatter();\n        column.setTemplate(helper);\n        return single;\n    };\n    SummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.Summary;\n    };\n    return SummaryModelGenerator;\n}());\nexport { SummaryModelGenerator };\nvar GroupSummaryModelGenerator = /** @class */ (function (_super) {\n    __extends(GroupSummaryModelGenerator, _super);\n    function GroupSummaryModelGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupSummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.groupFooterTemplate !== undefined;\n    };\n    GroupSummaryModelGenerator.prototype.getIndentByLevel = function (level) {\n        if (level === void 0) { level = this.parent.groupSettings.columns.length; }\n        return this.parent.groupSettings.columns.map(function (v, indx) { return indx <= level - 1 ? '' : 'e-indentcelltop'; });\n    };\n    GroupSummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.GroupSummary;\n    };\n    return GroupSummaryModelGenerator;\n}(SummaryModelGenerator));\nexport { GroupSummaryModelGenerator };\nvar CaptionSummaryModelGenerator = /** @class */ (function (_super) {\n    __extends(CaptionSummaryModelGenerator, _super);\n    function CaptionSummaryModelGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CaptionSummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.groupCaptionTemplate !== undefined;\n    };\n    CaptionSummaryModelGenerator.prototype.getData = function () {\n        var initVal = { columns: [] };\n        return [_super.prototype.getData.call(this).reduce(function (prev, cur) {\n                prev.columns = prev.columns.concat(cur.columns);\n                return prev;\n            }, initVal)];\n    };\n    CaptionSummaryModelGenerator.prototype.isEmpty = function () {\n        return (this.getData()[0].columns || []).length === 0;\n    };\n    CaptionSummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.CaptionSummary;\n    };\n    return CaptionSummaryModelGenerator;\n}(SummaryModelGenerator));\nexport { CaptionSummaryModelGenerator };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Internationalization, setCulture } from '@syncfusion/ej2-base';\n/**\n * ValueFormatter class to globalize the value.\n *\n * @hidden\n */\nvar ValueFormatter = /** @class */ (function () {\n    function ValueFormatter(cultureName) {\n        this.intl = new Internationalization();\n        if (!isNullOrUndefined(cultureName)) {\n            this.intl.culture = cultureName;\n        }\n    }\n    ValueFormatter.prototype.getFormatFunction = function (format) {\n        if (format.type) {\n            return this.intl.getDateFormat(format);\n        }\n        else {\n            return this.intl.getNumberFormat(format);\n        }\n    };\n    ValueFormatter.prototype.getParserFunction = function (format) {\n        if (format.type) {\n            return this.intl.getDateParser(format);\n        }\n        else {\n            return this.intl.getNumberParser(format);\n        }\n    };\n    ValueFormatter.prototype.fromView = function (value, format, type) {\n        if ((type === 'date' || type === 'datetime' || type === 'number') && (!isNullOrUndefined(format))) {\n            return format(value);\n        }\n        else {\n            return value;\n        }\n    };\n    ValueFormatter.prototype.toView = function (value, format) {\n        var result = value;\n        if (!isNullOrUndefined(format) && !isNullOrUndefined(value)) {\n            result = format(value);\n        }\n        return result;\n    };\n    ValueFormatter.prototype.setCulture = function (cultureName) {\n        if (!isNullOrUndefined(cultureName)) {\n            setCulture(cultureName);\n        }\n    };\n    return ValueFormatter;\n}());\nexport { ValueFormatter };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { formatUnit } from '@syncfusion/ej2-base';\nimport { columnWidthChanged, preventFrozenScrollRefresh } from '../base/constant';\nimport { Column } from '../models/column';\nimport { parentsUntil, ispercentageWidth, getScrollBarWidth } from '../base/util';\nimport * as literals from '../base/string-literals';\n/**\n * ColumnWidthService\n *\n * @hidden\n */\nvar ColumnWidthService = /** @class */ (function () {\n    function ColumnWidthService(parent) {\n        this.parent = parent;\n    }\n    ColumnWidthService.prototype.setWidthToColumns = function () {\n        var i = 0;\n        var indexes = this.parent.getColumnIndexesInView();\n        var wFlag = true;\n        var totalColumnsWidth = 0;\n        if (this.parent.allowGrouping) {\n            for (var len = this.parent.groupSettings.columns.length; i < len; i++) {\n                if (this.parent.enableColumnVirtualization && indexes.indexOf(i) === -1) {\n                    wFlag = false;\n                    continue;\n                }\n                this.setColumnWidth(new Column({ width: '30px' }), i);\n            }\n        }\n        if (this.parent.detailTemplate || this.parent.childGrid) {\n            this.setColumnWidth(new Column({ width: '30px' }), i);\n            i++;\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() !== 'Right') {\n            this.setColumnWidth(new Column({ width: '30px' }), i);\n            i++;\n        }\n        var columns = this.parent.getColumns();\n        for (var j = 0; j < columns.length; j++) {\n            this.setColumnWidth(columns[j], wFlag && this.parent.enableColumnVirtualization ? undefined : j + i);\n        }\n        if (this.parent.isRowDragable() && this.parent.getFrozenMode() === 'Right') {\n            this.setColumnWidth(new Column({ width: '30px' }), columns.length);\n        }\n        totalColumnsWidth = this.getTableWidth(this.parent.getColumns());\n        if (this.parent.width !== 'auto' && this.parent.width.toString().indexOf('%') === -1) {\n            this.setMinwidthBycalculation(totalColumnsWidth);\n        }\n    };\n    ColumnWidthService.prototype.setMinwidthBycalculation = function (tWidth) {\n        var difference = 0;\n        var collection = this.parent.getColumns().filter(function (a) {\n            return isNullOrUndefined(a.width) || a.width === 'auto';\n        });\n        if (collection.length) {\n            if (!isNullOrUndefined(this.parent.width) && this.parent.width !== 'auto' &&\n                typeof (this.parent.width) === 'string' && this.parent.width.indexOf('%') === -1) {\n                difference = (typeof this.parent.width === 'string' ? parseInt(this.parent.width, 10) : this.parent.width) - tWidth;\n            }\n            else {\n                difference = this.parent.element.getBoundingClientRect().width - tWidth;\n            }\n            var tmWidth = 0;\n            for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {\n                var cols = collection_1[_i];\n                tmWidth += !isNullOrUndefined(cols.minWidth) ?\n                    ((typeof cols.minWidth === 'string' ? parseInt(cols.minWidth, 10) : cols.minWidth)) : 0;\n            }\n            for (var i = 0; i < collection.length; i++) {\n                if (tWidth === 0 && this.parent.allowResizing && this.isWidthUndefined() && (i !== collection.length - 1)) {\n                    this.setUndefinedColumnWidth(collection);\n                }\n                var index = this.parent.getColumnIndexByField(collection[i].field) + this.parent.getIndentCount();\n                if (tWidth !== 0 && difference < tmWidth) {\n                    this.setWidth(collection[i].minWidth, index);\n                }\n                else if (tWidth !== 0 && difference > tmWidth) {\n                    this.setWidth('', index, true);\n                }\n            }\n        }\n    };\n    ColumnWidthService.prototype.setUndefinedColumnWidth = function (collection) {\n        for (var k = 0; k < collection.length; k++) {\n            if (k !== collection.length - 1) {\n                collection[k].width = 200;\n                this.setWidth(200, this.parent.getColumnIndexByField(collection[k].field));\n            }\n        }\n    };\n    ColumnWidthService.prototype.setColumnWidth = function (column, index, module) {\n        if (this.parent.getColumns().length < 1) {\n            return;\n        }\n        var columnIndex = isNullOrUndefined(index) ? this.parent.getNormalizedColumnIndex(column.uid) : index;\n        var cWidth = this.getWidth(column);\n        var tgridWidth = this.getTableWidth(this.parent.getColumns());\n        if (cWidth !== null) {\n            this.setWidth(cWidth, columnIndex);\n            if (this.parent.width !== 'auto' && this.parent.width.toString().indexOf('%') === -1) {\n                this.setMinwidthBycalculation(tgridWidth);\n            }\n            if ((this.parent.allowResizing && module === 'resize') || (this.parent.getFrozenColumns() && this.parent.allowResizing)) {\n                this.setWidthToTable();\n            }\n            this.parent.notify(columnWidthChanged, { index: columnIndex, width: cWidth, column: column, module: module });\n        }\n    };\n    ColumnWidthService.prototype.setWidth = function (width, index, clear) {\n        if (this.parent.groupSettings.columns.length > index && ispercentageWidth(this.parent)) {\n            var elementWidth = this.parent.element.offsetWidth;\n            width = (30 / elementWidth * 100).toFixed(1) + '%';\n        }\n        var header = this.parent.getHeaderTable();\n        var content = this.parent.getContentTable();\n        var fWidth = formatUnit(width);\n        var headerCol;\n        var frzCols = this.parent.getFrozenColumns();\n        var isDraggable = this.parent.isRowDragable();\n        frzCols = frzCols && isDraggable ? frzCols + 1 : frzCols;\n        var mHdr = this.parent.getHeaderContent().querySelector('.' + literals.movableHeader);\n        var mCont = this.parent.getContent().querySelector('.' + literals.movableContent);\n        var freezeLeft = this.parent.getFrozenLeftColumnsCount();\n        var freezeRight = this.parent.getFrozenRightColumnsCount();\n        var movableCount = this.parent.getMovableColumnsCount();\n        var isColFrozen = freezeLeft !== 0 || freezeRight !== 0;\n        if (frzCols && index >= frzCols) {\n            if (!mHdr || !mHdr.querySelector(literals.colGroup)) {\n                return;\n            }\n            headerCol = mHdr.querySelector(literals.colGroup).children[index - frzCols];\n        }\n        else if (this.parent.enableColumnVirtualization && frzCols && this.parent.contentModule.isXaxis()\n            && mHdr.scrollLeft > 0) {\n            var colGroup = mHdr.querySelector(literals.colGroup);\n            headerCol = colGroup.children[(colGroup.children.length - 1) - index];\n        }\n        else if (isColFrozen) {\n            var target = void 0;\n            if (freezeLeft && !freezeRight) {\n                index = isDraggable ? index - 1 : index;\n                target = index < freezeLeft ? header : mHdr;\n            }\n            else if (!freezeLeft && freezeRight) {\n                target = index >= movableCount ? header : mHdr;\n            }\n            else if (freezeLeft && freezeRight) {\n                index = isDraggable ? index - 1 : index;\n                var frHdr = this.parent.getFrozenRightHeader();\n                target = index < freezeLeft ? header : index < (freezeLeft + movableCount) ? mHdr : frHdr;\n            }\n            headerCol = this.getColumnLevelFrozenColgroup(index, freezeLeft, movableCount, target);\n            if (!headerCol) {\n                return;\n            }\n        }\n        else {\n            headerCol = header.querySelector(literals.colGroup).children[index];\n        }\n        if (headerCol && !clear) {\n            headerCol.style.width = fWidth;\n        }\n        else if (headerCol && clear) {\n            headerCol.style.width = '';\n        }\n        var contentCol;\n        if (frzCols && index >= frzCols) {\n            contentCol = this.parent.getContent().querySelector('.' + literals.movableContent)\n                .querySelector(literals.colGroup).children[index - frzCols];\n        }\n        else if (this.parent.enableColumnVirtualization && frzCols && this.parent.contentModule.isXaxis()\n            && mCont.scrollLeft > 0) {\n            var colGroup = this.parent.getContent().querySelector('.' + literals.movableContent)\n                .querySelector(literals.colGroup);\n            contentCol = colGroup.children[(colGroup.children.length - 1) - index];\n        }\n        else if (isColFrozen) {\n            var target = void 0;\n            if (freezeLeft && !freezeRight) {\n                target = index < freezeLeft ? content : mCont;\n            }\n            if (!freezeLeft && freezeRight) {\n                target = index >= movableCount ? content : mCont;\n            }\n            if (freezeLeft && freezeRight) {\n                var frCont = this.parent.getContent().querySelector('.e-frozen-right-content');\n                target = index < freezeLeft ? content : index < (freezeLeft + movableCount) ? mCont : frCont;\n            }\n            contentCol = this.getColumnLevelFrozenColgroup(index, freezeLeft, movableCount, target);\n        }\n        else {\n            contentCol = content.querySelector(literals.colGroup).children[index];\n        }\n        if (contentCol && !clear) {\n            contentCol.style.width = fWidth;\n        }\n        else if (contentCol && clear) {\n            contentCol.style.width = '';\n        }\n        if (!this.parent.enableColumnVirtualization) {\n            var edit = this.parent.element.querySelectorAll('.e-table.e-inline-edit');\n            var editTableCol = [];\n            for (var i = 0; i < edit.length; i++) {\n                if (parentsUntil(edit[i], 'e-grid').id === this.parent.element.id) {\n                    for (var j = 0; j < edit[i].querySelector('colgroup').children.length; j++) {\n                        editTableCol.push(edit[i].querySelector('colgroup').children[j]);\n                    }\n                }\n            }\n            if (edit.length && editTableCol.length) {\n                editTableCol[index].style.width = fWidth;\n            }\n        }\n        if (this.parent.isFrozenGrid()) {\n            this.refreshFrozenScrollbar();\n        }\n    };\n    ColumnWidthService.prototype.getColumnLevelFrozenColgroup = function (index, left, movable, ele) {\n        if (!ele || !ele.querySelector(literals.colGroup)) {\n            return null;\n        }\n        var columns = this.parent.getColumns();\n        var isDrag = this.parent.isRowDragable();\n        var frzMode = this.parent.getFrozenMode();\n        var headerCol;\n        var colGroup = [].slice.call(ele.querySelector(literals.colGroup).children);\n        if (frzMode === 'Right' && isDrag && index === (movable + this.parent.getFrozenRightColumnsCount())) {\n            headerCol = colGroup[colGroup.length - 1];\n        }\n        else if (isDrag && index === -1) {\n            headerCol = colGroup[0];\n        }\n        else if (columns[index].freeze === 'Left') {\n            headerCol = colGroup[isDrag ? (index + 1) : index];\n        }\n        else if (columns[index].freeze === 'Right') {\n            headerCol = colGroup[index - (left + movable)];\n        }\n        else {\n            headerCol = colGroup[index - left];\n        }\n        return headerCol;\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ColumnWidthService.prototype.refreshFrozenScrollbar = function () {\n        var args = { cancel: false };\n        this.parent.notify(preventFrozenScrollRefresh, args);\n        if (args.cancel) {\n            return;\n        }\n        var scrollWidth = getScrollBarWidth();\n        var frozenScrollbar = this.parent.element.querySelector('.e-frozenscrollbar');\n        var movableScrollbar = this.parent.element.querySelector('.e-movablescrollbar');\n        var frozencontent = this.parent.getContent().querySelector('.' + literals.frozenContent);\n        var movableContent = this.parent.getContent().querySelector('.' + literals.movableContent);\n        var frozenWidth = frozencontent.firstElementChild.getBoundingClientRect().width;\n        var movableWidth = movableContent.firstElementChild.getBoundingClientRect().width;\n        if (this.parent.getFrozenMode() === 'Right') {\n            frozenWidth = frozenWidth + scrollWidth;\n        }\n        frozenScrollbar.style.width = frozenWidth + 'px';\n        if (this.parent.getFrozenMode() === literals.leftRight) {\n            var frozenRightScrollbar = this.parent.element.querySelector('.e-frozen-right-scrollbar');\n            var frozenRightWidth = this.parent.getContent().querySelector('.e-frozen-right-content')\n                .firstElementChild.getBoundingClientRect().width;\n            if (this.parent.height !== 'auto') {\n                frozenRightWidth = frozenRightWidth + scrollWidth;\n            }\n            frozenRightScrollbar.style.width = frozenRightWidth + 'px';\n        }\n        else {\n            if (this.parent.enableColumnVirtualization) {\n                var placeHolder = this.parent.getMovableVirtualContent().querySelector('.e-virtualtrack');\n                if (placeHolder) {\n                    movableWidth = placeHolder.scrollWidth;\n                }\n            }\n            if (this.parent.getFrozenMode() !== 'Right' && this.parent.height !== 'auto') {\n                movableWidth = movableWidth + scrollWidth;\n            }\n        }\n        movableScrollbar.firstElementChild.style.width = movableWidth + 'px';\n    };\n    ColumnWidthService.prototype.getSiblingsHeight = function (element) {\n        var previous = this.getHeightFromDirection(element, 'previous');\n        var next = this.getHeightFromDirection(element, 'next');\n        return previous + next;\n    };\n    ColumnWidthService.prototype.getHeightFromDirection = function (element, direction) {\n        var sibling = element[direction + 'ElementSibling'];\n        var result = 0;\n        var classList = [literals.gridHeader, literals.gridFooter, 'e-groupdroparea', 'e-gridpager', 'e-toolbar'];\n        while (sibling) {\n            if (classList.some(function (value) { return sibling.classList.contains(value); })) {\n                result += sibling.offsetHeight;\n            }\n            sibling = sibling[direction + 'ElementSibling'];\n        }\n        return result;\n    };\n    ColumnWidthService.prototype.isWidthUndefined = function () {\n        var isWidUndefCount = this.parent.getColumns().filter(function (col) {\n            return isNullOrUndefined(col.width) && isNullOrUndefined(col.minWidth);\n        }).length;\n        return (this.parent.getColumns().length === isWidUndefCount);\n    };\n    ColumnWidthService.prototype.getWidth = function (column) {\n        if (isNullOrUndefined(column.width) && this.parent.allowResizing\n            && isNullOrUndefined(column.minWidth) && !this.isWidthUndefined()) {\n            column.width = 200;\n        }\n        if (this.parent.isFrozenGrid() && isNullOrUndefined(column.width) &&\n            (column.getFreezeTableName() === literals.frozenLeft || column.getFreezeTableName() === literals.frozenRight)) {\n            column.width = 200;\n        }\n        if (!column.width) {\n            return null;\n        }\n        var width = parseInt(column.width.toString(), 10);\n        if (column.minWidth && width < parseInt(column.minWidth.toString(), 10)) {\n            return column.minWidth;\n        }\n        else if ((column.maxWidth && width > parseInt(column.maxWidth.toString(), 10))) {\n            return column.maxWidth;\n        }\n        else {\n            return column.width;\n        }\n    };\n    ColumnWidthService.prototype.getTableWidth = function (columns) {\n        var tWidth = 0;\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var column = columns_1[_i];\n            var cWidth = this.getWidth(column);\n            if (column.width === 'auto') {\n                cWidth = 0;\n            }\n            if (column.visible !== false && cWidth !== null) {\n                tWidth += parseInt(cWidth.toString(), 10);\n            }\n        }\n        return tWidth;\n    };\n    ColumnWidthService.prototype.calcMovableOrFreezeColWidth = function (tableType) {\n        var columns = this.parent.getColumns().slice();\n        var left = this.parent.getFrozenLeftColumnsCount() || this.parent.getFrozenColumns();\n        var movable = this.parent.getMovableColumnsCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        if (tableType === 'movable') {\n            if (right) {\n                columns.splice(left + movable, columns.length);\n            }\n            if (left) {\n                columns.splice(0, left);\n            }\n        }\n        else if (tableType === 'freeze-left') {\n            columns.splice(left, columns.length);\n        }\n        else if (tableType === 'freeze-right') {\n            columns.splice(0, left + movable);\n        }\n        return formatUnit(this.getTableWidth(columns));\n    };\n    ColumnWidthService.prototype.setWidthToFrozenRightTable = function () {\n        var freezeWidth = this.calcMovableOrFreezeColWidth('freeze-right');\n        freezeWidth = this.isAutoResize() ? '100%' : freezeWidth;\n        var headerTbl = this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelector('.' + literals.table);\n        var cntTbl = this.parent.getContent().querySelector('.e-frozen-right-content').querySelector('.' + literals.table);\n        headerTbl.style.width = freezeWidth;\n        cntTbl.style.width = freezeWidth;\n    };\n    ColumnWidthService.prototype.setWidthToFrozenLeftTable = function () {\n        var freezeWidth = this.calcMovableOrFreezeColWidth('freeze-left');\n        freezeWidth = this.isAutoResize() ? '100%' : freezeWidth;\n        this.parent.getHeaderTable().style.width = freezeWidth;\n        this.parent.getContentTable().style.width = freezeWidth;\n    };\n    ColumnWidthService.prototype.setWidthToMovableTable = function () {\n        var movableWidth = '';\n        var isColUndefined = this.parent.getColumns().filter(function (a) { return isNullOrUndefined(a.width); }).length >= 1;\n        var isWidthAuto = this.parent.getColumns().filter(function (a) { return (a.width === 'auto'); }).length >= 1;\n        if (typeof this.parent.width === 'number' && !isColUndefined && !isWidthAuto) {\n            movableWidth = formatUnit(this.parent.width - parseInt(this.calcMovableOrFreezeColWidth('freeze').split('px')[0], 10) - 5);\n        }\n        else if (!isColUndefined && !isWidthAuto) {\n            movableWidth = this.calcMovableOrFreezeColWidth('movable');\n        }\n        movableWidth = this.isAutoResize() ? '100%' : movableWidth;\n        if (this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).firstElementChild) {\n            this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).firstElementChild.style.width\n                = movableWidth;\n        }\n        this.parent.getContent().querySelector('.' + literals.movableContent).firstElementChild.style.width =\n            movableWidth;\n    };\n    ColumnWidthService.prototype.setWidthToFrozenEditTable = function () {\n        var freezeWidth = this.calcMovableOrFreezeColWidth('freeze');\n        freezeWidth = this.isAutoResize() ? '100%' : freezeWidth;\n        this.parent.element.querySelectorAll('.e-table.e-inline-edit')[0].style.width = freezeWidth;\n    };\n    ColumnWidthService.prototype.setWidthToMovableEditTable = function () {\n        var movableWidth = this.calcMovableOrFreezeColWidth('movable');\n        movableWidth = this.isAutoResize() ? '100%' : movableWidth;\n        this.parent.element.querySelectorAll('.e-table.e-inline-edit')[1].style.width = movableWidth;\n    };\n    ColumnWidthService.prototype.setWidthToTable = function () {\n        var tWidth = formatUnit(this.getTableWidth(this.parent.getColumns()));\n        if (this.parent.isFrozenGrid()) {\n            if (this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount()) {\n                this.setWidthToFrozenLeftTable();\n            }\n            this.setWidthToMovableTable();\n            if (this.parent.getFrozenRightColumnsCount()) {\n                this.setWidthToFrozenRightTable();\n            }\n        }\n        else {\n            if (this.parent.detailTemplate || this.parent.childGrid) {\n                this.setColumnWidth(new Column({ width: '30px' }));\n            }\n            tWidth = this.isAutoResize() ? '100%' : tWidth;\n            this.parent.getHeaderTable().style.width = tWidth;\n            this.parent.getContentTable().style.width = tWidth;\n        }\n        var edit = this.parent.element.querySelector('.e-table.e-inline-edit');\n        if (edit && this.parent.getFrozenColumns()) {\n            this.setWidthToFrozenEditTable();\n            this.setWidthToMovableEditTable();\n        }\n        else if (edit) {\n            edit.style.width = tWidth;\n        }\n    };\n    ColumnWidthService.prototype.isAutoResize = function () {\n        return this.parent.allowResizing && this.parent.resizeSettings.mode === 'Auto';\n    };\n    return ColumnWidthService;\n}());\nexport { ColumnWidthService };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ComplexBase } from '@syncfusion/ej2-react-base';\n/**\n * `ColumnDirective` represent a column of the react Grid.\n * It must be contained in a Grid component(`GridComponent`).\n * ```tsx\n * <GridComponent dataSource={data} allowPaging={true} allowSorting={true}>\n * <ColumnsDirective>\n * <ColumnDirective field='ID' width='100'></ColumnDirective>\n * <ColumnDirective field='name' headerText='Name' width='100'></ColumnDirective>\n * <ColumnsDirective>\n * </GridComponent>\n * ```\n */\nvar ColumnDirective = /** @class */ (function (_super) {\n    __extends(ColumnDirective, _super);\n    function ColumnDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnDirective.moduleName = 'column';\n    ColumnDirective.complexTemplate = { 'filterItemTemplate': 'filter.itemTemplate' };\n    return ColumnDirective;\n}(ComplexBase));\nexport { ColumnDirective };\nvar ColumnsDirective = /** @class */ (function (_super) {\n    __extends(ColumnsDirective, _super);\n    function ColumnsDirective() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnsDirective.propertyName = 'columns';\n    ColumnsDirective.moduleName = 'columns';\n    return ColumnsDirective;\n}(ComplexBase));\nexport { ColumnsDirective };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { Grid } from '@syncfusion/ej2-grids';\nimport { ComponentBase, applyMixins } from '@syncfusion/ej2-react-base';\n/**\n * `GridComponent` represents the react Grid.\n * ```tsx\n * <GridComponent dataSource={data} allowPaging={true} allowSorting={true}/>\n * ```\n */\nvar GridComponent = /** @class */ (function (_super) {\n    __extends(GridComponent, _super);\n    function GridComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.initRenderCalled = false;\n        _this.checkInjectedModules = true;\n        _this.directivekeys = { 'columns': { 'column': { 'stackedColumns': 'stackedColumn' } }, 'aggregates': { 'aggregate': { 'aggregateColumns': 'aggregateColumn' } } };\n        _this.immediateRender = false;\n        _this.portals = [];\n        return _this;\n    }\n    GridComponent.prototype.render = function () {\n        if (((this.element && !this.initRenderCalled) || this.refreshing) && !this.isReactForeceUpdate) {\n            _super.prototype.render.call(this);\n            this.initRenderCalled = true;\n        }\n        else {\n            return React.createElement('div', this.getDefaultAttributes(), [].concat(this.props.children, this.portals));\n        }\n    };\n    return GridComponent;\n}(Grid));\nexport { GridComponent };\napplyMixins(GridComponent, [ComponentBase, React.Component]);\n"],"names":["Data","parent","serviceLocator","this","dataState","isPending","resolver","group","foreignKeyDataState","initDataManager","isDestroyed","getModuleName","on","events","addRows","reorderRows","removeRows","destroy","crudActions","getData","refreshFilteredCols","prototype","e","dataManager","dataSource","json","splice","toIndex","fromIndex","gObj","DataManager","isNullOrUndefined","isAngular","query","Query","isQueryInvokedFromData","setProperties","generateQuery","skipPage","getQuery","clone","columnQueryMode","select","getColumns","filter","column","isPrimaryKey","visible","undefined","field","map","selectQueryFields","columns","i","length","push","filterQuery","searchQuery","aggregateQuery","sortQuery","isGroupAdaptive","virtualGroupPageQuery","pageQuery","groupQuery","rows","aggregates","row","j","cols","types","type","Array","k","aggregate","toLowerCase","queries","args","notify","allowPaging","enableVirtualization","enableInfiniteScrolling","pageSettings","currentPage","Math","max","pageCount","pageSize","infiniteScrollModule","page","pagerModule","pagerObj","isAllPage","offline","allowGrouping","groupSettings","enableLazyLoading","lazyLoad","key","value","len","getColumnByField","log","moduleName","columnName","isGrpFmt","enableGroupByFormat","format","formatGroupColumn","bind","allowSorting","sortSettings","sortGrp","col","setSortDirection","direction","fn","sortComparer","isRemote","indexOf","isForeignColumn","sortByForeignKey","sortBy","getSortDirection","fcolumn","isForeignKey","sSettings","searchSettings","fields","getSearchColumnFieldNames","predicateList","needForeignKeySearch","getForeignKeyColumns","some","adaptor","foreignKeyValue","fGeneratePredicate","Predicate","operator","ignoreCase","ignoreAccent","predList","where","search","skipFoerign","foreignColEmpty","actualFilter","foreignColumn","allowFiltering","filterSettings","colType","_i","_a","foreignCols","defaultFltrCols","_b","columns_1","gridColumn","uid","grabColumnByFieldFromAllCols","excelPredicate","CheckBoxFilterBase","_c","_d","Object","keys","prop","_e","foreignCols_1","column_1","grabColumnByUidFromAllCols","getColumnByForeignKeyValue","columnData","_f","_g","fPredicate","predicate","predicates","_this","requestType","getKey","foreignKeyData","getPrimaryKeyFieldNames","eventPromise","promise","crud","data","remove","fromTable","changes","addedRecords","deletedRecords","changedRecords","saveChanges","requiresCount","index","insert","isArray","hasOwnProperty","then","executeQuery","ready","deferred_1","Deferred","result","resolve","catch","reject","date","getDay","getHours","getMinutes","getSeconds","getMilliseconds","getFormatter","setFormatter","ValueFormatter","pr","update","previousData","original","deff","endEdit","setState","trigger","url","records","columnModel","off","getState","state","getForeignKeyDataState","setForeignKeyDataState","getStateEventArgument","adaptr","UrlAdaptor","dm","processQuery","JSON","parse","extend","pvtData","dataArgs","def","isDataChanged","action","editArgs_1","cancelEdit","colFieldNames","columns_2","allowSearching","refreshFilteredColsUid","NumericContainer","render","pagerElement","element","renderNumericContainer","refreshNumericLinks","wireEvents","refresh","updateTotalPages","links","updateLinksHtml","updateStyles","link","div","querySelector","frag","document","createDocumentFragment","innerHTML","createElement","className","attrs","role","tabindex","href","name","classList","appendChild","slice","call","childNodes","EventHandler","clickHandler","unwireEvents","renderFirstNPrev","renderPrevPagerSet","renderNextPagerSet","renderNextNLast","pagerContainer","first","title","getLocalizedLabel","prev","append","prevPager","PP","nextPager","NP","next","last","target","previousPageNo","contains","getAttribute","parseInt","dataBind","currentPageSet","pageNo","totalPages","toString","style","display","setAttribute","customText","add","updateFirstNPrevStyles","updatePrevPagerSetStyles","updateNextPagerSetStyles","updateNextNLastStyles","firstPage","firstPageDisabled","prevPage","prevPageDisabled","replace","lastPage","lastPageDisabled","nextPage","nextPageDisabled","totalRecordsCount","PagerMessage","pageNoMsgElem","styles","pageCountMsgElem","textContent","parentElement","hideMessage","showMessage","str","regx","RegExp","__extends","extendStatics","d","b","setPrototypeOf","__proto__","p","__","constructor","create","__decorate","decorators","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Pager","_super","options","hasParent","pageRefresh","requiredModules","modules","enableExternalMessage","member","checkpagesizes","preRender","defaultConstants","currentPageInfo","totalItemsInfo","totalItemInfo","firstPageTooltip","lastPageTooltip","nextPageTooltip","previousPageTooltip","nextPagerTooltip","previousPagerTooltip","pagerDropDown","pagerAllDropDown","CurrentPageInfo","TotalItemsInfo","FirstPageTooltip","LastPageTooltip","NextPageTooltip","PreviousPageTooltip","NextPagerTooltip","PreviousPagerTooltip","PagerDropDown","PagerAllDropDown","All","containerModule","pagerMessageModule","template","isReactTemplate","pagerTemplate","initLocalization","updateRTL","renderFirstPrevDivForDevice","enablePagerMessage","renderNextLastDivForDevice","pagerdropdownModule","addAriaLabel","externalMessageModule","getPersistData","addOnPersist","destroyTemplate","propertyNames","clearTemplate","onPropertyChanged","newProp","oldProp","checkGoToPage","currentPageChanged","setDropDownValue","templateFn","compile","localeObj","getConstant","goToPage","setPageSize","pageSizes","newPageNo","oldPageNo","enableQueryString","updateQueryString","cancel","tempId","id","isVue","getPagerTemplate","renderReactTemplates","appendChildren","querySelectorAll","templateCompiler","trim","enableRtl","L10n","locale","updatedUrl","getUpdatedURL","window","location","history","pushState","path","uri","match","hash","Browser","isReact","Property","Event","NotifyPropertyChanges","Component","pagerDropDownDiv","dropDownDiv","defaultTextDiv","input","pagerCons","pageSizesModule","pageSizesArray","convertValue","defaultValue","dropDownListObject","DropDownList","change","onChange","cssClass","appendTo","addEventListener","getElementsByClassName","beforeValueChange","val","pageSizeValue","item","removeEventListener","ExternalMessage","externalMessage","Page","isInitialRender","isCancel","Inject","pagerDestroy","pageTemplateChange","gridExtend","getActualProperties","click","dropDownChanged","onSelect","created","addAriaAttr","renderReactPagerTemplate","allowServerDataBinding","isInitialLoad","numericContainerNew","numericContainer","getContentTable","numericContainerDiv","replaceChild","dataReady","updateModel","count","onActionComplete","module","properties","isForceCancel","isActionPrevent","prevPageMoving","instance","handler","arg1","previousPage","requestTypeAction","keyPressHandler","keyActions","preventDefault","updateExternalMessage","message","appendToElement","setGridPager","enableAfterRender","enable","handlers","load","end","complete","updateLayout","inboundChange","keyPress","literals","evtHandlers","event","addRemoveEventListener","renderTemplates","pageUp","pageDown","ctrlAltPageDown","ctrlAltPageUp","altPageUp","altPageDown","Print","scrollModule","isAsyncPrint","defered","isContentReady","actionBeginFunction","actionBegin","onEmpty","hierarchyPrint","isPrintGrid","hierarchyPrintMode","childGrid","contentReady","removeColGroup","printGridObj","printModule","print","renderPrintGrid","body","printGrid","Grid","getPrintGridModel","isFrozenGrid","getFrozenColumns","freeze","viewContainerRef","isPrinting","getInjectedModules","injectedModues","setInjectedModules","printgrid","registeredTemplate","selectedRows","detach","height","cssProps","getCssProperties","contentDiv","headerDiv","overflowY","padding","firstElementChild","border","overflowX","waitingPop","printGridElement","printWind","open","outerHeight","outerWidth","moveTo","resizeTo","screen","availWidth","availHeight","printWindow","depth","groupCaption","selectAll","colSpan","colGroups","contentColGroups","hideColGroup","children","printGridProp","concat","Search","searchString","refreshSearch","onSearchComplete","actionCompleteFunc","cancelBeginEvent","rowDataBound","queryCellInfo","headerCellInfo","actionComplete","actionFailure","dataBound","rowSelecting","rowSelected","rowDeselecting","rowDeselected","cellSelecting","cellSelected","cellDeselecting","cellDeselected","columnSelecting","columnSelected","columnDeselecting","columnDeselected","columnDragStart","columnDrag","columnDrop","beforePrint","printComplete","detailDataBound","toolbarClick","batchAdd","batchCancel","batchDelete","beforeBatchAdd","beforeBatchDelete","beforeBatchSave","beginEdit","cellEdit","cellSave","cellSaved","recordDoubleClick","recordClick","beforeDataBound","beforeOpenAdaptiveDialog","resizeStart","onResize","resizeStop","checkBoxChange","beforeCopy","beforePaste","beforeAutoFill","filterChoiceRequest","filterAfterOpen","filterBeforeOpen","filterSearchBegin","exportGroupCaption","initialLoad","initialEnd","uiUpdate","inBoundModelChanged","modelChanged","colGroupRefresh","headerRefreshed","pageComplete","sortComplete","filterComplete","searchComplete","groupComplete","ungroupComplete","groupAggregates","refreshFooterRenderer","refreshAggregateCell","rowSelectionComplete","cellSelectionComplete","beforeCellFocused","cellFocused","keyPressed","columnVisibilityChanged","scroll","columnWidthChanged","columnPositionChanged","rowsAdded","rowsRemoved","columnDragStop","headerDrop","dataSourceModified","refreshComplete","dblclick","toolbarRefresh","bulkSave","autoCol","tooltipDestroy","updateData","saveComplete","deleteComplete","preventBatch","dialogDestroy","crudAction","addDeleteAction","destroyForm","doubleTap","beforeExcelExport","excelExportComplete","excelQueryCellInfo","excelHeaderQueryCellInfo","exportDetailDataBound","beforePdfExport","pdfExportComplete","pdfQueryCellInfo","pdfHeaderQueryCellInfo","contextMenuClick","freezeRender","contextMenuOpen","filterOpen","filterDialogCreated","filterMenuClose","initForeignKeyColumn","getForeignKeyData","showEmptyGrid","dataStateChange","dataSourceChanged","rtlUpdated","beforeFragAppend","frozenHeight","textWrapRefresh","recordAdded","cancelBegin","editNextValCell","expandChildGrid","printGridInit","exportRowDataBound","exportDataBound","rowPositionChanged","batchForm","beforeStartEdit","beforeBatchCancel","batchEditFormRendered","partialRefresh","beforeCustomFilterOpen","selectVirtualRow","columnsPrepared","cBoxFltrBegin","cBoxFltrComplete","fltrPrevent","beforeFltrcMenuOpen","valCustomPlacement","filterCboxValue","restoreFocus","detailIndentCellInfo","virtaulCellFocus","virtualScrollEditActionBegin","virtualScrollEditSuccess","virtualScrollEditCancel","virtualScrollEdit","refreshVirtualCache","editReset","virtualScrollAddActionBegin","getVirtualData","refreshInfiniteModeBlocks","resetInfiniteBlocks","infiniteScrollHandler","infinitePageQuery","infiniteShowHide","appendInfiniteContent","removeInfiniteRows","setInfiniteCache","infiniteEditHandler","initialCollapse","closeFilterDialog","getFilterBarOperator","resetColumns","pdfAggregateQueryCellInfo","excelAggregateQueryCellInfo","setGroupCache","lazyLoadScrollHandler","groupCollapse","beforeCheckboxRenderer","refreshHandlers","setFreezeSelection","beforeRefreshOnDataChange","immutableBatchCancel","checkScrollReset","preventFrozenScrollRefresh","nextCellIndex","refreshInfiniteCurrentViewData","filterDialogClose","refreshCustomFilterOkBtn","refreshCustomFilterClearBtn","renderResponsiveCmenu","filterCmenuSelect","customFilterClose","setFullScreenDialog","refreshExpandandCollapse","rowModeChange","enterKeyHandler","refreshVirtualMaxPage","setVirtualPageQuery","selectRowOnContextOpen","pagerRefresh","closeInline","closeBatch","closeEdit","resetVirtualFocus","beforeCheckboxRendererQuery","createVirtualValidationForm","validateVirtualForm","destroyChildGrid","stickyScrollComplete","captionActionComplete","refreshInfinitePersistSelection","refreshInfiniteEditrowindex","afterFilterColumnMenuClose","CellType","RenderType","ToolbarItem","ResponsiveDialogAction","ResponsiveToolbarAction","ContentRender","freezeRows","movableRows","freezeRowElements","currentInfo","prevCurrentView","isLoaded","viewColIndexes","drop","droppedElement","infiniteCache","isRemove","visibleRows","visibleFrozenRows","rightFreezeRows","isAddRows","isInfiniteFreeze","useGroupCache","rafCallback","arg","tableName","getFrozenMode","enableColumnVirtualization","mHdr","getMovableVirtualHeader","fHdr","getFrozenVirtualHeader","ariaService","setBusy","getPanel","getRowsObject","infiniteScrollSettings","enableCache","maxBlock","maxBlocks","rowIdx","rowElements","ceil","isFrozen","renderFrozenRightContent","getFrozenRightRowsObject","isManualRefresh","allowTextWrap","case","hideSpinner","getService","enableDeepCompare","getDataModule","generator","getModelGenerator","setVisible","refreshContentRows","droppableDestroy","byKey","keyArgs","pressedKey","renderPanel","setOptions","busy","setPanel","innerDiv","renderTable","virtualTable","virtualTrack","createContentTable","setTable","getTable","multiselectable","selectionSettings","initializeContentDrop","frozenRows","getHeaderContent","table","cellspacing","setColGroup","getHeaderTable","cloneNode","getColGroup","currentViewData","currentMovableRows","contentModule","rowTemplate","initialPageRecords","tr","hdrTbody","trElement","hdrfrag","frzCols","RowRenderer","isInfiniteScroll","tbdy","modelData","fCont","mCont","cont","emptyVcRows","virtualInfo","sentinelInfo","axis","generateRows","renderMovableContent","checkCache","idx","cells","setTbody","getTbody","isFrozenLeft","templatetoclear","rootNodes","parentNode","templates","clearReactVueTemplates","CellMergeRender","updateVirtualCells","tbody","startIndex","blockLoad","vcRows","scrollTop","offsets","top","offsets_1","vGroupOffsets","bSize","values","m","isEndBlock","blockIndexes","round","contentPanel","offsetHeight","scrollHeight","rowObject","isVFFrozenOnly","bIndex","mhdrData","vgenerator","virtualFrozenHdrRefresh","setRowsInLazyGroup","indent","setInfiniteVisibleRows","getBlockSize","rowTemplateID","elements","isHeader","copied","getRowTemplate","tagName","lastElementChild","isTR","nodeName","isVFreorder","ensureFrozenHeaderRender","ensureVirtualFrozenHeaderRender","isExpand","isDataRow","colcount","splitRows","getFrozenHeader","parentTable","Number","setIsFrozen","getUpdateUsingRaf","isVFTable","updateBlazorTemplate","frCont","getContent","appendContent","renderNextFrozentPart","vRows","maintainRows","frozenCols","getGroupCache","initialGroupRows","getCurrentBlockInfiniteRecords","isFreeze","getRows","getReorderedVFRows","getReorderedFrozenRows","getReorderedRows","fhdrData","getInfiniteRows","getInfiniteMovableRows","infiniteCacheRows","panel","contentTable","infiniteRows","getMovableRows","getRowElements","getMovableRowElements","setRowElements","colgroup","colGroup","testRow","fRows","mRows","rowLen","cellLen","rightRows","rightLen","needFullRefresh","getDataRows","infiniteData","infiniteRowVisibility","contentrows","isDetailRow","clen","getNormalizedColumnIndex","colIdx","getColumnIndexByUid","displayVal","getFreezeTableName","getFrozenLeftColumnsCount","getMovableColumnsCount","colG","setStyleAttribute","getFrozenRightDataRows","infiniteFreezeData","mTable","getMovableDataRows","infiniteMovableData","setDisplayNone","isTemplate","invokedFromMedia","hideAtMedia","updateMediaColumns","setDisplayValue","isRowDragable","isXaxis","getHeaderColGroup","droppable","Droppable","accept","canSkip","GroupModelGenerator","RowModelGenerator","renderEmpty","setSelection","set","clearAll","isSelected","getRowByIndex","getInfiniteRowIndex","firstRowIndex","getVirtualRowIndex","getMovableRowByIndex","setRowObjects","immutableModeRendering","oldKeys","newKeys","newRowObjs","oldIndexes","oldRowObjs","batchChangeKeys","getBatchEditedRecords","newIndexes","hasBatch","oldRowElements","trs","prevLen","currentLen","editSettings","mode","oldIndex","refreshImmutableContent","isEqual","objectEqualityChecker","setRowValue","old","Date","getTime","primaryKey","getBatchChanges","newRowPosition","isAltRow","enableAltRow","edit","isDirty","updateCellIndex","rowEle","HeaderRender","frzIdx","notfrzIdx","isFirstCol","isReplaceDragEle","helper","draggable","currentStateTarget","parentEle","parentsUntil","allowReordering","visualElement","headercelldiv","getStackedHeaderColumnByHeaderText","innerText","getColumnByUid","lockColumn","headerTemplate","colIndex","getColumnIndexByField","getHeaderTemplate","headerText","width","offsetWidth","lineHeight","dragStart","drag","closest","getClosest","cloneElement","dragStop","widthService","getFrozenRightColumnsCount","colPosRefresh","renderCustomToolbar","rowRenderingMode","updateCustomResponsiveToolbar","isRendered","toggleStackClass","createHeaderTable","initializeHeaderDrag","initializeHeaderDrop","headerPanel","headerTable","tHead","createTable","createHeader","tableEle","tblName","getFrozenLeftCount","findHeaderRow","createHeaderContent","thead","caption","bodyCell","rowBody","len_1","updateColGroup","frozenMode","colHeader","rowRenderer","headerRow","colDepth","measureColumnDepth","generateRow","ensureColumns","getHeaderCells","colFreezeMode","pop","shift","rowHeight","indexes","getColumnIndexesInView","detailTemplate","len_2","generateCell","enablePersistence","lockcolPositionCount","lockColsRendered","appendCells","isFirstObj","isLastCol","isMovable","isStackLastCol","left","lastCol","isLockColumn","isFrozenLockColumn","scrollbar","scrollLeft","getCellCnt","stackedLockColsCount","getStackedLockColsCount","isStackedLockColumn","isFrozenStack","ensureStackedFrozen","Cell","cellType","getColSpan","isFirstCol_1","isLaststackedCol","inViewIndexes","frozenColumns","isTrue","lockColsCount","getFrozenColSpan","Row","rowSpan","rowIndex","opt","normalizedfrzCols","mTblColGrp","refreshUI","freezeReorder","getVirtualFreezeHeader","removeChild","firstChild","insertBefore","setWidthToColumns","updateDefaultCursor","rows_1","gCells","textWrapSettings","wrapMode","wrap","cnt","showDropArea","Draggable","dragTarget","distance","abort","toolbar","toolbarItems","toolbarLeft","toolbarItem","cls","button","span","Button","onclick","showResponsiveCustomSort","showResponsiveCustomFilter","enableAdaptiveUI","resToolbar","HeaderCellRenderer","apply","AriaService","hTxtEle","sortEle","gui","chkAllBox","getGui","cell","attributes","node","fltrMenuEle","prepareHeader","clean","hValueAccer","ariaAttr","innerDIV","headerValueAccessor","getValue","getDomSetter","editType","checkAllWrap","createCheckBox","checked","label","buildAttributeFromCell","appendHtml","showColumnMenu","matchFlColumns","customAttributes","setStyleAndAttributes","sort","grabbed","extendPrepareHeader","gridObj","headerTempID","headerTextAlign","textAlign","alignment","clipMode","matchFilteredColumns","allowResizing","innerHtml","CellRenderer","StackedHeaderCellRenderer","toolTip","IndentCellRenderer","GroupCaptionCellRenderer","fKeyValue","valueAccessor","captionTemplate","localizer","isReactCompiler","tempID","GroupCaptionEmptyCellRenderer","ExpandCellRenderer","attr","HeaderIndentCellRenderer","DetailHeaderIndentCellRenderer","DetailExpandCellRenderer","RowDragDropRenderer","nodeElement","RowDragDropHeaderRenderer","Render","locator","emptyGrid","counter","l10n","renderer","headerRenderer","getRenderer","contentRenderer","isLayoutRendered","emptyRow","setWidth","setHeight","setPadding","refreshDataManager","dataLength","getCurrentViewRecords","resetTemplates","gridColumns","detailTemplateID","blazorTemplates","resetBlazorTemplate","toolbarTemplate","filterTemplate","footerTemplate","groupFooterTemplate","groupCaptionTemplate","isCaptionCollapse","showSpinner","isFActon","isNeedForeignAction","deffered","getFData","deffered_1","disablePageWiseAggregates","validateGroupRecords","dataManagerSuccess","dataManagerFailure","deferred","isComplex","foreignKey","sendBulkRequest","dmSuccess","dmFailure","renderEmptyRow","isTrigger","spanCount","colspan","getVisibleColumns","isDataCell","dynamicColumnChange","updateColumnType","record","cFormat","items","fmtr","getObject","validationRules","isColTypeDef","valueFormatter","skeleton","getFormatFunction","setParser","getParserFunction","actionArgs","isInfiniteDelete","Column","isInfiniteEnd","isEdit","updatesOnInitialRender","agg","enableImmutableMode","alert","setRowCount","invalid","error","dataRowCount","rowcount","buildColumns","prepareColumns","isAutoGen","iterateComplexColumns","obj","split","complexCols","instantiateRenderer","addRenderer","cellrender","addCellRenderer","Promise","group0","groupN","addWhere","groups","and","getPredicate","curFilter","executeLocal","newQuery","rPredicate","updateGroupInfo","getDatePredicate","current","untouched","uGroup","itemGroup","uGroupItem","GroupGuid","l","level","context","data_1","temp","customAggregate","DataUtil","CellRendererFactory","cellRenderMap","getEnumValue","getCellRenderer","ServiceLocator","services","register","registerAdaptiveService","isAdaptiveUI","responsiveDialogRenderer","ResponsiveDialogRenderer","RendererFactory","rendererMap","rName","PageSettings","ChildProperty","ColumnChooserSettings","__assign","assign","t","s","n","Selection","selectedRowIndexes","selectedRowCellIndexes","selectedRecords","preventFocus","selectedColumnsIndexes","checkBoxState","isMultiShiftRequest","isMultiCtrlRequest","enableSelectMultiTouch","clearRowCheck","selectRowCheck","selectedRowState","chkAllCollec","isCheckedOnAdd","persistSelectedData","deSelectedData","needColumnSelection","isCancelDeSelect","isPreventCellSelect","disableUI","isPersisted","cmdKeyPressed","cellselected","isMultiSelection","isAddRowsToSelection","initialRowSelection","isPrevRowSelection","isKeyAction","isRowDragSelected","autoFillRLselection","bottom","right_bottom","bottom_left","top_right","top_left","top_bottom","top_right_bottom","top_bottom_left","top_right_left","right_bottom_left","all_border","factory","focus","initializeSelection","onActionBegin","fDataUpdate","cellIndex","rowObj","getRowObj","currentIndex","gridElement","hidePopUp","clearSelection","unWireEvents","mouseDownHandler","isEditing","editModule","formObj","validate","isPersistSelection","getSelectedMovableRow","getSelectedFrozenRightRow","getFrozenRightContent","getFrozenRightRowByIndex","getCurrentBatchRecordChanges","currentRecords","iterateExtend","selectRow","isToggle","enableSimpleMultiRowSelection","addRowsToSelection","selectData","selectedRow","selectedMovableRow","selectedFrozenRightRow","selectedIndex","isAvailable","frozenData","getRowObjectByIndex","getRowObjectFromUID","persistSelection","getSelectedRecords","clearRowSelection","isRowType","isRowSelected","hasAttribute","activeTarget","isCheckBoxSelection","can","rowSelectingCallBack","isCtrlPressed","isShiftPressed","previousRow","prevRowIndex","previousRowIndex","actualTarget","isInteracted","isHeaderCheckboxClicked","addMovableArgs","isRemoved","toggle","removed","checkboxMode","clearSelectedRow","selectRowCallBack","clearRow","disableInteracted","updateRowSelection","selectMovableRow","selectRowIndex","isHeaderCheckBoxClicked","updateRowProps","targetObj","mRow","frRow","mObj","previousMovRow","selectRowsByRange","endIndex","selectRows","getCollectionFromIndexes","selectedDataUpdate","selectedData","rowIndexes","currentRow","isSingleSel","prevRow","selectRowFn","rightEle","rowIndexes_1","getSelectedRowIndexes","checkboxOnly","checkboxColumn","rowIndexes_2","isUnSelected","enableToggle","rowDeselect","removeAttribute","addRemoveClassesForRow","reverse","clearRowCallBack","checkAllRows","selectedEle","updatePersistCollection","updateCheckBoxes","chkState","ensureCheckboxFieldSelection","pKey_1","updatePersistDelete","pKey","isPresent","chkBox","removeAddCboxClasses","nextElementSibling","setChecked","checkedTarget","setCheckAllState","getPrevIndexes","contextMenuModule","mouseButton","onClick","checkSelectAllClicked","clearCellSelection","clearColumnSelection","prevCIdxs","prevECIdxs","row_1","mRow_1","fRightRow_1","rowIndex_1","foreignKeyData_1","target_1","frRows","getFrozenRightRows","isRowClicked","getCheckAllStatus","updatePersistSelectedData","movableRow","rowDeselectCallBack","frozenRightRow","isSingleDeSel","rowDeselectObj","rowidxex","getSelectedMovableCell","getColumnByIndex","getMovableCellFromIndex","getColIndex","selectCell","isCellType","selectedCell","getCellFromIndex","isCellSelected","isUndefined","successCallBack","previousRowCell","getCellIndex","cellSelectingArgs","clearCell","updateCellSelection","currentCell","selectedRowCellIndex","updateCellProps","rIdx","cIdx","selectCellsByRange","min","cellIndexes","stIndex","edIndex","cellSelectionMode","getLastColIndex","addAttribute","cellSelectedArgs","isDragged","selectCells","rowCellIndexes","cellSelectArgs","addRowCellIndex","addCellsToSelection","movable","hideAutoFill","gridActionHandler","getMovableRowsObject","cellIndexes_1","prvRowCellIndex","selectedCellIdx","cellDeselect","getCellsByTableName","rowCellIndex","isRowAvail","selectedCells","getSelectedCellsElement","rowCell","cLen","getCellByColAndRowIndex","bdrElement","showHideBorders","addMovableRows","mouseMoveHandler","tmp","gBRect","getBoundingClientRect","x1","x","y1","y","position","getPosition","x2","y2","isCellDrag","elementFromPoint","offsetLeft","clientY","ctrlKey","shiftKey","td","startAFCell","startCell","endAFCell","selectLikeExcel","startDIndex","isAutoFillSel","showAFBorders","selectLikeAutoFill","startDCellIndex","drawBorders","createBorders","positionBorders","isLastCell","isLastRow","isFirstRow","isFirstCell","setBorders","bdrStr","ele","start","stOff","endOff","parentOff","offsetParent","topOffSet","leftOffset","rightOffset","right","selectDirection","updateStartEndCells","getMovableContent","mcBdrElement","frcBdrElement","fhBdrElement","headerModule","getMovableHeader","mhBdrElement","getFrozenRightHeader","frhBdrElement","applyBorders","applyBothFrozenBorders","rtl","borderWidth","includes","drawAFBorders","bdrAFBottom","createAFBorders","positionAFBorders","bdrAFLeft","firstCellTop","firstCellLeft","parentRect","sTop","sLeft","offsetTop","totalHeight","clientHeight","totalWidth","clientWidth","floor","scrolloffSet","bdrAFRight","bdrAFTop","leftRemove","parseFloat","topRemove","hideAFBorders","updateValue","createBeforeAutoFill","updateCell","getAutoFillCells","startCellIdx","isApply","startrowIdx","endrowIdx","endCellIdx","colLen","cellIdx","endCell","startCellIndex","trIdx","mouseUpHandler","mUPTarget","updateAutoFillPosition","lastCell","updateStartCellsIndex","autofill","enableAutoFill","rindex","isFrozenCol","isFrozenRow","isFrozenRight","clientRect","colWidth","isDrag","allowRowDragAndDrop","enableDrag","isUpdate","postion","clearSelAfterRefresh","onCellFocused","refreshHeader","actionCompleteFunction","addEventListener_checkbox","removeEventListener_checkbox","isMacOS","navigator","userAgent","keyDownHandler","keyUpHandler","getCheckAllBox","initPerisistSelection","prevColIndex","checkBoxSelectionChanged","isLeftRightFrozen","selectedRowIndex","gobj","chkField","params","proxy_1","dataSuccess","refreshPersistSelection","res","setRowSelection","getMovableContentTbody","getFrozenRightContentTbody","checkState","editChkBox","onDataBound","getSelectedRows","totalRecords","checkSelectAllAction","cRenderer","editForm","checkSelectAll","checkBox","stateStr","triggerChkChangeEvent","classes","checkSelect","rIndex","rowCellSelectionHandler","moveIntoUncheckCollection","updateSelectedRowIndex","selectedVal","isAllSelected","isInteraction","checkToSelectAll","checkedLen","spanEle","removeClass","indeterminate","addClass","keyCode","allowColumnSelection","popUpClickHandler","chkSelect","checkWrap","isEqualNode","hoverFrozenRows","showPopup","headerSelectionHandler","setCssInGridPopUp","container","isJump","clear","isContent","isSelectable","headerAction","thLen","childElementCount","selectedIndexes","getSelectedRowCellIndexes","columnIndex","getKeyColIndex","applyDownUpKey","applyRightLeftKey","shiftDownKey","applyShiftLeftRightKey","applyHomeEndKey","applyCtrlHomeEndKey","ctrlPlusA","applySpaceSelection","allowNextRowEdit","stackedHeader","innerColumn","getstackedColumns","lastIndex","firstIndex","applyUpDown","selectColumn","cIndex","selectColumnsByRange","innerColumnIndexes","isAdd","detailIndentCell","dragdropIndentCell","addRemoveActiveClasses","selectedCol","getColumnHeaderByUid","isColSelected","isMultiColumns","clearColDependency","headerCell","previousColumnIndex","updateColSelection","selectedArgs","updateColProps","selectColumns","columnIndexes","getselectedCols","selectingArgs","selectColumnWithExisting","newCol","clearIndex","isColumnSelected","deselectedArgs","getFrozenRightColumnHeaderByIndex","getMovableColumnHeaderByIndex","columnDeselect","selectedHeader","getSelectedColumnCells","isRowTemplate","seletedcells","selectionString","getIndentCount","onDataBoundFunction","setCheckAllForEmptyGrid","actionCompleteHandler","resizeEndFn","checkAllBox","isInfinitecroll","isSelectedRowIndexUpdating","ShowHide","show","showBy","getToggleFields","hide","hideBy","getKeyBy","iterateArrayOrObject","changedStateColumns","showHideArgs","currentViewCols","allowSelection","col1","col2","Scroll","previousValues","oneTimeReady","ColumnWidthService","uiupdate","formatUnit","toolbarModule","refreshOverflow","mHdrHeight","content","getScrollBarWidth","getRowHeight","ensureOverflow","scrollWidth","getThreshold","removePadding","hDiv","footerDiv","getFooterContent","getSiblingsHeight","setScrollLeft","onFrozenContentScroll","isPreventScrollEvent","onContentScroll","scrollTarget","isLeft","isDown","scrollDown","isFooter","header","onCustomScrollbarScroll","onTouchScroll","pointerType","pageXY","getPointXY","setPageXY","touches","pageX","pageY","getScrollbleParent","scrollingElement","defaultView","getComputedStyle","addStickyListener","makeStickyHeader","mScrollBar","test","enableStickyHeader","sHeight","css","contentRect","getClientRects","headerEle","toolbarEle","groupHeaderEle","parentTop","top_1","elemTop","setSticky","ccDlg","AggregateColumn","formatFn","setTemplate","property","getTemplate","setPropertiesSilent","AggregateRow","Collection","Clipboard","copyContent","isSelect","pasteHandler","grid","isMacLike","platform","metaKey","copy","activeElement","allowEditing","clipBoardTextArea","x_1","scrollX","y_1","scrollY","setTimeout","scrollTo","paste","isAvail","dataRows","fTr","mTr","getParser","selectionModule","setCopyData","withHeader","getSelection","a","headerTextArray","getCopyData","checkBoxSelection","status","headers","colIndexes","getColumnHeaderByIndex","setSelectionRange","isCell","splitKey","isElement","queryCommandSupported","execCommand","blur","removeAllRanges","rowCellIndxes","stringify","SortDescriptor","SortSettings","InfiniteScrollSettings","FilterSettings","SelectionSettings","SearchSettings","RowDropSettings","TextWrapSettings","ResizeSettings","GroupSettings","EditSettings","keyA","frozenRightCount","frozenLeftCount","tablesCount","movableCount","visibleFrozenLeft","visibleFrozenRight","visibleMovable","frozenLeftColumns","frozenRightColumns","movableColumns","media","isFreezeRefresh","tableIndex","componentRefresh","isVirtualAdaptive","rowUid","isAutoFitColumns","mediaBindInstance","commandDelIndex","asyncTimeOut","isExportGrid","enableLogger","needsID","Grid_1","setValue","mergePersistGridData","keyEntity","ignoreOnPersist","scrollPosition","currentObject","settings","persistData","setFrozenCount","enableInfiniteAggrgate","allowExcelExport","allowPdfExport","sortedColumns","isDetail","isCommandColumn","allowAdding","allowDeleting","extendRequiredModules","contextMenuItems","showColumnChooser","isForeignKeyEnabled","initProperties","initializeServices","isInitial","mediaCol","ignoreCollectionWatch","mergeCells","filterOperators","endsWith","equal","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","notEqual","startsWith","defaultLocale","EmptyRecord","True","False","InvalidFilterMessage","GroupDropArea","UnGroup","UnGroupButton","GroupDisable","FilterbarTitle","EmptyDataSourceError","Add","Edit","Cancel","Update","Delete","Pdfexport","Excelexport","Wordexport","Csvexport","Columnchooser","Save","Item","Items","EditOperationAlert","DeleteOperationAlert","SaveButton","OKButton","CancelButton","EditFormTitle","AddFormTitle","BatchSaveConfirm","BatchSaveLostChanges","ConfirmDelete","CancelEdit","ChooseColumns","SearchColumns","Matchs","FilterButton","ClearButton","StartsWith","EndsWith","Contains","Equal","NotEqual","LessThan","LessThanOrEqual","GreaterThan","GreaterThanOrEqual","ChooseDate","EnterValue","Copy","Group","Ungroup","autoFitAll","autoFit","AutoFitAll","AutoFit","Export","FirstPage","LastPage","PreviousPage","NextPage","SortAscending","SortDescending","EditRecord","DeleteRecord","FilterMenu","SelectAll","Blanks","FilterTrue","FilterFalse","NoResult","ClearFilter","Clear","NumberFilter","TextFilter","DateFilter","DateTimeFilter","MatchCase","Between","CustomFilter","CustomFilterPlaceHolder","CustomFilterDatePlaceHolder","AND","OR","ShowRowsWhere","FilterMenuDialogARIA","ExcelFilterDialogARIA","DialogEditARIA","ColumnChooserDialogARIA","ColumnMenuDialogARIA","CustomFilterDialogARIA","SortAtoZ","SortZtoA","SortByOldest","SortByNewest","SortSmallestToLargest","SortLargestToSmallest","Sort","keyConfigs","downArrow","upArrow","rightArrow","leftArrow","shiftDown","shiftUp","shiftRight","shiftLeft","home","escape","ctrlHome","ctrlEnd","altDownArrow","altUpArrow","ctrlDownArrow","ctrlUpArrow","ctrlPlusP","delete","f2","enter","ctrlEnter","shiftEnter","tab","shiftTab","space","ctrlPlusC","ctrlShiftPlusH","ctrlSpace","ctrlLeftArrow","ctrlRightArrow","createSpinner","renderModule","searchModule","getMediaColumns","setColumnIndex","checkLockColumns","processModel","gridRender","addListener","updateStackedFilter","refreshing","gcol","getShowHideService","pushMediaColumn","matchMedia","mediaQueryUpdate","mediaColumn","matches","showHider","refreshMediaCol","footerContent","enableHover","removeMediaListener","removeListener","eventInitializer","hasGridChild","destroyDependentModules","toolTipObj","keyboardModule","focusModule","clipboardModule","enableBoxSelection","checkCursor","requireRefresh","requireGridRefresh","freezeRefresh","isEllipsisTooltip","close","updateColumnObject","properties_1","rowTemplateFn","detailTemplateFn","oldProperties","extendedPropertyChange","maintainSelection","ej2_instances","getToolbar","getContextMenu","columnMenuModule","getColumnMenu","showFilterBarOperator","updateResizeLines","updateGridLines","columnMenuItems","applyTextWrap","removeTextWrap","isModeChg","pending_1","getPrototypeOf","deepWatch","pKeyField","props","setRowData","gResult","names","scrollRefresh","setWidthToTable","enableVerticalRendering","fn_1","muteOnChange","filterModule","refreshFilter","setTablesCount","frozenLeft","frozenRight","getTablesCount","headerCells","stdHdrCell","updateColumnModel","updateColumnLevelFrozen","updateFrozenColumns","updateLockableColumns","leftCols","rightCols","movableCols","freezeTable","directFrozenCount","totalFrozenCount","frozenName","frozenCount","isRefresh","inview","v","vLen","ensureFrozenCols","individualColumn","stackedColumn","getLocaleConstants","setColumnIndexesInView","getCurrentVisibleColumns","setGridHeaderContent","setGridContentTable","setGridContent","setGridHeaderTable","footerElement","getFooterContentTable","getPager","gridPager","getFrozenRowByIndex","getFrozenDataRows","getRowInfo","rowData","isNaN","rowsObject","getFrozenRightRowElements","getAllDataRows","includeAdd","getFrozenLeftContentTbody","generateDataRows","mrows","includAdd","dRows","isCollapseStateEnabled","getAllMovableDataRows","getAllFrozenDataRows","getAllFrozenRightDataRows","setCellValue","isRight","pkName","fieldIdx","frIdx","Idx","sRow","refreshTD","refreshReactColumnTemplateByUid","columnUid","rowsObj","cellRenderer","refreshReactHeaderTemplateByUid","headerCellRenderer","rowObjects","refreshForeignData","getFrozenRightCellFromIndex","getFrozenLeftColumnHeaderByIndex","getColumnHeaderByField","getStackedColumns","getUidByColumnField","rowDropSettings","targetID","getColumnFieldNames","columnNames","getDetailTemplate","getEditTemplate","editTemplateFn","getEditHeaderTemplate","editHeaderTemplateFn","getEditFooterTemplate","editFooterTemplateFn","getSelectedColumnsUid","showColumns","hideColumns","getFrozenCount","splitFrozenCount","getVisibleFrozenLeftCount","getVisibleFrozenRightCount","getVisibleMovableCount","getFrozenRightColumns","getFrozenLeftColumns","getMovableColumns","getVisibleFrozenColumns","getVisibleFrozenColumnsCount","getVisibleFrozenCount","getFilterUIInfo","visibleFrozenColumns","sortColumn","isMultiSort","sortModule","clearSorting","removeSortColumn","clearGridActions","filterByColumn","fieldName","filterOperator","filterValue","matchCase","actualFilterValue","actualOperator","clearFiltering","removeFilteredColsByField","isClearFilterBar","deleteRecord","fieldname","startEdit","addRecord","deleteRow","editCell","saveCell","updateRow","enableToolbarItems","isEnable","enableItems","recalcIndentWidth","indentWidth","headerCol","contentCol","perPixel","parentOffset","applyWidth","ispercentageWidth","newWidth","toFixed","resetIndentWidth","minWidth","tgridWidth","getTableWidth","setMinwidthBycalculation","refreshFrozenScrollbar","reorderColumns","fromFName","toFName","reorderModule","reorderColumnByIndex","reorderColumnByTargetIndex","fromIndexes","rowDragAndDropModule","refreshDataSource","disableRowDD","headerRows","disValue","autoFitColumns","fieldNames","resizeModule","createColumnchooser","columnChooserModule","renderColumnChooser","valueFormatterService","FocusStrategy","flag","gCols","sCols","_loop_1","sLen","this_1","isFromGroup","showGroupedColumn","parentDetails","parentKeyFieldValue","queryString","initForeignColumn","rendererFactory","createGridPopUpElement","createTooltip","popup","tabIndex","gridLines","Tooltip","opensOn","getTooltipStatus","headerDivTag","htable","ctable","prevElement","disableHtmlEncode","enableHtmlParse","scrollHandler","tag","myTableDiv","cssText","mySubDiv","myTable","myTr","mytd","onKeyPressed","mouseClickHandler","focusOutHandler","dblClickHandler","allowKeyboard","KeyboardEvents","keyAction","keyActionHandler","eventName","tapEvent","dataBoundFunction","isChildGrid","checkEdit","dataRow","filterClear","relatedTarget","ariaOwns","editFormValidate","persistedData","getLocalData","dataObj","isProtectedOnChange","keys_1","mergeColumns","storedColumn","storedColumns","_loop_2","localCol","tCol","this_2","commands","commandsTemplate","presskey","stopImmediatePropagation","altKey","collapse","focusHeader","addOutline","focusContent","injectedModules","refreshColumns","fCnt","frCnt","isColFrozen","mTbl","frTbl","colGrp","excelExport","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","Map","csvExport","pdfExport","pdfExportProperties","pdfDoc","pdfExportModule","groupColumn","groupModule","groupExpandAll","expandAll","groupCollapseAll","collapseAll","clearGrouping","ungroupColumn","openColumnChooser","detailCollapseAll","detailRowModule","detailExpandAll","isContextMenuOpen","isOpen","ensureModuleInjected","loggerModule","applyBiggerTheme","getPreviousRowData","hideScroll","scrollBar","mvblScrollBar","mvblChild","getRowIndexByPrimaryKey","isCaptionRow","pKvalue","performComplexDataOperation","getFilteredRecords","getUserAgent","Global","clearTimeout","getRowUid","prefix","getMovableVirtualContent","getFrozenVirtualContent","getRowElementByUID","frozenRigtRows","frHdr","cntRows","rows_2","getHiddenColumns","calculatePageSizeByParentHeight","containerHeight","pagesize","getNoncontentHeight","getSummaryValues","summaryCol","summaryData","serverExcelExport","isExcel","exportGrid","serverPdfExport","serverCsvExport","gridModel","sorted","setHeaderText","form","gridInput","method","submit","include","getNumberFormat","getFormat","updateRowValue","setForeignKeyData","colpending","resetFilterDlgPosition","filterDlg","gClient","fClient","batchUpdate","processRowChanges","batchAsyncUpdate","processBulkRowChanges","dataToBeUpdated","loopstring","keyField","compareChanges","setNewData","oldValues","bulkRefresh","deleteRowElement","mtr","out_i_1","_loop_3","this_3","_loop_4","isRowExist","this_4","renderRowElement","resetRowIndex","addRowObject","moveTbody","renderMovable","updateVisibleExpandCollapseRows","isAggregateRow","getHeight","isInteger","getMovableHeaderTbody","getFrozenHeaderTbody","getFrozenRightHeaderTbody","isCustom","showCustomFilter","showCustomSort","showAdaptiveFilterDialog","showAdaptiveSortDialog","isColVirtualization","gridCols_1","Complex","gridHeader","gridContent","gridFooter","headerContent","movableContent","movableHeader","frozenContent","frozenHeader","gridChkBox","editedRow","addedRow","leftRight","ariaColIndex","ariaRowIndex","beforeOpen","doesImplementInterface","checkFor","updateFunction","callBack","requestAnimationFrame","isExportColumns","exportProperties","updateColumnTypeForExportColumns","exportColumns","updatecloneRow","nRows","actualRows","getCollapsedRowsCount","gLen","dataRowCnt","agrCnt","gLevel","childLevels","recursive","length_1","nLevel","collection","pred","array","baseExtend","baseTemplateComplier","copyAttr","second","exclude","moved","ind","autoWidth","foreignKeyField","popUp","popUpSpan","targetPosition","isBottomTail","changedTouches","getPopupLeftPosition","elem","selector","isID","inArray","getActualPropFromColl","coll","clientX","getUid","calculateAggregate","divNode","rect","isComplexField","getComplexFieldID","setComplexFieldID","isEditable","isOldRow","isIdentity","inst","dlg","showConfirmDialog","clName","distinctStringValues","getFilterMenuPostion","dialogObj","elementVisible","dlgWidth","newpos","calculateRelativeBasedPosition","leftPos","getZIndexCalcualtion","zIndex","toogleCheckbox","previousSibling","createCboxWithWrap","getForeignData","lValue","fField","fdata","filterObject","datePredicate","prevDate","nextDate","prevObj","nextObj","setSeconds","setHours","predicateSt","predicateEnd","or","ejpredicate","mEle","object","splits","getCustomDateFormat","intl","Internationalization","getDatePattern","printGridModel","printMode","expandedRows","getExpandedState","extendObjWithFn","deep","obj1","getPrototypesOfObj","i_1","source","cpy","cln","isObject","checkDepth","indices","filteredCols","getColumnModelByFieldName","rootElement","alignFrozenEditForm","mTD","fTD","mHeight","fHeight","percentageCol","undefinedWidthCol","rowElms","newArray","reduce","o","frozenRightRowElements","splitFrozenRowObjectCells","rightIndex","mvblIndex","mvblEndIdx","force","getGridRowObjects","getGridRowElements","sliceElements","setValidationRuels","rules","mRules","frRules","getMovableTbody","getFrozenRightTbody","numberFormat","getNumberPattern","currency","useGrouping","mtch_1","pattern","addBiggerDialog","dialogs","mapObject","returnObj","duplicateMap","evt","isOn","evt_1","createEditElement","classNames","complexFieldName","registerEventHandlers","evts","eventHandlers","removeEventHandlers","component","timer","existingPredicate","foreignKeyQuery","filterState","cBoxTrue","cBoxFalse","closeDialog","keyupHandler","searchHandler","debounce","searchBoxKeyUp","foreignKeyFilter","fColl","mPredicate","filterCollection","fpred","foreignFilter","initalPredicate","searchBoxClick","sInput","refreshCheckboxes","updateSearchIcon","sIcon","updateDataSource","actualPredicate","filteredColumns","allowCaseSensitive","isFiltered","getAndSetChkElem","sBox","hideSearchbox","searchBox","inputargs","floatLabelType","placeholder","Input","spinner","cBox","showDialog","columnType","Dialog","animationSettings","effect","buttons","btnClick","buttonModel","isPrimary","dialogCreated","dialogOpen","renderResponsiveFilter","isResponsiveFilter","maxHeight","getAllData","X","Y","openDialog","isBlanks","filterTemplateCol","getFilterItemTemplate","filterItemTemplate","clearFilter","fltrBtnHandler","text","searchInput","check","optr","ddlValue","isMenuNotEqual","fObj","caseSen","defaults","isNotEqual","itemsCnt","generateNullValuePredicates","arg2","arg3","arg4","arg5","arg6","initiateFilter","isClearFilter","firstVal","foreignQuery","parsed","predicte","parseDate","addDistinct","filterModel","filterChoiceCount","filterargs","filterObj","emptyValPredicte","generatePredicate","take","filterEvent","processSearch","getPredicateFromCols","isGrid","processDataOperation","filteredColumn","distinct","defObj","allPromise","runArray","colData","all","fullData","args1","f","filterColumn","filteredData","getDistinct","processDataSource","updateResult","createFilterItems","result_1","updateAllCBoxes","updateIndeterminatenBtn","setFocus","prevElem","cBoxes_1","createCheckbox","dummyData","itemTemplate","btn","disabled","selected","btnObj","cBoxes","nullCounter","selectAllValue","isColFiltered","isRndere","toView","args_1","checkbox","getCheckedState","lookup","foreignDataObj","updateDateFilter","getCaseValue","isSpanned","isRowSpanned","merge","showInColumnChooser","sortDirection","getFilterTemplate","filterTemplateFn","toJSON","skip","headerTemplateFn","fltrTemplateFn","editTemplate","ddEditedData","a_1","xObj","yObj","z","parserFn","getColumnTemplate","GridColumn","CommandColumnModel","StackedColumn","makechanges","cellArgs","spannedCell","cellSpan","targetCell_1","colSpanLen","colSpanRange","rowSpanRange","spanText","containsKey","backupMergeCells","fName","setMergeCells","generteKey","fname","getMergeCells","mCells","getIndexFromAllColumns","vColumnIndices","formatter","rowChkBox","evaluate","fData","literals_1","templateID","invokeFormatter","refreshCell","parentRow","newTD","cloneAttributes","elements_1","displayAsCheckBox","localeStr","fromFormatter","rowID","setAttributes","isCheckBoxType","class","sortedCols","sortPredicate","isCustomDialog","closeCustomDialog","renderResponsiveContextMenu","renderCustomFilterDiv","customExFilterClose","onActionCompleteFn","editComplate","isCustomDlgRender","customResponsiveDlg","closeBtn","saveBtn","backBtn","customExcelFilterParent","filterClearBtn","getHeaderTitle","renderResponsiveContent","filterParent","customColumnDiv","sortBtnParent","isSort","isFilter","cDiv","getSortedFieldsAndDirections","sortButtonClickHandler","divIcon","iconSpan","customFilterColumnClickHandler","allowMultiSorting","isSortApplied","resetSortButtons","txt","setSortedCols","getCurrentSortedFields","isRowResponsive","showResponsiveDialog","colDiv","isDialogClose","clearCustomFilter","removeCustomDlgFilterEle","renderCustomFilterDialog","filteredCol","renderResponsiveDialog","setFilterModel","createOptions","setTopToChildDialog","dialogEle","child","outerDiv","customFilterDlg","getDialogOptions","isCustomFilter","isModal","showCloseIcon","closeOnEscape","adaptiveDlgTarget","beforeDialogClose","renderResponsiveHeader","sortField","closeResponsiveDialog","closeCustomFilter","keyHandler","primaryKeyValue","getDialogName","getButtonText","titleDiv","dialogHdrBtnClickHandler","id_1","clearBtn","applyCustomFilter","mainfilterdiv","destroyCustomFilterDialog","getElementById","customEle","isSpan","refreshRow","isChanged","refreshMergeCells","cells_1","rowArgs","chekBoxEnable","selIndex","buildAttributeFromRow","addAttributes","cellRendererFact","prevRowCells","prevRowCell","lazyLoadCssClass","summarycell","lastSummaryCell","firstSummaryCell","setStateAndProperties","config","setExpand","expand","setSort","isBusy","setGrabbed","isGrabbed","setDropTarget","isTarget","dropeffect","attribute","haspopup","oneTime","swap","forget","skipFocus","focusByClick","prevIndexes","refMatrix","refreshMatrix","actions","isVirtualScroll","rowModelGen","focusCheck","onFocus","setActive","enableHeaderFocus","matrix","generate","get","validator","passiveFocus","skipAction","onBlur","removeFocus","beforeArgs","byClick","clickArgs","clearOutline","onKeyPress","skipOn","activeKey","bValue","outline","swapInfo","jump","toHeader","toFrozen","toFrozenRight","getNextCurrent","active","setActiveByKey","lastIdxCell","clearIndicator","th","filterCell","lastIndexOf","focusVirtualElement","virtualData","isKeyFocus","empty","elementToFocus","preventScroll","getFocusedElement","fContent","frContent","fHeader","frHeader","setFocusedElement","addFocus","getFocusInfo","info","resetFocus","isFocused","getInfo","focusedColumnUid","FixedContentFocus","FixedRightContentFocus","ContentFocus","FixedHeaderFocus","FixedRightHeaderFocus","HeaderFocus","cFocus","index_1","newMovableRows","newFrozenRows","newfrRows","handlerInstance","focusElement","cellPosition","gridPosition","innerWidth","documentElement","innerHeight","passiveHandler","filterfocus","restoreFocusWithAction","internalCellFocus","forgetPrevious","focusEle","getFocusable","Matrix","allow","emptyTable","inValid","vector","indexesByKey","getCurrentFromAction","editNextRow","isLastCellPrimaryKey","visibleIndex","shouldFocusChange","rN","cN","oRowIndex","oCellIndex","nextRowFocusValidate","previousRowFocusValidate","frozenSwap","frSwap","enterFrozen","isHeaderFocus","previous","optionals","defaultLen","isData","isCellWidth","getGridSeletion","lastRow","headerSwap","fMatrix","current1","current2","hMatrix","current3","SearchBox","searchFocus","searchBlur","wireEvent","unWireEvent","headerMat","infiniteChildCount","renderInfiniteAgg","summaryModelGen","GroupSummaryModelGenerator","captionModelGen","CaptionSummaryModelGenerator","getGroupedRecords","ensureRowVisibility","raw","parentid","childId","tIndex","parentUid","preCaption","captionRow","generateCaptionRow","getPreCaption","isRenderAggregate","rowCnt","aggregatesCount","setInfiniteRowVisibility","preCap","getCaptionRowCells","visibles","groupedLen","generateIndentCell","isEmpty","captionCells","cIndex_1","wFlag","tmpFlag","parentID","childID","parentGid","childGid","gSummary","fkValue","unshift","refreshRows","generateCells","cRow","childRow","getInfiniteIndex","pid","refreshForeignKeyRow","foreignKeyColumns","dummies","rowId","oIndex","SummaryModelGenerator","columnSelector","buildSummaryData","getGeneratedRow","summaryRow","indents","getIndentByLevel","isDetailGridAlone","indentLength","getGeneratedCell","getCellType","sColumn","scolumn","dummy","summaryRows","single","disp","indx","cur","cultureName","culture","getDateFormat","getDateParser","getNumberParser","fromView","setCulture","totalColumnsWidth","setColumnWidth","tWidth","difference","tmWidth","collection_1","isWidthUndefined","setUndefinedColumnWidth","cWidth","getWidth","fWidth","isDraggable","freezeLeft","freezeRight","getColumnLevelFrozenColgroup","editTableCol","frzMode","frozenScrollbar","movableScrollbar","frozencontent","frozenWidth","movableWidth","frozenRightScrollbar","frozenRightWidth","placeHolder","getHeightFromDirection","sibling","isWidUndefCount","maxWidth","calcMovableOrFreezeColWidth","tableType","setWidthToFrozenRightTable","freezeWidth","isAutoResize","headerTbl","cntTbl","setWidthToFrozenLeftTable","setWidthToMovableTable","isColUndefined","isWidthAuto","setWidthToFrozenEditTable","setWidthToMovableEditTable","resizeSettings","ColumnDirective","complexTemplate","ComplexBase","ColumnsDirective","propertyName","GridComponent","initRenderCalled","checkInjectedModules","directivekeys","immediateRender","portals","isReactForeceUpdate","React","getDefaultAttributes","applyMixins","ComponentBase"],"sourceRoot":""}